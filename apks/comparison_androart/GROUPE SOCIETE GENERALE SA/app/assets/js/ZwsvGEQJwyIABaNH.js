$().loadJavaScript("/js/K9qGeq007441mwsA.js");Class.ns("Brd.functions.payments");Brd.functions.payments.Payments=Class.extend(Bankingapp.framework.View,{container:null,layoutRender:function(){debugLog("layoutRender");this.container=$("<div>",{id:"paymentsMainContainer","class":"list maincontainer landingpage"});var e=new Bankingapp.ui.LandingPageButton(resolve("bankingapp_brd_function_payments_send_money"),{"class":"transferfunds",authorizationId:"transfer/create"});this.container.append(e);e.bind("buttonClick",$.proxy(this.sendMoneyClickHandler,this));var a=new Bankingapp.ui.LandingPageButton(resolve("bankingapp_brd_function_payments_receive_money"),{"class":"receivssemoney",authorizationId:"transfer/create"});this.container.append(a);a.bind("buttonClick",$.proxy(this.receiveMoneyClickHandler,this));var d=new Bankingapp.ui.LandingPageButton(resolve("bankingapp_brd_function_payments_bill_payment"),{"class":"billpayment",authorizationId:"billpayment/view"});this.container.append(d);d.bind("buttonClick",$.proxy(this.billPaymentClickHandler,this));var b=new Bankingapp.ui.LandingPageButton(resolve("bankingapp_brd_function_bringyourmoneybutton_title"),{"class":"bringYourMoneyButton",authorizationId:"bring_your_money/view"});this.container.append(b);b.bind("buttonClick",$.proxy(this.bringYourMoneyButtonClickHandler,this));var c=new Bankingapp.ui.LandingPageButton(resolve("bankingapp_brd_function_payments_transaction_history"),{"class":"transactionhistory",authorizationId:"transactionspotter/query"});this.container.append(c);c.bind("buttonClick",$.proxy(this.transactionHistoryClickHandler,this));return this.container;},sendMoneyClickHandler:function(){debugLog("sendMoneyClickHandler");loadView("view://brd/bankingapp/function/transferfunds/landingpage",{START_PAGE:getCurrentViewDescriptor().url});},receiveMoneyClickHandler:function(){debugLog("receiveMoneyClickHandler");loadView("view://brd/bankingapp/function/receivemoney/landingpage",{START_PAGE:getCurrentViewDescriptor().url});},billPaymentClickHandler:function(){debugLog("billPaymentClickHandler");this.accountListRequest={FunctionType:21};Bankingapp.framework.Application.callService("/billpaymenttransfer/init",null,$.proxy(this.getSourceAccountsForBillPayment,this));},transactionHistoryClickHandler:function(){debugLog("transactionHistoryClickHandler");removeSessionAttribute(Functions.transactionhistory.TransactionHistoryUtil.IMMEDIATE_SEARCH);loadView("view://brd/bankingapp/function/transactionhistory/list/transactionhistorylist",{START_PAGE:getCurrentViewDescriptor().url});},getSourceAccountsForBillPayment:function(a){debugLog("getSourceAccountsForBillPayment");if(a.sourceAccounts.length==0){showError(resolve("bankingapp_brd_function_billpayment_no_enabled_account"));}else{setFunctionAttribute("BILLPAYMENT_SOURCEACCOUNTS",a);loadView("view://brd/bankingapp/function/billpayment/sourceaccountselection",{BILLPAYMENT_SOURCEACCOUNTS:a});}},bringYourMoneyButtonClickHandler:function(b,a){debugLog("bringYourMoneyButtonClickHandler ...");loadView("view://brd/bankingapp/function/receivemoney/bringyourmoney/dashboard");}});Bankingapp.framework.Application.setView(Brd.functions.payments.Payments);