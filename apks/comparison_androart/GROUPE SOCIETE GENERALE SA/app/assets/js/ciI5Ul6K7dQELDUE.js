$().loadJavaScript("/js/f0YCL0ShZOa5CruM.js");$().loadJavaScript("/js/CF0WiFs1SjIy0Szl.js");Class.ns("Bankingapp.functions.accountinfo");Bankingapp.functions.accountinfo.DetailsAccountComponent=Class.extend(Bankingapp.ui.DetailsComponent,{baseClass:"accountdetails",friendlyNameContainer:null,defaultAccountContainer:null,editContainer:null,editButton:null,displayTimeFormat:resolve("bankingapp_common_timeFormatPattern_min"),type_resourcePre:"bankingapp_brd_function_accountinfo_accounttype_",displayDateMinuteFormatKey:"bankingapp_brd_function_accountinfo_datetimeformat_minute",FUNCTION_ATTRIBUTE_IBAN:"BLOCKED_AMOUNT_IBAN",FUNCTION_ATTRIBUTE_CURRENCY:"BLOCKED_AMOUNT_CURRENCY",FUNCTION_ATTRIBUTE_ACCOUNTNAME:"BLOCKED_AMOUNT_ACCOUNTNAME",FUNCTION_ATTRIBUTE_ACCOUNTTYPE:"BLOCKED_AMOUNT_ACCOUNTTYPE",initComponent:function(){var c=resolve("bankingapp_component_account_accounttype",{accountType:$.encoder.encodeForHTML(this.detailsData.accountType),currency:this.detailsData.currency});this.append(new Bankingapp.functions.accountinfo.Account(this.detailsData,{accountType:c}));var b=$("<div>",{"class":"accountdetailscontainer"});this.append(b);var e=$("<div>",{"class":"groupContainer"});b.append(e);var a=this.detailsData.dateOfBalance?$().dateParserWithoutTimezone(this.detailsData.dateOfBalance):null;e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("demo_bankingapp_function_accountinfo_availablebalance"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:this.detailsData.currency,amount:this.detailsData.availableBalance,decorate:false})}));e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("demo_bankingapp_function_accountinfo_bookedbalance"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:this.detailsData.currency,amount:this.detailsData.bookedBalance,decorate:false})}));e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_accountinfo_overlimit"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:this.detailsData.currency,amount:this.detailsData.overlimit,decorate:false})}));if(a){e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_accountinfo_dateofbalance"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(a.dateFormat(this.displayTimeFormat)),valueConfig:{"class":""}}));}e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("demo_bankingapp_function_accountinfo_creditlimit"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:this.detailsData.currency,amount:this.detailsData.creditLimit,decorate:false})}));var d=new Bankingapp.functions.util.component.Amount({currency:this.detailsData.currency,amount:this.detailsData.blockedAmount,decorate:false});d.addClass("blocked-amount-hyperlink");debugLog("blockedAmountValue: "+d.html());d.click($.proxy(this.blockedAmountClickHandler,this));e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_accountinfo_blockedamount"),"class":"inactive"},valueComponent:d}));e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_accountinfo_debtamount"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:this.detailsData.currency,amount:this.detailsData.debtAmount,decorate:false})}));this.append(new Bankingapp.ui.Label(resolve("bankingapp_brd_function_accountinfo_title_card"),{baseClass:"listtitle"}));this.append(new Bankingapp.functions.accountinfo.CardList(this.detailsData.cardsAndRepresentatives.cardList?this.detailsData.cardsAndRepresentatives.cardList:[],{"class":"titledlist"}));this.append(new Bankingapp.ui.Label(resolve("bankingapp_brd_function_accountinfo_title_representatives"),{baseClass:"listtitle"}));this.append(new Bankingapp.functions.accountinfo.RepresentativList(this.detailsData.cardsAndRepresentatives.representativeList?this.detailsData.cardsAndRepresentatives.representativeList:[],{"class":"titledlist"}));debugLog("this.html "+this.html());},formatDate:function(c,b){var a=$().dateParserWithoutTime(c);return a!=null&&a instanceof Date?a.dateFormat(b):null;},blockedAmountClickHandler:function(a){debugLog("blockedAmountClickHandler ...");setFunctionAttribute(this.FUNCTION_ATTRIBUTE_IBAN,this.detailsData.accountNumberIban);setFunctionAttribute(this.FUNCTION_ATTRIBUTE_ACCOUNTNAME,this.detailsData.accountName);setFunctionAttribute(this.FUNCTION_ATTRIBUTE_CURRENCY,this.detailsData.currency);setFunctionAttribute(this.FUNCTION_ATTRIBUTE_ACCOUNTTYPE,this.detailsData.accountType);loadView("view://brd/bankingapp/function/accountinfo/blockedamounts/blockedamountlist",null);}});