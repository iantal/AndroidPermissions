Class.ns("Bankingapp.functions.receivemoney.qrpayment");$().loadJavaScript("/js/sXjZ0lOFfFktVVIm.js");Bankingapp.functions.receivemoney.qrpayment.TargetAccountSelection=Class.extend(Bankingapp.functions.receivemoney.qrpayment.AbstractAccountSelection,{showProgressIndicator:false,ATTRIBUTE_CURRENT_TRUSTEE:"CURRENT_TRUSTEE",pageInstructionsResourceKey:"bankingapp_function_transferfunds_choosetarget",emptyListResourceKey:"bankingapp_function_internaltransfer_no_enabled_targetaccount",accountListTitleResource:"bankingapp_brd_function_qrpayment_targetaccountselection_accountlist_title",getAccounts:function(){Bankingapp.framework.Application.callService("/qrtransfer/getQRTargetAccounts",null,$.proxy(this.handleInitResponse,this));},handleInitResponse:function(a){debugLog("getQRTargetAccounts response");debugLog(a);this.setAccounts(a);},renderAccountList:function(){this.accountList=new Bankingapp.ui.List({baseClass:"list",idProperty:this.accountItemIdField,listData:this.listData,itemRenderer:Functions.transferfunds.AccountListItem,noresultKey:this.emptyListResourceKey,itemConfig:{nameField:"accountName",typeField:"accountType",currencyField:"currency",balanceField:"availableBalance",baseClass:"accountListItem"}});this.container.append(this.accountList);this.accountList.bind("itemClick",$.proxy(this.itemClickHandler,this));},itemClickHandler:function(b,a){var c=this.accountList.getItem(a.accountNumber);if(c){$.each(this.accountList.itemsMap,function(d,e){e.removeClass("state_selected");});c.removeClass("state_default");c.addClass("state_selected");}this.accountClickHandler(b,a);},accountClickHandler:function(b,a){setFunctionAttribute("QRPAYMENT_TARGET_ACCOUNT",a);loadView("view://brd/bankingapp/function/receivemoney/qrpayment/generateqrcode");}});Bankingapp.framework.Application.setView(Bankingapp.functions.receivemoney.qrpayment.TargetAccountSelection);