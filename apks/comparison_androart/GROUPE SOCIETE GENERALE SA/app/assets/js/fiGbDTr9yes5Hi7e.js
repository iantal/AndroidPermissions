Class.ns("Bankingapp.functions.deposits.terminate");$().loadJavaScript("/js/EKPifMErYLLmFDBO.js");Bankingapp.functions.deposits.terminate.SourceAccountSelection=Class.extend(Bankingapp.functions.deposits.create.AbstractAccountSelection,{showProgressIndicator:true,progressIndicatorStepCount:3,progressIndicatorCurrentStep:1,pageInstructionsResourceKey:"bankingapp_brd_function_deposits_terminate_sourceaccount_title",formDataField:"sourceAccount",formDataFunctionAttributeId:"DEPOSITTERMINATE_FORMDATA",getAccounts:function(){showLoadingPopup();this.deposit=getFunctionAttribute("deposit");this.accountListRequest={FunctionType:14,DepositAccountNumber:this.deposit.accountNumber};Bankingapp.framework.Application.callService("/account/getAccountDetailsToDepositTermination",{AccountListRequest:this.accountListRequest},$.proxy(this.handleGetSourceAccountsResponse,this));},accountClickHandler:function(c,b){this.deposit=getFunctionAttribute("deposit");setFunctionAttribute("SOURCE_ACCOUNT_FOR_DEPOSIT_TERMINATION",getFunctionAttribute("DEPOSITTERMINATE_FORMDATA").sourceAccount);var a={TermDepositAccount:this.deposit.accountNumber,SourceAccount:getFunctionAttribute("DEPOSITTERMINATE_FORMDATA").sourceAccount.accountNumber};Bankingapp.framework.Application.callService("/depositterminate/forecast.do",{DepositTerminateRequest:a},$.proxy(this.handleForecastResult,this));},handleForecastResult:function(a,b){setFunctionAttribute("FORECAST_DATA",b);loadView("view://brd/bankingapp/function/deposits/terminate/Confirm",null);},handleGetSourceAccountsResponse:function(a){this.setAccounts(a);hideLoadingPopup();}});Bankingapp.framework.Application.setView(Bankingapp.functions.deposits.terminate.SourceAccountSelection);