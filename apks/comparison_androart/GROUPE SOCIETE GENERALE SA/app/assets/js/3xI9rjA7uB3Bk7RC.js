$().loadJavaScript("/js/1hyf9OWY93mTBudZ.js");Class.ns("Bankingapp.functions.deposits.create");Bankingapp.functions.deposits.create.DepositAmount=Class.extend(Bankingapp.framework.View,{container:null,formDataFunctionAttributeId:"DEPOSITCREATE_FORMDATA",depositDataFunctionAttributeId:"DEPOSITTYPE_DATA",amountWithCurrencyFormatKey:"bankingapp_component_amount_formatwithcurrency",amountFormatKey:"bankingapp_component_amount_format",formId:"depositAmountForm",pageWarningTitle:"bankingapp_brd_function_warning",progressIndicatorStepCount:8,progressIndicatorCurrentStep:3,layoutRender:function(){this.depositData=getFunctionAttribute(this.depositDataFunctionAttributeId);this.formData=getFunctionAttribute(this.formDataFunctionAttributeId);this.container=$("<div>",{id:"depositAmountMainContainer","class":"maincontainer"});this.container.append(new Bankingapp.ui.ProgressIndicator(this.progressIndicatorStepCount,this.progressIndicatorCurrentStep));this.depositAmountInformationLabel=new Bankingapp.ui.Label(resolve("bankingapp_brd_function_deposits_create_amount_information_label"),{"class":"pagetitle separator textcenter"});this.currency=this.depositData.depositCurrency;this.minAmount=this.depositData.depositAmountIntervalList[0].intervalMin;var e=$().amountFormatter(this.minAmount,resolve(this.amountFormatKey));var b=resolve(this.amountWithCurrencyFormatKey,{amount:e,currency:this.currency});var f="";this.maxAmount=this.depositData.depositAmountIntervalList[this.depositData.depositAmountIntervalList.length-1].intervalMax;if(this.maxAmount){var a=$().amountFormatter(this.maxAmount,resolve(this.amountFormatKey));var g=resolve(this.amountWithCurrencyFormatKey,{amount:a,currency:this.currency});f=resolve("bankingapp_brd_function_deposits_create_amount_limit_label",{minamount:b,maxamount:g});}else{f=resolve("bankingapp_brd_function_deposits_create_amount_min_limit_label",{minamount:b});}var d=[];var c=new Object();c.title=resolve(this.pageWarningTitle);c.details=f;d.push(c);this.container.append(this.depositAmountInformationLabel);this.container.append(new Bankingapp.ui.MessageBlock(d,{baseClass:"warningblock"}));this.currencyField=new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_create_currency"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(this.currency),valueConfig:{"class":""}});this.amountField=new Bankingapp.ui.InputField(resolve("bankingapp_brd_function_deposits_create_amount"),{id:"amount",name:"amount",type:Functions.transferfunds.TransferUtils.getAmountInputFieldType(),value:(this.formData.amount?this.formData.amount:""),inputMaskPattern:/[0-9.,\+\-]/,validation:{whitelist:false,required:true,min:this.minAmount==0?1:this.minAmount,max:this.maxAmount?this.maxAmount:999999999999,number:true,maxlength:12}});this.form=new Bankingapp.ui.Form({id:this.formId,submitHandler:$.proxy(this.submitHandler,this),"class":this.formClass});this.amountContainer=$("<div>",{"class":"groupcontainer"});this.amountContainer.append(this.currencyField);this.amountContainer.append(this.amountField);this.form.append(this.amountContainer);this.container.append(this.form);this.depositAmountContinueButton=new Bankingapp.ui.SubmitButton(resolve("bankingapp_brd_function_deposits_create_amount_continue"),{id:"amountContinueButton","class":"amountContinueButton"});this.form.append(this.depositAmountContinueButton);return this.container;},run:function(){},submitHandler:function(b,c){var a=this.amountField.val();$.extend(this.formData,{amount:a,currency:this.currency});setFunctionAttribute(this.formDataFunctionAttributeId,this.formData);loadView("view://brd/bankingapp/function/deposits/create/DepositInterestPaymentSelection");}});Bankingapp.framework.Application.setView(Bankingapp.functions.deposits.create.DepositAmount);