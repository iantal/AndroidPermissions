$().loadJavaScript("/js/1hyf9OWY93mTBudZ.js");Class.ns("Functions.transferfunds.internaltransfer");$().loadJavaScript("/js/n97SlZSkkDQ7YX08.js");Functions.transferfunds.internaltransfer.TargetAccountSelection=Class.extend(Functions.transferfunds.AbstractAccountSelection,{progressIndicatorStepCount:5,progressIndicatorCurrentStep:2,pageInstructionsResourceKey:"bankingapp_function_transferfunds_choosetarget",formDataField:"targetAccount",emptyListResourceKey:"bankingapp_function_internaltransfer_no_enabled_targetaccount",formDataFunctionAttributeId:Functions.transferfunds.TransferUtils.INTERNALTRANSFER_FORMDATA,init:function(){this.formData=getFunctionAttribute(this.formDataFunctionAttributeId);if((this.formData==undefined)||(this.formData==null)){this.formData={};}var a=this.formData.sourceAccount;if((a!=undefined)&&(a!=null)){var b={};b.getTargetAccountsRequest={};b.getTargetAccountsRequest.sourceAccountType=a.accountType;b.getTargetAccountsRequest.sourceAccountNumber=a.accountNumber;b.getTargetAccountsRequest.sourceAccountCurrency=a.currency;Bankingapp.framework.Application.callService("/internaltransfer/getTargetAccounts",b,$.proxy(this.handleGetTargetAccountsResponse,this));}else{throw"Source account is not defined!";}},accountClickHandler:function(b,a){loadView("view://brd/bankingapp/function/transferfunds/internaltransfer/transferdetails",null);},handleGetTargetAccountsResponse:function(b){var a=new Array();for(var c=0;c<b.length;c++){if(b[c].accountNumber!=this.formData.sourceAccount.accountNumber){a.push(b[c]);}}this.setAccounts(a);}});Bankingapp.framework.Application.setView(Functions.transferfunds.internaltransfer.TargetAccountSelection);