Class.ns("Bankingapp.functions.bankfeed");Bankingapp.functions.bankfeed.MarkAsUnreadListItem=Class.extend(Bankingapp.ui.ListItem,{categoryTypeIdField:"categoryTypeId",summaryField:"summary",statusField:"status",baseDefaultClass:"markAsUnreadListItem",subjectField:"subject",checkBox:null,renderItem:function(){this.table=$("<div>",{"class":"feedItemTable"});this.feedCategoryImageCell=$("<div>",{"class":"feedCategoryImageCell"});this.feedTextsCell=$("<div>",{"class":"feedTextsCell"});this.checkBoxCell=$("<div>",{"class":"checkBoxCell"});var b=this.itemData[this.categoryTypeIdField];var d=$().getImagesFolder();var e=$("<img>");e.attr({src:d+"bankfeed_categoryid_"+b+".png"});this.feedCategoryImageCell.append(e);this.table.append(this.feedCategoryImageCell);if(this.itemData[this.categoryTypeIdField]==3&&(this.itemData.payload.transactionType=="splitBillTransferLifeCycle"||this.itemData.payload.parentTransactionType=="splitBillTransferLifeCycle")){this.feedTextsCell.append($("<div>").append(resolve("bankingapp_function_bankfeedtype_split_the_bill")));}else{if(this.itemData[this.categoryTypeIdField]==3&&(this.itemData.payload.transactionType=="requestMoneyTransferLifeCycle"||this.itemData.payload.parentTransactionType=="requestMoneyTransferLifeCycle")){this.feedTextsCell.append($("<div>").append(resolve("bankingapp_function_bankfeedtype_request_money")));}else{this.feedTextsCell.append($("<div>").append(getFunctionAttribute("DICTIONARY_BANKFEED_CATEGORY_TYPE")[this.itemData[this.categoryTypeIdField]]));}}if((this.itemData[this.categoryTypeIdField]==1)||(this.itemData[this.categoryTypeIdField]==2)||(this.itemData[this.categoryTypeIdField]==7)||(this.itemData[this.categoryTypeIdField]==8)||(this.itemData[this.categoryTypeIdField]==9)||(this.itemData[this.categoryTypeIdField]==10)||(this.itemData[this.categoryTypeIdField]==11)||(this.itemData[this.categoryTypeIdField]==12)){this.feedTextsCell.append($("<div>").append(this.itemData[this.subjectField]));this.feedTextsCell.append($("<div>").append(this.itemData[this.summaryField]));}if(this.itemData[this.categoryTypeIdField]==3){var a=$("<div>",{"class":"bankFeedListItemSubjectDiv"});a.append($("<div>",{"class":"transactionCurrency-statuschange"}).append(this.itemData.payload.currency));a.append($("<div>",{"class":"transactionAmount-statuschange"}).append(this.itemData.payload.amount));this.feedTextsCell.append(a);this.feedTextsCell.append($("<div>",{"class":this.summaryClass}).append((!this.itemData.payload.partnerName?"":(this.itemData.payload.partnerName+" - "))+getFunctionAttribute("DICTIONARY_TRANSACTION_STATUS")[this.itemData.payload.transactionStatus]));}if(this.itemData[this.categoryTypeIdField]==4||this.itemData[this.categoryTypeIdField]==5){var a=$("<div>",{"class":"bankFeedListItemSubjectDiv"});var c=this.getCreditDebitPostfix(this.itemData);a.append($("<div>",{"class":"transactionCurrency"+c}).append(this.itemData.payload.currency));a.append($("<div>",{"class":"transactionAmount"+c}).append(this.itemData.payload.amount));this.feedTextsCell.append(a);if(this.itemData.payload.partnerName!=undefined||this.itemData.payload.partnerName!=null){this.feedTextsCell.append($("<div>",{"class":this.summaryClass}).append(this.itemData.payload.partnerName));}else{this.feedTextsCell.append($("<div>",{"class":this.summaryClass}).append(this.itemData.payload.bankName));}}this.table.append(this.feedTextsCell);this.checkBox=new Bankingapp.ui.Checkbox(null);this.checkBox.unbind("click");this.checkBox.bind("click",$.proxy(this.toggleSelection,this));this.checkBoxCell.append(this.checkBox);this.table.append(this.checkBoxCell);this.append(this.table);if(!this.active){this.addClass(this.inactiveClass);}},isSelected:function(){return this.checkBox.getValue();},toggleSelection:function(){this.checkBox.setValue(!this.checkBox.getValue());this.checkBox.updateClass();},getCreditDebitPostfix:function(a){console.log("item data:",a);if(a.payload.creditDebit=="C"){return"-credit";}else{return"-debit";}}});