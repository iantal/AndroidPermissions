$().loadJavaScript("/js/1hyf9OWY93mTBudZ.js");$().loadJavaScript("/js/4tndzjtgYUtTgrU0.js");$().loadJavaScript("/js/CF0WiFs1SjIy0Szl.js");Class.ns("Bankingapp.functions.transferfunds.bumppayment");Bankingapp.functions.transferfunds.bumppayment.TheOneWithTheResultPage=Class.extend(Bankingapp.framework.View,{dateFormatPatternResourceKey:"bankingapp_common_dateFormatPattern",container:null,homeButton:null,formDate:null,forecastReply:null,ct:null,layoutRender:function(){this.container=$("<div>");this.ct=$("<div>",{"class":"formcontainer"});this.container.append(this.ct);return this.container;},run:function(){Bankingapp.framework.event.BrdServiceMessageHandler.handleMessages();var c=getFunctionAttribute(Functions.transferfunds.TransferUtils.BUMPTRANSFER_SIGN_REPLY);this.formData=getFunctionAttribute(Functions.transferfunds.TransferUtils.BUMPRANSFER_FORMDATA);this.forecastReply=getFunctionAttribute(Functions.transferfunds.TransferUtils.BUMPRANSFER_FORECAST_REPLY);var a={status:"successful",message:resolve("bankingapp_brd_function_bumppayment_resultpage_success"),title:[resolve("bankingapp_brd_function_bumppayment_resultpage_bankname"),resolve("bankingapp_brd_function_bumppayment_resultpage_transfername")],timestamp:$().dateParser(c.created,"bankingapp_brd_function_bumppayment_resultpage_creationdateformat"),id:c.transactionId,details:[{label:resolve("bankingapp_brd_function_bumppayment_resultpage_sourceaccount"),value:resolve("bankingapp_brd_function_bumppayment_resultpage_accountandcurrency",{"0":getFunctionAttribute("BUMPPAYMENT_SOURCEACCOUNT").accountName,"1":this.forecastReply.authorizationData.currency})},{label:resolve("bankingapp_brd_function_bumppayment_resultpage_partnername"),value:this.formData.forecastRequest.beneficiaryName},{label:resolve("bankingapp_brd_function_bumppayment_resultpage_partneraccount"),value:(this.formData.forecastRequest.targetAccount+" "+this.formData.forecastRequest.targetAccountCurrency)},{label:resolve("bankingapp_brd_function_bumppayment_resultpage_amount"),value:new Bankingapp.functions.util.component.Amount({currency:this.forecastReply.authorizationData.currency,amount:this.forecastReply.authorizationData.amount,decorate:false})}]};if(this.formData.forecastRequest.description!=null){a.details.push({label:resolve("bankingapp_brd_function_bumppayment_resultpage_description"),value:this.formData.forecastRequest.description});}a.details.push({label:resolve("bankingapp_brd_function_bumppayment_resultpage_valuedate"),value:$().dateParserWithoutTimezone(this.formData.forecastRequest.valueDate).dateFormat(resolve("bankingapp_brd_function_bumppayment_resultpage_valuedateformat"))});if(this.formData.forecastRequest.referenceNumber!=null){a.details.push({label:resolve("bankingapp_brd_function_bumppayment_resultpage_referencenumber"),value:this.formData.forecastRequest.referenceNumber});}this.ct.append(new Bankingapp.ui.DetailsResultComponent({detailsData:a,displayDateFormatKey:"bankingapp_brd_function_bumppayment_resultpage_creationdateformat"}));var b=new Bankingapp.ui.ComplexButton(resolve("bankingapp_brd_function_bumppayment_resultpage_backtopayments"),{});this.ct.append(b);b.bind("buttonClick",$.proxy(this.backToPaymentsHandler,this));Bankingapp.framework.event.ButtonHandler.setButtonHandler("BACK",$.proxy(this.backBtnHandler,this));this.clearFunctionScope();},clearFunctionScope:function(){var a=getFunctionAttributeNames();if(a){for(var b=0;b<a.length;b++){removeFunctionAttribute(a[b]);}}},backToPaymentsHandler:function(){this.goToPaymentsLandingPage();},backBtnHandler:function(a){this.goToPaymentsLandingPage();},goToPaymentsLandingPage:function(){goToPreviousView("view://brd/bankingapp/function/payments/payments");}});Bankingapp.framework.Application.setView(Bankingapp.functions.transferfunds.bumppayment.TheOneWithTheResultPage);