Class=function(){return{extend:function(){var b=function(d){for(var c in d){this[c]=d[c];}};var a=Object.prototype.constructor;return function(h,f,c){if(typeof f=="object"){c=f;f=h;h=c.constructor!=a?c.constructor:function(){f.apply(this,arguments);};}var g=function(){},d,e=f.prototype;g.prototype=e;d=h.prototype=new g();d.constructor=h;h.superclass=e;if(e.constructor==a){e.constructor=f;}h.override=function(i){Class.override(h,i);};d.superclass=d.supr=(function(){return e;});d.override=b;Class.override(h,c);h.extend=function(i){return Class.extend(h,i);};return h;};}(),override:function(c,a){if(a){var b=c.prototype;$.extend(b,a);if($.browser.msie&&a.hasOwnProperty("toString")){b.toString=a.toString;}}},create:function(a){return this.extend(Object,a);},nameSpace:function(c){var b,a;$.each(arguments,function(d,e){a=e.split(".");b=window[a[0]]=window[a[0]]||{};$.each(a.slice(1),function(f,g){b=b[g]=b[g]||{};});});return b;},ns:function(a){return this.nameSpace(a);}};}();function onResume(){$("body").trigger("onResume");}function onPause(){$("body").trigger("onPause");}function onButtonPressed(a){$("body").trigger("onButtonPressed",a);}function onContextMenuItemPressed(a){$("body").trigger("onContextMenuItemPressed",a);}function onTokenReceived(a){$("body").trigger("onTokenReceived",a);}function onErrorMessageReceived(a){$("body").trigger("onErrorMessageReceived",a);}function onWarningMessageReceived(a){$("body").trigger("onWarningMessageReceived",a);}function onInfoMessageReceived(a){$("body").trigger("onInfoMessageReceived",a);}function onSuccessMessageReceived(a){$("body").trigger("onSuccessMessageReceived",a);}function onSlidingDrawerClosed(a){$("body").trigger("onSlidingDrawerClosed",a);}function triggerEvent(a,b){$("body").trigger(a,b);}function onOrientationChanged(a){$("body").trigger("onOrientationChanged",a);}function onErrorOccurred(a){$("body").trigger("onErrorOccurred",a);}function resolve(b,c){var a=resources[b];if(a==null){a="[unresolved: "+b+"]";}else{if(c!=null){for(var d in c){a=a.replace(new RegExp("\\{"+d+"\\}","g"),c[d]);}}}return a;}function callService(f,g,h,a,e,c,d){if(typeof f=="object"){var b=f;Framework.callService(b.serviceName,b.request,b.callback,b.cacheItemId,b.scope,b.backgroundCall,b.ignoreErrors);}else{Framework.callService(f,g,h,a,e,c,d);}}function loadView(a,b){Framework.loadView(a,b);}function goToPreviousView(a){Framework.goToPreviousView(a);}function goToHomeView(){Framework.goToHomeView();}function setSessionAttribute(a,b){Framework.setSessionAttribute(a,b);}function getSessionAttribute(a){return Framework.getSessionAttribute(a);}function removeSessionAttribute(a){return Framework.removeSessionAttribute(a);}function getSessionAttributeNames(){return Framework.getSessionAttributeNames();}function setFunctionAttribute(a,b){Framework.setFunctionAttribute(a,b);}function getFunctionAttribute(a){return Framework.getFunctionAttribute(a);}function removeFunctionAttribute(a){return Framework.removeFunctionAttribute(a);}function getFunctionAttributeNames(){return Framework.getFunctionAttributeNames();}function showDatePicker(a){Framework.showDatePicker(a);}function showContactPicker(a){Framework.showContactPicker(a);}function showListPicker(b,a,c){Framework.showListPicker(b,a,c);}function showSlidingDrawer(a){Framework.showSlidingDrawer(a);}function showBarcodeReader(b){var a=b.barcodeTypes;if(!a){a=[Bankingapp.constant.Constant.BARCODE_TYPES.ALL];}Framework.showBarcodeReader(a,b.callback);}function bumpSend(c,a,b,d){Framework.bumpSend(c,a,b,d);}function bumpReceive(b,a,c){Framework.bumpReceive(b,a,c);}function generateQrCode(a){var b=a.type;if(!b){b=Bankingapp.constant.Constant.QR_CODE_IMAGE_TYPES.JPG;}Framework.generateQrCode(a.content,a.dimension,b,a.callback);}function showError(a,b){Framework.showError(a,b);}function showLoadingPopup(a){Framework.showLoadingPopup(a);}function hideLoadingPopup(){Framework.hideLoadingPopup();}function log(c,b,a){Framework.log(c,b,a);}function showConfirmation(b,a,c){Framework.showConfirmation(b,a,c);}function requestToken(a){Framework.requestToken(a);}function getLocale(){return Framework.getLocale();}function isRtlLocale(){return Framework.isRtlLocale();}function getApplicationOption(a){return Framework.getApplicationOption(a);}function setApplicationOption(a,b){Framework.setApplicationOption(a,b);}function getCurrentSkin(){return Framework.getCurrentSkin();}function setCurrentSkin(a){Framework.setCurrentSkin(a);}function callPhoneNumber(a){Framework.callPhoneNumber(a);}function sendSms(a,b){Framework.sendSms(a,b);}function sendEMail(c,a,b){Framework.sendEMail(c,a,b);}function openBrowser(a){Framework.openBrowser(a);}function getContextRoot(){return Framework.getContextRoot();}function loggedIn(){Framework.loggedIn();}function isLoggedIn(){return Framework.isLoggedIn();}function loggedOut(){Framework.loggedOut();}function setAuthorizationData(a){Framework.setAuthorizationData(a);}function getAuthorizationData(){return Framework.getAuthorizationData();}function bindFieldToView(a){Framework.bindFieldToView(a);}function getDeviceInformation(){return Framework.getDeviceInformation();}function pageRendered(){Framework.pageRendered();}function getCurrentFunctionDescriptor(){return Framework.getCurrentFunctionDescriptor();}function getCurrentViewDescriptor(){return Framework.getCurrentViewDescriptor();}function setCacheSecureKey(a){Framework.setCacheSecureKey(a);}function getCacheItem(a,c,b){Framework.getCacheItem(a,c,b);}function setCacheItem(b,a,c){Framework.setCacheItem(b,a,c);}function removeCacheItem(a,b){Framework.removeCacheItem(a,b);}function doPushNotificationOperations(a){Framework.doPushNotificationOperations(a);}function triggerEventOnOtherPanel(a,b){Framework.triggerEventOnOtherPanel(a,b);}function getGeolocationCoordinates(a){Framework.getGeolocationCoordinates(a);}function geocoding(a,b){Framework.geocoding(a,b);}function reverseGeocoding(a,b){Framework.reverseGeocoding(a,b);}function generatePaymentUrl(a){Framework.generatePaymentUrl(a.transactionType,a.countryCode,a.transactionData,a.callback);}function parsePaymentUrl(a){Framework.parsePaymentUrl(a.url,a.callback);}function getGatewayUrl(){return Framework.getGatewayUrl();}function showOnMap(c,a,d){if(typeof c=="object"){var b=c;Framework.showOnMap(b.label,b.location,b.type);}else{Framework.showOnMap(c,a,d);}}Class.ns("Bankingapp.framework");Bankingapp.framework.Application=function(){var j=null;var e=null;var m=false;var d={};var h=0;var i={defaultBinder:function(o,n,p){p(o,n);}};var k=function(n,o){if(!(d[n]&&$.isArray(d[n]))){d[n]=new Array();$("body").bind(n,$.proxy(b,Bankingapp.framework.Application));}d[n].push(o);};var b=function(s,q){try{if(d[s.type]&&$.isArray(d[s.type])){var o=d[s.type];var n=i.defaultBinder;if(i.binders&&i.binders[s.type]){n=i.binders[s.type];}for(var r=0;r<o.length;r++){n(s,q,o[r]);}}}catch(p){onErrorOccurred(p);}};var l=function(n){b($.Event(n));};var a=function(){e=new j();try{$(i.mainContainer).append($(e.layoutRender()));$("body").trigger("onPageRendered");pageRendered();e.run();}catch(n){pageRendered();onErrorOccurred(n);}};var c=function(n,p,o){return function(){n.apply(window,arguments);if(o){delete Bankingapp.framework.Application.callbacks[p];}};};var g=function(){return"callback"+h++;};var f=function(n,p){var o=g();Bankingapp.framework.Application.callbacks[o]=c(n,o,p);return"Bankingapp.framework.Application.callbacks."+o;};return{callbacks:{},init:function(n){if(!n.mainContainer){return;}if(!m){$.extend(i,n);m=true;}l("ready");},setView:function(n){j=n;this.onReady(a,Bankingapp.framework.Application);},onReady:function(n,o){o=o||window;if(m){n.apply(o,[]);}else{this.bind("ready",$.proxy(n,o));}},bind:function(p,n,o){o=o||window;k(p,$.proxy(n,o));},unBind:function(n){if(d[n]){delete d[n];}},proxy:function(q,n,p){var o=q;if(n){o=$.proxy(q,n);}return f(o,p);},callService:function(n,p,o){callService(n,p,f(o));},callDummyService:function(n,p,o){callDummyService(n,p,f(o));},showConfirmation:function(p,o,n){showConfirmation(p,o,f(n));},isAuthorized:function(n){return i.authorizationManager.isAuthorized(n);},doPushNotificationOperations:function(n){doPushNotificationOperations(f(n));}};}();Class.ns("Bankingapp.framework");Bankingapp.framework.BankParam=function(){var a={generalParameters:{localCurrency:"HUF"}};var b=function(d,c){return !a[d]?null:c==null?a[d]:a[d][c];};return{getBankParam:function(d,c){return b(d,c);},getBankParamGroup:function(c){return b(c,null);},setBankParam:function(d,c){if(!a[d]){a[d]={};}$.extend(a[d],c);}};}();Class.ns("Bankingapp.framework.event");Bankingapp.framework.event.ServiceMessageHandler=new function(){this.errorMessageHandler=function(c,e){var d="";for(var b=0;b<e.errors.length;b++){var a=e.errors[b];if(d!=""){d=d+"\n";}if(a.field!=null){d=d+$("label[for="+a.field+"]").text()+a.title;}else{d=d+a.title;}}showError(d);};this.infoMessageHandler=function(a,b){$("#infos").append(new Bankingapp.ui.MessageBlock(b.infos,{baseClass:"infoblock"}));};this.successMessageHandler=function(a,b){$("#successes").append(new Bankingapp.ui.MessageBlock(b.successes,{baseClass:"successblock"}));};this.warningMessageHandler=function(a,b){$("#warnings").append(new Bankingapp.ui.MessageBlock(b.warnings,{baseClass:"warningblock"}));};};Class.ns("Bankingapp.framework.event");Bankingapp.framework.event.ContextMenuHandler=new function(){this.handleHelp=function(){loadView("view://ind/bankingapp/function/help/help",{CURRENT_VIEW_URL:getCurrentViewDescriptor().url});};this.handleSettings=function(){loadView("view://ind/bankingapp/function/settings/settings");};this.handleLogout=function(){var a=getSessionAttribute("LOGOUT_VIEW");if((a!=undefined)&&(a!=null)){loadView(a);}else{showConfirmation(resolve("demo_bankingapp_function_logout_confirmation"),new Boolean(0),Bankingapp.framework.Application.proxy(this.handleConfirmationResult,this));}};this.handleHome=function(){goToHomeView();};this.handlerMap={help:$.proxy(this.handleHelp,this),settings:$.proxy(this.handleSettings,this),logout:$.proxy(this.handleLogout,this),home:$.proxy(this.handleHome,this)};this.onDefaultContextMenuItemPressedHandler=function(c,b){var a=this.handlerMap[b];if((a!=undefined)&&(a!=null)){a();}};this.handleConfirmationResult=function(a,b){if(a.valueOf()){callService({serviceName:"/security/logout",backgroundCall:true,ignoreErrors:true});loggedOut();setAuthorizationData(null);removeSessionAttribute("CUSTOMER_NAME");goToHomeView();}};};Class.ns("Bankingapp.framework.event");Bankingapp.framework.event.ButtonHandler=function(){var a=function(){goToPreviousView();};var b={BACK:a};return{globalButtonHandler:function(f,d){var c=b[d];if(c&&(typeof c=="function")){c(d);}},setButtonHandler:function(c,d){b[c]=d;}};}();Class.ns("Bankingapp.framework.event");Bankingapp.framework.event.ErrorEventHandler=new function(){this.errorEventHandler=function(a,b){Logger.error(b!=undefined?b.message:null,b);};};(function(a){a.FormatterConstants={Decimals:2,DecimalsSpecific:{HUF:0,OMR:3},LOCAL_ACCOUNT_FORMAT:"###-#####-###",GIRO_ACCOUNT_FORMAT:"####-XXXX-XXXX ####-####-####",CARD_NUMBER_FORMAT:"#### XXXX XXXX ####"};})(jQuery);$.fn.numberFormatter=function(f,t,c,h,w){if(t==null){return f;}if((f==null||f==undefined)&&!w){return null;}if(isNaN(f)){throw ("NumberFormatException: value is not a number!");}var x=",",l=".",e=false,a=f<0;l=(c==null?resolve("bankingapp_common_decimal_separator"):c);x=(h==null?resolve("bankingapp_common_grouping_separator"):h);f=Math.abs(f);if(t.substr(t.length-2)=="/i"){t=t.substr(0,t.length-2);e=true;var u=x;x=l;l=u;}var g=t.indexOf(x)!=-1,d=(t.replace(new RegExp("[^\\d\\"+l+"]","g"),"")).split(l);if(2<d.length){throw ("NumberFormatException: invalid format, formats should have no more than 1 period: "+t);}else{if(1<d.length){f=f.toFixed(d[1].length);}else{f=f.toFixed(0);}}var k=f.toString();d=k.split(".");if(g){var b=d[0],q=[],r=b.length,p=Math.floor(r/3),o=b.length%3||3,s;for(s=0;s<r;s+=o){if(s!=0){o=3;}q[q.length]=b.substr(s,o);p-=1;}k=q.join(x);if(d[1]){k+=l+d[1];}}else{if(d[1]){k=d[0]+l+d[1];}}return(a?"-":"")+t.replace(new RegExp("[\\d\\"+x+"?\\"+l+"?]+"),k);};$.fn.amountFormatter=function(j,f,c,g,k,a,h){if((j==null||j==undefined)&&!h){return null;}if(c==null&&$.FormatterConstants.DecimalsSpecific[f]!=null&&$.FormatterConstants.DecimalsSpecific[f]!=undefined){c=$.FormatterConstants.DecimalsSpecific[f];}if(c==null){c=$.FormatterConstants.Decimals;}var b=(k==null?resolve("bankingapp_common_decimal_separator"):k);var d;for(d=0;d<c;d++){b+="0";}var e="";if(g!=null){if(g.indexOf(k==null?resolve("bankingapp_common_decimal_separator"):k)!=-1){e=g;}else{e=g+(c>0?b:"");}}else{e="0"+(a==null?resolve("bankingapp_common_grouping_separator"):a)+"000"+(c>0?b:"");}return $().numberFormatter(j,e,k,a,h);};$.fn.amountFormatterWithCurrency=function(c,b,a,f,d,e,g){if((c==null||c==undefined)&&!g){return null;}return resolve("bankingapp_component_amount_formatwithcurrency",{amount:$().amountFormatter(c,b,a,f,d,e,g),currency:b});};$.fn.numberParser=function(c,a,b){if(typeof c=="number"){return c;}else{if(typeof c=="string"){var d=b==null?resolve("bankingapp_common_grouping_separator"):b;var g=a==null?resolve("bankingapp_common_decimal_separator"):a;d=d=="."?"\\.":d;g=g=="."?"\\.":g;var f=c;f=f.replace(new RegExp(d,"g"),"");f=f.replace(new RegExp(g),".");var e=Number(f);return e;}else{throw new Exception("Cannot parse the value: "+c+". Type: ("+typeof c+")");}}};$.fn.amountParser=function(c,a,b){return $.fn.numberParser(c,a,b);};$.fn.accountFormatter=function(c){var d="";if(c==null){return"";}if($.FormatterConstants.LOCAL_ACCOUNT_FORMAT.replace(new RegExp("[^X#]","g"),"").length==c.length){d=$.FormatterConstants.LOCAL_ACCOUNT_FORMAT;}else{if($.FormatterConstants.GIRO_ACCOUNT_FORMAT.replace(new RegExp("[^X#]","g"),"").length==c.length){d=$.FormatterConstants.GIRO_ACCOUNT_FORMAT;}else{if($.FormatterConstants.CARD_NUMBER_FORMAT.replace(new RegExp("[^X#]","g"),"").length==c.length){d=$.FormatterConstants.CARD_NUMBER_FORMAT;}}}if(d==""){return c;}var e=0;var a="";var b;for(b=0;b<d.length;b++){if(d.charAt(b)=="#"){a+=c.charAt(e);e++;}else{if(d.charAt(b)=="X"){a+="X";e++;}else{a+=d.charAt(b);}}}return a;};$.fn.dateTimeFormatter=function(d,e){if(!d){return"";}if(!(d instanceof Date)){d=new Date();}if(!e){e="YYYY-MM-DDThh:mm:ss";}var a=d.getHours();var f=d.getMinutes();var b=d.getSeconds();var c=d.getMilliseconds();if(e.indexOf("mil",0)!=-1){e=e.replace(/[mil]/g,c.toString());}if(e.indexOf("hh",0)!=-1){e=e.replace(/[h]{2,}/g,a<10?("0"+a):a.toString());}else{if(e.indexOf("h",0)!=-1){e=e.replace(/[h]+/g,a.toString());}}if(e.indexOf("mm",0)!=-1){e=e.replace(/[m]{2,}/g,f<10?("0"+f):f.toString());}else{if(e.indexOf("m",0)!=-1){e=e.replace(/[m]+/g,f.toString());}}if(e.indexOf("ss",0)!=-1){e=e.replace(/[s]{2,}/g,b<10?("0"+b):b.toString());}else{if(e.indexOf("s",0)!=-1){e=e.replace(/[s]+/g,b.toString());}}return $().dateFormatter(d,e);};$.fn.dateFormatter=function(c,e){if(!c){return"";}if(!(c instanceof Date)){c=new Date();}if(!e){e="YYYY-MM-DD";}var b=c.getFullYear();var d=c.getMonth()+1;var a=c.getDate();if(e.indexOf("YYYY",0)!=-1){e=e.replace(/[Y]{4,}/g,b.toString());}else{if(e.indexOf("Y",0)!=-1){e=e.replace(/[Y]+/g,b.toString().substr(2));}}if(e.indexOf("MM",0)!=-1){e=e.replace(/[M]{2,}/g,d<10?("0"+d):d.toString());}else{if(e.indexOf("M",0)!=-1){e=e.replace(/[M]+/g,d.toString());}}if(e.indexOf("DD",0)!=-1){e=e.replace(/[D]{2,}/g,a<10?("0"+a):a.toString());}else{if(e.indexOf("D",0)!=-1){e=e.replace(/[D]+/g,a.toString());}}return e;};$.fn.formatDateForRequest=function(a){if(!a){return undefined;}if(a instanceof Date){return a.dateFormat(resolve("bankingapp_common_request_date_format"));}};$.fn.formatDate=function(b,a,c){if(!b){return undefined;}if(b instanceof Date){if(a){return b.dateFormat(resolve(a));}else{if(c){return b.dateFormat(c);}else{return $().formatDateForRequest(b);}}}};$.fn.dateParserWithTimezone=function(a){return $().dateParser(a,"bankingapp_common_parsedatepattern_withtimezone");};$.fn.dateParserWithoutTimezone=function(a){return $().dateParser(a,"bankingapp_common_parsedatepattern_withouttimezone");};$.fn.dateParserWithoutTime=function(a){return $().dateParser(a,"bankingapp_common_parsedatepattern_withouttime");};$.fn.dateParser=function(d,b,c){if(!d){return null;}if(d instanceof Date){return d;}var a=null;if(b){a=Date.parseDate(d,resolve(b));}else{if(c){a=Date.parseDate(d,c);}else{a=new Date(d);}}if(a==null||!(a instanceof Date)){a=Date.parseDate(d,resolve("bankingapp_common_parsedatepattern_withtimezone"));if(a==null||!(a instanceof Date)){a=Date.parseDate(d,resolve("bankingapp_common_parsedatepattern_withouttimezone"));if(a==null||!(a instanceof Date)){a=Date.parseDate(d,resolve("bankingapp_common_parsedatepattern_withouttime"));if(a==null||!(a instanceof Date)){a=new Date(d);}}}}if(a!=null&&a instanceof Date){$().addTimezoneOffset(a);}else{return null;}return a;};$.fn.addTimezoneOffset=function(a){a.setHours(a.getHours()-a.getTimezoneOffset()/60);};$.fn.setTimeOfDate=function(c,e,d,a,j){if(!c||!(c instanceof Date)){return null;}var g=c.getHours();var f=c.getMinutes();var k=c.getSeconds();var b=c.getMilliseconds();if(e!=null&&e!=undefined){g=e;}if(d!=null&&d!=undefined){f=d;}if(a!=null&&a!=undefined){k=a;}if(j!=null&&j!=undefined){b=j;}var i=new Date(c);i.setHours(g,f,k,b);return i;};$.fn.setTimeOfDateMockTime=function(a){return $().setTimeOfDate(a,12,0,0,0);};Class.ns("Bankingapp.constant");Bankingapp.constant.Constant=new function(){this.CACHE_SCOPES={PERSISTENT:"PERSISTENT",SESSION:"SESSION"};this.BARCODE_TYPES={UPC_A:"UPC_A",UPC_E:"UPC_E",EAN8:"EAN8",EAN13:"EAN13",CODE39:"CODE39",CODE93:"CODE93",CODE128:"CODE128",ITF:"ITF",RSS:"RSS",RSS_EXP:"RSS_EXP",QRCODE:"QRCODE",ALL:"ALL"};this.ORIENTATION_TYPES={PORTRAIT:"PORTRAIT",LANDSCAPE:"LANDSCAPE"};this.QR_CODE_IMAGE_TYPES={JPG:"jpg",PNG:"png"};};(function(a){a.ResolutionConstants={XHDPI:"xhdpi",HDPI:"hdpi",MDPI:"mdpi",LDPI:"ldpi"};})(jQuery);$.fn.loadCss=function(d,c,a,f){if(d==null||c==null||a==null){return;}var e=getContextRoot()+"/app-skins/"+d+"/"+c.toLowerCase()+"/"+$().getResolution()+"/css/"+a;if(getDeviceInformation().os=="windowsphone"){var b=document.createElement("link");b.setAttribute("type","text/css");b.setAttribute("rel","stylesheet");b.setAttribute("href","/"+e);document.getElementsByTagName("head")[0].appendChild(b);}else{var b=$("<link>",{id:f?f:d+"_"+c.toLowerCase()+"_"+a.substring(0,a.lastIndexOf(".")),rel:"stylesheet",type:"text/css",media:"screen",href:e});$("head").append(b);}};$.fn.setCss=function(d,c,b,e){$('link[type="text/css"]').each(function(f){$(this).attr("disabled","disabled");});var a=false;e=e?e:d+"_"+c.toLowerCase()+"_"+b.substring(0,b.lastIndexOf("."));$('link[type="text/css"]').each(function(f){if(a==false){$(this).removeAttr("disabled");if(e==this.id){a=true;}}});};$.fn.getCssSuffix=function(){return isRtlLocale()?".rtl":"";};$.fn.getImagesFolder=function(a){return getContextRoot()+"/app-skins/"+getCurrentSkin()+"/"+(a==null?"common":a.toLowerCase())+"/"+$().getResolution()+"/images/";};$.fn.loadJavaScript=function(b){var c=getContextRoot()+b;if(getDeviceInformation().os=="windowsphone"){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","/"+c);document.getElementsByTagName("head")[0].appendChild(a);}else{var a=$("<script>",{type:"text/javascript",src:c});$("head").append(a);}};$.fn.getResolution=function(){deviceDpi=getDeviceInformation().dpi;if((deviceDpi>250)){return $.ResolutionConstants.XHDPI;}else{if((deviceDpi>200)){return $.ResolutionConstants.HDPI;}else{if((deviceDpi>130)){return $.ResolutionConstants.MDPI;}else{return $.ResolutionConstants.LDPI;}}}};var pressedBg="state_active";$.fn.onTouchStart=function(a){$(this).addClass(pressedBg);};$.fn.onTouchMove=function(a){$(this).removeClass(pressedBg);};$.fn.onTouchEnd=function(a){a.preventDefault();$(this).removeClass(pressedBg);};$.fn.addTouchEvents=function(){$(this).addClass("state_default");$(this).bind("touchstart",$(this).onTouchStart);$(this).bind("touchmove",$(this).onTouchMove);$(this).bind("touchend",$(this).onTouchEnd);};$.fn.appendRow=function(){var a=$("<tr>",arguments[0]);$(this).append(a);return a;};$.fn.appendCell=function(){var a=$("<td>",arguments[0]);$(this).append(a);return a;};function initView(a){$(document).ready(function(){a();pageRendered();});}(function(c){var d=function(){var g={whitelist:"bankingapp_error_default",address:"bankingapp_error_address",regex:"bankingapp_error_regex",required:"bankingapp_error_mandatory",maxlength:"bankingapp_error_maxlength",minlength:"bankingapp_error_minlength",rangelength:"bankingapp_error_rangelength",mindiffchars:"bankingapp_error_notenoughdifferentcharacters",max:"bankingapp_error_max",min:"bankingapp_error_min",greaterthan:"bankingapp_error_greaterthan",range:"bankingapp_error_range",email:"bankingapp_error_email",url:"bankingapp_error_url",number:"bankingapp_error_number",digits:"bankingapp_error_digit"};var e={whitelist:/^[a-zA-Z0-9_-\s]+$/,address:/^[a-zA-Z0-9_,.\/-\s]+$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,digits:/^\d+$/};var h={whitelist:{check:function(j,i){return j.val()!=""&&i==true?e.whitelist.test(j.val()):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.whitelist,{"0":f(j)});}},address:{check:function(j,i){return j.val()!=""&&i==true?e.address.test(j.val()):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.address,{"0":f(j)});}},regex:{check:function(j,i){return j.val()!=""?new RegExp(i.pattern,i.modifier?i.modifier:"g").test(j.val()):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.regex,{"0":f(j),"1":i.pattern,"2":i.modifier});}},required:{check:function(j,i){return(i.value?i.value:i)==true?j.val()!="":true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.required,{"0":f(j)});}},maxlength:{check:function(j,i){return j.val()!=""?j.val().length<=(i.value?i.value:i):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.maxlength,{"0":f(j),"1":i.value?i.value:i});}},minlength:{check:function(j,i){return j.val()!=""?j.val().length>=(i.value?i.value:i):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.minlength,{"0":f(j),"1":i.value?i.value:i});}},rangelength:{check:function(j,i){return j.val()!=""?(j.val().length>=i[0]&&j.val().length<=i[1]):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.rangelength,{"0":f(j),"1":i[0],"2":i[1]});}},mindiffchars:{check:function(m,l){if(m.val()!=""){var j=l.value?l.value:l;var k=c.trim(m.val());var i=1;while(k.length>0){k=k.replace(new RegExp(k.charAt(0),"g"),"");if(k.length>0&&++i==j){return true;}}m.data("differentCharacterNumber",i);return false;}return true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.mindiffchars,{"0":f(j),"1":i.value?i.value:i,"2":j.data("differentCharacterNumber")});}},max:{check:function(j,i){return j.val()!=""?c().numberParser(j.val())<=(i.value?i.value:i):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.max,{"0":f(j),"1":i.value?i.value:i});}},min:{check:function(j,i){return j.val()!=""?c().numberParser(j.val())>=(i.value?i.value:i):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.min,{"0":f(j),"1":i.value?i.value:i});}},greaterthan:{check:function(j,i){return j.val()!=""?c().numberParser(j.val())>(i.value?i.value:i):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.greaterthan,{"0":f(j),"1":i.value?i.value:i});}},range:{check:function(j,i){return j.val()!=""?(c().numberParser(j.val())>=i[0]&&c().numberParser(j.val())<=i[1]):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.range,{"0":f(j),"1":i[0],"2":i[1]});}},email:{check:function(j,i){return j.val()!=""&&(i.value?i.value:i)==true?e.email.test(j.val()):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.email,{"0":f(j)});}},url:{check:function(j,i){return j.val()!=""&&(i.value?i.value:i)==true?e.url.test(j.val()):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.url,{"0":f(j)});}},number:{check:function(j,i){return j.val()!=""&&(i.value?i.value:i)==true?e.number.test(j.val()):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.number,{"0":f(j)});}},digits:{check:function(j,i){return j.val()!=""&&(i.value?i.value:i)==true?e.digits.test(j.val()):true;},msg:function(i,j){return resolve(i.resourceKey?i.resourceKey:g.digits,{"0":f(j)});}}};var f=function(i){if(i.data("labelText")){return i.data("labelText");}else{return c("label[for="+i.get(0).id+"]").text();}};return{addRule:function(i,j){h[i]=j;},addRules:function(i){jQuery.extend(h,i);},getRule:function(i){return h[i];},setResource:function(j,i){g[j]=i;},setResources:function(i){jQuery.extend(g,i);},setRegexp:function(j,i){e[j]=i;},setRegexps:function(i){jQuery.extend(e,i);}};};var b=function(f){var e=[];f.find("input").each(function(){var g=c(this);if(g.data("validation")!==undefined){e.push(new a(g));}});this.fields=e;};b.prototype={validate:function(){for(var e=0;e<this.fields.length;e++){this.fields[e].validate();}},isValid:function(){for(var e=0;e<this.fields.length;e++){if(!this.fields[e].valid){this.fields[e].field.focus();return false;}}return true;},renderError:function(){var h="";for(var e=0;e<this.fields.length;e++){if(!this.fields[e].valid&&this.fields[e].errors){for(var f=0;f<this.fields[e].errors.length;f++){h+=this.fields[e].errors[f];h+="\n";}}}if(h.length){showError(h);this.fields[0].field.focus();}}};var a=function(e){this.field=e;this.valid=false;this.errors=null;this.attach("change");};a.prototype={attach:function(e){},validate:function(){var i=this,h=i.field,e=h.data("validation"),j=[];if(h.get(0).disabled!=true){for(var f in e){var g=c.Validation.getRule(f);if(!g){throw"The validation '"+f+"' rule is not in rule set! Use the Validation.addRule() method to add the missing rule to the rule set.";return;}if(!g.check(h,e[f])){j.push(g.msg(e[f],h));break;}}}if(j.length){i.errors=j;i.valid=false;}else{i.valid=true;}}};c.extend(c.fn,{validation:function(f){var e=new b(c(this));if(c.data(c(this)[0],"validator")){return;}c.data(c(this)[0],"validator",e);if(f!=true){c(this).bind("submit",function(g){e.validate();if(!e.isValid()){g.preventDefault();}});}},validate:function(){var e=c.data(c(this)[0],"validator");if(!e){throw"The validation has not been inicalized. Use the Bankingapp.ui.Form component instead of <form>.";return;}e.validate();return e.isValid();},renderError:function(){var e=c.data(c(this)[0],"validator");e.renderError();}});c.Validation=new d();})(jQuery);Class.ns("Bankingapp.framework.authorization");Bankingapp.framework.authorization.AuthorizationManager=function(){return{getAuthorizationElements:function(b){var a=getAuthorizationData();var e=new Array();if(isLoggedIn().valueOf()&&$.isArray(a)&&a.length>0){for(var c=0;c<a.length;c++){var d=a[c];if($.inArray(d.id,b)>-1){e.push(d);}}}return e;},isAuthorized:function(a){var b=new Array();if(a!=undefined&&a!=null){b=a.split(/[\s]*[,][\s]*/g);}var c=this.getAuthorizationElements(b);if($.isArray(c)&&c.length>0){for(var d=0;d<c.length;d++){if((c[d]!=null)&&(c[d].enabled==true)){return true;}}}return false;}};};(function(b){var a=function(){var e=40;var d=30;var c=20;var f=10;return{debug:function(h,g){log(e,h,g);},info:function(h,g){log(d,h,g);},warning:function(h,g){log(c,h,g);},error:function(h,g){log(f,h,g);}};};Logger=new a();})(jQuery);Class.ns("Bankingapp.framework.currency");Bankingapp.framework.currency.CurrencyDataProvider=new function(){this.currencyData={AED:{currencyCode:"AED",symbol:"د.إ"},AFN:{currencyCode:"AFN",symbol:"؋"},ALL:{currencyCode:"ALL",symbol:"Lek"},AMD:{currencyCode:"AMD",},ANG:{currencyCode:"ANG",symbol:"ƒ"},AOA:{currencyCode:"AOA",symbol:"Kz"},ARS:{currencyCode:"ARS",symbol:"$"},AUD:{currencyCode:"AUD",symbol:"$"},AWG:{currencyCode:"AWG",symbol:"ƒ"},AZN:{currencyCode:"AZN",symbol:"ман"},BAM:{currencyCode:"BAM",symbol:"KM"},BBD:{currencyCode:"BBD",symbol:"$"},BDT:{currencyCode:"BDT",symbol:"Tk"},BGN:{currencyCode:"BGN",symbol:"лв"},BHD:{currencyCode:"BHD",symbol:"BD"},BIF:{currencyCode:"BIF",},BMD:{currencyCode:"BMD",symbol:"$"},BND:{currencyCode:"BND",symbol:"$"},BOB:{currencyCode:"BOB",symbol:"$b"},BRL:{currencyCode:"BRL",symbol:"R$"},BSD:{currencyCode:"BSD",symbol:"$"},BTN:{currencyCode:"BTN",},BWP:{currencyCode:"BWP",symbol:"P"},BYR:{currencyCode:"BYR",symbol:"p."},BZD:{currencyCode:"BZD",symbol:"BZ$"},CAD:{currencyCode:"CAD",symbol:"$"},CDF:{currencyCode:"CDF",},CHF:{currencyCode:"CHF",symbol:"CHF"},CLP:{currencyCode:"CLP",symbol:"$"},CNY:{currencyCode:"CNY",symbol:"¥"},COP:{currencyCode:"COP",symbol:"$"},CRC:{currencyCode:"CRC",symbol:"₡"},CUC:{currencyCode:"CUC",symbol:"CUC$"},CUP:{currencyCode:"CUP",symbol:"₱"},CVE:{currencyCode:"CVE",symbol:"$"},CZK:{currencyCode:"CZK",symbol:"Kč"},DJF:{currencyCode:"DJF",},DKK:{currencyCode:"DKK",symbol:"kr"},DOP:{currencyCode:"DOP",symbol:"RD$"},DZD:{currencyCode:"DZD",},EGP:{currencyCode:"EGP",symbol:"£"},ERN:{currencyCode:"ERN",},ETB:{currencyCode:"ETB",symbol:"Br"},EUR:{currencyCode:"EUR",symbol:"€"},FJD:{currencyCode:"FJD",symbol:"$"},FKP:{currencyCode:"FKP",symbol:"£"},GBP:{currencyCode:"GBP",symbol:"£"},GEL:{currencyCode:"GEL",},GGP:{currencyCode:"GGP",symbol:"£"},GHS:{currencyCode:"GHS",symbol:"GH¢"},GIP:{currencyCode:"GIP",symbol:"£"},GMD:{currencyCode:"GMD",},GNF:{currencyCode:"GNF",},GTQ:{currencyCode:"GTQ",symbol:"Q"},GYD:{currencyCode:"GYD",symbol:"$"},HKD:{currencyCode:"HKD",symbol:"HK$"},HNL:{currencyCode:"HNL",symbol:"L"},HRK:{currencyCode:"HRK",symbol:"kn"},HTG:{currencyCode:"HTG",symbol:"G"},HUF:{currencyCode:"HUF",symbol:"Ft"},IDR:{currencyCode:"IDR",symbol:"Rp"},ILS:{currencyCode:"ILS",symbol:"₪"},IMP:{currencyCode:"IMP",symbol:"£"},INR:{currencyCode:"INR",symbol:"\u20B9"},IQD:{currencyCode:"IQD",symbol:"د.ع"},IRR:{currencyCode:"IRR",symbol:"﷼"},ISK:{currencyCode:"ISK",symbol:"kr"},JEP:{currencyCode:"JEP",symbol:"£"},JMD:{currencyCode:"JMD",symbol:"J$"},JOD:{currencyCode:"JOD",},JPY:{currencyCode:"JPY",symbol:"¥"},KES:{currencyCode:"KES",symbol:"KSh"},KGS:{currencyCode:"KGS",symbol:"лв"},KHR:{currencyCode:"KHR",symbol:"៛"},KMF:{currencyCode:"KMF",},KPW:{currencyCode:"KPW",symbol:"₩"},KRW:{currencyCode:"KRW",symbol:"₩"},KWD:{currencyCode:"KWD",symbol:"ك"},KYD:{currencyCode:"KYD",symbol:"$"},KZT:{currencyCode:"KZT",symbol:"лв"},LAK:{currencyCode:"LAK",symbol:"₭"},LBP:{currencyCode:"LBP",symbol:"ل.ل"},LKR:{currencyCode:"LKR",symbol:"₨"},LRD:{currencyCode:"LRD",symbol:"$"},LSL:{currencyCode:"LSL",},LTL:{currencyCode:"LTL",symbol:"Lt"},LVL:{currencyCode:"LVL",symbol:"Ls"},LYD:{currencyCode:"LYD",symbol:"LD"},MAD:{currencyCode:"MAD",},MDL:{currencyCode:"MDL",},MGA:{currencyCode:"MGA",symbol:"Ar"},MKD:{currencyCode:"MKD",symbol:"ден"},MMK:{currencyCode:"MMK",symbol:"K"},MNT:{currencyCode:"MNT",symbol:"₮"},MOP:{currencyCode:"MOP",symbol:"MOP$"},MRO:{currencyCode:"MRO",},MUR:{currencyCode:"MUR",symbol:"₨"},MVR:{currencyCode:"MVR",},MWK:{currencyCode:"MWK",symbol:"MK"},MXN:{currencyCode:"MXN",symbol:"$"},MYR:{currencyCode:"MYR",symbol:"RM"},MZN:{currencyCode:"MZN",symbol:"MT"},NAD:{currencyCode:"NAD",symbol:"$"},NGN:{currencyCode:"NGN",symbol:"₦"},NIO:{currencyCode:"NIO",symbol:"C$"},NOK:{currencyCode:"NOK",symbol:"kr"},NPR:{currencyCode:"NPR",symbol:"₨"},NZD:{currencyCode:"NZD",symbol:"$"},OMR:{currencyCode:"OMR",symbol:"﷼"},PAB:{currencyCode:"PAB",symbol:"B/."},PEN:{currencyCode:"PEN",symbol:"S/."},PGK:{currencyCode:"PGK",symbol:"K"},PHP:{currencyCode:"PHP",symbol:"₱"},PKR:{currencyCode:"PKR",symbol:"₨"},PLN:{currencyCode:"PLN",symbol:"zł"},PYG:{currencyCode:"PYG",symbol:"Gs"},QAR:{currencyCode:"QAR",symbol:"﷼"},RON:{currencyCode:"RON",symbol:"lei"},RSD:{currencyCode:"RSD",symbol:"РСД"},RUB:{currencyCode:"RUB",symbol:"руб"},RWF:{currencyCode:"RWF",},SAR:{currencyCode:"SAR",symbol:"﷼"},SBD:{currencyCode:"SBD",symbol:"$"},SCR:{currencyCode:"SCR",symbol:"₨"},SDG:{currencyCode:"SDG",},SEK:{currencyCode:"SEK",symbol:"kr"},SGD:{currencyCode:"SGD",symbol:"$"},SHP:{currencyCode:"SHP",symbol:"£"},SLL:{currencyCode:"SLL",symbol:"Le"},SOS:{currencyCode:"SOS",symbol:"S"},SPL:{currencyCode:"SPL",},SRD:{currencyCode:"SRD",symbol:"$"},STD:{currencyCode:"STD",},SVC:{currencyCode:"SVC",symbol:"$"},SYP:{currencyCode:"SYP",symbol:"£"},SZL:{currencyCode:"SZL",},THB:{currencyCode:"THB",symbol:"฿"},TJS:{currencyCode:"TJS",},TMT:{currencyCode:"TMT",},TND:{currencyCode:"TND",},TOP:{currencyCode:"TOP",symbol:"T$"},TRY:{currencyCode:"TRY",symbol:"TL"},TTD:{currencyCode:"TTD",symbol:"TT$"},TVD:{currencyCode:"TVD",symbol:"$"},TWD:{currencyCode:"TWD",symbol:"NT$"},TZS:{currencyCode:"TZS",},UAH:{currencyCode:"UAH",symbol:"₴"},UGX:{currencyCode:"UGX",symbol:"USh"},USD:{currencyCode:"USD",symbol:"$"},UYU:{currencyCode:"UYU",symbol:"$U"},UZS:{currencyCode:"UZS",symbol:"лв"},VEF:{currencyCode:"VEF",symbol:"Bs."},VND:{currencyCode:"VND",symbol:"₫"},VUV:{currencyCode:"VUV",symbol:"VT"},WST:{currencyCode:"WST",symbol:"$"},XAF:{currencyCode:"XAF",},XCD:{currencyCode:"XCD",symbol:"$"},XDR:{currencyCode:"XDR",},XOF:{currencyCode:"XOF",},XPF:{currencyCode:"XPF",},YER:{currencyCode:"YER",symbol:"﷼"},ZAR:{currencyCode:"ZAR",symbol:"R"},ZMW:{currencyCode:"ZMW",symbol:"ZK"},ZWD:{currencyCode:"ZWD",symbol:"Z$"}};this.getCurrencyData=function(a){return this.currencyData[a];};};Class.ns("Bankingapp.framework");Bankingapp.framework.View=Class.create({layoutRender:function(){},run:function(){return;},bind:function(b,c,a){a=a||this;Bankingapp.framework.Application.bind(b,c,a);}});