Class.ns("Bankingapp.functions.bankfeed");Bankingapp.functions.bankfeed.BankFeedListItem=Class.extend(Bankingapp.ui.ListItem,{categoryTypeIdField:"categoryTypeId",summaryField:"summary",contentField:"contentText",subjectField:"subject",statusField:"status",baseDefaultClass:"bankFeedListItem",subjectClass:"subject",summaryClass:"summary",readClass:"read",categoryTypeClass:"category",renderItem:function(){var c=this.itemData[this.categoryTypeIdField];this.addClass(this.baseDefaultClass);if(this.itemData[this.statusField].$=="R"){this.addClass(this.readClass);}var g=$().getImagesFolder();var h=$("<img>");h.attr({src:g+"bankfeed_categoryid_"+c+".png"});var b=$('<div class="listItemImageContainer left">');b.append(h);var f=$("<div>",{"class":this.baseDefaultClass+"-outer"}).append(b);var e=$("<div>",{"class":this.baseDefaultClass+"-inner"});if(this.itemData[this.categoryTypeIdField]==3&&(this.itemData.payload.transactionType=="splitBillTransferLifeCycle"||this.itemData.payload.parentTransactionType=="splitBillTransferLifeCycle")){e.append($("<div>",{"class":this.categoryTypeClass}).append(resolve("bankingapp_function_bankfeedtype_split_the_bill")));}else{if(this.itemData[this.categoryTypeIdField]==3&&(this.itemData.payload.transactionType=="requestMoneyTransferLifeCycle"||this.itemData.payload.parentTransactionType=="requestMoneyTransferLifeCycle")){e.append($("<div>",{"class":this.categoryTypeClass}).append(resolve("bankingapp_function_bankfeedtype_request_money")));}else{e.append($("<div>",{"class":this.categoryTypeClass}).append(getFunctionAttribute("DICTIONARY_BANKFEED_CATEGORY_TYPE")[this.itemData[this.categoryTypeIdField]]));}}if(this.itemData[this.categoryTypeIdField]==1||this.itemData[this.categoryTypeIdField]==7||this.itemData[this.categoryTypeIdField]==8||this.itemData[this.categoryTypeIdField]==9||this.itemData[this.categoryTypeIdField]==10||this.itemData[this.categoryTypeIdField]==11||this.itemData[this.categoryTypeIdField]==12){e.append($("<div>",{"class":this.subjectClass}).append(this.itemData[this.subjectField]));e.append($("<div>",{"class":this.summaryClass}).append(this.itemData[this.summaryField]));}if(this.itemData[this.categoryTypeIdField]==2){e.append($("<div>",{"class":this.subjectClass}).append(this.itemData[this.subjectField]));e.append($("<div>",{"class":this.summaryClass}).append(this.itemData[this.summaryField]));}if(this.itemData[this.categoryTypeIdField]==4||this.itemData[this.categoryTypeIdField]==5){var a=$("<div>",{"class":"bankFeedListItemSubjectDiv"});var d=this.getCreditDebitPostfix(this.itemData);a.append($("<div>",{"class":"transactionCurrency"+d}).append(this.itemData.payload.currency));a.append($("<div>",{"class":"transactionAmount"+d}).append(this.itemData.payload.amount));e.append(a);if(this.itemData.payload.partnerName!=undefined||this.itemData.payload.partnerName!=null){e.append($("<div>",{"class":this.summaryClass}).append(this.itemData.payload.partnerName));}else{e.append($("<div>",{"class":this.summaryClass}).append(this.itemData.payload.bankName));}}if(this.itemData[this.categoryTypeIdField]==3){var a=$("<div>",{"class":"bankFeedListItemSubjectDiv"});var d=this.getCreditDebitPostfix(this.itemData);a.append($("<div>",{"class":"transactionCurrency-statuschange"}).append(this.itemData.payload.currency));a.append($("<div>",{"class":"transactionAmount-statuschange"}).append(this.itemData.payload.amount));e.append(a);e.append($("<div>",{"class":this.summaryClass}).append((!this.itemData.payload.partnerName?"":(this.itemData.payload.partnerName+" - "))+getFunctionAttribute("DICTIONARY_TRANSACTION_STATUS")[this.itemData.payload.transactionStatus]));}f.append(e);f.appendTo(this);if(!this.active){this.addClass(this.inactiveClass);}},getCreditDebitPostfix:function(a){debugLog("item data:",a);if(a.payload.creditDebit=="C"){return"-credit";}else{return"-debit";}}});