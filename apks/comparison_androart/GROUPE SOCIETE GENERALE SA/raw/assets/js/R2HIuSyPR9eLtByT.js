$().loadJavaScript("/js/1hyf9OWY93mTBudZ.js");$().loadJavaScript("/js/oDohUvvFiA19KSFo.js");$().loadJavaScript("/js/3P7bJV5LvaZ3Os8W.js");Class.ns("Bankingapp.functions.receivemoney.westernunion_receive");Bankingapp.functions.receivemoney.westernunion_receive.Disclaimer=Class.extend(Bankingapp.framework.View,{progressIndicatorStepCount:Functions.transferfunds.TransferUtils.WU_RECEIVE_STEPCOUNT,progressIndicatorCurrentStep:0,transferType:null,container:null,legalDisclaimerTitleRes:"bankingapp_brd_function_finances_westernunion_receive_disclaimer_title",legalDisclaimerContentRes:"bankingapp_brd_function_finances_westernunion_receive_disclaimer_content",checkBoxResourceKey:"bankingapp_brd_function_finances_openaccount_westernunion_receive_checkbox",acceptResourceKey:"bankingapp_brd_function_finances_openaccount_westernunion_receive_accept",layoutRender:function(){this.transferType=getFunctionAttribute("TransferType");console.log("Disclaimer, account type: "+this.transferType);this.container=$("<div>",{id:"disclaimerContainer","class":"maincontainer"});this.container.append(new Bankingapp.ui.ProgressIndicator(this.progressIndicatorStepCount,this.progressIndicatorCurrentStep));this.containerLegalDisclaimer=$("<div>",{id:"legalDisclaimerContainer","class":"depositLegalDisclaimer"});this.legalDisclaimerTitle=new Bankingapp.ui.Label(resolve(this.legalDisclaimerTitleRes),{id:"legalDisclaimerTitle","class":"legalDisclaimerTitle pagetitle separator"});this.legalDisclaimerContent=new Bankingapp.functions.util.component.DisclaimerLabel(resolve(this.legalDisclaimerContentRes),{id:"legalDisclaimerContent","class":"legalDisclaimerContent pagetitle separator openAccountLabel"});this.containerLegalDisclaimer.append(this.legalDisclaimerTitle);this.containerLegalDisclaimer.append(this.legalDisclaimerContent);this.container.append(this.containerLegalDisclaimer);this.containerAcceptDisclaimer=$("<div>",{id:"listContainer","class":"disclaimerContainer"});this.legalAcceptCheckbox=new Bankingapp.functions.util.component.DisclaimerCheckbox({labelText:resolve(this.checkBoxResourceKey),"class":"checkbox"});this.containerAcceptDisclaimer.append(this.legalAcceptCheckbox);this.legalAcceptCheckbox.bind("click",$.proxy(this.checkBoxClickHandler,this));this.legalAcceptCheckbox.disable();this.disclaimerAcceptButton=new Bankingapp.ui.SubmitButton(resolve(this.acceptResourceKey),{id:"disclaimerAcceptButton","class":"disclaimerAcceptButton"});this.disclaimerAcceptButton.bind("buttonClick",$.proxy(this.clickHandler,this));this.containerButton=$("<div>",{id:"disclaimerAcceptButtonContainer","class":"buttonholdercontainer"});this.containerButton.append(this.disclaimerAcceptButton);this.containerAcceptDisclaimer.append(this.containerButton);this.disclaimerAcceptButton.disable();this.container.append(this.containerAcceptDisclaimer);Bankingapp.framework.Application.callService("/westernunion_receive/preinit",{WesternUnionPreinitRequest:{}},$.proxy(this.handlePreinitResult,this));return this.container;},handlePreinitResult:function(a){console.log("handlePreinitResult ...");setFunctionAttribute(Functions.transferfunds.TransferUtils.WU_RECEIVE_SIGN_REPLY,a);if(a!=undefined&&a!=null&&a.westernUnionReceiveAllowed!=undefined&&a.westernUnionReceiveAllowed!=null&&a.westernUnionReceiveAllowed==true){console.log("westernUnionReceiveAllowed ...");console.log(a.westernUnionReceiveAllowed);this.legalAcceptCheckbox.enable();}else{console.log("The transaction is failed!");}},checkBoxClickHandler:function(){if(this.legalAcceptCheckbox.val()==true){this.disclaimerAcceptButton.enable();}else{this.disclaimerAcceptButton.disable();}},clickHandler:function(a,b){loadView("view://brd/bankingapp/function/receivemoney/westernunion_receive/targetaccountselection",null);}});Bankingapp.framework.Application.setView(Bankingapp.functions.receivemoney.westernunion_receive.Disclaimer);