package gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr;

import android.app.Service;
import android.content.Intent;
import gqq.wwvrslwg.tnyijqWfo.a.g;
import gqq.wwvrslwg.tnyijqWfo.a.r;
import gqq.wwvrslwg.tnyijqWfo.a.v;
import gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.j;
import gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.b.d;
import gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.yvmn.RgwRmxkkrVwlm;

public final class a
  extends gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.c.a
{
  boolean a = false;
  
  public a(j paramJ, Service paramService)
  {
    super(paramService);
    this.b = paramJ;
  }
  
  private void b()
  {
    this.b.a(this);
    this.a = false;
  }
  
  public final void run()
  {
    try
    {
      if (this.a) {
        return;
      }
      this.a = true;
      b.a.a(this.d);
      if (!RgwRmxkkrVwlm.a(new Intent(this.e), this.d))
      {
        b();
        return;
      }
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
      return;
    }
    for (;;)
    {
      Object localObject;
      long l5;
      long l3;
      int j;
      try
      {
        Service localService = this.d;
        localObject = d.a(localService);
        l5 = ((d)localObject).b(d.c, "0");
        long l1 = ((d)localObject).b(d.d, "0");
        long l2 = ((d)localObject).b(d.a, "0");
        l3 = gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.b.b.a.a();
        long l4 = gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.b.b.a.b();
        localObject = b.a.d();
        l5 = System.currentTimeMillis() - l5;
        j = 0;
        new StringBuilder("accessInterval : ").append(g.a(l3, 0L)).append(" , noticeInterval : ").append(g.a(l4, 0L));
        if ((gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.b.b.a.c()) && (g.a(l2) == 0))
        {
          i = 1;
          if (i == 0) {
            break label500;
          }
          if (System.currentTimeMillis() - l1 >= l4) {
            break label320;
          }
          new StringBuilder("in noticeInterval,so can not pop ,--need wait: ").append(g.a(l4, System.currentTimeMillis() - l1));
          i = 0;
          if (i != 0) {
            break label336;
          }
          b();
          return;
        }
      }
      catch (Throwable localThrowable)
      {
        localThrowable.printStackTrace();
        b();
        return;
      }
      int i = j;
      if (l5 > 0L)
      {
        i = j;
        if (l5 < l3)
        {
          i = j;
          if (!g.a((String)localObject, new String[] { "", "0" }))
          {
            new StringBuilder("in access ! --need wait: ").append(g.a(l3, l5));
            i = 1;
            continue;
            label320:
            gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.yvmn.a.a.a(localThrowable).a();
            i = 0;
            continue;
            label336:
            if (!r.g(this.d))
            {
              b();
              return;
            }
            String str = gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.yvmn.e.a(this.d);
            localObject = v.a(str);
            new StringBuilder("ret :").append(localObject);
            if (!gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.b.e.a.a(str).a())
            {
              b();
              return;
            }
            gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.b.b.a.a(this.d, gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.b.e.a.b());
            gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.yvmn.a.a.a(this.d, gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.b.e.a.c());
            gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.b.e.a.a(this.d);
            d.a(this.d).a(System.currentTimeMillis(), 0L);
            d.a(this.d).c(d.a, System.currentTimeMillis());
            gqq.wwvrslwg.tnyijqWfo.tnyijqcessh.rgwrmxkkr.yvmn.a.a.a();
            b();
            return;
            label500:
            i = 1;
          }
        }
      }
    }
  }
}
