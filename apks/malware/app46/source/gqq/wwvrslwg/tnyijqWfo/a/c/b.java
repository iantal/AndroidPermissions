package gqq.wwvrslwg.tnyijqWfo.a.c;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import gqq.wwvrslwg.tnyijqWfo.a.g;
import gqq.wwvrslwg.tnyijqWfo.a.v;
import java.util.HashMap;
import java.util.Map;
import org.json.JSONObject;

public final class b
{
  private static b a = null;
  private Context b = null;
  private SharedPreferences c = null;
  private Map d = new HashMap();
  
  private b(Context paramContext)
  {
    this.c = paramContext.getApplicationContext().getSharedPreferences("interval_config", 0);
  }
  
  private a a(String paramString, JSONObject paramJSONObject)
  {
    if (this.d.containsKey(paramString)) {
      return (a)this.d.get(paramString);
    }
    paramJSONObject = new a(paramJSONObject, paramString);
    this.d.put(paramString, paramJSONObject);
    return paramJSONObject;
  }
  
  public static b a(Context paramContext)
  {
    if (a == null) {
      a = new b(paramContext);
    }
    return a;
  }
  
  public final b a(String paramString, long paramLong)
  {
    if (a(paramString)) {
      return this;
    }
    a localA = a(paramString, v.a(this.c.getString(paramString, "")));
    localA.b(System.currentTimeMillis());
    localA.a(paramLong);
    this.c.edit().putString(paramString, localA.toString()).commit();
    new StringBuilder("setinterval: ").append(paramString).append(",").append(paramLong);
    return this;
  }
  
  public final boolean a(String paramString)
  {
    Object localObject = a(paramString, null);
    if ((System.currentTimeMillis() - ((a)localObject).b() > ((a)localObject).a()) || (System.currentTimeMillis() - ((a)localObject).b() < 0L)) {}
    for (boolean bool = false;; bool = true)
    {
      if (bool)
      {
        localObject = new StringBuilder("tag:").append(paramString).append(" , needWait : ");
        paramString = a(paramString, null);
        ((StringBuilder)localObject).append(g.a(paramString.a() - (System.currentTimeMillis() - paramString.b()), 0L));
      }
      return bool;
    }
  }
}
