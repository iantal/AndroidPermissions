package com.ltad.util;

import android.util.Log;
import com.ltad.a.i;
import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.net.HttpURLConnection;
import java.net.URL;

public class HttpUtil
{
  public HttpUtil() {}
  
  public static String sendGet(String paramString1, String paramString2)
  {
    StringBuffer localStringBuffer = new StringBuffer();
    Object localObject = paramString1;
    if (paramString2 != null) {
      localObject = paramString1;
    }
    for (;;)
    {
      try
      {
        if (!"".equals(paramString2)) {
          localObject = paramString1 + i.a(720915) + paramString2;
        }
        paramString1 = (HttpURLConnection)new URL((String)localObject).openConnection();
        paramString1.setRequestMethod(i.a(720916));
        paramString1.connect();
        paramString1 = paramString1.getInputStream();
        paramString2 = new InputStreamReader(new BufferedInputStream(paramString1));
        localObject = new char['Ѐ'];
        if (paramString2.read((char[])localObject) != -1) {
          continue;
        }
        paramString1.close();
      }
      catch (Exception paramString1)
      {
        paramString1.printStackTrace();
        Log.w("Sprinkle_HttpUtil", "Exception:" + paramString1.getMessage());
        continue;
      }
      return localStringBuffer.toString().trim();
      localStringBuffer.append((char[])localObject);
    }
  }
  
  public static String sendPost(String paramString1, String paramString2)
  {
    StringBuffer localStringBuffer = new StringBuffer();
    for (;;)
    {
      try
      {
        paramString1 = (HttpURLConnection)new URL(paramString1).openConnection();
        paramString1.setRequestMethod(i.a(720917));
        paramString1.setDoOutput(true);
        paramString1.setDoInput(true);
        paramString1.connect();
        if ((paramString2 != null) && (!"".equals(paramString2)))
        {
          localObject = new OutputStreamWriter(new BufferedOutputStream(paramString1.getOutputStream()));
          ((OutputStreamWriter)localObject).write(paramString2);
          ((OutputStreamWriter)localObject).flush();
          ((OutputStreamWriter)localObject).close();
        }
        paramString1 = paramString1.getInputStream();
        paramString2 = new InputStreamReader(new BufferedInputStream(paramString1));
        localObject = new char['Ѐ'];
        if (paramString2.read((char[])localObject) != -1) {
          continue;
        }
        paramString1.close();
      }
      catch (Exception paramString1)
      {
        Object localObject;
        paramString1.printStackTrace();
        Log.w("Sprinkle_HttpUtil", "Exception:" + paramString1.getMessage());
        continue;
      }
      return localStringBuffer.toString().trim();
      localStringBuffer.append((char[])localObject);
    }
  }
}
