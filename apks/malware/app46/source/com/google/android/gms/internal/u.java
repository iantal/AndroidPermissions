package com.google.android.gms.internal;

import android.app.Activity;
import android.content.ComponentCallbacks;
import android.content.Context;
import android.content.pm.ApplicationInfo;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;
import android.content.res.Resources;
import android.graphics.Rect;
import android.os.Build.VERSION;
import android.os.Bundle;
import android.os.RemoteException;
import android.util.DisplayMetrics;
import android.view.View;
import android.view.ViewGroup.LayoutParams;
import android.view.ViewParent;
import android.view.Window;
import com.google.android.gms.common.GooglePlayServicesUtil;
import com.google.android.gms.dynamic.d;
import com.google.android.gms.dynamic.e;
import java.util.ArrayList;
import java.util.HashSet;

public class u
  extends aq.a
  implements ba, bd, bf, bn, ci, cl, dm.a, ej, t
{
  private final bt kB;
  private final u.c kC;
  private final y kD;
  private final ab kE;
  private boolean kF;
  private final ComponentCallbacks kG = new u.1(this);
  
  public u(Context paramContext, al paramAl, String paramString, bt paramBt, ev paramEv)
  {
    this.kC = new u.c(paramContext, paramAl, paramString, paramEv);
    this.kB = paramBt;
    this.kD = new y(this);
    this.kE = new ab();
    eo.n(paramContext);
    W();
  }
  
  private void W()
  {
    if ((Build.VERSION.SDK_INT >= 14) && (this.kC != null) && (this.kC.kO != null)) {
      this.kC.kO.registerComponentCallbacks(this.kG);
    }
  }
  
  private void X()
  {
    if ((Build.VERSION.SDK_INT >= 14) && (this.kC != null) && (this.kC.kO != null)) {
      this.kC.kO.unregisterComponentCallbacks(this.kG);
    }
  }
  
  private void a(int paramInt)
  {
    eu.D("Failed to load ad: " + paramInt);
    if (this.kC.kR != null) {}
    try
    {
      this.kC.kR.onAdFailedToLoad(paramInt);
      return;
    }
    catch (RemoteException localRemoteException)
    {
      eu.c("Could not call AdListener.onAdFailedToLoad().", localRemoteException);
    }
  }
  
  private void ah()
  {
    eu.B("Ad closing.");
    if (this.kC.kR != null) {}
    try
    {
      this.kC.kR.onAdClosed();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      eu.c("Could not call AdListener.onAdClosed().", localRemoteException);
    }
  }
  
  private void ai()
  {
    eu.B("Ad leaving application.");
    if (this.kC.kR != null) {}
    try
    {
      this.kC.kR.onAdLeftApplication();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      eu.c("Could not call AdListener.onAdLeftApplication().", localRemoteException);
    }
  }
  
  private void aj()
  {
    eu.B("Ad opening.");
    if (this.kC.kR != null) {}
    try
    {
      this.kC.kR.onAdOpened();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      eu.c("Could not call AdListener.onAdOpened().", localRemoteException);
    }
  }
  
  private void ak()
  {
    eu.B("Ad finished loading.");
    if (this.kC.kR != null) {}
    try
    {
      this.kC.kR.onAdLoaded();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      eu.c("Could not call AdListener.onAdLoaded().", localRemoteException);
    }
  }
  
  private boolean al()
  {
    boolean bool = true;
    if (!eo.a(this.kC.kO.getPackageManager(), this.kC.kO.getPackageName(), "android.permission.INTERNET"))
    {
      if (!this.kC.kT.mf) {
        et.a(this.kC.kM, this.kC.kT, "Missing internet permission in AndroidManifest.xml.", "Missing internet permission in AndroidManifest.xml. You must have the following declaration: <uses-permission android:name=\"android.permission.INTERNET\" />");
      }
      bool = false;
    }
    if (!eo.m(this.kC.kO))
    {
      if (!this.kC.kT.mf) {
        et.a(this.kC.kM, this.kC.kT, "Missing AdActivity with android:configChanges in AndroidManifest.xml.", "Missing AdActivity with android:configChanges in AndroidManifest.xml. You must have the following declaration within the <application> element: <activity android:name=\"com.google.android.gms.ads.AdActivity\" android:configChanges=\"keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize\" />");
      }
      bool = false;
    }
    if ((!bool) && (!this.kC.kT.mf)) {
      this.kC.kM.setVisibility(0);
    }
    return bool;
  }
  
  private void am()
  {
    if (this.kC.kU == null) {
      eu.D("Ad state was null when trying to ping click URLs.");
    }
    do
    {
      return;
      eu.z("Pinging click URLs.");
      this.kC.kV.bC();
      if (this.kC.kU.nt != null) {
        eo.a(this.kC.kO, this.kC.kQ.sw, this.kC.kU.nt);
      }
    } while ((this.kC.kU.rz == null) || (this.kC.kU.rz.nt == null));
    br.a(this.kC.kO, this.kC.kQ.sw, this.kC.kU, this.kC.kN, false, this.kC.kU.rz.nt);
  }
  
  private void an()
  {
    if (this.kC.kU != null)
    {
      this.kC.kU.oy.destroy();
      this.kC.kU = null;
    }
  }
  
  private void b(View paramView)
  {
    ViewGroup.LayoutParams localLayoutParams = new ViewGroup.LayoutParams(-2, -2);
    this.kC.kM.addView(paramView, localLayoutParams);
  }
  
  /* Error */
  private boolean b(ef paramEf)
  {
    // Byte code:
    //   0: aload_1
    //   1: getfield 303	com/google/android/gms/internal/ef:qg	Z
    //   4: ifeq +184 -> 188
    //   7: aload_1
    //   8: getfield 307	com/google/android/gms/internal/ef:nN	Lcom/google/android/gms/internal/bu;
    //   11: invokeinterface 313 1 0
    //   16: invokestatic 319	com/google/android/gms/dynamic/e:e	(Lcom/google/android/gms/dynamic/d;)Ljava/lang/Object;
    //   19: checkcast 321	android/view/View
    //   22: astore_1
    //   23: aload_0
    //   24: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   27: getfield 199	com/google/android/gms/internal/u$c:kM	Lcom/google/android/gms/internal/u$a;
    //   30: invokevirtual 325	com/google/android/gms/internal/u$a:getNextView	()Landroid/view/View;
    //   33: astore_2
    //   34: aload_2
    //   35: ifnull +14 -> 49
    //   38: aload_0
    //   39: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   42: getfield 199	com/google/android/gms/internal/u$c:kM	Lcom/google/android/gms/internal/u$a;
    //   45: aload_2
    //   46: invokevirtual 328	com/google/android/gms/internal/u$a:removeView	(Landroid/view/View;)V
    //   49: aload_0
    //   50: aload_1
    //   51: invokespecial 330	com/google/android/gms/internal/u:b	(Landroid/view/View;)V
    //   54: aload_0
    //   55: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   58: getfield 199	com/google/android/gms/internal/u$c:kM	Lcom/google/android/gms/internal/u$a;
    //   61: invokevirtual 334	com/google/android/gms/internal/u$a:getChildCount	()I
    //   64: iconst_1
    //   65: if_icmple +13 -> 78
    //   68: aload_0
    //   69: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   72: getfield 199	com/google/android/gms/internal/u$c:kM	Lcom/google/android/gms/internal/u$a;
    //   75: invokevirtual 337	com/google/android/gms/internal/u$a:showNext	()V
    //   78: aload_0
    //   79: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   82: getfield 226	com/google/android/gms/internal/u$c:kU	Lcom/google/android/gms/internal/ef;
    //   85: ifnull +70 -> 155
    //   88: aload_0
    //   89: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   92: getfield 199	com/google/android/gms/internal/u$c:kM	Lcom/google/android/gms/internal/u$a;
    //   95: invokevirtual 325	com/google/android/gms/internal/u$a:getNextView	()Landroid/view/View;
    //   98: astore_1
    //   99: aload_1
    //   100: instanceof 283
    //   103: ifeq +158 -> 261
    //   106: aload_1
    //   107: checkcast 283	com/google/android/gms/internal/ex
    //   110: aload_0
    //   111: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   114: getfield 85	com/google/android/gms/internal/u$c:kO	Landroid/content/Context;
    //   117: aload_0
    //   118: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   121: getfield 190	com/google/android/gms/internal/u$c:kT	Lcom/google/android/gms/internal/al;
    //   124: invokevirtual 340	com/google/android/gms/internal/ex:a	(Landroid/content/Context;Lcom/google/android/gms/internal/al;)V
    //   127: aload_0
    //   128: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   131: getfield 226	com/google/android/gms/internal/u$c:kU	Lcom/google/android/gms/internal/ef;
    //   134: getfield 307	com/google/android/gms/internal/ef:nN	Lcom/google/android/gms/internal/bu;
    //   137: ifnull +18 -> 155
    //   140: aload_0
    //   141: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   144: getfield 226	com/google/android/gms/internal/u$c:kU	Lcom/google/android/gms/internal/ef;
    //   147: getfield 307	com/google/android/gms/internal/ef:nN	Lcom/google/android/gms/internal/bu;
    //   150: invokeinterface 341 1 0
    //   155: aload_0
    //   156: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   159: getfield 199	com/google/android/gms/internal/u$c:kM	Lcom/google/android/gms/internal/u$a;
    //   162: iconst_0
    //   163: invokevirtual 221	com/google/android/gms/internal/u$a:setVisibility	(I)V
    //   166: iconst_1
    //   167: ireturn
    //   168: astore_1
    //   169: ldc_w 343
    //   172: aload_1
    //   173: invokestatic 137	com/google/android/gms/internal/eu:c	(Ljava/lang/String;Ljava/lang/Throwable;)V
    //   176: iconst_0
    //   177: ireturn
    //   178: astore_1
    //   179: ldc_w 345
    //   182: aload_1
    //   183: invokestatic 137	com/google/android/gms/internal/eu:c	(Ljava/lang/String;Ljava/lang/Throwable;)V
    //   186: iconst_0
    //   187: ireturn
    //   188: aload_1
    //   189: getfield 348	com/google/android/gms/internal/ef:rA	Lcom/google/android/gms/internal/al;
    //   192: ifnull -138 -> 54
    //   195: aload_1
    //   196: getfield 281	com/google/android/gms/internal/ef:oy	Lcom/google/android/gms/internal/ex;
    //   199: aload_1
    //   200: getfield 348	com/google/android/gms/internal/ef:rA	Lcom/google/android/gms/internal/al;
    //   203: invokevirtual 351	com/google/android/gms/internal/ex:a	(Lcom/google/android/gms/internal/al;)V
    //   206: aload_0
    //   207: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   210: getfield 199	com/google/android/gms/internal/u$c:kM	Lcom/google/android/gms/internal/u$a;
    //   213: invokevirtual 354	com/google/android/gms/internal/u$a:removeAllViews	()V
    //   216: aload_0
    //   217: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   220: getfield 199	com/google/android/gms/internal/u$c:kM	Lcom/google/android/gms/internal/u$a;
    //   223: aload_1
    //   224: getfield 348	com/google/android/gms/internal/ef:rA	Lcom/google/android/gms/internal/al;
    //   227: getfield 357	com/google/android/gms/internal/al:widthPixels	I
    //   230: invokevirtual 360	com/google/android/gms/internal/u$a:setMinimumWidth	(I)V
    //   233: aload_0
    //   234: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   237: getfield 199	com/google/android/gms/internal/u$c:kM	Lcom/google/android/gms/internal/u$a;
    //   240: aload_1
    //   241: getfield 348	com/google/android/gms/internal/ef:rA	Lcom/google/android/gms/internal/al;
    //   244: getfield 363	com/google/android/gms/internal/al:heightPixels	I
    //   247: invokevirtual 366	com/google/android/gms/internal/u$a:setMinimumHeight	(I)V
    //   250: aload_0
    //   251: aload_1
    //   252: getfield 281	com/google/android/gms/internal/ef:oy	Lcom/google/android/gms/internal/ex;
    //   255: invokespecial 330	com/google/android/gms/internal/u:b	(Landroid/view/View;)V
    //   258: goto -204 -> 54
    //   261: aload_1
    //   262: ifnull -135 -> 127
    //   265: aload_0
    //   266: getfield 53	com/google/android/gms/internal/u:kC	Lcom/google/android/gms/internal/u$c;
    //   269: getfield 199	com/google/android/gms/internal/u$c:kM	Lcom/google/android/gms/internal/u$a;
    //   272: aload_1
    //   273: invokevirtual 328	com/google/android/gms/internal/u$a:removeView	(Landroid/view/View;)V
    //   276: goto -149 -> 127
    //   279: astore_1
    //   280: ldc_w 368
    //   283: invokestatic 122	com/google/android/gms/internal/eu:D	(Ljava/lang/String;)V
    //   286: goto -131 -> 155
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	289	0	this	u
    //   0	289	1	paramEf	ef
    //   33	13	2	localView	View
    // Exception table:
    //   from	to	target	type
    //   7	23	168	android/os/RemoteException
    //   49	54	178	java/lang/Throwable
    //   140	155	279	android/os/RemoteException
  }
  
  private ds.a c(ai paramAi)
  {
    ApplicationInfo localApplicationInfo = this.kC.kO.getApplicationInfo();
    try
    {
      PackageInfo localPackageInfo = this.kC.kO.getPackageManager().getPackageInfo(localApplicationInfo.packageName, 0);
      if ((!this.kC.kT.mf) && (this.kC.kM.getParent() != null))
      {
        localObject2 = new int[2];
        this.kC.kM.getLocationOnScreen((int[])localObject2);
        int j = localObject2[0];
        int k = localObject2[1];
        localObject2 = this.kC.kO.getResources().getDisplayMetrics();
        int m = this.kC.kM.getWidth();
        int n = this.kC.kM.getHeight();
        if ((this.kC.kM.isShown()) && (j + m > 0) && (k + n > 0) && (j <= ((DisplayMetrics)localObject2).widthPixels) && (k <= ((DisplayMetrics)localObject2).heightPixels))
        {
          i = 1;
          localObject2 = new Bundle(5);
          ((Bundle)localObject2).putInt("x", j);
          ((Bundle)localObject2).putInt("y", k);
          ((Bundle)localObject2).putInt("width", m);
          ((Bundle)localObject2).putInt("height", n);
          ((Bundle)localObject2).putInt("visible", i);
          String str = eh.bI();
          this.kC.kV = new eg(str, this.kC.kN);
          this.kC.kV.f(paramAi);
          Bundle localBundle = eh.a(this.kC.kO, this, str);
          return new ds.a((Bundle)localObject2, paramAi, this.kC.kT, this.kC.kN, localApplicationInfo, localPackageInfo, str, eh.rQ, this.kC.kQ, localBundle);
        }
      }
    }
    catch (PackageManager.NameNotFoundException localNameNotFoundException)
    {
      for (;;)
      {
        Object localObject1 = null;
        continue;
        int i = 0;
        continue;
        Object localObject2 = null;
      }
    }
  }
  
  private void c(boolean paramBoolean)
  {
    if (this.kC.kU == null) {
      eu.D("Ad state was null when trying to ping impression URLs.");
    }
    do
    {
      return;
      eu.z("Pinging Impression URLs.");
      this.kC.kV.bB();
      if (this.kC.kU.nu != null) {
        eo.a(this.kC.kO, this.kC.kQ.sw, this.kC.kU.nu);
      }
      if ((this.kC.kU.rz != null) && (this.kC.kU.rz.nu != null)) {
        br.a(this.kC.kO, this.kC.kQ.sw, this.kC.kU, this.kC.kN, paramBoolean, this.kC.kU.rz.nu);
      }
    } while ((this.kC.kU.nM == null) || (this.kC.kU.nM.np == null));
    br.a(this.kC.kO, this.kC.kQ.sw, this.kC.kU, this.kC.kN, paramBoolean, this.kC.kU.nM.np);
  }
  
  public d U()
  {
    hm.ay("getAdFrame must be called on the main UI thread.");
    return e.h(this.kC.kM);
  }
  
  public al V()
  {
    hm.ay("getAdSize must be called on the main UI thread.");
    return this.kC.kT;
  }
  
  public void Y()
  {
    ai();
  }
  
  public void Z()
  {
    this.kE.d(this.kC.kU);
    if (this.kC.kT.mf) {
      an();
    }
    this.kF = false;
    ah();
    this.kC.kV.bD();
  }
  
  public void a(al paramAl)
  {
    hm.ay("setAdSize must be called on the main UI thread.");
    this.kC.kT = paramAl;
    if (this.kC.kU != null) {
      this.kC.kU.oy.a(paramAl);
    }
    if (this.kC.kM.getChildCount() > 1) {
      this.kC.kM.removeView(this.kC.kM.getNextView());
    }
    this.kC.kM.setMinimumWidth(paramAl.widthPixels);
    this.kC.kM.setMinimumHeight(paramAl.heightPixels);
    this.kC.kM.requestLayout();
  }
  
  public void a(ap paramAp)
  {
    hm.ay("setAdListener must be called on the main UI thread.");
    this.kC.kR = paramAp;
  }
  
  public void a(as paramAs)
  {
    hm.ay("setAppEventListener must be called on the main UI thread.");
    this.kC.kW = paramAs;
  }
  
  public void a(dc paramDc)
  {
    hm.ay("setInAppPurchaseListener must be called on the main UI thread.");
    this.kC.kY = paramDc;
  }
  
  public void a(dg paramDg, String paramString)
  {
    hm.ay("setPlayStorePurchaseParams must be called on the main UI thread.");
    this.kC.kZ = new cz(paramString);
    this.kC.kX = paramDg;
    if ((!eh.bM()) && (paramDg != null)) {
      new cs(this.kC.kO, this.kC.kX, this.kC.kZ).start();
    }
  }
  
  public void a(ef paramEf)
  {
    int j = 0;
    this.kC.kS = null;
    if ((paramEf.errorCode != -2) && (paramEf.errorCode != 3)) {
      eh.b(this.kC.aq());
    }
    if (paramEf.errorCode == -1) {
      return;
    }
    boolean bool;
    if (paramEf.pX.extras != null)
    {
      bool = paramEf.pX.extras.getBoolean("_noRefresh", false);
      if (!this.kC.kT.mf) {
        break label183;
      }
      eo.a(paramEf.oy);
    }
    for (;;)
    {
      if ((paramEf.errorCode == 3) && (paramEf.rz != null) && (paramEf.rz.nv != null))
      {
        eu.z("Pinging no fill URLs.");
        br.a(this.kC.kO, this.kC.kQ.sw, paramEf, this.kC.kN, false, paramEf.rz.nv);
      }
      if (paramEf.errorCode == -2) {
        break label284;
      }
      a(paramEf.errorCode);
      return;
      bool = false;
      break;
      label183:
      if (!bool) {
        if (paramEf.nx > 0L) {
          this.kD.a(paramEf.pX, paramEf.nx);
        } else if ((paramEf.rz != null) && (paramEf.rz.nx > 0L)) {
          this.kD.a(paramEf.pX, paramEf.rz.nx);
        } else if ((!paramEf.qg) && (paramEf.errorCode == 2)) {
          this.kD.d(paramEf.pX);
        }
      }
    }
    label284:
    if (!this.kC.kT.mf)
    {
      if (!b(paramEf))
      {
        a(0);
        return;
      }
      if (this.kC.kM != null) {
        u.a.a(this.kC.kM).x(paramEf.ql);
      }
    }
    if ((this.kC.kU != null) && (this.kC.kU.nP != null)) {
      this.kC.kU.nP.a(null);
    }
    if (paramEf.nP != null) {
      paramEf.nP.a(this);
    }
    this.kE.d(this.kC.kU);
    this.kC.kU = paramEf;
    if (paramEf.rA != null) {
      this.kC.kT = paramEf.rA;
    }
    this.kC.kV.j(paramEf.rB);
    this.kC.kV.k(paramEf.rC);
    this.kC.kV.n(this.kC.kT.mf);
    this.kC.kV.o(paramEf.qg);
    if (!this.kC.kT.mf) {
      c(false);
    }
    if (this.kC.la == null) {
      this.kC.la = new ek(this.kC.kN);
    }
    int i;
    if (paramEf.rz != null)
    {
      i = paramEf.rz.ny;
      j = paramEf.rz.nz;
    }
    for (;;)
    {
      this.kC.la.a(i, j);
      if ((!this.kC.kT.mf) && (paramEf.oy != null) && ((paramEf.oy.cb().cj()) || (paramEf.ry != null)))
      {
        ac localAc = this.kE.a(this.kC.kT, this.kC.kU);
        if ((paramEf.oy.cb().cj()) && (localAc != null)) {
          localAc.a(new x(paramEf.oy));
        }
      }
      this.kC.kU.oy.bX();
      ak();
      return;
      i = 0;
    }
  }
  
  public void a(String paramString, ArrayList paramArrayList)
  {
    paramArrayList = new ct(paramString, paramArrayList, this.kC.kO, this.kC.kQ.sw);
    if (this.kC.kY == null)
    {
      eu.D("InAppPurchaseListener is not set. Try to launch default purchase flow.");
      if (GooglePlayServicesUtil.isGooglePlayServicesAvailable(this.kC.kO) != 0) {
        eu.D("Google Play Service unavailable, cannot launch default purchase flow.");
      }
      for (;;)
      {
        return;
        if (this.kC.kX == null)
        {
          eu.D("PlayStorePurchaseListener is not set.");
          return;
        }
        if (this.kC.kZ == null)
        {
          eu.D("PlayStorePurchaseVerifier is not initialized.");
          return;
        }
        try
        {
          boolean bool = this.kC.kX.isValidPurchase(paramString);
          if (!bool) {}
        }
        catch (RemoteException paramString)
        {
          for (;;)
          {
            eu.D("Could not start In-App purchase.");
          }
        }
      }
      cu.a(this.kC.kO, this.kC.kQ.sz, new cq(paramArrayList, this.kC.kX, this.kC.kZ, this.kC.kO));
      return;
    }
    try
    {
      this.kC.kY.a(paramArrayList);
      return;
    }
    catch (RemoteException paramString)
    {
      eu.D("Could not start In-App purchase.");
    }
  }
  
  public void a(HashSet paramHashSet)
  {
    this.kC.a(paramHashSet);
  }
  
  public boolean a(ai paramAi)
  {
    hm.ay("loadAd must be called on the main UI thread.");
    if (this.kC.kS != null) {
      eu.D("An ad request is already in progress. Aborting.");
    }
    do
    {
      return false;
      if ((this.kC.kT.mf) && (this.kC.kU != null))
      {
        eu.D("An interstitial is already loading. Aborting.");
        return false;
      }
    } while (!al());
    eu.B("Starting ad request.");
    if (!paramAi.lV) {
      eu.B("Use AdRequest.Builder.addTestDevice(\"" + et.r(this.kC.kO) + "\") to get test ads on this device.");
    }
    this.kD.cancel();
    this.kC.lb = false;
    ds.a localA = c(paramAi);
    if (this.kC.kT.mf)
    {
      paramAi = ex.a(this.kC.kO, this.kC.kT, false, false, this.kC.kP, this.kC.kQ);
      paramAi.cb().a(this, null, this, this, true, this, this);
      this.kC.kS = dm.a(this.kC.kO, localA, this.kC.kP, paramAi, this.kB, this);
      return true;
    }
    paramAi = this.kC.kM.getNextView();
    if ((paramAi instanceof ex))
    {
      paramAi = (ex)paramAi;
      paramAi.a(this.kC.kO, this.kC.kT);
    }
    for (;;)
    {
      paramAi.cb().a(this, this, this, this, false, this);
      break;
      if (paramAi != null) {
        this.kC.kM.removeView(paramAi);
      }
      ex localEx = ex.a(this.kC.kO, this.kC.kT, false, false, this.kC.kP, this.kC.kQ);
      paramAi = localEx;
      if (this.kC.kT.mg == null)
      {
        b(localEx);
        paramAi = localEx;
      }
    }
  }
  
  public void aa()
  {
    if (this.kC.kT.mf) {
      c(false);
    }
    this.kF = true;
    aj();
  }
  
  public void ab()
  {
    onAdClicked();
  }
  
  public void ac()
  {
    Z();
  }
  
  public void ad()
  {
    Y();
  }
  
  public void ae()
  {
    aa();
  }
  
  public void af()
  {
    if (this.kC.kU != null) {
      eu.D("Mediation adapter " + this.kC.kU.nO + " refreshed, but mediation adapters should never refresh.");
    }
    c(true);
    ak();
  }
  
  public void ag()
  {
    hm.ay("recordManualImpression must be called on the main UI thread.");
    if (this.kC.kU == null) {
      eu.D("Ad state was null when trying to ping manual tracking URLs.");
    }
    do
    {
      return;
      eu.z("Pinging manual tracking URLs.");
    } while (this.kC.kU.qi == null);
    eo.a(this.kC.kO, this.kC.kQ.sw, this.kC.kU.qi);
  }
  
  public void b(ai paramAi)
  {
    ViewParent localViewParent = this.kC.kM.getParent();
    if (((localViewParent instanceof View)) && (((View)localViewParent).isShown()) && (eo.bQ()) && (!this.kF))
    {
      a(paramAi);
      return;
    }
    eu.B("Ad is not visible. Not refreshing ad.");
    this.kD.d(paramAi);
  }
  
  public void b(boolean paramBoolean)
  {
    this.kC.lb = paramBoolean;
  }
  
  public void destroy()
  {
    hm.ay("destroy must be called on the main UI thread.");
    X();
    this.kC.kR = null;
    this.kC.kW = null;
    this.kD.cancel();
    this.kE.stop();
    stopLoading();
    if (this.kC.kM != null) {
      this.kC.kM.removeAllViews();
    }
    if ((this.kC.kU != null) && (this.kC.kU.oy != null)) {
      this.kC.kU.oy.destroy();
    }
    if ((this.kC.kU != null) && (this.kC.kU.nN != null)) {}
    try
    {
      this.kC.kU.nN.destroy();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      eu.D("Could not destroy mediation adapter.");
    }
  }
  
  public boolean isReady()
  {
    hm.ay("isLoaded must be called on the main UI thread.");
    return (this.kC.kS == null) && (this.kC.kU != null);
  }
  
  public void onAdClicked()
  {
    am();
  }
  
  public void onAppEvent(String paramString1, String paramString2)
  {
    if (this.kC.kW != null) {}
    try
    {
      this.kC.kW.onAppEvent(paramString1, paramString2);
      return;
    }
    catch (RemoteException paramString1)
    {
      eu.c("Could not call the AppEventListener.", paramString1);
    }
  }
  
  public void pause()
  {
    hm.ay("pause must be called on the main UI thread.");
    if (this.kC.kU != null) {
      eo.a(this.kC.kU.oy);
    }
    if ((this.kC.kU != null) && (this.kC.kU.nN != null)) {}
    try
    {
      this.kC.kU.nN.pause();
      this.kE.pause();
      this.kD.pause();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      for (;;)
      {
        eu.D("Could not pause mediation adapter.");
      }
    }
  }
  
  public void resume()
  {
    hm.ay("resume must be called on the main UI thread.");
    if (this.kC.kU != null) {
      eo.b(this.kC.kU.oy);
    }
    if ((this.kC.kU != null) && (this.kC.kU.nN != null)) {}
    try
    {
      this.kC.kU.nN.resume();
      this.kD.resume();
      this.kE.resume();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      for (;;)
      {
        eu.D("Could not resume mediation adapter.");
      }
    }
  }
  
  public void showInterstitial()
  {
    hm.ay("showInterstitial must be called on the main UI thread.");
    if (!this.kC.kT.mf)
    {
      eu.D("Cannot call showInterstitial on a banner ad.");
      return;
    }
    if (this.kC.kU == null)
    {
      eu.D("The interstitial has not loaded.");
      return;
    }
    if (this.kC.kU.oy.ce())
    {
      eu.D("The interstitial is already showing.");
      return;
    }
    this.kC.kU.oy.q(true);
    if ((this.kC.kU.oy.cb().cj()) || (this.kC.kU.ry != null))
    {
      ac localAc = this.kE.a(this.kC.kT, this.kC.kU);
      if ((this.kC.kU.oy.cb().cj()) && (localAc != null)) {
        localAc.a(new x(this.kC.kU.oy));
      }
    }
    if (this.kC.kU.qg) {
      try
      {
        this.kC.kU.nN.showInterstitial();
        return;
      }
      catch (RemoteException localRemoteException)
      {
        eu.c("Could not show interstitial.", localRemoteException);
        an();
        return;
      }
    }
    v localV = new v(this.kC.lb, false);
    Object localObject = localV;
    boolean bool2;
    if ((this.kC.kO instanceof Activity))
    {
      localObject = ((Activity)this.kC.kO).getWindow();
      Rect localRect1 = new Rect();
      Rect localRect2 = new Rect();
      ((Window)localObject).getDecorView().getGlobalVisibleRect(localRect1);
      ((Window)localObject).getDecorView().getWindowVisibleDisplayFrame(localRect2);
      localObject = localV;
      if (localRect1.bottom != 0)
      {
        localObject = localV;
        if (localRect2.bottom != 0)
        {
          bool2 = this.kC.lb;
          if (localRect1.top != localRect2.top) {
            break label420;
          }
        }
      }
    }
    label420:
    for (boolean bool1 = true;; bool1 = false)
    {
      localObject = new v(bool2, bool1);
      localObject = new ch(this, this, this, this.kC.kU.oy, this.kC.kU.orientation, this.kC.kQ, this.kC.kU.ql, (v)localObject);
      cf.a(this.kC.kO, (ch)localObject);
      return;
    }
  }
  
  public void stopLoading()
  {
    hm.ay("stopLoading must be called on the main UI thread.");
    if (this.kC.kU != null)
    {
      this.kC.kU.oy.stopLoading();
      this.kC.kU = null;
    }
    if (this.kC.kS != null) {
      this.kC.kS.cancel();
    }
  }
}
