package com.google.android.gms.tagmanager;

import com.google.android.gms.internal.c.c;
import com.google.android.gms.internal.c.d;
import com.google.android.gms.internal.c.i;
import com.google.android.gms.internal.d.a;
import java.util.Map;

class ai
{
  private static void a(DataLayer paramDataLayer, c.d paramD)
  {
    paramD = paramD.eS;
    int j = paramD.length;
    int i = 0;
    while (i < j)
    {
      paramDataLayer.bN(dh.j(paramD[i]));
      i += 1;
    }
  }
  
  public static void a(DataLayer paramDataLayer, c.i paramI)
  {
    if (paramI.fI == null)
    {
      bh.D("supplemental missing experimentSupplemental");
      return;
    }
    a(paramDataLayer, paramI.fI);
    b(paramDataLayer, paramI.fI);
    c(paramDataLayer, paramI.fI);
  }
  
  private static void b(DataLayer paramDataLayer, c.d paramD)
  {
    paramD = paramD.eR;
    int j = paramD.length;
    int i = 0;
    while (i < j)
    {
      Map localMap = c(paramD[i]);
      if (localMap != null) {
        paramDataLayer.push(localMap);
      }
      i += 1;
    }
  }
  
  private static Map c(d.a paramA)
  {
    paramA = dh.o(paramA);
    if (!(paramA instanceof Map))
    {
      bh.D("value: " + paramA + " is not a map value, ignored.");
      return null;
    }
    return (Map)paramA;
  }
  
  private static void c(DataLayer paramDataLayer, c.d paramD)
  {
    c.c[] arrayOfC = paramD.eT;
    int j = arrayOfC.length;
    int i = 0;
    while (i < j)
    {
      c.c localC = arrayOfC[i];
      if (localC.eM == null)
      {
        bh.D("GaExperimentRandom: No key");
        i += 1;
      }
      else
      {
        Object localObject = paramDataLayer.get(localC.eM);
        if (!(localObject instanceof Number))
        {
          paramD = null;
          label64:
          long l1 = localC.eN;
          long l2 = localC.eO;
          if ((!localC.eP) || (paramD == null) || (paramD.longValue() < l1) || (paramD.longValue() > l2))
          {
            if (l1 > l2) {
              break label237;
            }
            localObject = Long.valueOf(Math.round(Math.random() * (l2 - l1) + l1));
          }
          paramDataLayer.bN(localC.eM);
          paramD = paramDataLayer.c(localC.eM, localObject);
          if (localC.eQ > 0L)
          {
            if (paramD.containsKey("gtm")) {
              break label245;
            }
            paramD.put("gtm", DataLayer.mapOf(new Object[] { "lifetime", Long.valueOf(localC.eQ) }));
          }
        }
        for (;;)
        {
          paramDataLayer.push(paramD);
          break;
          paramD = Long.valueOf(((Number)localObject).longValue());
          break label64;
          label237:
          bh.D("GaExperimentRandom: random range invalid");
          break;
          label245:
          localObject = paramD.get("gtm");
          if ((localObject instanceof Map)) {
            ((Map)localObject).put("lifetime", Long.valueOf(localC.eQ));
          } else {
            bh.D("GaExperimentRandom: gtm not a map");
          }
        }
      }
    }
  }
}
