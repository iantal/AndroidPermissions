package com.google.android.gms.internal;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.WeakHashMap;

public final class ab
  implements ad
{
  private final Object ls = new Object();
  private WeakHashMap lt = new WeakHashMap();
  private ArrayList lu = new ArrayList();
  
  public ab() {}
  
  public ac a(al paramAl, ef paramEf)
  {
    synchronized (this.ls)
    {
      if (c(paramEf))
      {
        paramAl = (ac)this.lt.get(paramEf);
        return paramAl;
      }
      paramAl = new ac(paramAl, paramEf);
      paramAl.a(this);
      this.lt.put(paramEf, paramAl);
      this.lu.add(paramAl);
      return paramAl;
    }
  }
  
  public void a(ac paramAc)
  {
    synchronized (this.ls)
    {
      if (!paramAc.az()) {
        this.lu.remove(paramAc);
      }
      return;
    }
  }
  
  public boolean c(ef paramEf)
  {
    for (;;)
    {
      synchronized (this.ls)
      {
        paramEf = (ac)this.lt.get(paramEf);
        if ((paramEf != null) && (paramEf.az()))
        {
          bool = true;
          return bool;
        }
      }
      boolean bool = false;
    }
  }
  
  public void d(ef paramEf)
  {
    synchronized (this.ls)
    {
      paramEf = (ac)this.lt.get(paramEf);
      if (paramEf != null) {
        paramEf.ax();
      }
      return;
    }
  }
  
  public void pause()
  {
    synchronized (this.ls)
    {
      Iterator localIterator = this.lu.iterator();
      if (localIterator.hasNext()) {
        ((ac)localIterator.next()).pause();
      }
    }
  }
  
  public void resume()
  {
    synchronized (this.ls)
    {
      Iterator localIterator = this.lu.iterator();
      if (localIterator.hasNext()) {
        ((ac)localIterator.next()).resume();
      }
    }
  }
  
  public void stop()
  {
    synchronized (this.ls)
    {
      Iterator localIterator = this.lu.iterator();
      if (localIterator.hasNext()) {
        ((ac)localIterator.next()).stop();
      }
    }
  }
}
