package com.unity3d.ads.android.video;

import android.app.Activity;
import android.content.Context;
import android.content.res.Resources;
import android.graphics.Bitmap;
import android.graphics.Bitmap.Config;
import android.graphics.Canvas;
import android.graphics.Canvas.VertexMode;
import android.graphics.Paint;
import android.graphics.Paint.Style;
import android.graphics.Path;
import android.util.AttributeSet;
import android.util.DisplayMetrics;
import android.view.animation.AlphaAnimation;
import android.view.animation.Animation;
import android.view.animation.AnimationSet;
import android.widget.ImageView;
import android.widget.RelativeLayout;
import android.widget.RelativeLayout.LayoutParams;
import android.widget.TextView;

public class UnityAdsVideoPausedView
  extends RelativeLayout
{
  private static float e;
  private ImageView a = null;
  private ImageView b = null;
  private ImageView c = null;
  private TextView d = null;
  
  public UnityAdsVideoPausedView(Context paramContext)
  {
    super(paramContext);
    a();
  }
  
  public UnityAdsVideoPausedView(Context paramContext, AttributeSet paramAttributeSet)
  {
    super(paramContext, paramAttributeSet);
    a();
  }
  
  public UnityAdsVideoPausedView(Context paramContext, AttributeSet paramAttributeSet, int paramInt)
  {
    super(paramContext, paramAttributeSet, paramInt);
    a();
  }
  
  private void a()
  {
    setBackgroundColor(-1073741824);
    RelativeLayout.LayoutParams localLayoutParams = new RelativeLayout.LayoutParams(-2, -2);
    localLayoutParams.addRule(13);
    Bitmap localBitmap = Bitmap.createBitmap(Math.round(113.0F * e), Math.round(113.0F * e), Bitmap.Config.ARGB_4444);
    Object localObject = new Canvas(localBitmap);
    Paint localPaint = new Paint(1);
    localPaint.setColor(-1);
    localPaint.setStyle(Paint.Style.STROKE);
    localPaint.setStrokeWidth(5.0F);
    ((Canvas)localObject).drawCircle(Math.round(56.0F * e), Math.round(56.0F * e), Math.round(53.0F * e), localPaint);
    localObject = new ImageView(getContext());
    ((ImageView)localObject).setImageBitmap(localBitmap);
    ((ImageView)localObject).setId(60006);
    this.b = ((ImageView)localObject);
    addView(this.b, localLayoutParams);
    localLayoutParams = new RelativeLayout.LayoutParams(-2, -2);
    localLayoutParams.addRule(13);
    localBitmap = Bitmap.createBitmap(Math.round(101.0F * e), Math.round(101.0F * e), Bitmap.Config.ARGB_4444);
    localObject = new Canvas(localBitmap);
    localPaint = new Paint(1);
    localPaint.setColor(-1879048192);
    ((Canvas)localObject).drawCircle(Math.round(50.0F * e), Math.round(50.0F * e), Math.round(50.0F * e), localPaint);
    localObject = new ImageView(getContext());
    ((ImageView)localObject).setImageBitmap(localBitmap);
    ((ImageView)localObject).setId(60001);
    this.a = ((ImageView)localObject);
    addView(this.a, localLayoutParams);
    localLayoutParams = new RelativeLayout.LayoutParams(-2, -2);
    localLayoutParams.addRule(15);
    localLayoutParams.addRule(5, 60001);
    localLayoutParams.leftMargin = Math.round(31.0F * e);
    localBitmap = Bitmap.createBitmap(Math.round(47.0F * e), Math.round(51.0F * e), Bitmap.Config.ARGB_4444);
    localObject = new Canvas(localBitmap);
    localPaint = new Paint(1);
    localPaint.setColor(-1);
    localPaint.setStyle(Paint.Style.FILL);
    float[] arrayOfFloat = new float[8];
    arrayOfFloat[0] = 0.0F;
    arrayOfFloat[1] = 0.0F;
    arrayOfFloat[2] = (47.0F * e);
    arrayOfFloat[3] = (25.0F * e);
    arrayOfFloat[4] = 0.0F;
    arrayOfFloat[5] = (51.0F * e);
    arrayOfFloat[6] = 0.0F;
    arrayOfFloat[7] = 0.0F;
    ((Canvas)localObject).drawVertices(Canvas.VertexMode.TRIANGLES, 8, arrayOfFloat, 0, null, 0, null, 0, null, 0, 0, localPaint);
    Path localPath = new Path();
    localPath.moveTo(arrayOfFloat[0], arrayOfFloat[1]);
    localPath.lineTo(arrayOfFloat[2], arrayOfFloat[3]);
    localPath.lineTo(arrayOfFloat[4], arrayOfFloat[5]);
    ((Canvas)localObject).drawPath(localPath, localPaint);
    localObject = new ImageView(getContext());
    ((ImageView)localObject).setImageBitmap(localBitmap);
    ((ImageView)localObject).setId(60002);
    this.c = ((ImageView)localObject);
    addView(this.c, localLayoutParams);
    this.d = new TextView(getContext());
    this.d.setTextColor(-1);
    this.d.setText("Video paused. Tap screen to continue watching.");
    this.d.setId(60003);
    localLayoutParams = new RelativeLayout.LayoutParams(-2, -2);
    localLayoutParams.addRule(14);
    localLayoutParams.addRule(12);
    localLayoutParams.bottomMargin = Math.round(20.0F * e);
    addView(this.d, localLayoutParams);
  }
  
  public static void initScreenMetrics(Activity paramActivity)
  {
    e = paramActivity.getResources().getDisplayMetrics().density;
  }
  
  protected void onAttachedToWindow()
  {
    super.onAttachedToWindow();
    if (this.b != null)
    {
      ImageView localImageView = this.b;
      AnimationSet localAnimationSet = new AnimationSet(false);
      AlphaAnimation localAlphaAnimation = new AlphaAnimation(1.0F, 0.0F);
      localAlphaAnimation.setRepeatCount(-1);
      localAlphaAnimation.setRepeatMode(2);
      localAlphaAnimation.setFillBefore(true);
      localAlphaAnimation.setFillAfter(true);
      localAlphaAnimation.setDuration(800L);
      localAnimationSet.addAnimation(localAlphaAnimation);
      localImageView.setAnimation(localAnimationSet);
    }
  }
  
  protected void onDetachedFromWindow()
  {
    super.onDetachedFromWindow();
    if (this.b != null) {
      this.b.clearAnimation();
    }
  }
}
