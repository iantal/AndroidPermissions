package com.zhangzhifu.sdk.util;

import android.content.Context;
import android.net.wifi.ScanResult;
import android.net.wifi.WifiConfiguration;
import android.net.wifi.WifiInfo;
import android.net.wifi.WifiManager;
import android.net.wifi.WifiManager.WifiLock;
import java.util.List;

public class WifiManage
{
  private static final String LOG_TAG = WifiManage.class.getName();
  WifiManager.WifiLock eA;
  private WifiManager ew;
  private WifiInfo ex;
  private List ey;
  private List ez;
  
  public WifiManage(Context paramContext)
  {
    this.ew = ((WifiManager)paramContext.getSystemService("wifi"));
    this.ex = this.ew.getConnectionInfo();
  }
  
  /* Error */
  public static String getBt(Context paramContext)
  {
    // Byte code:
    //   0: aload_0
    //   1: ldc 32
    //   3: invokevirtual 38	android/content/Context:getSystemService	(Ljava/lang/String;)Ljava/lang/Object;
    //   6: checkcast 40	android/net/wifi/WifiManager
    //   9: invokevirtual 46	android/net/wifi/WifiManager:getConnectionInfo	()Landroid/net/wifi/WifiInfo;
    //   12: invokevirtual 57	android/net/wifi/WifiInfo:getMacAddress	()Ljava/lang/String;
    //   15: astore 4
    //   17: ldc 59
    //   19: astore_0
    //   20: iconst_0
    //   21: istore_2
    //   22: iload_2
    //   23: aload 4
    //   25: invokevirtual 65	java/lang/String:length	()I
    //   28: if_icmplt +5 -> 33
    //   31: aload_0
    //   32: areturn
    //   33: aload 4
    //   35: iload_2
    //   36: invokevirtual 69	java/lang/String:charAt	(I)C
    //   39: istore_1
    //   40: aload_0
    //   41: astore_3
    //   42: iload_1
    //   43: bipush 58
    //   45: if_icmpeq +22 -> 67
    //   48: new 71	java/lang/StringBuilder
    //   51: dup
    //   52: aload_0
    //   53: invokestatic 75	java/lang/String:valueOf	(Ljava/lang/Object;)Ljava/lang/String;
    //   56: invokespecial 78	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   59: iload_1
    //   60: invokevirtual 82	java/lang/StringBuilder:append	(C)Ljava/lang/StringBuilder;
    //   63: invokevirtual 85	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   66: astore_3
    //   67: iload_2
    //   68: iconst_1
    //   69: iadd
    //   70: istore_2
    //   71: aload_3
    //   72: astore_0
    //   73: goto -51 -> 22
    //   76: astore_0
    //   77: ldc 59
    //   79: areturn
    //   80: astore_3
    //   81: aload_0
    //   82: areturn
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	83	0	paramContext	Context
    //   39	21	1	c	char
    //   21	50	2	i	int
    //   41	31	3	localObject	Object
    //   80	1	3	localException	Exception
    //   15	19	4	str	String
    // Exception table:
    //   from	to	target	type
    //   0	17	76	java/lang/Exception
    //   22	31	80	java/lang/Exception
    //   33	40	80	java/lang/Exception
    //   48	67	80	java/lang/Exception
  }
  
  public void AcquireWifiLock()
  {
    this.eA.acquire();
  }
  
  public void AddNetwork(WifiConfiguration paramWifiConfiguration)
  {
    int i = this.ew.addNetwork(paramWifiConfiguration);
    this.ew.enableNetwork(i, true);
  }
  
  public void CloseWifi()
  {
    if (this.ew.isWifiEnabled()) {
      this.ew.setWifiEnabled(false);
    }
  }
  
  public void ConnectConfiguration(int paramInt)
  {
    if (paramInt > this.ez.size()) {
      return;
    }
    this.ew.enableNetwork(((WifiConfiguration)this.ez.get(paramInt)).networkId, true);
  }
  
  public void CreatWifiLock()
  {
    this.eA = this.ew.createWifiLock("Test");
  }
  
  public void DisconnectWifi(int paramInt)
  {
    this.ew.disableNetwork(paramInt);
    this.ew.disconnect();
  }
  
  public String GetBSSID()
  {
    if (this.ex == null) {
      return "NULL";
    }
    return this.ex.getBSSID();
  }
  
  public List GetConfiguration()
  {
    return this.ez;
  }
  
  public int GetIPAddress()
  {
    if (this.ex == null) {
      return 0;
    }
    return this.ex.getIpAddress();
  }
  
  public String GetMacAddress()
  {
    if (this.ex == null) {
      return "NULL";
    }
    return this.ex.getMacAddress();
  }
  
  public int GetNetworkId()
  {
    if (this.ex == null) {
      return 0;
    }
    return this.ex.getNetworkId();
  }
  
  public String GetWifiInfo()
  {
    if (this.ex == null) {
      return "NULL";
    }
    return this.ex.toString();
  }
  
  public List GetWifiList()
  {
    return this.ey;
  }
  
  public StringBuilder LookUpScan()
  {
    StringBuilder localStringBuilder = new StringBuilder();
    int i = 0;
    for (;;)
    {
      if (i >= this.ey.size()) {
        return localStringBuilder;
      }
      localStringBuilder.append("Index_" + new Integer(i + 1).toString() + ":");
      localStringBuilder.append(((ScanResult)this.ey.get(i)).toString());
      localStringBuilder.append("\n");
      i += 1;
    }
  }
  
  public void OpenWifi()
  {
    if (!this.ew.isWifiEnabled()) {
      this.ew.setWifiEnabled(true);
    }
  }
  
  public void ReleaseWifiLock()
  {
    if (this.eA.isHeld()) {
      this.eA.acquire();
    }
  }
  
  public void StartScan()
  {
    this.ew.startScan();
    this.ey = this.ew.getScanResults();
    this.ez = this.ew.getConfiguredNetworks();
  }
  
  public boolean isWifiManageEnable()
  {
    ZhangPayLog.showSaveLog(LOG_TAG, "WIFImanageEnable is " + this.ew.isWifiEnabled());
    return this.ew.isWifiEnabled();
  }
}
