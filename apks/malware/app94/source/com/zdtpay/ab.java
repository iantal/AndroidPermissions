package com.zdtpay;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import com.zdtpay.a.a;
import com.zdtpay.tools.MyLogPrinter;
import com.zdtpay.tools.c;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

class ab
  extends BroadcastReceiver
{
  ab(ZTbbe paramZTbbe) {}
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    int i = 1;
    int j = 1;
    a localA;
    int k;
    Object localObject;
    HashMap localHashMap;
    String str2;
    String str1;
    if (paramIntent.getAction().equals(this.a.n))
    {
      localA = ZTbbe.c(this.a);
      k = this.a.d.getInt(c.z, 0);
      localObject = new boolean[k];
      localHashMap = new HashMap();
      str2 = paramIntent.getStringExtra(c.o);
      str1 = paramIntent.getStringExtra(c.o + "tid");
      if ((str2 == null) || (!str2.endsWith("_x"))) {}
    }
    else
    {
      return;
    }
    if (com.zdtpay.tools.b.a != null)
    {
      i = j;
      if (str2 != null)
      {
        this.a.d.edit().putBoolean(str2, true).commit();
        i = 1;
        j = 0;
        label161:
        if (j < k) {
          break label372;
        }
        localHashMap.put("order", str2);
      }
      localObject = localA.b();
      if (i == 0) {
        break label423;
      }
      paramIntent = "1";
      label194:
      localHashMap.put("isLast", paramIntent);
      localHashMap.put("code", localObject);
      localHashMap.put("err_msg", localA.a());
      localHashMap.put("paymoney", ZTbbe.a(this.a).getPrice());
      localHashMap.put("extra", ZTbbe.a(this.a).getExtra());
      switch (getResultCode())
      {
      default: 
        MyLogPrinter.a("短信发送失败" + getResultCode());
        localHashMap.put("code", "-4");
        localHashMap.put("err_msg", "短信发送失败");
        com.zdtpay.tools.b.a.onFail(localHashMap);
        ZTbbe.a(paramContext, str1, "2.2");
      }
    }
    while (i != 0)
    {
      this.a.a();
      return;
      label372:
      localObject[j] = this.a.d.getBoolean(((com.zdtpay.a.b)localA.d().get(j)).i(), false);
      i |= localObject[j];
      j += 1;
      break label161;
      label423:
      paramIntent = "0";
      break label194;
      MyLogPrinter.a("短信发送成功");
      com.zdtpay.tools.b.a.onSuccess(localHashMap);
      ZTbbe.a(paramContext, str1, "2.1");
    }
  }
}
