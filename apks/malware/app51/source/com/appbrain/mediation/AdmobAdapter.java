package com.appbrain.mediation;

import android.app.Activity;
import android.content.Context;
import android.widget.FrameLayout.LayoutParams;
import cmn.Proguard.KeepMembers;
import com.appbrain.AdService;
import com.appbrain.AppBrain;
import com.appbrain.AppBrainBanner;
import com.appbrain.BannerListener;
import com.google.ads.AdSize;
import com.google.ads.mediation.MediationAdRequest;
import com.google.ads.mediation.customevent.CustomEventBanner;
import com.google.ads.mediation.customevent.CustomEventBannerListener;
import com.google.ads.mediation.customevent.CustomEventInterstitial;
import com.google.ads.mediation.customevent.CustomEventInterstitialListener;

public class AdmobAdapter
  implements CustomEventBanner, Proguard.KeepMembers, CustomEventInterstitial
{
  private Context lastContext;
  
  public AdmobAdapter() {}
  
  public void destroy() {}
  
  public void requestBannerAd(final CustomEventBannerListener paramCustomEventBannerListener, final Activity paramActivity, String paramString1, String paramString2, AdSize paramAdSize, MediationAdRequest paramMediationAdRequest)
  {
    paramActivity = new AppBrainBanner(paramActivity);
    paramActivity.setBannerListener(new BannerListener()
    {
      public void onAdRequestDone(boolean paramAnonymousBoolean)
      {
        if (paramAnonymousBoolean)
        {
          paramCustomEventBannerListener.onReceivedAd(paramActivity);
          return;
        }
        paramCustomEventBannerListener.onFailedToReceiveAd();
      }
      
      public void onClick()
      {
        paramCustomEventBannerListener.onClick();
      }
    });
    paramActivity.setLayoutParams(new FrameLayout.LayoutParams(-1, -2));
    paramActivity.setIsMediatedBanner(true, "admob");
    paramActivity.requestAd();
  }
  
  public void requestBannerAd(CustomEventBannerListener paramCustomEventBannerListener, Activity paramActivity, String paramString1, String paramString2, AdSize paramAdSize, MediationAdRequest paramMediationAdRequest, Object paramObject)
  {
    requestBannerAd(paramCustomEventBannerListener, paramActivity, paramString1, paramString2, paramAdSize, paramMediationAdRequest);
  }
  
  public void requestInterstitialAd(CustomEventInterstitialListener paramCustomEventInterstitialListener, Activity paramActivity, String paramString1, String paramString2, MediationAdRequest paramMediationAdRequest, Object paramObject)
  {
    boolean bool = AppBrain.getAds().shouldShowInterstitial(paramActivity);
    this.lastContext = paramActivity;
    if (bool)
    {
      paramCustomEventInterstitialListener.onReceivedAd();
      return;
    }
    paramCustomEventInterstitialListener.onFailedToReceiveAd();
  }
  
  public void showInterstitial()
  {
    try
    {
      AppBrain.getAds().showInterstitial(this.lastContext);
      return;
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
    }
  }
}
