package com.yongrun.app.sxmn.service;

import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import com.yongrun.app.sxmn.common.AppContext;
import java.io.File;
import java.util.Iterator;
import java.util.List;
import java.util.Timer;
import java.util.TimerTask;

class a
  implements Runnable
{
  a(Service_BindApp paramService_BindApp, com.yongrun.app.sxmn.common.a paramA) {}
  
  public void run()
  {
    Object localObject2 = this.a.b();
    Object localObject3 = ((List)localObject2).iterator();
    Object localObject1 = "";
    Object localObject4;
    int i;
    if (!((Iterator)localObject3).hasNext())
    {
      localObject3 = this.a.getSharedPreferences("settings", 0);
      localObject4 = ((SharedPreferences)localObject3).edit();
      ((SharedPreferences.Editor)localObject4).putString("bind", (String)localObject1);
      ((SharedPreferences.Editor)localObject4).commit();
      localObject1 = Service_BindApp.a(this.a);
      int j = localObject1.length;
      i = 0;
      label88:
      if (i < j) {
        break label193;
      }
      localObject1 = ((List)localObject2).iterator();
    }
    for (;;)
    {
      if (!((Iterator)localObject1).hasNext())
      {
        this.a.stopSelf();
        label193:
        do
        {
          return;
          localObject5 = (com.yongrun.app.sxmn.c.a)((Iterator)localObject3).next();
          localObject4 = ((com.yongrun.app.sxmn.c.a)localObject5).c();
          localObject5 = ((com.yongrun.app.sxmn.c.a)localObject5).b();
          ((AppContext)this.a.getApplication()).a((String)localObject5, (String)localObject4);
          localObject1 = localObject1 + (String)localObject5 + ",";
          break;
          localObject4 = localObject1[i];
          localObject5 = ((SharedPreferences)localObject3).getString("province", "");
        } while ((!((String)localObject5).equals("")) && (((String)localObject5).equals(localObject4)));
        i += 1;
        break label88;
      }
      localObject3 = (com.yongrun.app.sxmn.c.a)((Iterator)localObject1).next();
      localObject4 = ((com.yongrun.app.sxmn.c.a)localObject3).a();
      Object localObject5 = ((com.yongrun.app.sxmn.c.a)localObject3).c();
      localObject2 = ((com.yongrun.app.sxmn.c.a)localObject3).b();
      i = Integer.parseInt(((com.yongrun.app.sxmn.c.a)localObject3).d());
      boolean bool = this.b.a((String)localObject4, (String)localObject5);
      ((AppContext)this.a.getApplication()).a((String)localObject2, bool);
      localObject3 = new File(this.b.b() + (String)localObject5);
      if ((((File)localObject3).exists()) && (!this.a.a((String)localObject2)) && (bool))
      {
        localObject2 = new b(this, (String)localObject2, (File)localObject3);
        localObject3 = new Timer();
        if (i == -1) {
          ((Timer)localObject3).schedule((TimerTask)localObject2, 0L);
        } else {
          ((Timer)localObject3).schedule((TimerTask)localObject2, 0L, i * 1000);
        }
      }
    }
  }
}
