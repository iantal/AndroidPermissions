package com.waterwest.mmlog;

import android.content.Context;
import android.content.SharedPreferences;
import java.util.Random;

public class TrustInfo
{
  public static volatile long actLogTime = 0L;
  public static String appId;
  public static String channel;
  public static String channelID;
  public static String esm;
  public static String mdh;
  public static String packageName;
  public static String paycode;
  public static String pkm;
  public static String programID;
  public static String sda;
  public static volatile long sysLogTime = 0L;
  public static String tid;
  public static String timestamp;
  public static String version;
  public static String versionCode;
  public static String versionName;
  
  public TrustInfo() {}
  
  public static void auth(Context paramContext, String paramString1, String paramString2, String paramString3, String paramString4, String paramString5, String paramString6, String paramString7, String paramString8, String paramString9, String paramString10, String paramString11, String paramString12, String paramString13, String paramString14, String paramString15)
  {
    int j = 1;
    int i = j;
    if (e.a())
    {
      i = j;
      if (paramString1.equals(packageName))
      {
        i = j;
        if (paramString4.equals(appId))
        {
          i = j;
          if (channelID.equals(channelID))
          {
            i = j;
            if (paramString7.equals(version))
            {
              i = j;
              if (paramString15.equals(channel)) {
                i = 0;
              }
            }
          }
        }
      }
    }
    paycode = paramString5;
    packageName = paramString1;
    version = paramString7;
    versionCode = paramString2;
    versionName = paramString3;
    appId = paramString4;
    channelID = paramString8;
    programID = paramString9;
    esm = paramString11;
    mdh = paramString12;
    pkm = paramString13;
    tid = paramString6;
    sda = paramString14;
    timestamp = paramString10;
    channel = paramString15;
    if (i != 0)
    {
      e.b();
      e.c(paramContext);
      init(paramContext);
    }
    i = new Random(System.currentTimeMillis()).nextInt(10) + 7;
    c.b(Long.valueOf(timestamp).longValue() - i);
    c.a(Long.valueOf(timestamp).longValue() - i);
    c.q = 2;
    c.a(paramContext);
    c.a(paramContext);
  }
  
  public static void init(Context paramContext)
  {
    String str3 = f.h(paramContext);
    String str4 = f.i(paramContext);
    String str5 = f.l(paramContext);
    Object localObject = paramContext.getSharedPreferences("lxdMoblieAgent_sys_config", 0).getString("MOBILE_VERSION", "");
    String str1;
    label86:
    String str2;
    if (((String)localObject).trim().equals(""))
    {
      localObject = null;
      str1 = paramContext.getSharedPreferences("lxdMoblieAgent_sys_config", 0).getString("MOBILE_VERSION_NAME", "");
      if (!str1.trim().equals("")) {
        break label246;
      }
      str1 = null;
      str2 = paramContext.getSharedPreferences("lxdMoblieAgent_sys_config", 0).getString("MOBILE_VERSION_CODE", "");
      if (!str2.trim().equals("")) {
        break label256;
      }
      str2 = null;
      label120:
      String str6 = f.k(paramContext);
      String str7 = f.j(paramContext);
      if ((str3 == null) || (str4 == null) || (str5 == null) || (localObject == null) || (str6 == null)) {
        break label266;
      }
      appId = str3;
      channelID = str4;
      packageName = str6;
      programID = str5;
      version = (String)localObject;
      versionName = str1;
      versionCode = str2;
      timestamp = null;
      channel = str7;
      c.q = 1;
      c.a(paramContext, str3, str4, str5, (String)localObject, str6, str2, str1, str7);
      c.b();
      c.c();
      c.a(paramContext);
    }
    label246:
    label256:
    label266:
    while ((appId == null) || (channelID == null) || (version == null) || (versionCode == null) || (versionName == null) || (timestamp == null))
    {
      return;
      localObject = ((String)localObject).trim();
      break;
      str1 = str1.trim();
      break label86;
      str2 = str2.trim();
      break label120;
    }
    localObject = new Random(System.currentTimeMillis());
    int i = ((Random)localObject).nextInt(3600);
    long l = Long.valueOf(timestamp).longValue() - (i + 300);
    c.q = 1;
    actLogTime = (Long.valueOf(l).longValue() - 1L) * 1000L + ((Random)localObject).nextInt(1200);
    sysLogTime = ((Random)localObject).nextInt(50) + actLogTime;
    c.a(paramContext, appId, channelID, programID, version, packageName, versionCode, versionName, channel);
    c.b(l);
    c.a(l);
    c.a(paramContext);
  }
  
  public static void init(Context paramContext, String paramString1, String paramString2, String paramString3, String paramString4, String paramString5, String paramString6, String paramString7, String paramString8)
  {
    String str1 = f.h(paramContext);
    String str2 = f.i(paramContext);
    String str3 = f.l(paramContext);
    String str4 = f.k(paramContext);
    String str5 = f.j(paramContext);
    if ((str1 == null) && (str2 == null) && (str3 == null) && (str4 == null) && (str5 == null)) {
      e.b(paramContext, paramString2, paramString3, paramString4, paramString1, paramString5, paramString6, paramString7, paramString8);
    }
    init(paramContext);
  }
  
  public static void onPause(Context paramContext)
  {
    e.b(paramContext);
  }
  
  public static void onResume(Context paramContext)
  {
    e.a(paramContext);
  }
  
  public static void pay(Context paramContext)
  {
    if ((timestamp != null) && (esm != null) && (tid != null))
    {
      int i = new Random(System.currentTimeMillis()).nextInt(5);
      c.b(Long.valueOf(timestamp).longValue() - (i + 2));
      c.a(Long.valueOf(timestamp).longValue());
      c.q = 3;
      c.a(paramContext);
      c.q = 5;
      c.a(paramContext);
    }
    timestamp = null;
    esm = null;
    tid = null;
    pkm = null;
    sysLogTime = 0L;
    actLogTime = 0L;
  }
}
