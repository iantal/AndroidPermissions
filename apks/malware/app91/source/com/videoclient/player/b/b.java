package com.videoclient.player.b;

import android.app.AlertDialog.Builder;
import android.app.Dialog;
import android.content.DialogInterface;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.support.v4.app.DialogFragment;
import android.support.v4.app.FragmentActivity;
import android.view.Display;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.Window;
import android.view.WindowManager;
import android.view.WindowManager.LayoutParams;
import android.webkit.WebView;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.TextView;
import com.videoclient.player.HomeActivity;
import com.videoclient.player.mode.StringTool;
import java.io.File;

public class b
  extends DialogFragment
  implements View.OnClickListener
{
  File a;
  
  public b() {}
  
  private int a()
  {
    String str;
    if (HomeActivity.p != null)
    {
      str = HomeActivity.p.getUrl();
      if (!StringTool.getUrl(0).equals(str)) {
        break label26;
      }
    }
    label26:
    do
    {
      return 2;
      if (HomeActivity.l.equals(str)) {
        return 3;
      }
      if (StringTool.getUrl(1).equals(str)) {
        return 4;
      }
    } while (!HomeActivity.o.equals(str));
    return 5;
  }
  
  private Dialog a(int paramInt, String paramString1, String paramString2)
  {
    AlertDialog.Builder localBuilder = new AlertDialog.Builder(getActivity());
    switch (paramInt)
    {
    default: 
      return null;
    case 1: 
      paramInt = getActivity().getSharedPreferences("pay_xml", 0).getInt("pay_video", -1);
      com.b.a.h.a("pay..quit..dialog.." + paramInt);
      switch (paramInt)
      {
      default: 
        return a(localBuilder, true);
      case 2: 
        a(localBuilder, paramString1);
      }
      while (0 == 0)
      {
        return localBuilder.create();
        a(localBuilder, paramString1);
      }
    case 2: 
      this.a = com.videoclient.player.e.a.a;
      if (!this.a.exists()) {
        dismiss();
      }
      localBuilder.setTitle("提示");
      localBuilder.setMessage(paramString1);
      localBuilder.setPositiveButton("确定", new c(this));
      return localBuilder.create();
    case 3: 
      localBuilder.setTitle("关于");
      localBuilder.setMessage(paramString1);
      localBuilder.setPositiveButton("确定", new d(this));
      return localBuilder.create();
    case 5: 
      return a(localBuilder, false);
    }
    localBuilder.setTitle(paramString2);
    localBuilder.setMessage(paramString1);
    localBuilder.setPositiveButton("确定", new e(this));
    return localBuilder.create();
  }
  
  private Dialog a(AlertDialog.Builder paramBuilder, boolean paramBoolean)
  {
    paramBuilder = new Dialog(getActivity());
    Object localObject1 = LayoutInflater.from(getActivity()).inflate(2130903070, null, false);
    paramBuilder.requestWindowFeature(1);
    paramBuilder.setContentView((View)localObject1);
    Object localObject2 = (TextView)((View)localObject1).findViewById(2131165261);
    Object localObject3;
    int j;
    int i;
    if (paramBoolean)
    {
      ((ImageView)((View)localObject1).findViewById(2131165267)).setImageResource(2130837624);
      localObject3 = (TextView)((View)localObject1).findViewById(2131165259);
      String str1 = getActivity().getString(2131034144);
      String str2 = com.videoclient.player.a.a.c;
      ((TextView)localObject3).setText(str1);
      ((TextView)localObject2).setText(str2);
      localObject2 = paramBuilder.getWindow().getAttributes();
      localObject3 = getActivity().getWindowManager().getDefaultDisplay();
      int k = ((Display)localObject3).getRotation();
      j = (int)(((Display)localObject3).getWidth() * 0.95D);
      i = (int)(j * 0.85F);
      if ((k != 0) && (k != 2)) {
        break label296;
      }
      ((WindowManager.LayoutParams)localObject2).width = j;
    }
    for (((WindowManager.LayoutParams)localObject2).height = i;; ((WindowManager.LayoutParams)localObject2).height = i)
    {
      com.b.a.h.a("w:" + j + ",h:" + i + "h_w:" + 0.85F);
      paramBuilder.getWindow().setAttributes((WindowManager.LayoutParams)localObject2);
      localObject2 = (Button)((View)localObject1).findViewById(2131165268);
      localObject1 = (Button)((View)localObject1).findViewById(2131165269);
      ((Button)localObject2).setOnClickListener(this);
      if (!paramBoolean) {
        break label333;
      }
      ((Button)localObject1).setOnClickListener(new f(this));
      return paramBuilder;
      ((TextView)localObject2).setText(com.videoclient.player.a.a.b);
      break;
      label296:
      i = (int)(((Display)localObject3).getHeight() * 0.9D);
      j = (int)(i * 1.36F);
      ((WindowManager.LayoutParams)localObject2).width = j;
    }
    label333:
    ((Button)localObject1).setOnClickListener(this);
    return paramBuilder;
  }
  
  private void a(AlertDialog.Builder paramBuilder, String paramString)
  {
    paramBuilder.setTitle("退出");
    paramBuilder.setMessage(paramString);
    paramBuilder.setPositiveButton("确定", new g(this));
    paramBuilder.setNeutralButton("取消", new h(this));
  }
  
  public void onClick(View paramView)
  {
    switch (paramView.getId())
    {
    default: 
      return;
    case 2131165268: 
      if (com.videoclient.player.d.a.b(getActivity()))
      {
        int i = a();
        com.videoclient.player.d.a.a(getActivity(), i);
      }
      getDialog().dismiss();
      return;
    }
    getDialog().dismiss();
  }
  
  public Dialog onCreateDialog(Bundle paramBundle)
  {
    Object localObject = getArguments();
    if (localObject == null) {
      dismiss();
    }
    paramBundle = ((Bundle)localObject).getString("info");
    int i = ((Bundle)localObject).getInt("type");
    localObject = ((Bundle)localObject).getString("title");
    com.videoclient.player.e.a.a().b(true);
    return a(i, paramBundle, (String)localObject);
  }
  
  public void onDismiss(DialogInterface paramDialogInterface)
  {
    super.onDismiss(paramDialogInterface);
    com.videoclient.player.e.a.a().b(false);
  }
}
