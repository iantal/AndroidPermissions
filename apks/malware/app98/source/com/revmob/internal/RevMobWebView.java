package com.revmob.internal;

import android.content.Context;
import android.webkit.WebSettings;
import android.webkit.WebView;

public class RevMobWebView
  extends WebView
{
  public RevMobWebView(Context paramContext, RevMobWebViewClient paramRevMobWebViewClient)
  {
    this(paramContext, null, null, paramRevMobWebViewClient);
  }
  
  public RevMobWebView(Context paramContext, String paramString1, String paramString2, RevMobWebViewClient paramRevMobWebViewClient)
  {
    super(paramContext);
    setScrollContainer(false);
    setHorizontalScrollBarEnabled(false);
    setVerticalScrollBarEnabled(false);
    getSettings().setAppCacheEnabled(false);
    getSettings().setJavaScriptEnabled(true);
    getSettings().setLoadsImagesAutomatically(true);
    getSettings().setJavaScriptCanOpenWindowsAutomatically(true);
    getSettings().setSaveFormData(false);
    getSettings().setSavePassword(false);
    if (paramRevMobWebViewClient != null) {
      setWebViewClient(paramRevMobWebViewClient);
    }
    if ((paramString2 != null) && (!paramString2.equals(""))) {
      loadData(paramString2, "text/html; charset=UTF-8", "utf-8");
    }
    while (paramString1 == null) {
      return;
    }
    loadUrl(paramString1);
  }
  
  private String solveAndroidBug(String paramString)
  {
    StringBuilder localStringBuilder = new StringBuilder(paramString.length() + 100);
    char[] arrayOfChar = paramString.toCharArray();
    int i = 0;
    if (i < arrayOfChar.length)
    {
      char c = paramString.charAt(i);
      switch (c)
      {
      case '$': 
      case '&': 
      default: 
        localStringBuilder.append(c);
      }
      for (;;)
      {
        i += 1;
        break;
        localStringBuilder.append("%25");
        continue;
        localStringBuilder.append("%27");
        continue;
        localStringBuilder.append("%23");
      }
    }
    return localStringBuilder.toString();
  }
  
  public void loadData(String paramString1, String paramString2, String paramString3)
  {
    super.loadData(solveAndroidBug(paramString1), paramString2, paramString3);
  }
}
