package com.qbiki.seattleclouds.asynctasks;

import android.app.Activity;
import android.app.ProgressDialog;
import android.content.DialogInterface;
import android.content.DialogInterface.OnCancelListener;
import android.os.AsyncTask;
import android.util.Log;
import android.view.Window;
import android.widget.Toast;
import com.google.android.bitmapfun.ImageCache;
import com.qbiki.seattleclouds.App;
import com.qbiki.util.AsyncTaskListener;
import java.util.HashMap;
import org.apache.commons.io.FileUtils;

public class SyncResourcesAsyncTask
  extends AsyncTask<String, Integer, String>
{
  private static final boolean DEBUG = false;
  public static final String FILE_LIST_FILE = "filelist.obj";
  private static final String FILE_LIST_REQUEST_HANDLER = "getfilelist.ashx";
  private static final String NEW_FILE_LIST_REQUEST_HANDLER = "getnewsfilelist.ashx";
  public static final String SYNC_STORAGE_DIR = "sync";
  private static final String TAG = SyncResourcesAsyncTask.class.getSimpleName();
  public static String fileListFilePath = null;
  private final Activity activity;
  private String currentDateTime = "";
  private String currentId = "";
  private ProgressDialog dialog;
  private HashMap<String, String> fileList = new HashMap();
  private boolean isCancelled = false;
  private AsyncTaskListener listener = null;
  private boolean mAppConfigDownloaded = false;
  private int mDownloadedFilesCount = 0;
  private String mustExitReason = null;
  private Integer progressnr = Integer.valueOf(0);
  private Integer totalnr = Integer.valueOf(0);
  
  public SyncResourcesAsyncTask(Activity paramActivity)
  {
    this.activity = paramActivity;
  }
  
  private void clearResourceCaches()
  {
    String[] arrayOfString = new String[1];
    arrayOfString[0] = "magazineCovers";
    int j = arrayOfString.length;
    int i = 0;
    while (i < j)
    {
      String str = arrayOfString[i];
      FileUtils.deleteQuietly(ImageCache.getDiskCacheDir(this.activity, str));
      i += 1;
    }
  }
  
  /* Error */
  private void saveRemoteFileToLocalDir(String paramString1, String paramString2)
  {
    // Byte code:
    //   0: aconst_null
    //   1: astore 7
    //   3: aconst_null
    //   4: astore 6
    //   6: aload 6
    //   8: astore 5
    //   10: aload 7
    //   12: astore 4
    //   14: aload_1
    //   15: bipush 47
    //   17: invokevirtual 123	java/lang/String:lastIndexOf	(I)I
    //   20: iconst_1
    //   21: iadd
    //   22: istore_3
    //   23: aload 6
    //   25: astore 5
    //   27: aload 7
    //   29: astore 4
    //   31: new 125	java/net/URL
    //   34: dup
    //   35: new 127	java/lang/StringBuilder
    //   38: dup
    //   39: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   42: aload_1
    //   43: iconst_0
    //   44: iload_3
    //   45: invokevirtual 132	java/lang/String:substring	(II)Ljava/lang/String;
    //   48: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   51: aload_1
    //   52: iload_3
    //   53: invokevirtual 139	java/lang/String:substring	(I)Ljava/lang/String;
    //   56: ldc -115
    //   58: invokestatic 147	java/net/URLEncoder:encode	(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   61: ldc -107
    //   63: ldc -105
    //   65: invokevirtual 155	java/lang/String:replace	(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
    //   68: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   71: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   74: invokespecial 161	java/net/URL:<init>	(Ljava/lang/String;)V
    //   77: astore 9
    //   79: aload 6
    //   81: astore 5
    //   83: aload 7
    //   85: astore 4
    //   87: new 163	java/io/File
    //   90: dup
    //   91: aload_2
    //   92: invokespecial 164	java/io/File:<init>	(Ljava/lang/String;)V
    //   95: astore 8
    //   97: aload 6
    //   99: astore 5
    //   101: aload 7
    //   103: astore 4
    //   105: aload 9
    //   107: invokevirtual 168	java/net/URL:openConnection	()Ljava/net/URLConnection;
    //   110: checkcast 170	java/net/HttpURLConnection
    //   113: astore 6
    //   115: aload 6
    //   117: astore 5
    //   119: aload 6
    //   121: astore 4
    //   123: aload 6
    //   125: sipush 30000
    //   128: invokevirtual 174	java/net/HttpURLConnection:setReadTimeout	(I)V
    //   131: aload 6
    //   133: astore 5
    //   135: aload 6
    //   137: astore 4
    //   139: aload 6
    //   141: sipush 30000
    //   144: invokevirtual 177	java/net/HttpURLConnection:setConnectTimeout	(I)V
    //   147: aload 6
    //   149: astore 5
    //   151: aload 6
    //   153: astore 4
    //   155: aload 6
    //   157: ldc -77
    //   159: new 127	java/lang/StringBuilder
    //   162: dup
    //   163: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   166: ldc -75
    //   168: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   171: getstatic 186	com/qbiki/seattleclouds/App:username	Ljava/lang/String;
    //   174: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   177: ldc -68
    //   179: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   182: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   185: invokevirtual 191	java/net/HttpURLConnection:setRequestProperty	(Ljava/lang/String;Ljava/lang/String;)V
    //   188: aload 6
    //   190: astore 5
    //   192: aload 6
    //   194: astore 4
    //   196: aload 6
    //   198: invokevirtual 195	java/net/HttpURLConnection:getInputStream	()Ljava/io/InputStream;
    //   201: astore 7
    //   203: aload 6
    //   205: astore 5
    //   207: aload 6
    //   209: astore 4
    //   211: new 197	java/io/FileOutputStream
    //   214: dup
    //   215: aload 8
    //   217: invokespecial 200	java/io/FileOutputStream:<init>	(Ljava/io/File;)V
    //   220: astore 8
    //   222: aload 6
    //   224: astore 5
    //   226: aload 6
    //   228: astore 4
    //   230: sipush 1024
    //   233: newarray byte
    //   235: astore 9
    //   237: aload 6
    //   239: astore 5
    //   241: aload 6
    //   243: astore 4
    //   245: aload 7
    //   247: aload 9
    //   249: invokevirtual 206	java/io/InputStream:read	([B)I
    //   252: istore_3
    //   253: iload_3
    //   254: iconst_m1
    //   255: if_icmpeq +66 -> 321
    //   258: aload 6
    //   260: astore 5
    //   262: aload 6
    //   264: astore 4
    //   266: aload 8
    //   268: aload 9
    //   270: iconst_0
    //   271: iload_3
    //   272: invokevirtual 210	java/io/FileOutputStream:write	([BII)V
    //   275: goto -38 -> 237
    //   278: astore_2
    //   279: aload 5
    //   281: astore 4
    //   283: getstatic 56	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:TAG	Ljava/lang/String;
    //   286: new 127	java/lang/StringBuilder
    //   289: dup
    //   290: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   293: ldc -44
    //   295: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   298: aload_1
    //   299: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   302: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   305: aload_2
    //   306: invokestatic 218	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
    //   309: pop
    //   310: aload 5
    //   312: ifnull +8 -> 320
    //   315: aload 5
    //   317: invokevirtual 221	java/net/HttpURLConnection:disconnect	()V
    //   320: return
    //   321: aload 6
    //   323: astore 5
    //   325: aload 6
    //   327: astore 4
    //   329: aload_2
    //   330: new 127	java/lang/StringBuilder
    //   333: dup
    //   334: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   337: getstatic 224	java/io/File:separator	Ljava/lang/String;
    //   340: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   343: ldc -30
    //   345: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   348: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   351: invokevirtual 230	java/lang/String:endsWith	(Ljava/lang/String;)Z
    //   354: ifeq +53 -> 407
    //   357: aload 6
    //   359: astore 5
    //   361: aload 6
    //   363: astore 4
    //   365: aload_0
    //   366: iconst_1
    //   367: putfield 92	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:mAppConfigDownloaded	Z
    //   370: aload 6
    //   372: astore 5
    //   374: aload 6
    //   376: astore 4
    //   378: aload 7
    //   380: invokevirtual 233	java/io/InputStream:close	()V
    //   383: aload 6
    //   385: astore 5
    //   387: aload 6
    //   389: astore 4
    //   391: aload 8
    //   393: invokevirtual 234	java/io/FileOutputStream:close	()V
    //   396: aload 6
    //   398: ifnull -78 -> 320
    //   401: aload 6
    //   403: invokevirtual 221	java/net/HttpURLConnection:disconnect	()V
    //   406: return
    //   407: aload 6
    //   409: astore 5
    //   411: aload 6
    //   413: astore 4
    //   415: aload_0
    //   416: aload_0
    //   417: getfield 90	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:mDownloadedFilesCount	I
    //   420: iconst_1
    //   421: iadd
    //   422: putfield 90	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:mDownloadedFilesCount	I
    //   425: goto -55 -> 370
    //   428: astore_1
    //   429: aload 4
    //   431: ifnull +8 -> 439
    //   434: aload 4
    //   436: invokevirtual 221	java/net/HttpURLConnection:disconnect	()V
    //   439: aload_1
    //   440: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	441	0	this	SyncResourcesAsyncTask
    //   0	441	1	paramString1	String
    //   0	441	2	paramString2	String
    //   22	250	3	i	int
    //   12	423	4	localObject1	Object
    //   8	402	5	localHttpURLConnection1	java.net.HttpURLConnection
    //   4	408	6	localHttpURLConnection2	java.net.HttpURLConnection
    //   1	378	7	localInputStream	java.io.InputStream
    //   95	297	8	localObject2	Object
    //   77	192	9	localObject3	Object
    // Exception table:
    //   from	to	target	type
    //   14	23	278	java/lang/Exception
    //   31	79	278	java/lang/Exception
    //   87	97	278	java/lang/Exception
    //   105	115	278	java/lang/Exception
    //   123	131	278	java/lang/Exception
    //   139	147	278	java/lang/Exception
    //   155	188	278	java/lang/Exception
    //   196	203	278	java/lang/Exception
    //   211	222	278	java/lang/Exception
    //   230	237	278	java/lang/Exception
    //   245	253	278	java/lang/Exception
    //   266	275	278	java/lang/Exception
    //   329	357	278	java/lang/Exception
    //   365	370	278	java/lang/Exception
    //   378	383	278	java/lang/Exception
    //   391	396	278	java/lang/Exception
    //   415	425	278	java/lang/Exception
    //   14	23	428	finally
    //   31	79	428	finally
    //   87	97	428	finally
    //   105	115	428	finally
    //   123	131	428	finally
    //   139	147	428	finally
    //   155	188	428	finally
    //   196	203	428	finally
    //   211	222	428	finally
    //   230	237	428	finally
    //   245	253	428	finally
    //   266	275	428	finally
    //   283	310	428	finally
    //   329	357	428	finally
    //   365	370	428	finally
    //   378	383	428	finally
    //   391	396	428	finally
    //   415	425	428	finally
  }
  
  /* Error */
  protected String doInBackground(String... paramVarArgs)
  {
    // Byte code:
    //   0: new 163	java/io/File
    //   3: dup
    //   4: invokestatic 244	com/qbiki/seattleclouds/App:getOldAppResourcesPath	()Ljava/lang/String;
    //   7: invokespecial 164	java/io/File:<init>	(Ljava/lang/String;)V
    //   10: invokestatic 115	org/apache/commons/io/FileUtils:deleteQuietly	(Ljava/io/File;)Z
    //   13: pop
    //   14: invokestatic 247	com/qbiki/seattleclouds/App:getAppResourcesPath	()Ljava/lang/String;
    //   17: astore_1
    //   18: new 163	java/io/File
    //   21: dup
    //   22: aload_1
    //   23: invokespecial 164	java/io/File:<init>	(Ljava/lang/String;)V
    //   26: astore 4
    //   28: aload 4
    //   30: invokevirtual 251	java/io/File:exists	()Z
    //   33: ifne +9 -> 42
    //   36: aload 4
    //   38: invokevirtual 254	java/io/File:mkdirs	()Z
    //   41: pop
    //   42: new 127	java/lang/StringBuilder
    //   45: dup
    //   46: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   49: aload_1
    //   50: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   53: getstatic 224	java/io/File:separator	Ljava/lang/String;
    //   56: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   59: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   62: astore 4
    //   64: new 127	java/lang/StringBuilder
    //   67: dup
    //   68: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   71: ldc_w 256
    //   74: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   77: getstatic 259	com/qbiki/seattleclouds/App:serverHostName	Ljava/lang/String;
    //   80: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   83: ldc_w 261
    //   86: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   89: invokestatic 264	com/qbiki/seattleclouds/App:getAppRelativePath	()Ljava/lang/String;
    //   92: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   95: ldc_w 261
    //   98: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   101: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   104: astore 5
    //   106: new 163	java/io/File
    //   109: dup
    //   110: getstatic 48	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:fileListFilePath	Ljava/lang/String;
    //   113: invokespecial 164	java/io/File:<init>	(Ljava/lang/String;)V
    //   116: astore 6
    //   118: aload 6
    //   120: invokevirtual 251	java/io/File:exists	()Z
    //   123: ifeq +39 -> 162
    //   126: new 266	java/io/ObjectInputStream
    //   129: dup
    //   130: new 268	java/io/FileInputStream
    //   133: dup
    //   134: aload 6
    //   136: invokespecial 269	java/io/FileInputStream:<init>	(Ljava/io/File;)V
    //   139: invokespecial 272	java/io/ObjectInputStream:<init>	(Ljava/io/InputStream;)V
    //   142: astore_1
    //   143: aload_0
    //   144: aload_1
    //   145: invokevirtual 276	java/io/ObjectInputStream:readObject	()Ljava/lang/Object;
    //   148: checkcast 83	java/util/HashMap
    //   151: putfield 86	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:fileList	Ljava/util/HashMap;
    //   154: aload_1
    //   155: ifnull +7 -> 162
    //   158: aload_1
    //   159: invokevirtual 277	java/io/ObjectInputStream:close	()V
    //   162: aload_0
    //   163: getfield 86	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:fileList	Ljava/util/HashMap;
    //   166: ifnonnull +14 -> 180
    //   169: aload_0
    //   170: new 83	java/util/HashMap
    //   173: dup
    //   174: invokespecial 84	java/util/HashMap:<init>	()V
    //   177: putfield 86	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:fileList	Ljava/util/HashMap;
    //   180: getstatic 280	com/qbiki/seattleclouds/App:isPreviewer	Z
    //   183: ifeq +308 -> 491
    //   186: ldc 17
    //   188: astore_1
    //   189: new 125	java/net/URL
    //   192: dup
    //   193: new 127	java/lang/StringBuilder
    //   196: dup
    //   197: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   200: ldc_w 256
    //   203: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   206: getstatic 259	com/qbiki/seattleclouds/App:serverHostName	Ljava/lang/String;
    //   209: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   212: ldc_w 261
    //   215: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   218: aload_1
    //   219: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   222: ldc_w 282
    //   225: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   228: getstatic 186	com/qbiki/seattleclouds/App:username	Ljava/lang/String;
    //   231: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   234: ldc_w 284
    //   237: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   240: getstatic 287	com/qbiki/seattleclouds/App:appId	Ljava/lang/String;
    //   243: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   246: ldc_w 289
    //   249: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   252: getstatic 292	com/qbiki/seattleclouds/App:publisherId	Ljava/lang/String;
    //   255: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   258: ldc_w 294
    //   261: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   264: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   267: invokespecial 161	java/net/URL:<init>	(Ljava/lang/String;)V
    //   270: astore 7
    //   272: invokestatic 300	android/util/Xml:newPullParser	()Lorg/xmlpull/v1/XmlPullParser;
    //   275: astore_1
    //   276: aload 7
    //   278: invokevirtual 168	java/net/URL:openConnection	()Ljava/net/URLConnection;
    //   281: checkcast 170	java/net/HttpURLConnection
    //   284: astore 7
    //   286: aload 7
    //   288: ldc -77
    //   290: new 127	java/lang/StringBuilder
    //   293: dup
    //   294: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   297: ldc -75
    //   299: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   302: getstatic 186	com/qbiki/seattleclouds/App:username	Ljava/lang/String;
    //   305: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   308: ldc_w 302
    //   311: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   314: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   317: invokevirtual 191	java/net/HttpURLConnection:setRequestProperty	(Ljava/lang/String;Ljava/lang/String;)V
    //   320: aload 7
    //   322: sipush 30000
    //   325: invokevirtual 177	java/net/HttpURLConnection:setConnectTimeout	(I)V
    //   328: aload 7
    //   330: sipush 30000
    //   333: invokevirtual 174	java/net/HttpURLConnection:setReadTimeout	(I)V
    //   336: aload_1
    //   337: aload 7
    //   339: invokevirtual 195	java/net/HttpURLConnection:getInputStream	()Ljava/io/InputStream;
    //   342: aconst_null
    //   343: invokeinterface 308 3 0
    //   348: aload_1
    //   349: invokeinterface 312 1 0
    //   354: istore_2
    //   355: iload_2
    //   356: iconst_1
    //   357: if_icmpeq +539 -> 896
    //   360: iconst_0
    //   361: ifne +535 -> 896
    //   364: aload_0
    //   365: getfield 88	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:isCancelled	Z
    //   368: ifne +528 -> 896
    //   371: iload_2
    //   372: tableswitch	default:+560->932, 0:+32->404, 1:+32->404, 2:+125->497, 3:+299->671
    //   404: aload_1
    //   405: invokeinterface 315 1 0
    //   410: istore_2
    //   411: goto -56 -> 355
    //   414: astore 7
    //   416: aload_1
    //   417: ifnull -255 -> 162
    //   420: aload_1
    //   421: invokevirtual 277	java/io/ObjectInputStream:close	()V
    //   424: goto -262 -> 162
    //   427: astore_1
    //   428: goto -266 -> 162
    //   431: astore 4
    //   433: aload_1
    //   434: ifnull +7 -> 441
    //   437: aload_1
    //   438: invokevirtual 277	java/io/ObjectInputStream:close	()V
    //   441: aload 4
    //   443: athrow
    //   444: astore_1
    //   445: getstatic 56	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:TAG	Ljava/lang/String;
    //   448: new 127	java/lang/StringBuilder
    //   451: dup
    //   452: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   455: ldc_w 317
    //   458: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   461: aload_1
    //   462: invokevirtual 318	java/lang/Exception:toString	()Ljava/lang/String;
    //   465: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   468: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   471: aload_1
    //   472: invokestatic 218	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
    //   475: pop
    //   476: aload_0
    //   477: getfield 90	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:mDownloadedFilesCount	I
    //   480: ifle +7 -> 487
    //   483: aload_0
    //   484: invokespecial 320	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:clearResourceCaches	()V
    //   487: ldc_w 322
    //   490: areturn
    //   491: ldc 20
    //   493: astore_1
    //   494: goto -305 -> 189
    //   497: aload_1
    //   498: invokeinterface 325 1 0
    //   503: astore 7
    //   505: aload 7
    //   507: ldc_w 327
    //   510: invokevirtual 330	java/lang/String:equalsIgnoreCase	(Ljava/lang/String;)Z
    //   513: ifeq +68 -> 581
    //   516: aload_0
    //   517: aload_1
    //   518: aconst_null
    //   519: ldc_w 332
    //   522: invokeinterface 335 3 0
    //   527: putfield 67	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:currentId	Ljava/lang/String;
    //   530: aload_0
    //   531: aload_1
    //   532: aconst_null
    //   533: ldc_w 337
    //   536: invokeinterface 335 3 0
    //   541: putfield 69	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:currentDateTime	Ljava/lang/String;
    //   544: goto -140 -> 404
    //   547: astore_1
    //   548: getstatic 56	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:TAG	Ljava/lang/String;
    //   551: new 127	java/lang/StringBuilder
    //   554: dup
    //   555: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   558: ldc_w 339
    //   561: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   564: aload_1
    //   565: invokevirtual 342	java/lang/StringBuilder:append	(Ljava/lang/Object;)Ljava/lang/StringBuilder;
    //   568: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   571: invokestatic 345	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;)I
    //   574: pop
    //   575: goto -99 -> 476
    //   578: astore_1
    //   579: aload_1
    //   580: athrow
    //   581: aload 7
    //   583: ldc_w 347
    //   586: invokevirtual 330	java/lang/String:equalsIgnoreCase	(Ljava/lang/String;)Z
    //   589: istore_3
    //   590: iload_3
    //   591: ifeq +52 -> 643
    //   594: aload_0
    //   595: aload_1
    //   596: aconst_null
    //   597: ldc_w 349
    //   600: invokeinterface 335 3 0
    //   605: invokestatic 353	java/lang/Integer:parseInt	(Ljava/lang/String;)I
    //   608: invokestatic 75	java/lang/Integer:valueOf	(I)Ljava/lang/Integer;
    //   611: putfield 77	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:totalnr	Ljava/lang/Integer;
    //   614: aload_0
    //   615: getfield 355	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:dialog	Landroid/app/ProgressDialog;
    //   618: ifnull -214 -> 404
    //   621: aload_0
    //   622: getfield 355	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:dialog	Landroid/app/ProgressDialog;
    //   625: aload_0
    //   626: getfield 77	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:totalnr	Ljava/lang/Integer;
    //   629: invokevirtual 358	java/lang/Integer:intValue	()I
    //   632: invokevirtual 363	android/app/ProgressDialog:setMax	(I)V
    //   635: goto -231 -> 404
    //   638: astore 7
    //   640: goto -236 -> 404
    //   643: aload 7
    //   645: ldc_w 365
    //   648: invokevirtual 330	java/lang/String:equalsIgnoreCase	(Ljava/lang/String;)Z
    //   651: ifeq -247 -> 404
    //   654: aload_0
    //   655: aload_1
    //   656: aconst_null
    //   657: ldc_w 367
    //   660: invokeinterface 335 3 0
    //   665: putfield 81	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:mustExitReason	Ljava/lang/String;
    //   668: goto -264 -> 404
    //   671: aload_1
    //   672: invokeinterface 325 1 0
    //   677: ldc_w 327
    //   680: invokevirtual 330	java/lang/String:equalsIgnoreCase	(Ljava/lang/String;)Z
    //   683: ifeq -279 -> 404
    //   686: getstatic 370	com/qbiki/seattleclouds/App:syncEnabled	Z
    //   689: ifne +9 -> 698
    //   692: getstatic 280	com/qbiki/seattleclouds/App:isPreviewer	Z
    //   695: ifeq -291 -> 404
    //   698: new 127	java/lang/StringBuilder
    //   701: dup
    //   702: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   705: aload 5
    //   707: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   710: aload_0
    //   711: getfield 67	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:currentId	Ljava/lang/String;
    //   714: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   717: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   720: astore 7
    //   722: new 127	java/lang/StringBuilder
    //   725: dup
    //   726: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   729: aload 4
    //   731: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   734: aload_0
    //   735: getfield 67	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:currentId	Ljava/lang/String;
    //   738: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   741: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   744: astore 8
    //   746: new 163	java/io/File
    //   749: dup
    //   750: new 127	java/lang/StringBuilder
    //   753: dup
    //   754: invokespecial 128	java/lang/StringBuilder:<init>	()V
    //   757: aload 4
    //   759: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   762: aload_0
    //   763: getfield 67	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:currentId	Ljava/lang/String;
    //   766: invokevirtual 136	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   769: invokevirtual 158	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   772: invokespecial 164	java/io/File:<init>	(Ljava/lang/String;)V
    //   775: invokevirtual 251	java/io/File:exists	()Z
    //   778: ifeq +107 -> 885
    //   781: aload_0
    //   782: getfield 86	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:fileList	Ljava/util/HashMap;
    //   785: aload_0
    //   786: getfield 67	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:currentId	Ljava/lang/String;
    //   789: invokevirtual 374	java/util/HashMap:get	(Ljava/lang/Object;)Ljava/lang/Object;
    //   792: checkcast 101	java/lang/String
    //   795: astore 9
    //   797: aload 9
    //   799: ifnonnull +63 -> 862
    //   802: aload_0
    //   803: aload 7
    //   805: aload 8
    //   807: invokespecial 376	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:saveRemoteFileToLocalDir	(Ljava/lang/String;Ljava/lang/String;)V
    //   810: aload_0
    //   811: getfield 86	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:fileList	Ljava/util/HashMap;
    //   814: aload_0
    //   815: getfield 67	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:currentId	Ljava/lang/String;
    //   818: aload_0
    //   819: getfield 69	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:currentDateTime	Ljava/lang/String;
    //   822: invokevirtual 380	java/util/HashMap:put	(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   825: pop
    //   826: aload_0
    //   827: getfield 79	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:progressnr	Ljava/lang/Integer;
    //   830: invokevirtual 358	java/lang/Integer:intValue	()I
    //   833: iconst_1
    //   834: iadd
    //   835: invokestatic 75	java/lang/Integer:valueOf	(I)Ljava/lang/Integer;
    //   838: astore 7
    //   840: aload_0
    //   841: aload 7
    //   843: putfield 79	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:progressnr	Ljava/lang/Integer;
    //   846: aload_0
    //   847: iconst_1
    //   848: anewarray 71	java/lang/Integer
    //   851: dup
    //   852: iconst_0
    //   853: aload 7
    //   855: aastore
    //   856: invokevirtual 384	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:publishProgress	([Ljava/lang/Object;)V
    //   859: goto -455 -> 404
    //   862: aload 9
    //   864: aload_0
    //   865: getfield 69	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:currentDateTime	Ljava/lang/String;
    //   868: invokevirtual 330	java/lang/String:equalsIgnoreCase	(Ljava/lang/String;)Z
    //   871: ifne -61 -> 810
    //   874: aload_0
    //   875: aload 7
    //   877: aload 8
    //   879: invokespecial 376	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:saveRemoteFileToLocalDir	(Ljava/lang/String;Ljava/lang/String;)V
    //   882: goto -72 -> 810
    //   885: aload_0
    //   886: aload 7
    //   888: aload 8
    //   890: invokespecial 376	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:saveRemoteFileToLocalDir	(Ljava/lang/String;Ljava/lang/String;)V
    //   893: goto -83 -> 810
    //   896: new 386	java/io/ObjectOutputStream
    //   899: dup
    //   900: aload 6
    //   902: invokestatic 390	org/apache/commons/io/FileUtils:openOutputStream	(Ljava/io/File;)Ljava/io/FileOutputStream;
    //   905: invokespecial 393	java/io/ObjectOutputStream:<init>	(Ljava/io/OutputStream;)V
    //   908: astore_1
    //   909: aload_1
    //   910: aload_0
    //   911: getfield 86	com/qbiki/seattleclouds/asynctasks/SyncResourcesAsyncTask:fileList	Ljava/util/HashMap;
    //   914: invokevirtual 397	java/io/ObjectOutputStream:writeObject	(Ljava/lang/Object;)V
    //   917: aload_1
    //   918: invokevirtual 398	java/io/ObjectOutputStream:close	()V
    //   921: goto -445 -> 476
    //   924: astore_1
    //   925: goto -763 -> 162
    //   928: astore_1
    //   929: goto -488 -> 441
    //   932: goto -528 -> 404
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	935	0	this	SyncResourcesAsyncTask
    //   0	935	1	paramVarArgs	String[]
    //   354	57	2	i	int
    //   589	2	3	bool	boolean
    //   26	37	4	localObject1	Object
    //   431	327	4	str1	String
    //   104	602	5	str2	String
    //   116	785	6	localFile	java.io.File
    //   270	68	7	localObject2	Object
    //   414	1	7	localException1	Exception
    //   503	79	7	str3	String
    //   638	6	7	localException2	Exception
    //   720	167	7	localObject3	Object
    //   744	145	8	str4	String
    //   795	68	9	str5	String
    // Exception table:
    //   from	to	target	type
    //   143	154	414	java/lang/Exception
    //   420	424	427	java/lang/Exception
    //   143	154	431	finally
    //   14	42	444	java/lang/Exception
    //   42	143	444	java/lang/Exception
    //   162	180	444	java/lang/Exception
    //   180	186	444	java/lang/Exception
    //   189	276	444	java/lang/Exception
    //   441	444	444	java/lang/Exception
    //   579	581	444	java/lang/Exception
    //   276	355	547	java/lang/Exception
    //   364	371	547	java/lang/Exception
    //   404	411	547	java/lang/Exception
    //   497	544	547	java/lang/Exception
    //   581	590	547	java/lang/Exception
    //   643	668	547	java/lang/Exception
    //   671	698	547	java/lang/Exception
    //   698	797	547	java/lang/Exception
    //   802	810	547	java/lang/Exception
    //   810	859	547	java/lang/Exception
    //   862	882	547	java/lang/Exception
    //   885	893	547	java/lang/Exception
    //   896	921	547	java/lang/Exception
    //   276	355	578	finally
    //   364	371	578	finally
    //   404	411	578	finally
    //   497	544	578	finally
    //   548	575	578	finally
    //   581	590	578	finally
    //   594	635	578	finally
    //   643	668	578	finally
    //   671	698	578	finally
    //   698	797	578	finally
    //   802	810	578	finally
    //   810	859	578	finally
    //   862	882	578	finally
    //   885	893	578	finally
    //   896	921	578	finally
    //   594	635	638	java/lang/Exception
    //   158	162	924	java/lang/Exception
    //   437	441	928	java/lang/Exception
  }
  
  protected void onCancelled()
  {
    super.onCancelled();
    if (this.dialog != null) {
      this.dialog.dismiss();
    }
  }
  
  protected void onPostExecute(String paramString)
  {
    super.onPostExecute(paramString);
    try
    {
      if ((this.dialog != null) && (this.dialog.isShowing())) {
        this.dialog.dismiss();
      }
      if (this.listener != null) {
        this.listener.asyncTaskFinished(this.mustExitReason);
      }
      return;
    }
    catch (IllegalArgumentException paramString)
    {
      for (;;)
      {
        Log.e(TAG, "Exception while dismissing dialog", paramString);
      }
    }
  }
  
  protected void onPreExecute()
  {
    fileListFilePath = App.getAppProtectedStoragePath() + "/" + "sync" + "/" + "filelist.obj";
    if ((!this.activity.isFinishing()) && ((App.syncEnabled) || (App.isPreviewer)))
    {
      this.dialog = new ProgressDialog(this.activity);
      this.dialog.setProgressStyle(1);
      this.dialog.setMessage(this.activity.getString(2131361960));
      this.dialog.setCancelable(true);
      this.dialog.getWindow().clearFlags(2);
      this.dialog.show();
      this.dialog.setOnCancelListener(new DialogInterface.OnCancelListener()
      {
        public void onCancel(DialogInterface paramAnonymousDialogInterface)
        {
          SyncResourcesAsyncTask.access$002(SyncResourcesAsyncTask.this, true);
          Toast.makeText(SyncResourcesAsyncTask.this.activity, 2131361927, 1).show();
        }
      });
    }
    super.onPreExecute();
  }
  
  protected void onProgressUpdate(Integer... paramVarArgs)
  {
    super.onProgressUpdate(paramVarArgs);
    if (this.dialog != null) {
      this.dialog.setProgress(paramVarArgs[0].intValue());
    }
  }
  
  public void setAsyncTaskListener(AsyncTaskListener paramAsyncTaskListener)
  {
    this.listener = paramAsyncTaskListener;
  }
}
