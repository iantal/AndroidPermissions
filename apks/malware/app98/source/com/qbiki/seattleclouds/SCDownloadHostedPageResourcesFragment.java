package com.qbiki.seattleclouds;

import android.content.res.Resources;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentActivity;
import android.support.v4.app.FragmentManager;
import android.support.v4.app.FragmentTransaction;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.view.ViewGroup.LayoutParams;
import android.view.animation.AlphaAnimation;
import android.view.animation.Animation;
import android.view.animation.Animation.AnimationListener;
import android.widget.Button;
import android.widget.FrameLayout;
import android.widget.FrameLayout.LayoutParams;
import android.widget.ProgressBar;
import android.widget.TextView;
import com.qbiki.util.DeviceUtil;
import com.qbiki.util.StringUtil;
import java.io.UnsupportedEncodingException;
import java.net.HttpURLConnection;
import java.net.URLDecoder;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;

public class SCDownloadHostedPageResourcesFragment
  extends NestedFragmentCompat
{
  public static final String ARG_CAN_BE_CANCELED = "ARG_CAN_BE_CANCELED";
  public static final String ARG_HOSTED_RESOURCES = "ARG_HOSTED_RESOURCES";
  public static final String ARG_PAGE_FRAGMENT_INFO = "ARG_PAGE_FRAGMENT_INFO";
  private boolean canBeCanceled = true;
  private Button cancelButton = null;
  private TextView downloadTitle = null;
  private HostedResourcesDownloader downloader = null;
  private FrameLayout fView = null;
  private List<HashMap<String, String>> failedResources = null;
  private List<HashMap<String, String>> hostedResources = null;
  private FragmentInfo pageFragmentInfo = null;
  private ProgressBar progressBar = null;
  private Button retryButton = null;
  
  public SCDownloadHostedPageResourcesFragment() {}
  
  private void animateFadeIn(View paramView, final CustomAnimationListener paramCustomAnimationListener)
  {
    AlphaAnimation localAlphaAnimation = new AlphaAnimation(0.0F, 1.0F);
    if (paramCustomAnimationListener != null) {
      localAlphaAnimation.setAnimationListener(new Animation.AnimationListener()
      {
        public void onAnimationEnd(Animation paramAnonymousAnimation)
        {
          paramCustomAnimationListener.animationFinished();
        }
        
        public void onAnimationRepeat(Animation paramAnonymousAnimation) {}
        
        public void onAnimationStart(Animation paramAnonymousAnimation) {}
      });
    }
    localAlphaAnimation.setDuration(200L);
    paramView.startAnimation(localAlphaAnimation);
  }
  
  private void animateFadeOut(View paramView, final CustomAnimationListener paramCustomAnimationListener)
  {
    AlphaAnimation localAlphaAnimation = new AlphaAnimation(1.0F, 0.0F);
    localAlphaAnimation.setAnimationListener(new Animation.AnimationListener()
    {
      public void onAnimationEnd(Animation paramAnonymousAnimation)
      {
        paramCustomAnimationListener.animationFinished();
      }
      
      public void onAnimationRepeat(Animation paramAnonymousAnimation) {}
      
      public void onAnimationStart(Animation paramAnonymousAnimation) {}
    });
    localAlphaAnimation.setDuration(200L);
    paramView.startAnimation(localAlphaAnimation);
  }
  
  private void downloadTaskFinished(List<HashMap<String, String>> paramList)
  {
    this.failedResources = paramList;
    if (paramList.size() == 0)
    {
      showPage();
      return;
    }
    updateUI(true);
  }
  
  public static String getHostedFilenameFromUrl(String paramString)
  {
    paramString = StringUtil.getLastPathComponentFromUrl(paramString);
    try
    {
      String str = URLDecoder.decode(paramString, "UTF-8");
      return str;
    }
    catch (UnsupportedEncodingException localUnsupportedEncodingException)
    {
      Log.e("HostedResourcesDownloader", "Exception", localUnsupportedEncodingException);
    }
    return paramString;
  }
  
  private void showPage()
  {
    final View localView = this.fView.findViewById(2131099832);
    animateFadeOut(localView, new CustomAnimationListener()
    {
      public void animationFinished()
      {
        ((FrameLayout)localView).removeAllViews();
        FragmentTransaction localFragmentTransaction = SCDownloadHostedPageResourcesFragment.this.getChildFragmentManager().beginTransaction();
        localFragmentTransaction.replace(2131099832, Fragment.instantiate(SCDownloadHostedPageResourcesFragment.this.getActivity(), SCDownloadHostedPageResourcesFragment.this.pageFragmentInfo.getClassName(), SCDownloadHostedPageResourcesFragment.this.pageFragmentInfo.getArguments()), "resourceDownloader");
        localFragmentTransaction.commit();
        SCDownloadHostedPageResourcesFragment.this.animateFadeIn(localView, null);
      }
    });
  }
  
  private void updateUI(boolean paramBoolean)
  {
    Resources localResources = getResources();
    if (paramBoolean)
    {
      if (this.retryButton.getParent() != null) {
        ((FrameLayout)this.retryButton.getParent()).setVisibility(0);
      }
      if (this.canBeCanceled)
      {
        localLayoutParams = (FrameLayout.LayoutParams)this.cancelButton.getLayoutParams();
        if (localLayoutParams != null)
        {
          localLayoutParams.rightMargin = DeviceUtil.dpToPx(getActivity(), 20.0F);
          localLayoutParams.gravity = 21;
          this.cancelButton.setLayoutParams(localLayoutParams);
        }
        this.downloadTitle.setText(localResources.getString(2131362417));
      }
    }
    do
    {
      return;
      if (this.retryButton.getParent() != null) {
        ((FrameLayout)this.retryButton.getParent()).setVisibility(8);
      }
    } while (!this.canBeCanceled);
    FrameLayout.LayoutParams localLayoutParams = (FrameLayout.LayoutParams)this.cancelButton.getLayoutParams();
    if (localLayoutParams != null)
    {
      localLayoutParams.rightMargin = 0;
      localLayoutParams.gravity = 17;
      this.cancelButton.setLayoutParams(localLayoutParams);
    }
    this.downloadTitle.setText(localResources.getString(2131362414));
  }
  
  protected void init()
  {
    this.progressBar = ((ProgressBar)this.fView.findViewById(2131099834));
    this.downloadTitle = ((TextView)this.fView.findViewById(2131099833));
    this.cancelButton = ((Button)this.fView.findViewById(2131099794));
    this.retryButton = ((Button)this.fView.findViewById(2131099835));
    if (App.syncEnabled)
    {
      localObject = getArguments();
      if (localObject != null)
      {
        this.hostedResources = ((List)((Bundle)localObject).getSerializable("ARG_HOSTED_RESOURCES"));
        this.pageFragmentInfo = ((FragmentInfo)((Bundle)localObject).getParcelable("ARG_PAGE_FRAGMENT_INFO"));
        this.canBeCanceled = ((Bundle)localObject).getBoolean("ARG_CAN_BE_CANCELED", true);
      }
      if ((this.hostedResources == null) || (this.pageFragmentInfo == null))
      {
        App.closePage(this);
        return;
      }
      localObject = this.pageFragmentInfo.getArguments();
      ((Bundle)localObject).setClassLoader(getActivity().getClassLoader());
      ((Bundle)localObject).putString("PAGE_TRANSITION", "FADE");
      this.downloader = new HostedResourcesDownloader();
      if (this.canBeCanceled) {
        this.cancelButton.setOnClickListener(new View.OnClickListener()
        {
          public void onClick(View paramAnonymousView)
          {
            SCDownloadHostedPageResourcesFragment.this.downloader.stopDownloading();
            App.closePage(SCDownloadHostedPageResourcesFragment.this);
          }
        });
      }
      for (;;)
      {
        this.retryButton.setOnClickListener(new View.OnClickListener()
        {
          public void onClick(View paramAnonymousView)
          {
            SCDownloadHostedPageResourcesFragment.this.downloader.startDownloading(SCDownloadHostedPageResourcesFragment.this.failedResources);
            SCDownloadHostedPageResourcesFragment.this.updateUI(false);
          }
        });
        this.downloader.startDownloading(this.hostedResources);
        updateUI(false);
        return;
        if (this.cancelButton.getParent() != null) {
          ((View)this.cancelButton.getParent()).setVisibility(8);
        }
        localObject = (FrameLayout.LayoutParams)this.retryButton.getLayoutParams();
        if (localObject != null)
        {
          ((FrameLayout.LayoutParams)localObject).leftMargin = 0;
          ((FrameLayout.LayoutParams)localObject).gravity = 17;
          this.retryButton.setLayoutParams((ViewGroup.LayoutParams)localObject);
        }
      }
    }
    this.cancelButton.setVisibility(8);
    this.retryButton.setVisibility(8);
    this.progressBar.setVisibility(8);
    Object localObject = getResources();
    this.downloadTitle.setText(((Resources)localObject).getString(2131362413));
  }
  
  public Animation onCreateAnimation(int paramInt1, boolean paramBoolean, int paramInt2)
  {
    return super.onCreateAnimation(paramInt1, paramBoolean, paramInt2);
  }
  
  public View onCreateView(LayoutInflater paramLayoutInflater, ViewGroup paramViewGroup, Bundle paramBundle)
  {
    this.fView = ((FrameLayout)paramLayoutInflater.inflate(2130903090, paramViewGroup, false));
    init();
    return this.fView;
  }
  
  public void onDestroy()
  {
    if (this.downloader != null) {
      this.downloader.stopDownloading();
    }
    super.onDestroy();
  }
  
  private static abstract interface CustomAnimationListener
  {
    public abstract void animationFinished();
  }
  
  private class HostedResourcesDownloader
  {
    private HttpURLConnection currentConnection = null;
    private volatile Thread downloadThread = null;
    
    public HostedResourcesDownloader() {}
    
    private void secondaryProgressUpdate(final int paramInt)
    {
      if (this.downloadThread == null) {
        return;
      }
      SCDownloadHostedPageResourcesFragment.this.getActivity().runOnUiThread(new Runnable()
      {
        public void run()
        {
          if (SCDownloadHostedPageResourcesFragment.this.progressBar.getMax() == 0)
          {
            SCDownloadHostedPageResourcesFragment.this.progressBar.setProgress(0);
            return;
          }
          SCDownloadHostedPageResourcesFragment.this.progressBar.setSecondaryProgress(paramInt);
        }
      });
    }
    
    private void updateProgressMaxValue(final int paramInt)
    {
      if (this.downloadThread == null) {
        return;
      }
      SCDownloadHostedPageResourcesFragment.this.getActivity().runOnUiThread(new Runnable()
      {
        public void run()
        {
          SCDownloadHostedPageResourcesFragment.this.progressBar.setMax(paramInt);
        }
      });
    }
    
    protected void postExecute(final List<HashMap<String, String>> paramList)
    {
      if (this.downloadThread == null) {
        return;
      }
      this.downloadThread = null;
      SCDownloadHostedPageResourcesFragment.this.getActivity().runOnUiThread(new Runnable()
      {
        public void run()
        {
          SCDownloadHostedPageResourcesFragment.this.downloadTaskFinished(paramList);
        }
      });
    }
    
    protected void progressUpdate(final int paramInt)
    {
      if (this.downloadThread == null) {
        return;
      }
      SCDownloadHostedPageResourcesFragment.this.getActivity().runOnUiThread(new Runnable()
      {
        public void run()
        {
          if (SCDownloadHostedPageResourcesFragment.this.progressBar.getMax() == 0)
          {
            SCDownloadHostedPageResourcesFragment.this.progressBar.setProgress(0);
            return;
          }
          SCDownloadHostedPageResourcesFragment.this.progressBar.setProgress(paramInt);
        }
      });
    }
    
    public void startDownloading(final List<HashMap<String, String>> paramList)
    {
      if (this.downloadThread != null) {
        return;
      }
      this.downloadThread = new Thread(new Runnable()
      {
        /* Error */
        private boolean downloadFile(String paramAnonymousString)
        {
          // Byte code:
          //   0: aconst_null
          //   1: astore 9
          //   3: aconst_null
          //   4: astore 10
          //   6: aconst_null
          //   7: astore 5
          //   9: aconst_null
          //   10: astore 14
          //   12: aconst_null
          //   13: astore 8
          //   15: aconst_null
          //   16: astore 12
          //   18: aconst_null
          //   19: astore 13
          //   21: aconst_null
          //   22: astore 19
          //   24: aconst_null
          //   25: astore 15
          //   27: aconst_null
          //   28: astore 11
          //   30: aconst_null
          //   31: astore 16
          //   33: aconst_null
          //   34: astore 17
          //   36: aconst_null
          //   37: astore 18
          //   39: aload 5
          //   41: astore 6
          //   43: aload 19
          //   45: astore 7
          //   47: aload_1
          //   48: invokestatic 40	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment:getHostedFilenameFromUrl	(Ljava/lang/String;)Ljava/lang/String;
          //   51: astore 20
          //   53: aload 5
          //   55: astore 6
          //   57: aload 19
          //   59: astore 7
          //   61: new 42	java/io/File
          //   64: dup
          //   65: invokestatic 48	com/qbiki/seattleclouds/App:getAppResourcesPath	()Ljava/lang/String;
          //   68: aload 20
          //   70: invokespecial 51	java/io/File:<init>	(Ljava/lang/String;Ljava/lang/String;)V
          //   73: astore 5
          //   75: new 53	java/io/FileOutputStream
          //   78: dup
          //   79: aload 5
          //   81: invokespecial 56	java/io/FileOutputStream:<init>	(Ljava/io/File;)V
          //   84: astore 6
          //   86: new 58	java/net/URL
          //   89: dup
          //   90: aload_1
          //   91: invokespecial 61	java/net/URL:<init>	(Ljava/lang/String;)V
          //   94: astore_1
          //   95: aload_0
          //   96: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   99: aload_1
          //   100: invokevirtual 65	java/net/URL:openConnection	()Ljava/net/URLConnection;
          //   103: checkcast 67	java/net/HttpURLConnection
          //   106: invokestatic 71	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$702	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;Ljava/net/HttpURLConnection;)Ljava/net/HttpURLConnection;
          //   109: pop
          //   110: aload_0
          //   111: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   114: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   117: iconst_0
          //   118: invokevirtual 79	java/net/HttpURLConnection:setUseCaches	(Z)V
          //   121: aload_0
          //   122: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   125: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   128: sipush 5000
          //   131: invokevirtual 83	java/net/HttpURLConnection:setReadTimeout	(I)V
          //   134: aload_0
          //   135: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   138: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   141: invokevirtual 87	java/net/HttpURLConnection:getContentLength	()I
          //   144: istore_2
          //   145: aload_0
          //   146: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   149: iload_2
          //   150: invokestatic 91	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$800	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;I)V
          //   153: aload_0
          //   154: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   157: iconst_0
          //   158: invokevirtual 94	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:progressUpdate	(I)V
          //   161: new 96	java/io/BufferedInputStream
          //   164: dup
          //   165: aload_1
          //   166: invokevirtual 100	java/net/URL:openStream	()Ljava/io/InputStream;
          //   169: invokespecial 103	java/io/BufferedInputStream:<init>	(Ljava/io/InputStream;)V
          //   172: astore_1
          //   173: ldc 104
          //   175: newarray byte
          //   177: astore 7
          //   179: lconst_0
          //   180: lstore_3
          //   181: aload_1
          //   182: aload 7
          //   184: invokevirtual 110	java/io/InputStream:read	([B)I
          //   187: istore_2
          //   188: iload_2
          //   189: iconst_m1
          //   190: if_icmpeq +121 -> 311
          //   193: aload_0
          //   194: invokevirtual 114	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:isCancelled	()Z
          //   197: ifne +114 -> 311
          //   200: lload_3
          //   201: iload_2
          //   202: i2l
          //   203: ladd
          //   204: lstore_3
          //   205: aload 6
          //   207: aload 7
          //   209: iconst_0
          //   210: iload_2
          //   211: invokevirtual 120	java/io/OutputStream:write	([BII)V
          //   214: aload_0
          //   215: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   218: lload_3
          //   219: l2i
          //   220: invokevirtual 94	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:progressUpdate	(I)V
          //   223: goto -42 -> 181
          //   226: astore 7
          //   228: aload 6
          //   230: astore 8
          //   232: aload_1
          //   233: astore 9
          //   235: aload 7
          //   237: astore_1
          //   238: aload 9
          //   240: astore 6
          //   242: aload 8
          //   244: astore 7
          //   246: ldc 121
          //   248: ldc 123
          //   250: aload_1
          //   251: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   254: pop
          //   255: aload 9
          //   257: astore 6
          //   259: aload 8
          //   261: astore 7
          //   263: aload 5
          //   265: invokevirtual 132	java/io/File:delete	()Z
          //   268: pop
          //   269: aload 9
          //   271: ifnull +8 -> 279
          //   274: aload 9
          //   276: invokevirtual 135	java/io/InputStream:close	()V
          //   279: aload 8
          //   281: ifnull +8 -> 289
          //   284: aload 8
          //   286: invokevirtual 136	java/io/OutputStream:close	()V
          //   289: aload_0
          //   290: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   293: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   296: ifnull +13 -> 309
          //   299: aload_0
          //   300: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   303: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   306: invokevirtual 139	java/net/HttpURLConnection:disconnect	()V
          //   309: iconst_0
          //   310: ireturn
          //   311: aload 6
          //   313: invokevirtual 142	java/io/OutputStream:flush	()V
          //   316: aload_0
          //   317: invokevirtual 114	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:isCancelled	()Z
          //   320: ifeq +75 -> 395
          //   323: aload 5
          //   325: invokevirtual 132	java/io/File:delete	()Z
          //   328: pop
          //   329: aload_1
          //   330: ifnull +7 -> 337
          //   333: aload_1
          //   334: invokevirtual 135	java/io/InputStream:close	()V
          //   337: aload 6
          //   339: ifnull +8 -> 347
          //   342: aload 6
          //   344: invokevirtual 136	java/io/OutputStream:close	()V
          //   347: aload_0
          //   348: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   351: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   354: ifnull +13 -> 367
          //   357: aload_0
          //   358: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   361: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   364: invokevirtual 139	java/net/HttpURLConnection:disconnect	()V
          //   367: iconst_0
          //   368: ireturn
          //   369: astore_1
          //   370: ldc 121
          //   372: ldc -112
          //   374: aload_1
          //   375: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   378: pop
          //   379: goto -42 -> 337
          //   382: astore_1
          //   383: ldc 121
          //   385: ldc -112
          //   387: aload_1
          //   388: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   391: pop
          //   392: goto -45 -> 347
          //   395: aload_1
          //   396: ifnull +7 -> 403
          //   399: aload_1
          //   400: invokevirtual 135	java/io/InputStream:close	()V
          //   403: aload 6
          //   405: ifnull +8 -> 413
          //   408: aload 6
          //   410: invokevirtual 136	java/io/OutputStream:close	()V
          //   413: aload_0
          //   414: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   417: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   420: ifnull +13 -> 433
          //   423: aload_0
          //   424: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   427: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   430: invokevirtual 139	java/net/HttpURLConnection:disconnect	()V
          //   433: iconst_1
          //   434: ireturn
          //   435: astore_1
          //   436: ldc 121
          //   438: ldc -112
          //   440: aload_1
          //   441: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   444: pop
          //   445: goto -42 -> 403
          //   448: astore_1
          //   449: ldc 121
          //   451: ldc -112
          //   453: aload_1
          //   454: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   457: pop
          //   458: goto -45 -> 413
          //   461: astore_1
          //   462: ldc 121
          //   464: ldc -112
          //   466: aload_1
          //   467: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   470: pop
          //   471: goto -192 -> 279
          //   474: astore_1
          //   475: ldc 121
          //   477: ldc -112
          //   479: aload_1
          //   480: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   483: pop
          //   484: goto -195 -> 289
          //   487: astore_1
          //   488: aload 12
          //   490: astore 8
          //   492: aload 16
          //   494: astore 5
          //   496: aload 9
          //   498: astore 6
          //   500: aload 8
          //   502: astore 7
          //   504: ldc 121
          //   506: ldc -112
          //   508: aload_1
          //   509: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   512: pop
          //   513: aload 9
          //   515: astore 6
          //   517: aload 8
          //   519: astore 7
          //   521: aload 5
          //   523: invokevirtual 132	java/io/File:delete	()Z
          //   526: pop
          //   527: aload 9
          //   529: ifnull +8 -> 537
          //   532: aload 9
          //   534: invokevirtual 135	java/io/InputStream:close	()V
          //   537: aload 8
          //   539: ifnull +8 -> 547
          //   542: aload 8
          //   544: invokevirtual 136	java/io/OutputStream:close	()V
          //   547: aload_0
          //   548: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   551: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   554: ifnull -245 -> 309
          //   557: aload_0
          //   558: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   561: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   564: invokevirtual 139	java/net/HttpURLConnection:disconnect	()V
          //   567: goto -258 -> 309
          //   570: astore_1
          //   571: ldc 121
          //   573: ldc -112
          //   575: aload_1
          //   576: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   579: pop
          //   580: goto -43 -> 537
          //   583: astore_1
          //   584: ldc 121
          //   586: ldc -112
          //   588: aload_1
          //   589: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   592: pop
          //   593: goto -46 -> 547
          //   596: astore_1
          //   597: aload 13
          //   599: astore 8
          //   601: aload 10
          //   603: astore 9
          //   605: aload 17
          //   607: astore 5
          //   609: aload 9
          //   611: astore 6
          //   613: aload 8
          //   615: astore 7
          //   617: ldc 121
          //   619: ldc -110
          //   621: aload_1
          //   622: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   625: pop
          //   626: aload 5
          //   628: ifnull +17 -> 645
          //   631: aload 9
          //   633: astore 6
          //   635: aload 8
          //   637: astore 7
          //   639: aload 5
          //   641: invokevirtual 132	java/io/File:delete	()Z
          //   644: pop
          //   645: aload 9
          //   647: ifnull +8 -> 655
          //   650: aload 9
          //   652: invokevirtual 135	java/io/InputStream:close	()V
          //   655: aload 8
          //   657: ifnull +8 -> 665
          //   660: aload 8
          //   662: invokevirtual 136	java/io/OutputStream:close	()V
          //   665: aload_0
          //   666: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   669: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   672: ifnull -363 -> 309
          //   675: aload_0
          //   676: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   679: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   682: invokevirtual 139	java/net/HttpURLConnection:disconnect	()V
          //   685: goto -376 -> 309
          //   688: astore_1
          //   689: ldc 121
          //   691: ldc -112
          //   693: aload_1
          //   694: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   697: pop
          //   698: goto -43 -> 655
          //   701: astore_1
          //   702: ldc 121
          //   704: ldc -112
          //   706: aload_1
          //   707: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   710: pop
          //   711: goto -46 -> 665
          //   714: astore_1
          //   715: aload 6
          //   717: ifnull +8 -> 725
          //   720: aload 6
          //   722: invokevirtual 135	java/io/InputStream:close	()V
          //   725: aload 7
          //   727: ifnull +8 -> 735
          //   730: aload 7
          //   732: invokevirtual 136	java/io/OutputStream:close	()V
          //   735: aload_0
          //   736: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   739: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   742: ifnull +13 -> 755
          //   745: aload_0
          //   746: getfield 22	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader$1:this$1	Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;
          //   749: invokestatic 75	com/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader:access$700	(Lcom/qbiki/seattleclouds/SCDownloadHostedPageResourcesFragment$HostedResourcesDownloader;)Ljava/net/HttpURLConnection;
          //   752: invokevirtual 139	java/net/HttpURLConnection:disconnect	()V
          //   755: aload_1
          //   756: athrow
          //   757: astore 5
          //   759: ldc 121
          //   761: ldc -112
          //   763: aload 5
          //   765: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   768: pop
          //   769: goto -44 -> 725
          //   772: astore 5
          //   774: ldc 121
          //   776: ldc -112
          //   778: aload 5
          //   780: invokestatic 129	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
          //   783: pop
          //   784: goto -49 -> 735
          //   787: astore_1
          //   788: aload 14
          //   790: astore 6
          //   792: aload 15
          //   794: astore 7
          //   796: goto -81 -> 715
          //   799: astore_1
          //   800: aload 6
          //   802: astore 7
          //   804: aload 14
          //   806: astore 6
          //   808: goto -93 -> 715
          //   811: astore 5
          //   813: aload 6
          //   815: astore 7
          //   817: aload_1
          //   818: astore 6
          //   820: aload 5
          //   822: astore_1
          //   823: goto -108 -> 715
          //   826: astore_1
          //   827: aload 10
          //   829: astore 9
          //   831: aload 13
          //   833: astore 8
          //   835: goto -226 -> 609
          //   838: astore_1
          //   839: aload 10
          //   841: astore 9
          //   843: aload 6
          //   845: astore 8
          //   847: goto -238 -> 609
          //   850: astore 7
          //   852: aload_1
          //   853: astore 9
          //   855: aload 7
          //   857: astore_1
          //   858: aload 6
          //   860: astore 8
          //   862: goto -253 -> 609
          //   865: astore_1
          //   866: aload 12
          //   868: astore 8
          //   870: goto -374 -> 496
          //   873: astore_1
          //   874: aload 6
          //   876: astore 8
          //   878: goto -382 -> 496
          //   881: astore 7
          //   883: aload_1
          //   884: astore 9
          //   886: aload 7
          //   888: astore_1
          //   889: aload 6
          //   891: astore 8
          //   893: goto -397 -> 496
          //   896: astore_1
          //   897: aload 18
          //   899: astore 5
          //   901: aload 8
          //   903: astore 9
          //   905: aload 11
          //   907: astore 8
          //   909: goto -671 -> 238
          //   912: astore_1
          //   913: aload 8
          //   915: astore 9
          //   917: aload 11
          //   919: astore 8
          //   921: goto -683 -> 238
          //   924: astore_1
          //   925: aload 8
          //   927: astore 9
          //   929: aload 6
          //   931: astore 8
          //   933: goto -695 -> 238
          // Local variable table:
          //   start	length	slot	name	signature
          //   0	936	0	this	1
          //   0	936	1	paramAnonymousString	String
          //   144	67	2	i	int
          //   180	39	3	l	long
          //   7	633	5	localObject1	Object
          //   757	7	5	localIOException1	java.io.IOException
          //   772	7	5	localIOException2	java.io.IOException
          //   811	10	5	localObject2	Object
          //   899	1	5	localObject3	Object
          //   41	889	6	localObject4	Object
          //   45	163	7	localObject5	Object
          //   226	10	7	localMalformedURLException	java.net.MalformedURLException
          //   244	572	7	localObject6	Object
          //   850	6	7	localException	Exception
          //   881	6	7	localIOException3	java.io.IOException
          //   13	919	8	localObject7	Object
          //   1	927	9	localObject8	Object
          //   4	836	10	localObject9	Object
          //   28	890	11	localObject10	Object
          //   16	851	12	localObject11	Object
          //   19	813	13	localObject12	Object
          //   10	795	14	localObject13	Object
          //   25	768	15	localObject14	Object
          //   31	462	16	localObject15	Object
          //   34	572	17	localObject16	Object
          //   37	861	18	localObject17	Object
          //   22	36	19	localObject18	Object
          //   51	18	20	str	String
          // Exception table:
          //   from	to	target	type
          //   173	179	226	java/net/MalformedURLException
          //   181	188	226	java/net/MalformedURLException
          //   193	200	226	java/net/MalformedURLException
          //   205	223	226	java/net/MalformedURLException
          //   311	329	226	java/net/MalformedURLException
          //   333	337	369	java/io/IOException
          //   342	347	382	java/io/IOException
          //   399	403	435	java/io/IOException
          //   408	413	448	java/io/IOException
          //   274	279	461	java/io/IOException
          //   284	289	474	java/io/IOException
          //   47	53	487	java/io/IOException
          //   61	75	487	java/io/IOException
          //   532	537	570	java/io/IOException
          //   542	547	583	java/io/IOException
          //   47	53	596	java/lang/Exception
          //   61	75	596	java/lang/Exception
          //   650	655	688	java/io/IOException
          //   660	665	701	java/io/IOException
          //   47	53	714	finally
          //   61	75	714	finally
          //   246	255	714	finally
          //   263	269	714	finally
          //   504	513	714	finally
          //   521	527	714	finally
          //   617	626	714	finally
          //   639	645	714	finally
          //   720	725	757	java/io/IOException
          //   730	735	772	java/io/IOException
          //   75	86	787	finally
          //   86	173	799	finally
          //   173	179	811	finally
          //   181	188	811	finally
          //   193	200	811	finally
          //   205	223	811	finally
          //   311	329	811	finally
          //   75	86	826	java/lang/Exception
          //   86	173	838	java/lang/Exception
          //   173	179	850	java/lang/Exception
          //   181	188	850	java/lang/Exception
          //   193	200	850	java/lang/Exception
          //   205	223	850	java/lang/Exception
          //   311	329	850	java/lang/Exception
          //   75	86	865	java/io/IOException
          //   86	173	873	java/io/IOException
          //   173	179	881	java/io/IOException
          //   181	188	881	java/io/IOException
          //   193	200	881	java/io/IOException
          //   205	223	881	java/io/IOException
          //   311	329	881	java/io/IOException
          //   47	53	896	java/net/MalformedURLException
          //   61	75	896	java/net/MalformedURLException
          //   75	86	912	java/net/MalformedURLException
          //   86	173	924	java/net/MalformedURLException
        }
        
        public boolean isCancelled()
        {
          return SCDownloadHostedPageResourcesFragment.HostedResourcesDownloader.this.downloadThread == null;
        }
        
        public void run()
        {
          ArrayList localArrayList = new ArrayList();
          SCDownloadHostedPageResourcesFragment.HostedResourcesDownloader.this.progressUpdate(0);
          SCDownloadHostedPageResourcesFragment.HostedResourcesDownloader.this.secondaryProgressUpdate(0);
          int i = 0;
          Iterator localIterator = paramList.iterator();
          HashMap localHashMap;
          String str;
          do
          {
            if (localIterator.hasNext())
            {
              localHashMap = (HashMap)localIterator.next();
              if (!isCancelled()) {}
            }
            else
            {
              SCDownloadHostedPageResourcesFragment.HostedResourcesDownloader.this.postExecute(localArrayList);
              return;
            }
            str = (String)localHashMap.get("url");
          } while (str == null);
          SCDownloadHostedPageResourcesFragment.HostedResourcesDownloader.access$702(SCDownloadHostedPageResourcesFragment.HostedResourcesDownloader.this, null);
          if (!downloadFile(str)) {
            localArrayList.add(localHashMap);
          }
          for (;;)
          {
            SCDownloadHostedPageResourcesFragment.HostedResourcesDownloader.this.secondaryProgressUpdate(i);
            break;
            i += 1;
          }
        }
      });
      this.downloadThread.start();
    }
    
    public void stopDownloading()
    {
      this.downloadThread = null;
    }
  }
}
