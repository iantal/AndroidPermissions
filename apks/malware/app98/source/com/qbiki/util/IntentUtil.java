package com.qbiki.util;

import android.app.Activity;
import android.content.ActivityNotFoundException;
import android.content.Intent;
import android.net.Uri;
import android.widget.Toast;

public class IntentUtil
{
  public IntentUtil() {}
  
  public static void activityNotFoundToast(Activity paramActivity)
  {
    if (paramActivity == null) {
      return;
    }
    Toast.makeText(paramActivity, 2131361938, 0).show();
  }
  
  public static void mailTo(Activity paramActivity, String paramString)
  {
    String str1 = "mailto:" + paramString;
    try
    {
      paramActivity.startActivity(new Intent("android.intent.action.VIEW", Uri.parse(str1)));
      return;
    }
    catch (ActivityNotFoundException localActivityNotFoundException)
    {
      String str2 = paramString;
      int i = paramString.indexOf('?');
      if (i != -1) {
        str2 = paramString.substring(0, i);
      }
      i = str2.indexOf(',');
      paramString = str2;
      if (i != -1) {
        paramString = str2.substring(0, i);
      }
      sendMail(paramActivity, paramString);
    }
  }
  
  public static void mapsLatLon(Activity paramActivity, String paramString)
  {
    if (paramActivity == null) {
      return;
    }
    String str = "geo:" + paramString;
    Intent localIntent2 = new Intent("android.intent.action.VIEW");
    localIntent2.setData(Uri.parse(str));
    try
    {
      paramActivity.startActivity(localIntent2);
      return;
    }
    catch (ActivityNotFoundException localActivityNotFoundException)
    {
      paramString = "http://maps.google.com/maps?q=" + paramString;
      Intent localIntent1 = new Intent("android.intent.action.VIEW");
      localIntent1.setData(Uri.parse(paramString));
      startActivitySafe(paramActivity, localIntent1);
    }
  }
  
  public static void mapsQuery(Activity paramActivity, String paramString)
  {
    if (paramActivity == null) {
      return;
    }
    String str = "geo:0,0?q=" + paramString;
    Intent localIntent2 = new Intent("android.intent.action.VIEW");
    localIntent2.setData(Uri.parse(str));
    try
    {
      paramActivity.startActivity(localIntent2);
      return;
    }
    catch (ActivityNotFoundException localActivityNotFoundException)
    {
      paramString = "http://maps.google.com/maps?q=" + paramString;
      Intent localIntent1 = new Intent("android.intent.action.VIEW");
      localIntent1.setData(Uri.parse(paramString));
      startActivitySafe(paramActivity, localIntent1);
    }
  }
  
  public static void sendMail(Activity paramActivity, String paramString)
  {
    Intent localIntent = new Intent("android.intent.action.SEND");
    localIntent.setType("plain/text");
    localIntent.putExtra("android.intent.extra.EMAIL", new String[] { paramString });
    try
    {
      paramActivity.startActivity(localIntent);
      return;
    }
    catch (ActivityNotFoundException paramString)
    {
      localIntent.setType("text/plain");
      startActivitySafe(paramActivity, localIntent);
    }
  }
  
  public static void sendSms(Activity paramActivity, String paramString1, String paramString2)
  {
    paramString1 = new Intent("android.intent.action.SENDTO", Uri.parse("sms:" + paramString1));
    paramString1.putExtra("sms_body", paramString2);
    paramString1.putExtra("android.intent.extra.TEXT", paramString2);
    startActivitySafe(paramActivity, paramString1);
  }
  
  public static void startActivitySafe(Activity paramActivity, Intent paramIntent)
  {
    try
    {
      paramActivity.startActivity(paramIntent);
      return;
    }
    catch (ActivityNotFoundException paramIntent)
    {
      activityNotFoundToast(paramActivity);
    }
  }
}
