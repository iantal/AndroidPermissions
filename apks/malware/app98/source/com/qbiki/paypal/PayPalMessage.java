package com.qbiki.paypal;

import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.TextView;
import com.qbiki.seattleclouds.App;
import com.qbiki.seattleclouds.AppStarterActivity;
import com.qbiki.seattleclouds.SCActivity;
import java.util.Hashtable;

public class PayPalMessage
  extends SCActivity
{
  public PayPalMessage() {}
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    setContentView(2130903183);
    Object localObject = getIntent().getData();
    paramBundle = new Hashtable();
    int i = ((Uri)localObject).toString().indexOf("?");
    if (i != -1)
    {
      localObject = ((Uri)localObject).toString().substring(i + 1).split("&");
      int j = localObject.length;
      i = 0;
      while (i < j)
      {
        String[] arrayOfString = localObject[i].split("=");
        paramBundle.put(arrayOfString[0], arrayOfString[1]);
        i += 1;
      }
    }
    App.paypalProc = new PayPalProcessing(false, this);
    paramBundle = App.paypalProc.checkTransactionAfterPay(paramBundle);
    localObject = getIntent().getExtras();
    if (localObject != null) {
      paramBundle = ((Bundle)localObject).getString("message");
    }
    ((TextView)findViewById(2131100096)).setText(paramBundle);
    ((Button)findViewById(2131099727)).setOnClickListener(new View.OnClickListener()
    {
      public void onClick(View paramAnonymousView)
      {
        paramAnonymousView = new Intent(PayPalMessage.this, AppStarterActivity.class);
        paramAnonymousView.addFlags(268435456);
        paramAnonymousView.addFlags(2097152);
        paramAnonymousView.setAction("android.intent.action.MAIN");
        paramAnonymousView.addCategory("android.intent.category.LAUNCHER");
        PayPalMessage.this.startActivity(paramAnonymousView);
        PayPalMessage.this.finish();
      }
    });
  }
}
