package com.qbiki.modules.scoreboard;

import android.content.Context;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.Spinner;
import android.widget.SpinnerAdapter;
import android.widget.TextView;
import com.qbiki.util.StyleUtil;
import java.util.HashMap;

public class RowView
{
  private final Context context;
  TableRowViewHolder holder;
  HashMap<String, Integer> round;
  private String roundNumberTitle;
  private Bundle style;
  
  public RowView(Context paramContext, HashMap<String, Integer> paramHashMap, String paramString, Bundle paramBundle)
  {
    this.context = paramContext;
    this.round = paramHashMap;
    this.style = paramBundle;
    paramContext = paramString;
    if (paramString == null) {
      paramContext = "#";
    }
    setRoundNumberTitle(paramContext);
  }
  
  private void initSpinner(Context paramContext, Spinner paramSpinner)
  {
    Object localObject = new String[7];
    int j = 10;
    int i = 0;
    while (j > 4)
    {
      localObject[i] = ("" + j);
      j -= 1;
      i += 1;
    }
    localObject[6] = "0";
    localObject = new ArrayAdapter(paramContext, 17367048, (Object[])localObject);
    ((ArrayAdapter)localObject).setDropDownViewResource(17367049);
    if ((paramSpinner != null) && (localObject != null)) {
      paramSpinner.setAdapter((SpinnerAdapter)localObject);
    }
    paramSpinner.setPrompt(paramContext.getString(2131362228));
  }
  
  private void selectItem(Spinner paramSpinner, String paramString)
  {
    SpinnerAdapter localSpinnerAdapter = paramSpinner.getAdapter();
    if (paramString == null) {
      return;
    }
    int i = 0;
    while (i < localSpinnerAdapter.getCount())
    {
      if (((String)localSpinnerAdapter.getItem(i)).compareTo(paramString) == 0)
      {
        paramSpinner.setSelection(i);
        return;
      }
      i += 1;
    }
    paramSpinner.setSelection(-1);
  }
  
  public String getRoundNumberTitle()
  {
    return this.roundNumberTitle;
  }
  
  public View getView(View paramView)
  {
    if (paramView == null)
    {
      paramView = (ViewGroup)((LayoutInflater)this.context.getSystemService("layout_inflater")).inflate(2130903207, null);
      this.holder = new TableRowViewHolder((Spinner)paramView.findViewById(2131100199), (Spinner)paramView.findViewById(2131100201), (TextView)paramView.findViewById(2131100200));
      paramView.setTag(this.holder);
      initSpinner(this.context, this.holder.fighter1Scores);
      initSpinner(this.context, this.holder.fighter2Scores);
      StyleUtil.setTextColor(this.holder.txtRoundNumber, this.style);
    }
    for (;;)
    {
      selectItem(this.holder.fighter1Scores, ((Integer)this.round.get("fighter1Scores")).toString());
      selectItem(this.holder.fighter2Scores, ((Integer)this.round.get("fighter2Scores")).toString());
      this.holder.txtRoundNumber.setText(this.roundNumberTitle);
      return paramView;
      View localView = paramView;
      this.holder = ((TableRowViewHolder)paramView.getTag());
      paramView = localView;
    }
  }
  
  public int getViewType()
  {
    return 0;
  }
  
  public void setRoundNumberTitle(String paramString)
  {
    this.roundNumberTitle = paramString;
  }
  
  private class TableRowViewHolder
  {
    final Spinner fighter1Scores;
    final Spinner fighter2Scores;
    final TextView txtRoundNumber;
    
    TableRowViewHolder(Spinner paramSpinner1, Spinner paramSpinner2, TextView paramTextView)
    {
      this.fighter1Scores = paramSpinner1;
      this.fighter2Scores = paramSpinner2;
      this.txtRoundNumber = paramTextView;
    }
  }
}
