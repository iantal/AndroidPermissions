package com.qbiki.modules.barcodescanner;

import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.TextView;
import com.google.zxing.client.android.Result;
import com.google.zxing.client.android.ResultButtonListener;
import com.google.zxing.client.android.ResultHandler;
import com.google.zxing.client.android.ResultHandlerFactory;
import com.qbiki.seattleclouds.SCFragment;

public class BarcodeDescriptionFragment
  extends SCFragment
{
  private CharSequence description = "";
  private View fView = null;
  private String raw_data = "";
  public ResultHandler resultHandler = null;
  
  public BarcodeDescriptionFragment() {}
  
  protected void init()
  {
    Object localObject1 = "";
    Object localObject2 = getArguments();
    if (localObject2 != null)
    {
      this.raw_data = ((Bundle)localObject2).getString("RAW_DATA");
      localObject1 = ((Bundle)localObject2).getString("CROP_PATH");
    }
    localObject2 = new Result(this.raw_data);
    this.resultHandler = ResultHandlerFactory.makeResultHandler(getActivity(), (Result)localObject2);
    this.description = this.resultHandler.getDisplayContents();
    ((TextView)this.fView.findViewById(2131099731)).setText(this.description);
    if (this.resultHandler != null)
    {
      int j = this.resultHandler.getButtonCount();
      localObject2 = (ViewGroup)this.fView.findViewById(2131099732);
      ((ViewGroup)localObject2).requestFocus();
      int i = 0;
      if (i < 4)
      {
        TextView localTextView = (TextView)((ViewGroup)localObject2).getChildAt(i);
        if (i < j)
        {
          localTextView.setVisibility(0);
          localTextView.setText(this.resultHandler.getButtonText(i));
          localTextView.setOnClickListener(new ResultButtonListener(this.resultHandler, i));
        }
        for (;;)
        {
          i += 1;
          break;
          localTextView.setVisibility(8);
        }
      }
    }
    if (localObject1 != null)
    {
      localObject1 = BitmapFactory.decodeFile((String)localObject1);
      ((ImageView)this.fView.findViewById(2131099729)).setImageBitmap((Bitmap)localObject1);
    }
  }
  
  public View onCreateView(LayoutInflater paramLayoutInflater, ViewGroup paramViewGroup, Bundle paramBundle)
  {
    this.fView = paramLayoutInflater.inflate(2130903068, paramViewGroup, false);
    init();
    return this.fView;
  }
}
