package com.baidu.mobstat;

import android.content.Context;
import android.os.Process;

class z
  extends Thread
{
  private static z a = new z();
  private Context b;
  private boolean c = false;
  private boolean d = false;
  
  private z() {}
  
  public static z a()
  {
    return a;
  }
  
  private void d()
  {
    this.c = true;
  }
  
  private void e()
  {
    try
    {
      this.d = true;
      return;
    }
    finally
    {
      localObject = finally;
      throw localObject;
    }
  }
  
  public void a(Context paramContext)
  {
    if ((paramContext == null) || (b())) {
      return;
    }
    this.b = paramContext;
    d();
    start();
    au.a().a(new Object[] { "**************load caceh**start********" });
  }
  
  public boolean b()
  {
    return this.c;
  }
  
  public boolean c()
  {
    try
    {
      boolean bool = this.d;
      return bool;
    }
    finally
    {
      localObject = finally;
      throw localObject;
    }
  }
  
  public void run()
  {
    Process.setThreadPriority(19);
    while (!this.d)
    {
      aa.a().a(this.b);
      DataCore.getInstance().loadStatData(this.b);
      DataCore.getInstance().loadLastSession(this.b);
      e();
      synchronized (a)
      {
        try
        {
          notifyAll();
          DataCore.getInstance().installHeader(this.b);
          aa.a().b(this.b);
          au.a().a(new Object[] { "**************load caceh**end********" });
        }
        catch (IllegalMonitorStateException localIllegalMonitorStateException)
        {
          for (;;)
          {
            au.a().a("statsdk", localIllegalMonitorStateException);
          }
        }
      }
    }
  }
}
