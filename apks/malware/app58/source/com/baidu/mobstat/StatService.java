package com.baidu.mobstat;

import android.app.Activity;
import android.content.Context;
import android.support.v4.app.Fragment;

public class StatService
{
  public static final int EXCEPTION_LOG = 1;
  private static boolean a = false;
  
  public StatService() {}
  
  private static void a(Context paramContext)
  {
    if (!a(paramContext, "onError(...)")) {
      return;
    }
    y.a().a(paramContext.getApplicationContext());
    aa.a().a(true, paramContext.getApplicationContext());
  }
  
  private static boolean a()
  {
    return a;
  }
  
  private static boolean a(Context paramContext, String paramString)
  {
    if (paramContext == null)
    {
      au.a().c(new Object[] { "statsdk", paramString + ":context=null" });
      return false;
    }
    return true;
  }
  
  static boolean a(Class<?> paramClass, String paramString)
  {
    int i = 2;
    StackTraceElement[] arrayOfStackTraceElement = new Throwable().getStackTrace();
    au.a().a(new Object[] { "isCalledBy", Integer.valueOf(arrayOfStackTraceElement.length), paramClass, paramString });
    if (arrayOfStackTraceElement.length >= 2) {
      while (i < arrayOfStackTraceElement.length)
      {
        if (arrayOfStackTraceElement[i].getMethodName().equals(paramString)) {
          return true;
        }
        i += 1;
      }
    }
    return false;
  }
  
  private static void b()
  {
    a = true;
  }
  
  private static void b(Context paramContext)
  {
    if (!z.a().b()) {
      z.a().a(paramContext.getApplicationContext());
    }
  }
  
  public static void onEvent(Context paramContext, String paramString1, String paramString2)
  {
    onEvent(paramContext, paramString1, paramString2, 1);
  }
  
  public static void onEvent(Context paramContext, String paramString1, String paramString2, int paramInt)
  {
    if (!a(paramContext, "onEvent(...)")) {}
    while ((paramString1 == null) || (paramString1.equals(""))) {
      return;
    }
    b(paramContext);
    s.a().a(paramContext.getApplicationContext(), paramString1, paramString2, paramInt, System.currentTimeMillis());
  }
  
  public static void onEventDuration(Context paramContext, String paramString1, String paramString2, long paramLong)
  {
    if (!a(paramContext, "onEventDuration(...)")) {}
    while ((paramString1 == null) || (paramString1.equals(""))) {
      return;
    }
    if (paramLong <= 0L)
    {
      au.a().b(new Object[] { "statsdk", "onEventDuration: duration must be greater than zero" });
      return;
    }
    b(paramContext);
    s.a().c(paramContext.getApplicationContext(), paramString1, paramString2, paramLong);
  }
  
  public static void onEventEnd(Context paramContext, String paramString1, String paramString2)
  {
    if (!a(paramContext, "onEventEnd(...)")) {}
    while ((paramString1 == null) || (paramString1.equals(""))) {
      return;
    }
    b(paramContext);
    s.a().b(paramContext.getApplicationContext(), paramString1, paramString2, System.currentTimeMillis());
  }
  
  public static void onEventStart(Context paramContext, String paramString1, String paramString2)
  {
    if (!a(paramContext, "onEventStart(...)")) {}
    while ((paramString1 == null) || (paramString1.equals(""))) {
      return;
    }
    b(paramContext);
    s.a().a(paramContext.getApplicationContext(), paramString1, paramString2, System.currentTimeMillis());
  }
  
  /* Error */
  public static void onPageEnd(Context paramContext, String paramString)
  {
    // Byte code:
    //   0: ldc 2
    //   2: monitorenter
    //   3: aload_0
    //   4: ifnull +16 -> 20
    //   7: aload_1
    //   8: ifnull +12 -> 20
    //   11: aload_1
    //   12: ldc 120
    //   14: invokevirtual 100	java/lang/String:equals	(Ljava/lang/Object;)Z
    //   17: ifeq +28 -> 45
    //   20: invokestatic 50	com/baidu/mobstat/au:a	()Lcom/baidu/mobstat/at;
    //   23: iconst_2
    //   24: anewarray 4	java/lang/Object
    //   27: dup
    //   28: iconst_0
    //   29: ldc 52
    //   31: aastore
    //   32: dup
    //   33: iconst_1
    //   34: ldc -96
    //   36: aastore
    //   37: invokevirtual 71	com/baidu/mobstat/at:c	([Ljava/lang/Object;)I
    //   40: pop
    //   41: ldc 2
    //   43: monitorexit
    //   44: return
    //   45: invokestatic 50	com/baidu/mobstat/au:a	()Lcom/baidu/mobstat/at;
    //   48: ldc -94
    //   50: new 54	java/lang/StringBuilder
    //   53: dup
    //   54: invokespecial 55	java/lang/StringBuilder:<init>	()V
    //   57: ldc -92
    //   59: invokevirtual 59	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   62: aload_1
    //   63: invokevirtual 59	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   66: invokevirtual 65	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   69: invokevirtual 167	com/baidu/mobstat/at:a	(Ljava/lang/String;Ljava/lang/String;)I
    //   72: pop
    //   73: invokestatic 172	com/baidu/mobstat/ag:b	()Lcom/baidu/mobstat/ag;
    //   76: aload_0
    //   77: invokestatic 133	java/lang/System:currentTimeMillis	()J
    //   80: aload_1
    //   81: invokevirtual 175	com/baidu/mobstat/ag:b	(Landroid/content/Context;JLjava/lang/String;)V
    //   84: goto -43 -> 41
    //   87: astore_0
    //   88: ldc 2
    //   90: monitorexit
    //   91: aload_0
    //   92: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	93	0	paramContext	Context
    //   0	93	1	paramString	String
    // Exception table:
    //   from	to	target	type
    //   11	20	87	finally
    //   20	41	87	finally
    //   45	84	87	finally
  }
  
  /* Error */
  public static void onPageStart(Context paramContext, String paramString)
  {
    // Byte code:
    //   0: ldc 2
    //   2: monitorenter
    //   3: aload_0
    //   4: ifnull +16 -> 20
    //   7: aload_1
    //   8: ifnull +12 -> 20
    //   11: aload_1
    //   12: ldc 120
    //   14: invokevirtual 100	java/lang/String:equals	(Ljava/lang/Object;)Z
    //   17: ifeq +28 -> 45
    //   20: invokestatic 50	com/baidu/mobstat/au:a	()Lcom/baidu/mobstat/at;
    //   23: iconst_2
    //   24: anewarray 4	java/lang/Object
    //   27: dup
    //   28: iconst_0
    //   29: ldc 52
    //   31: aastore
    //   32: dup
    //   33: iconst_1
    //   34: ldc -78
    //   36: aastore
    //   37: invokevirtual 71	com/baidu/mobstat/at:c	([Ljava/lang/Object;)I
    //   40: pop
    //   41: ldc 2
    //   43: monitorexit
    //   44: return
    //   45: invokestatic 50	com/baidu/mobstat/au:a	()Lcom/baidu/mobstat/at;
    //   48: ldc -94
    //   50: new 54	java/lang/StringBuilder
    //   53: dup
    //   54: invokespecial 55	java/lang/StringBuilder:<init>	()V
    //   57: ldc -76
    //   59: invokevirtual 59	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   62: aload_1
    //   63: invokevirtual 59	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   66: invokevirtual 65	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   69: invokevirtual 167	com/baidu/mobstat/at:a	(Ljava/lang/String;Ljava/lang/String;)I
    //   72: pop
    //   73: aload_0
    //   74: invokestatic 122	com/baidu/mobstat/StatService:b	(Landroid/content/Context;)V
    //   77: invokestatic 172	com/baidu/mobstat/ag:b	()Lcom/baidu/mobstat/ag;
    //   80: aload_0
    //   81: invokestatic 133	java/lang/System:currentTimeMillis	()J
    //   84: aload_1
    //   85: invokevirtual 182	com/baidu/mobstat/ag:a	(Landroid/content/Context;JLjava/lang/String;)V
    //   88: goto -47 -> 41
    //   91: astore_0
    //   92: ldc 2
    //   94: monitorexit
    //   95: aload_0
    //   96: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	97	0	paramContext	Context
    //   0	97	1	paramString	String
    // Exception table:
    //   from	to	target	type
    //   11	20	91	finally
    //   20	41	91	finally
    //   45	88	91	finally
  }
  
  public static void onPause(Context paramContext)
  {
    for (;;)
    {
      try
      {
        boolean bool = a(paramContext, "onPause(...)");
        if (!bool) {
          return;
        }
        if (!a(Activity.class, "onPause")) {
          throw new SecurityException("onPause(Context context)不在Activity.onPause()中被调用||onPause(Context context)is not called in Activity.onPause().");
        }
      }
      finally {}
      ag.b().b(paramContext, System.currentTimeMillis());
    }
  }
  
  public static void onPause(Fragment paramFragment)
  {
    if (paramFragment == null) {}
    for (;;)
    {
      try
      {
        au.a().c(new Object[] { "statsdk", "onResume :parame=null" });
        return;
      }
      finally {}
      if (!a(Fragment.class, "onPause")) {
        throw new SecurityException("Fragment onPause(Context context)不在Fragment.onPause()中被调用||onPause(Context context)is not called in Fragment.onPause().");
      }
      ag.b().b(paramFragment, System.currentTimeMillis());
    }
  }
  
  public static void onPause(Object paramObject)
  {
    if (paramObject == null) {}
    for (;;)
    {
      try
      {
        au.a().c(new Object[] { "statsdk", "android.app.Fragment onResume :parame=null" });
        return;
      }
      finally {}
      if (!a(paramObject.getClass(), "onPause")) {
        throw new SecurityException("android.app.Fragment onPause(Context context)不在android.app.Fragment.onPause()中被调用||onPause(Context context)is not called in android.app.Fragment.onPause().");
      }
      ag.b().b(paramObject, System.currentTimeMillis());
    }
  }
  
  public static void onResume(Context paramContext)
  {
    for (;;)
    {
      try
      {
        boolean bool = a(paramContext, "onResume(...)");
        if (!bool) {
          return;
        }
        if (!a(Activity.class, "onResume")) {
          throw new SecurityException("onResume(Context context)不在Activity.onResume()中被调用||onResume(Context context)is not called in Activity.onResume().");
        }
      }
      finally {}
      b(paramContext);
      ag.b().a(paramContext, System.currentTimeMillis());
    }
  }
  
  public static void onResume(Fragment paramFragment)
  {
    if (paramFragment == null) {}
    for (;;)
    {
      try
      {
        au.a().c(new Object[] { "statsdk", "onResume :parame=null" });
        return;
      }
      finally {}
      if (!a(Fragment.class, "onResume")) {
        throw new SecurityException("onResume(Context context)不在Activity.onResume()中被调用||onResume(Context context)is not called in Activity.onResume().");
      }
      b(paramFragment.getActivity());
      ag.b().a(paramFragment, System.currentTimeMillis());
    }
  }
  
  public static void onResume(Object paramObject)
  {
    if (paramObject == null) {}
    for (;;)
    {
      try
      {
        au.a().c(new Object[] { "statsdk", "onResume :parame=null" });
        return;
      }
      finally {}
      if (!a(paramObject.getClass(), "onResume")) {
        throw new SecurityException("onResume(Context context)不在Activity.onResume()中被调用||onResume(Context context)is not called in Activity.onResume().");
      }
      b(ag.a(paramObject));
      ag.b().a(paramObject, System.currentTimeMillis());
    }
  }
  
  public static void setAppChannel(Context paramContext, String paramString, boolean paramBoolean)
  {
    DataCore.getInstance().setAppChannel(paramContext, paramString, paramBoolean);
  }
  
  public static void setAppChannel(String paramString)
  {
    DataCore.getInstance().setAppChannel(paramString);
  }
  
  public static void setAppKey(String paramString)
  {
    DataCore.getInstance().setAppKey(paramString);
  }
  
  public static void setDebugOn(boolean paramBoolean)
  {
    if (paramBoolean)
    {
      aq.a = 2;
      au.a().a(aq.a);
      return;
    }
    aq.a = 7;
    au.a().a(aq.a);
  }
  
  public static void setLogSenderDelayed(int paramInt)
  {
    aa.a().a(paramInt);
  }
  
  public static void setOn(Context paramContext, int paramInt)
  {
    if (!a(paramContext, "setOn(...)")) {}
    do
    {
      do
      {
        return;
        if (!a(Activity.class, "onCreate")) {
          throw new SecurityException("setOn()没有在Activity.onCreate()内被调用||setOn()is not called in Activity.onCreate().");
        }
      } while (a());
      b();
    } while ((paramInt & 0x1) == 0);
    a(paramContext);
  }
  
  public static void setSendLogStrategy(Context paramContext, SendStrategyEnum paramSendStrategyEnum, int paramInt)
  {
    setSendLogStrategy(paramContext, paramSendStrategyEnum, paramInt, false);
  }
  
  public static void setSendLogStrategy(Context paramContext, SendStrategyEnum paramSendStrategyEnum, int paramInt, boolean paramBoolean)
  {
    if (!a(paramContext, "setSendLogStrategy(...)")) {
      return;
    }
    b(paramContext);
    aa.a().a(paramContext.getApplicationContext(), paramSendStrategyEnum, paramInt, paramBoolean);
  }
  
  public static void setSessionTimeOut(int paramInt)
  {
    if (paramInt <= 0)
    {
      au.a().a("SessionTimeOut is between 1 and 600. Default value[30] is used");
      return;
    }
    if (paramInt <= 600)
    {
      ag.b().a(paramInt);
      return;
    }
    au.a().a("SessionTimeOut is between 1 and 600. Value[600] is used");
    ag.b().a(paramInt);
  }
}
