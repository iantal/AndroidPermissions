package com.bx.pay.netx.core.image;

import android.content.Context;
import android.text.TextUtils;
import android.util.AttributeSet;
import android.view.ViewGroup.LayoutParams;
import android.widget.ImageView;
import com.bx.pay.netx.core.d.g;
import com.bx.pay.netx.core.d.l;

public class NetworkImageView
  extends ImageView
{
  private String a;
  private int b;
  private int c;
  private g d;
  private l e;
  
  public NetworkImageView(Context paramContext, AttributeSet paramAttributeSet)
  {
    this(paramContext, paramAttributeSet, 0);
  }
  
  public NetworkImageView(Context paramContext, AttributeSet paramAttributeSet, int paramInt)
  {
    super(paramContext, paramAttributeSet, paramInt);
  }
  
  private void a()
  {
    if (this.b != 0)
    {
      setImageResource(this.b);
      return;
    }
    setImageBitmap(null);
  }
  
  protected void drawableStateChanged()
  {
    super.drawableStateChanged();
    invalidate();
  }
  
  protected void onDetachedFromWindow()
  {
    if (this.e != null)
    {
      this.e.a();
      setImageBitmap(null);
      this.e = null;
    }
    super.onDetachedFromWindow();
  }
  
  protected void onLayout(boolean paramBoolean, int paramInt1, int paramInt2, int paramInt3, int paramInt4)
  {
    int i = 0;
    int j = 1;
    super.onLayout(paramBoolean, paramInt1, paramInt2, paramInt3, paramInt4);
    int k = getWidth();
    paramInt4 = getHeight();
    if (getLayoutParams() != null) {
      if (getLayoutParams().width == -2)
      {
        paramInt2 = 1;
        if (getLayoutParams().height != -2) {
          break label130;
        }
        paramInt1 = 1;
      }
    }
    for (;;)
    {
      label64:
      if ((paramInt2 != 0) && (paramInt1 != 0))
      {
        paramInt3 = j;
        label76:
        if ((k != 0) || (paramInt4 != 0) || (paramInt3 != 0))
        {
          if (!TextUtils.isEmpty(this.a)) {
            break label141;
          }
          if (this.e != null)
          {
            this.e.a();
            this.e = null;
          }
          a();
        }
      }
      label130:
      label141:
      do
      {
        return;
        paramInt2 = 0;
        break;
        paramInt1 = 0;
        break label64;
        paramInt3 = 0;
        break label76;
        if ((this.e == null) || (this.e.c() == null)) {
          break label182;
        }
      } while (this.e.c().equals(this.a));
      this.e.a();
      label182:
      if (paramInt2 != 0)
      {
        paramInt2 = 0;
        if (paramInt1 == 0) {
          break label227;
        }
      }
      label227:
      for (paramInt1 = i;; paramInt1 = paramInt4)
      {
        this.e = this.d.a(this.a, new a(this), paramInt2, paramInt1);
        return;
        paramInt2 = k;
        break;
      }
      paramInt1 = 0;
      paramInt2 = 0;
    }
  }
}
