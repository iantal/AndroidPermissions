package com.google.android.gms.internal;

import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.ServiceConnection;
import android.os.IBinder;

public final class gb
  extends gv
  implements ServiceConnection
{
  private boolean a = false;
  private Context b;
  private int c;
  private Intent d;
  private fu e;
  private ga f;
  private String g;
  
  public gb(Context paramContext, String paramString, boolean paramBoolean, int paramInt, Intent paramIntent, ga paramGa)
  {
    this.g = paramString;
    this.c = paramInt;
    this.d = paramIntent;
    this.a = paramBoolean;
    this.b = paramContext;
    this.f = paramGa;
  }
  
  public final boolean a()
  {
    return this.a;
  }
  
  public final String b()
  {
    return this.g;
  }
  
  public final Intent c()
  {
    return this.d;
  }
  
  public final int d()
  {
    return this.c;
  }
  
  public final void e()
  {
    int i = ge.a(this.d);
    if ((this.c != -1) || (i != 0)) {
      return;
    }
    this.e = new fu(this.b);
    Context localContext1 = this.b;
    Intent localIntent = new Intent("com.android.vending.billing.InAppBillingService.BIND");
    Context localContext2 = this.b;
    localContext1.bindService(localIntent, this, 1);
  }
  
  public final void onServiceConnected(ComponentName paramComponentName, IBinder paramIBinder)
  {
    mi.c("In-app billing service connected.");
    this.e.a(paramIBinder);
    paramComponentName = ge.b(ge.b(this.d));
    if (paramComponentName == null) {
      return;
    }
    if (this.e.a(this.b.getPackageName(), paramComponentName) == 0) {
      gc.a(this.b).a(this.f);
    }
    this.b.unbindService(this);
    this.e.a();
  }
  
  public final void onServiceDisconnected(ComponentName paramComponentName)
  {
    mi.c("In-app billing service disconnected.");
    this.e.a();
  }
}
