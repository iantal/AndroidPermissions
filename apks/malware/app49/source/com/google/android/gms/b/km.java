package com.google.android.gms.b;

import android.content.Context;
import android.os.Handler;
import android.os.SystemClock;
import com.google.android.gms.ads.internal.request.AdRequestInfoParcel;
import com.google.android.gms.ads.internal.request.AdResponseParcel;
import com.google.android.gms.ads.internal.util.client.b;

public abstract class km
  extends mu
{
  protected final kr b;
  protected final Context c;
  protected final pa d;
  protected final Object e = new Object();
  protected final Object f = new Object();
  protected final mm g;
  protected AdResponseParcel h;
  
  protected km(Context paramContext, mm paramMm, pa paramPa, kr paramKr)
  {
    this.c = paramContext;
    this.g = paramMm;
    this.h = paramMm.b;
    this.d = paramPa;
    this.b = paramKr;
  }
  
  protected ml a(int paramInt)
  {
    AdRequestInfoParcel localAdRequestInfoParcel = this.g.a;
    return new ml(localAdRequestInfoParcel.d, this.d, this.h.e, paramInt, this.h.g, this.h.k, this.h.m, this.h.l, localAdRequestInfoParcel.j, this.h.i, null, null, null, null, null, this.h.j, this.g.d, this.h.h, this.g.f, this.h.o, this.h.p, this.g.h, null, localAdRequestInfoParcel.y);
  }
  
  public final void a()
  {
    for (;;)
    {
      int i;
      synchronized (this.e)
      {
        b.a("AdRendererBackgroundTask started.");
        i = this.g.e;
        try
        {
          b(SystemClock.elapsedRealtime());
          ml localMl = a(i);
          nj.a.post(new ko(this, localMl));
          return;
        }
        catch (kp localKp)
        {
          i = localKp.a();
          if (i == 3) {
            continue;
          }
        }
        if (i == -1)
        {
          b.c(localKp.getMessage());
          if (this.h == null)
          {
            this.h = new AdResponseParcel(i);
            nj.a.post(new kn(this));
          }
        }
        else
        {
          b.e(localKp.getMessage());
        }
      }
      this.h = new AdResponseParcel(i, this.h.l);
    }
  }
  
  protected void a(ml paramMl)
  {
    this.b.b(paramMl);
  }
  
  public void b() {}
  
  protected abstract void b(long paramLong);
}
