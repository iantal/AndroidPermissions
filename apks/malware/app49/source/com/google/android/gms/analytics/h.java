package com.google.android.gms.analytics;

import android.app.Activity;
import android.app.Application;
import android.content.Context;
import android.os.Build.VERSION;
import android.util.Log;
import com.google.android.gms.analytics.internal.ae;
import com.google.android.gms.analytics.internal.aw;
import com.google.android.gms.analytics.internal.bl;
import com.google.android.gms.analytics.internal.bm;
import com.google.android.gms.analytics.internal.q;
import com.google.android.gms.analytics.internal.s;
import com.google.android.gms.analytics.internal.v;
import com.google.android.gms.common.internal.aq;
import java.util.ArrayList;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Set;

public final class h
  extends u
{
  private static List<Runnable> b = new ArrayList();
  private boolean c;
  private boolean d;
  private Set<i> e = new HashSet();
  private boolean f;
  private boolean g;
  private volatile boolean h;
  private boolean i;
  
  public h(ae paramAe)
  {
    super(paramAe);
  }
  
  public static h a(Context paramContext)
  {
    return ae.a(paramContext).j();
  }
  
  public static void c()
  {
    try
    {
      if (b != null)
      {
        Iterator localIterator = b.iterator();
        while (localIterator.hasNext()) {
          ((Runnable)localIterator.next()).run();
        }
        b = null;
      }
    }
    finally {}
  }
  
  public final r a(String paramString)
  {
    try
    {
      paramString = new r(k(), paramString);
      paramString.D();
      return paramString;
    }
    finally
    {
      paramString = finally;
      throw paramString;
    }
  }
  
  public final void a()
  {
    com.google.android.gms.analytics.internal.u localU = k().k();
    if (localU.d()) {
      com.google.android.gms.analytics.internal.i.a().a(localU.e());
    }
    if (localU.h()) {
      this.g = localU.i();
    }
    if (localU.d())
    {
      p localP = com.google.android.gms.analytics.internal.i.a();
      if (localP != null) {
        localP.a(localU.e());
      }
    }
    this.c = true;
  }
  
  final void a(Activity paramActivity)
  {
    Iterator localIterator = this.e.iterator();
    while (localIterator.hasNext()) {
      ((i)localIterator.next()).a(paramActivity);
    }
  }
  
  final void a(i paramI)
  {
    this.e.add(paramI);
    paramI = k().a();
    if ((paramI instanceof Application))
    {
      paramI = (Application)paramI;
      if ((Build.VERSION.SDK_INT >= 14) && (!this.f))
      {
        paramI.registerActivityLifecycleCallbacks(new j(this));
        this.f = true;
      }
    }
  }
  
  public final void a(p paramP)
  {
    com.google.android.gms.analytics.internal.i.a(paramP);
    if (!this.i)
    {
      Log.i((String)bl.c.a(), "GoogleAnalytics.setLogger() is deprecated. To enable debug logging, please run:\nadb shell setprop log.tag." + (String)bl.c.a() + " DEBUG");
      this.i = true;
    }
  }
  
  final void b(i paramI)
  {
    this.e.remove(paramI);
  }
  
  public final boolean b()
  {
    return (this.c) && (!this.d);
  }
  
  public final boolean d()
  {
    return this.g;
  }
  
  final void e()
  {
    Iterator localIterator = this.e.iterator();
    while (localIterator.hasNext()) {
      ((i)localIterator.next()).c_();
    }
  }
  
  public final r f()
  {
    try
    {
      r localR = new r(k(), null);
      s localS = (s)new q(k()).a(2130968576);
      if (localS != null) {
        localR.a(localS);
      }
      localR.D();
      return localR;
    }
    finally {}
  }
  
  public final boolean g()
  {
    return this.h;
  }
  
  public final String h()
  {
    aq.c("getClientId can not be called from the main thread");
    return k().o().b();
  }
  
  public final void i()
  {
    k().h().c();
  }
  
  final void j()
  {
    k().h().d();
  }
}
