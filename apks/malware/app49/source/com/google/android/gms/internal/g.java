package com.google.android.gms.internal;

import android.content.Context;
import android.view.View;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.WeakHashMap;

public final class g
  implements p
{
  private final Object a = new Object();
  private final WeakHashMap<kw, h> b = new WeakHashMap();
  private final ArrayList<h> c = new ArrayList();
  
  public g() {}
  
  private boolean b(kw paramKw)
  {
    synchronized (this.a)
    {
      paramKw = (h)this.b.get(paramKw);
      if ((paramKw != null) && (paramKw.f()))
      {
        bool = true;
        return bool;
      }
      boolean bool = false;
    }
  }
  
  public final h a(Context paramContext, ay paramAy, kw paramKw, View paramView, gt paramGt)
  {
    synchronized (this.a)
    {
      if (b(paramKw))
      {
        paramContext = (h)this.b.get(paramKw);
        return paramContext;
      }
      paramContext = new h(paramContext, paramAy, paramKw, paramView, paramGt);
      paramContext.a(this);
      this.b.put(paramKw, paramContext);
      this.c.add(paramContext);
      return paramContext;
    }
  }
  
  public final h a(ay paramAy, kw paramKw)
  {
    return a(paramKw.b.getContext(), paramAy, paramKw, paramKw.b, paramKw.b.i());
  }
  
  public final void a()
  {
    synchronized (this.a)
    {
      Iterator localIterator = this.c.iterator();
      if (localIterator.hasNext()) {
        ((h)localIterator.next()).g();
      }
    }
  }
  
  public final void a(h paramH)
  {
    synchronized (this.a)
    {
      if (!paramH.f()) {
        this.c.remove(paramH);
      }
      return;
    }
  }
  
  public final void a(kw paramKw)
  {
    synchronized (this.a)
    {
      paramKw = (h)this.b.get(paramKw);
      if (paramKw != null) {
        paramKw.d();
      }
      return;
    }
  }
  
  public final void b()
  {
    synchronized (this.a)
    {
      Iterator localIterator = this.c.iterator();
      if (localIterator.hasNext()) {
        ((h)localIterator.next()).h();
      }
    }
  }
  
  public final void c()
  {
    synchronized (this.a)
    {
      Iterator localIterator = this.c.iterator();
      if (localIterator.hasNext()) {
        ((h)localIterator.next()).i();
      }
    }
  }
}
