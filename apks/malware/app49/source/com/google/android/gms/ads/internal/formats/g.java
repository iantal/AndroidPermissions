package com.google.android.gms.ads.internal.formats;

import android.content.Context;
import android.graphics.Rect;
import android.view.MotionEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.widget.FrameLayout.LayoutParams;
import com.google.android.gms.ads.internal.p;
import com.google.android.gms.b.ao;
import com.google.android.gms.b.bo;
import org.json.JSONException;
import org.json.JSONObject;

public final class g
{
  private final Object a = new Object();
  private final p b;
  private final Context c;
  private final JSONObject d;
  private final bo e;
  private final h f;
  private final ao g;
  private boolean h;
  
  public g(Context paramContext, p paramP, bo paramBo, ao paramAo, JSONObject paramJSONObject, h paramH)
  {
    this.c = paramContext;
    this.b = paramP;
    this.e = paramBo;
    this.g = paramAo;
    this.d = paramJSONObject;
    this.f = paramH;
  }
  
  public final b a(View.OnClickListener paramOnClickListener)
  {
    Object localObject = this.f.l();
    if (localObject == null) {
      return null;
    }
    localObject = new b(this.c, (a)localObject);
    ((b)localObject).setLayoutParams(new FrameLayout.LayoutParams(-1, -1));
    ((b)localObject).a().setOnClickListener(paramOnClickListener);
    return localObject;
  }
  
  public final void a()
  {
    this.h = true;
    this.b.i();
  }
  
  public final void a(MotionEvent paramMotionEvent)
  {
    this.g.a(paramMotionEvent);
  }
  
  public final void a(View paramView)
  {
    synchronized (this.a)
    {
      if (this.h) {
        return;
      }
      if (!paramView.isShown()) {
        return;
      }
    }
    if (!paramView.getGlobalVisibleRect(new Rect(), null)) {
      return;
    }
    a();
  }
  
  public final void a(String paramString)
  {
    try
    {
      JSONObject localJSONObject = new JSONObject();
      localJSONObject.put("asset", paramString);
      localJSONObject.put("template", this.f.j());
      paramString = new JSONObject();
      paramString.put("ad", this.d);
      paramString.put("click", localJSONObject);
      if (this.b.a(this.f.k()) != null) {}
      for (boolean bool = true;; bool = false)
      {
        paramString.put("has_custom_click_handler", bool);
        this.e.a("google.afma.nativeAds.handleClickGmsg", paramString);
        return;
      }
      return;
    }
    catch (JSONException paramString)
    {
      com.google.android.gms.ads.internal.util.client.b.b("Unable to create click JSON.", paramString);
    }
  }
}
