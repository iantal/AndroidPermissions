package com.google.android.gms.b;

import android.content.Context;
import com.google.android.gms.ads.a.a;
import com.google.android.gms.ads.a.b;
import java.io.IOException;
import java.util.concurrent.CountDownLatch;
import java.util.concurrent.TimeUnit;

public class al
  extends aj
{
  private static a e = null;
  private static CountDownLatch f = new CountDownLatch(1);
  private static boolean g;
  private boolean h;
  
  private al(Context paramContext, aq paramAq, ar paramAr, boolean paramBoolean)
  {
    super(paramContext, paramAq, paramAr);
    this.h = paramBoolean;
  }
  
  public static al a(String paramString, Context paramContext, boolean paramBoolean)
  {
    s localS = new s();
    a(paramString, paramContext, localS);
    if (paramBoolean) {}
    try
    {
      if (e == null) {
        new Thread(new an(paramContext)).start();
      }
      return new al(paramContext, localS, new au(), paramBoolean);
    }
    finally {}
  }
  
  private am d()
  {
    try
    {
      if (!f.await(2L, TimeUnit.SECONDS))
      {
        am localAm1 = new am(this, null, false);
        return localAm1;
      }
    }
    catch (InterruptedException localInterruptedException)
    {
      am localAm2 = new am(this, null, false);
      return localAm2;
    }
    finally {}
    if (e == null)
    {
      localObject2 = new am(this, null, false);
      return localObject2;
    }
    Object localObject2 = e.b();
    return new am(this, a(((b)localObject2).a()), ((b)localObject2).b());
  }
  
  protected final void b(Context paramContext)
  {
    super.b(paramContext);
    try
    {
      if ((g) || (!this.h))
      {
        a(24, d(paramContext));
        return;
      }
      paramContext = d();
      str = paramContext.a();
      if (str == null) {
        return;
      }
      if (!paramContext.b()) {
        break label81;
      }
      l = 1L;
    }
    catch (IOException paramContext)
    {
      for (;;)
      {
        String str;
        return;
        long l = 0L;
      }
    }
    catch (ak paramContext) {}
    a(28, l);
    a(26, 5L);
    a(24, str);
    return;
    label81:
  }
}
