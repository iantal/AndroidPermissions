package com.splunk.mint.network.http;

import com.splunk.mint.network.MonitorRegistry;
import java.io.IOException;
import java.net.Proxy;
import java.net.URL;
import java.net.URLConnection;

public class HTTPSURLStreamHandler
  extends URLStreamHandlerBase
{
  private static final int PORT = 443;
  private static final String PROTOCOL = "https";
  private static final String[] SYSTEM_CLASSES = { "libcore.net.http.HttpsURLConnectionImpl", "org.apache.harmony.luni.internal.net.www.protocol.http.HttpsURLConnectionImpl", "org.apache.harmony.luni.internal.net.www.protocol.http.HttpsURLConnection" };
  private final MonitorRegistry registry;
  
  public HTTPSURLStreamHandler(MonitorRegistry paramMonitorRegistry)
    throws ClassNotFoundException
  {
    super(SYSTEM_CLASSES);
    this.registry = paramMonitorRegistry;
  }
  
  public int getDefaultPort()
  {
    return 443;
  }
  
  public String getProtocol()
  {
    return "https";
  }
  
  protected URLConnection openConnection(URL paramURL)
    throws IOException
  {
    paramURL = super.openConnection(paramURL);
    return new MonitorableHttpsURLConnection(this.registry, paramURL);
  }
  
  protected URLConnection openConnection(URL paramURL, Proxy paramProxy)
    throws IOException
  {
    paramURL = super.openConnection(paramURL, paramProxy);
    return new MonitorableHttpsURLConnection(this.registry, paramURL);
  }
}
