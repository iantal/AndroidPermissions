package com.splunk.mint.network.http;

import com.splunk.mint.network.MonitorRegistry;
import java.net.URLStreamHandler;
import java.net.URLStreamHandlerFactory;
import java.util.HashMap;
import java.util.Map;

public class MonitorableURLStreamHandlerFactory
  implements URLStreamHandlerFactory
{
  private Map<String, URLStreamHandler> handlers = new HashMap();
  
  public MonitorableURLStreamHandlerFactory(MonitorRegistry paramMonitorRegistry)
    throws ClassNotFoundException
  {
    HTTPURLStreamHandler localHTTPURLStreamHandler = new HTTPURLStreamHandler(paramMonitorRegistry);
    this.handlers.put(localHTTPURLStreamHandler.getProtocol(), localHTTPURLStreamHandler);
    paramMonitorRegistry = new HTTPSURLStreamHandler(paramMonitorRegistry);
    this.handlers.put(paramMonitorRegistry.getProtocol(), paramMonitorRegistry);
  }
  
  public URLStreamHandler createURLStreamHandler(String paramString)
  {
    return (URLStreamHandler)this.handlers.get(paramString);
  }
}
