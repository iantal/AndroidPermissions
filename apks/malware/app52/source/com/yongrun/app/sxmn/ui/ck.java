package com.yongrun.app.sxmn.ui;

import android.app.Activity;
import android.app.Dialog;
import android.content.Intent;
import android.content.SharedPreferences;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.Window;
import android.widget.Button;
import android.widget.TextView;
import com.yongrun.app.sxmn.common.d;
import com.yongrun.app.sxmn.widget.BriefPicView;
import java.util.ArrayList;
import java.util.List;

class ck
  implements View.OnClickListener
{
  private ck(SecondFragment paramSecondFragment) {}
  
  public void onClick(View paramView)
  {
    int i = 0;
    paramView = (BriefPicView)paramView;
    if (SecondFragment.b(this.a).getSharedPreferences("settings", 0).getBoolean("koufei", false))
    {
      localObject = new Intent(SecondFragment.b(this.a), Activity_Detail.class);
      ((Intent)localObject).putExtra("id", paramView.getPid());
      this.a.startActivity((Intent)localObject);
      return;
    }
    Object localObject = new Dialog(SecondFragment.b(this.a), 2131361812);
    ((Dialog)localObject).requestWindowFeature(1);
    View localView = LayoutInflater.from(SecondFragment.b(this.a)).inflate(2130903051, null);
    SecondFragment.a(this.a, (Button)localView.findViewById(2131034157));
    SecondFragment.b(this.a, (Button)localView.findViewById(2131034158));
    SecondFragment.a(this.a, (TextView)localView.findViewById(2131034156));
    String[] arrayOfString = SecondFragment.b(this.a).getSharedPreferences("settings", 0).getString("bind", "").split(",");
    ArrayList localArrayList = new ArrayList();
    int k = arrayOfString.length;
    int j = 0;
    if (i >= k)
    {
      if (j < 5)
      {
        SecondFragment.j(this.a).setText("播放此视频还需要，安装" + (5 - j) + "款播放插件");
        paramView = new cl(this, localArrayList, (Dialog)localObject);
        SecondFragment.k(this.a).setOnClickListener(paramView);
        SecondFragment.l(this.a).setOnClickListener(paramView);
        ((Dialog)localObject).setContentView(localView);
        ((Dialog)localObject).show();
        paramView = ((Dialog)localObject).getWindow().getAttributes();
        paramView.width = ((int)(350.0F * d.a(SecondFragment.b(this.a)).a()));
        paramView.height = ((int)(400.0F * d.a(SecondFragment.b(this.a)).a()));
        ((Dialog)localObject).getWindow().setAttributes(paramView);
      }
    }
    else
    {
      String str = arrayOfString[i];
      if (d.a(SecondFragment.b(this.a)).a(str)) {
        j += 1;
      }
      for (;;)
      {
        i += 1;
        break;
        localArrayList.add(str);
      }
    }
    localObject = new Intent(SecondFragment.b(this.a), Activity_Detail.class);
    ((Intent)localObject).putExtra("id", paramView.getPid());
    this.a.startActivity((Intent)localObject);
  }
}
