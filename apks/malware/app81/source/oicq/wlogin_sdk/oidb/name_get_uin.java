package oicq.wlogin_sdk.oidb;

import java.util.ArrayList;
import java.util.List;
import oicq.wlogin_sdk.tools.util;

public class name_get_uin
  extends oidb_base
{
  public List<NameUinInfo> nameinfo = new ArrayList();
  
  public name_get_uin(long paramLong)
  {
    this._uin = paramLong;
    this._type = 1;
    this._cmd = 1199;
  }
  
  public byte[] get_request(long paramLong, byte[] paramArrayOfByte, byte[][] paramArrayOfByte1)
  {
    if ((paramArrayOfByte == null) || (paramArrayOfByte1 == null)) {
      return null;
    }
    this._body_len = 6;
    int i = 0;
    byte[] arrayOfByte;
    int j;
    if (i >= paramArrayOfByte1.length)
    {
      arrayOfByte = new byte[this._body_len];
      util.int8_to_buf(arrayOfByte, 0, 79);
      i = 0 + 1;
      util.int16_to_buf(arrayOfByte, i, -1);
      i += 2;
      util.int16_to_buf(arrayOfByte, i, -1);
      i += 2;
      util.int8_to_buf(arrayOfByte, i, paramArrayOfByte1.length);
      j = i + 1;
      i = 0;
    }
    for (;;)
    {
      if (i >= paramArrayOfByte1.length)
      {
        return encode_request(paramLong, arrayOfByte, paramArrayOfByte);
        this._body_len += paramArrayOfByte1[i].length + 1;
        i += 1;
        break;
      }
      util.int8_to_buf(arrayOfByte, j, paramArrayOfByte1[i].length);
      j += 1;
      System.arraycopy(paramArrayOfByte1[i], 0, arrayOfByte, j, paramArrayOfByte1[i].length);
      j += paramArrayOfByte1[i].length;
      i += 1;
    }
  }
  
  public int get_response(byte[] paramArrayOfByte)
  {
    paramArrayOfByte = decode_response(paramArrayOfByte);
    if (paramArrayOfByte == null) {
      return 64527;
    }
    if (this._result != 0) {
      return this._result;
    }
    int k = paramArrayOfByte.length;
    if (3 > k) {
      return 64527;
    }
    if (util.buf_to_int8(paramArrayOfByte, 0) != 79) {
      return 64527;
    }
    int i = 0 + 1;
    util.buf_to_int8(paramArrayOfByte, i);
    i += 1;
    int m = util.buf_to_int8(paramArrayOfByte, i);
    int j = i + 1;
    this.nameinfo.clear();
    i = 0;
    for (;;)
    {
      if (i >= m) {
        return 0;
      }
      if (j + 13 > k) {
        return 64527;
      }
      long l = util.buf_to_int64(paramArrayOfByte, j);
      j += 8;
      int n = util.buf_to_int16(paramArrayOfByte, j);
      j += 2;
      int i1 = util.buf_to_int16(paramArrayOfByte, j);
      int i2 = j + 2;
      j = util.buf_to_int8(paramArrayOfByte, i2);
      i2 += 1;
      if (i2 + j > k) {
        return 64527;
      }
      byte[] arrayOfByte = new byte[j];
      System.arraycopy(paramArrayOfByte, i2, arrayOfByte, 0, j);
      j = i2 + j;
      this.nameinfo.add(new NameUinInfo(l, n, i1, new String(arrayOfByte)));
      i += 1;
    }
  }
}
