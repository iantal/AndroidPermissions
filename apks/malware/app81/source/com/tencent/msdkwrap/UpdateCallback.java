package com.tencent.msdkwrap;

import com.tencent.msdk.myapp.autoupdate.WGSaveUpdateObserver;
import com.tencent.msdk.tools.Logger;
import com.unity3d.player.UnityPlayer;
import org.json.JSONException;
import org.json.JSONObject;

public class UpdateCallback
  extends WGSaveUpdateObserver
{
  public UpdateCallback() {}
  
  public void OnCheckNeedUpdateInfo(long paramLong1, String paramString1, long paramLong2, int paramInt1, String paramString2, int paramInt2)
  {
    Logger.d("OnCheckNeedUpdateInfo called");
    JSONObject localJSONObject = new JSONObject();
    try
    {
      localJSONObject.put("Result", paramInt1);
      localJSONObject.put("ApkSize", paramLong1);
      localJSONObject.put("NewFeatureDes", paramString1);
      localJSONObject.put("PathSize", paramLong2);
      localJSONObject.put("DownloadUrl", paramString2);
      localJSONObject.put("UpdateMethod", paramInt2);
      UnityPlayer.UnitySendMessage("MSDKWrap", "onCheckUpdateResult", localJSONObject.toString());
      Logger.d("");
      return;
    }
    catch (JSONException paramString1)
    {
      for (;;)
      {
        paramString1.printStackTrace();
      }
    }
  }
  
  public void OnDownloadAppProgressChanged(long paramLong1, long paramLong2)
  {
    Logger.d("OnDownloadAppProgressChanged called");
    JSONObject localJSONObject = new JSONObject();
    try
    {
      localJSONObject.put("RecivedDataLen", paramLong1);
      localJSONObject.put("TotleDataLen", paramLong2);
      UnityPlayer.UnitySendMessage("MSDKWrap", "onDownloadAppProgress", localJSONObject.toString());
      return;
    }
    catch (JSONException localJSONException)
    {
      for (;;)
      {
        localJSONException.printStackTrace();
      }
    }
  }
  
  public void OnDownloadAppStateChanged(int paramInt1, int paramInt2, String paramString)
  {
    JSONObject localJSONObject = new JSONObject();
    try
    {
      localJSONObject.put("State", paramInt1);
      localJSONObject.put("ErrorCode", paramInt2);
      localJSONObject.put("ErrorMsg", paramString);
      UnityPlayer.UnitySendMessage("MSDKWrap", "onDownloadAppState", localJSONObject.toString());
      Logger.d(String.format("%d, %d, %s", new Object[] { Integer.valueOf(paramInt1), Integer.valueOf(paramInt2), paramString }));
      return;
    }
    catch (JSONException localJSONException)
    {
      for (;;)
      {
        localJSONException.printStackTrace();
      }
    }
  }
  
  public void OnDownloadYYBProgressChanged(String paramString, long paramLong1, long paramLong2)
  {
    Logger.d("OnDownloadYYBProgressChanged called");
    JSONObject localJSONObject = new JSONObject();
    try
    {
      localJSONObject.put("DownloadUrl", paramString);
      localJSONObject.put("RecivedDataLen", paramLong1);
      localJSONObject.put("TotleDataLen", paramLong2);
      UnityPlayer.UnitySendMessage("MSDKWrap", "onDownloadYYBProgress", localJSONObject.toString());
      return;
    }
    catch (JSONException paramString)
    {
      for (;;)
      {
        paramString.printStackTrace();
      }
    }
  }
  
  public void OnDownloadYYBStateChanged(String paramString1, int paramInt1, int paramInt2, String paramString2)
  {
    Logger.d("OnDownloadYYBStateChanged called");
    JSONObject localJSONObject = new JSONObject();
    try
    {
      localJSONObject.put("DownloadUrl", paramString1);
      localJSONObject.put("State", paramInt1);
      localJSONObject.put("ErrorCode", paramInt2);
      localJSONObject.put("ErrorMsg", paramString2);
      UnityPlayer.UnitySendMessage("MSDKWrap", "onDownloadYYBState", localJSONObject.toString());
      return;
    }
    catch (JSONException paramString1)
    {
      for (;;)
      {
        paramString1.printStackTrace();
      }
    }
  }
}
