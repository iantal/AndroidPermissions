package com.tencent.midas.plugin;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import com.tencent.midas.comm.APLog;

public class APPluginProxyBroadcastReceiver
  extends BroadcastReceiver
{
  public APPluginProxyBroadcastReceiver() {}
  
  /* Error */
  private IAPPluginBroadcastReceiver a(Context paramContext, Intent paramIntent)
  {
    // Byte code:
    //   0: aload_2
    //   1: ifnonnull +5 -> 6
    //   4: aconst_null
    //   5: areturn
    //   6: aload_2
    //   7: ldc 17
    //   9: invokevirtual 23	android/content/Intent:getStringExtra	(Ljava/lang/String;)Ljava/lang/String;
    //   12: astore 4
    //   14: aload_2
    //   15: ldc 25
    //   17: invokevirtual 23	android/content/Intent:getStringExtra	(Ljava/lang/String;)Ljava/lang/String;
    //   20: astore 5
    //   22: aconst_null
    //   23: invokestatic 31	android/text/TextUtils:isEmpty	(Ljava/lang/CharSequence;)Z
    //   26: ifeq +167 -> 193
    //   29: aload_1
    //   30: aload 4
    //   32: invokestatic 37	com/tencent/midas/plugin/APPluginUtils:getInstallPath	(Landroid/content/Context;Ljava/lang/String;)Ljava/io/File;
    //   35: invokevirtual 43	java/io/File:getCanonicalPath	()Ljava/lang/String;
    //   38: astore_2
    //   39: ldc 45
    //   41: new 47	java/lang/StringBuilder
    //   44: dup
    //   45: ldc 49
    //   47: invokespecial 52	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   50: aload 4
    //   52: invokevirtual 56	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   55: ldc 58
    //   57: invokevirtual 56	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   60: aload 5
    //   62: invokevirtual 56	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   65: invokevirtual 61	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   68: invokestatic 67	com/tencent/midas/comm/APLog:i	(Ljava/lang/String;Ljava/lang/String;)V
    //   71: aload 4
    //   73: ifnull -69 -> 4
    //   76: aload 4
    //   78: invokevirtual 73	java/lang/String:length	()I
    //   81: ifle -77 -> 4
    //   84: new 39	java/io/File
    //   87: dup
    //   88: aload_2
    //   89: invokespecial 74	java/io/File:<init>	(Ljava/lang/String;)V
    //   92: astore_3
    //   93: aload_3
    //   94: invokevirtual 78	java/io/File:exists	()Z
    //   97: ifeq -93 -> 4
    //   100: aload_3
    //   101: invokevirtual 81	java/io/File:isFile	()Z
    //   104: ifeq -100 -> 4
    //   107: getstatic 87	com/tencent/midas/plugin/APPluginStatic:b	Ljava/util/concurrent/ConcurrentHashMap;
    //   110: aload_2
    //   111: invokevirtual 93	java/util/concurrent/ConcurrentHashMap:get	(Ljava/lang/Object;)Ljava/lang/Object;
    //   114: checkcast 95	android/content/pm/PackageInfo
    //   117: astore_3
    //   118: aload_3
    //   119: ifnonnull +71 -> 190
    //   122: aload_1
    //   123: aload_2
    //   124: iconst_1
    //   125: invokestatic 101	com/tencent/midas/plugin/APApkFileParser:getPackageInfo	(Landroid/content/Context;Ljava/lang/String;I)Landroid/content/pm/PackageInfo;
    //   128: astore_3
    //   129: getstatic 87	com/tencent/midas/plugin/APPluginStatic:b	Ljava/util/concurrent/ConcurrentHashMap;
    //   132: aload_2
    //   133: aload_3
    //   134: invokevirtual 105	java/util/concurrent/ConcurrentHashMap:put	(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   137: pop
    //   138: aload_1
    //   139: aload 4
    //   141: aload_2
    //   142: invokestatic 108	com/tencent/midas/plugin/APPluginStatic:a	(Landroid/content/Context;Ljava/lang/String;Ljava/lang/String;)Ldalvik/system/DexClassLoader;
    //   145: astore_1
    //   146: aload_1
    //   147: aload 5
    //   149: invokevirtual 114	java/lang/ClassLoader:loadClass	(Ljava/lang/String;)Ljava/lang/Class;
    //   152: invokevirtual 120	java/lang/Class:newInstance	()Ljava/lang/Object;
    //   155: checkcast 122	com/tencent/midas/plugin/IAPPluginBroadcastReceiver
    //   158: astore 5
    //   160: aload 5
    //   162: aload 4
    //   164: aload_2
    //   165: aload_0
    //   166: aload_1
    //   167: aload_3
    //   168: iconst_0
    //   169: invokeinterface 126 7 0
    //   174: aload 5
    //   176: areturn
    //   177: astore_2
    //   178: aconst_null
    //   179: astore_2
    //   180: goto -141 -> 39
    //   183: astore_1
    //   184: aconst_null
    //   185: areturn
    //   186: astore_1
    //   187: aload 5
    //   189: areturn
    //   190: goto -52 -> 138
    //   193: aconst_null
    //   194: astore_2
    //   195: goto -156 -> 39
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	198	0	this	APPluginProxyBroadcastReceiver
    //   0	198	1	paramContext	Context
    //   0	198	2	paramIntent	Intent
    //   92	76	3	localObject1	Object
    //   12	151	4	str	String
    //   20	168	5	localObject2	Object
    // Exception table:
    //   from	to	target	type
    //   29	39	177	java/io/IOException
    //   138	160	183	java/lang/Exception
    //   160	174	186	java/lang/Exception
  }
  
  public static void sendBroadcastReceiver(Context paramContext, String paramString1, String paramString2, Intent paramIntent)
  {
    paramIntent.putExtra("pluginsdk_pluginName", paramString1);
    paramIntent.putExtra("pluginsdk_launchReceiver", paramString2);
    try
    {
      paramContext.sendBroadcast(paramIntent);
      return;
    }
    catch (Throwable paramContext) {}
  }
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    IAPPluginBroadcastReceiver localIAPPluginBroadcastReceiver = a(paramContext, paramIntent);
    APLog.i("APPLuginProxyBroadcastReciver", "onReceive startPluginIfNeccessary: " + localIAPPluginBroadcastReceiver);
    if (localIAPPluginBroadcastReceiver != null) {
      localIAPPluginBroadcastReceiver.IOnReceive(paramContext, paramIntent);
    }
  }
}
