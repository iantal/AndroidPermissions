package com.tencent.android.tpush.service.b;

import android.content.Context;
import com.qq.taf.jce.JceStruct;
import com.tencent.android.tpush.common.g;
import com.tencent.android.tpush.logging.TLog;
import com.tencent.android.tpush.service.channel.exception.ChannelException;
import com.tencent.android.tpush.service.channel.o;
import com.tencent.android.tpush.service.channel.protocol.TpnsPushVerifyReq;

class d
  implements o
{
  d(a paramA, Context paramContext) {}
  
  public void a(JceStruct paramJceStruct1, int paramInt, JceStruct paramJceStruct2, com.tencent.android.tpush.service.channel.a paramA)
  {
    TLog.v("XGService", "@@ TpnsMessage.IEventListener.onResponse requestServiceAck reponseCode:" + paramInt);
    a.b(false);
    if (paramInt == 0)
    {
      TLog.i("XGService", ">> msg ack success rsp=" + paramA.c() + " @host=" + paramA.f() + " @http=" + paramA.b());
      if ((paramJceStruct1 instanceof TpnsPushVerifyReq)) {
        this.b.a(this.a, ((TpnsPushVerifyReq)paramJceStruct1).msgReportList);
      }
      for (;;)
      {
        g.a().a(new e(this), 3000L);
        return;
        TLog.i("XGService", "requestServiceAck,Invalid ack callback");
      }
    }
    TLog.i("XGService", ">> msg ack onMessageSendFailed  requestServiceAck responseCode=" + paramInt);
  }
  
  public void a(JceStruct paramJceStruct, com.tencent.android.tpush.service.channel.a paramA)
  {
    a.b(false);
  }
  
  public void a(JceStruct paramJceStruct, ChannelException paramChannelException, com.tencent.android.tpush.service.channel.a paramA)
  {
    TLog.v("XGService", "@@ requestServiceAck TpnsMessage.IEventListener.onMessageSendFailed " + paramChannelException.errorCode + "," + paramChannelException.getMessage());
    a.b(false);
  }
}
