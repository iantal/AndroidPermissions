package com.tencent.android.tpush;

import android.content.Context;
import com.tencent.android.tpush.a.b;
import com.tencent.android.tpush.common.g;
import com.tencent.android.tpush.common.m;
import com.tencent.android.tpush.logging.TLog;

public class XGPush4Msdk
{
  private static long a = 0L;
  private static long b = 0L;
  private static String c = "";
  
  public XGPush4Msdk() {}
  
  private static boolean a(long paramLong1, long paramLong2, long paramLong3)
  {
    return (paramLong1 >= paramLong2) && (paramLong1 < paramLong3);
  }
  
  public static long addLocalNotification(Context paramContext, XGLocalMessage paramXGLocalMessage)
  {
    TLog.i("XG_MSDK", "addLocalNotification:msg=" + paramXGLocalMessage.toString() + ",qqAppid=" + a + ",xg_accessid=" + getQQAccessId(paramContext));
    return XGPushManager.a(paramContext, paramXGLocalMessage, getQQAccessId(paramContext));
  }
  
  private static String b(Context paramContext)
  {
    return paramContext.getPackageName() + ":" + "XG_DEBUG_SERVER_INFO";
  }
  
  public static void deleteTag(Context paramContext, String paramString)
  {
    TLog.i("XG_MSDK", "deleteTag: tagName=" + paramString + ",qqAppid=" + a + ",xg_accessid=" + getQQAccessId(paramContext));
    XGPushManager.a(paramContext, paramString, 2, getQQAccessId(paramContext));
  }
  
  public static String getDebugServerInfo(Context paramContext)
  {
    return m.a(paramContext, b(paramContext), null);
  }
  
  public static long getQQAccessId(Context paramContext)
  {
    return m.a(paramContext, "TPUSH_QQ_ACCESS_ID", b);
  }
  
  public static String getQQAppKey(Context paramContext)
  {
    return m.a(paramContext, "TPUSH_QQ_ACCESS_KEY", c);
  }
  
  public static void registerPush(Context paramContext, String paramString, XGIOperateCallback paramXGIOperateCallback)
  {
    TLog.i("XG_MSDK", "registerPush: account=" + paramString + ",qqAppid=" + a + ",xg_accessid=" + getQQAccessId(paramContext));
    if (paramXGIOperateCallback == null) {
      paramXGIOperateCallback = new d();
    }
    for (;;)
    {
      if (!com.tencent.android.tpush.service.d.d.a(paramString))
      {
        XGPushManager.a(paramContext, paramString, "0", 0, null, paramXGIOperateCallback, getQQAccessId(paramContext), getQQAppKey(paramContext));
        return;
      }
      XGPushManager.a(paramContext, null, null, -1, null, paramXGIOperateCallback, getQQAccessId(paramContext), getQQAppKey(paramContext));
      return;
    }
  }
  
  public static void setDebugServerInfo(Context paramContext, String paramString, int paramInt)
  {
    if (!com.tencent.android.tpush.service.d.d.a(paramString))
    {
      m.b(paramContext, b(paramContext), paramString + "," + paramInt);
      return;
    }
    g.a().a(new c(paramContext));
  }
  
  public static void setDefaultNotificationBuilder(Context paramContext, XGPushNotificationBuilder paramXGPushNotificationBuilder)
  {
    XGPushManager.setDefaultNotificationBuilder(paramContext, paramXGPushNotificationBuilder);
  }
  
  public static void setPushNotificationBuilder(Context paramContext, int paramInt, XGPushNotificationBuilder paramXGPushNotificationBuilder)
  {
    if (paramContext == null) {
      throw new IllegalArgumentException("context is null.");
    }
    if ((paramInt < 5000) || (paramInt > 6000)) {
      throw new IllegalArgumentException("notificationBulderId超过范围[5000, 6000].");
    }
    if (paramXGPushNotificationBuilder == null) {
      return;
    }
    b.a(paramContext, paramInt, paramXGPushNotificationBuilder);
  }
  
  public static void setQQAppId(Context paramContext, long paramLong)
  {
    long l;
    if (a(paramLong, 0L, 200000L)) {
      l = 90000000L;
    }
    for (;;)
    {
      l = l + 2100000000L + paramLong;
      TLog.i("XG_MSDK", "convert qq Appid:" + paramLong + " to accessid:" + l);
      a = paramLong;
      b = l;
      m.b(paramContext, "TPUSH_QQ_ACCESS_ID", b);
      m.b(paramContext, "TPUSH_QQ_APP_ID", paramLong);
      return;
      if (a(paramLong, 99000000L, 100000000L))
      {
        l = 0L;
      }
      else if (a(paramLong, 100200000L, 100600000L))
      {
        l = -10000000L;
      }
      else if (a(paramLong, 101000000L, 101400000L))
      {
        l = -10400000L;
      }
      else if (a(paramLong, 900000000L, 900100000L))
      {
        l = -809000000L;
      }
      else if (a(paramLong, 1000000000L, 1000100000L))
      {
        l = -908900000L;
      }
      else if (a(paramLong, 1101000000L, 1104500000L))
      {
        l = -1009800000L;
      }
      else if (a(paramLong, 1150000000L, 1150100000L))
      {
        l = -1055300000L;
      }
      else if (a(paramLong, 100600000L, 101000000L))
      {
        l = -5800000L;
      }
      else
      {
        TLog.e("XG_MSDK", "手Q的appid：" + paramLong + " 不在固定的范围，请联系msdk和信鸽的同事解决之。");
        l = 0L;
      }
    }
  }
  
  public static void setQQAppKey(Context paramContext, String paramString)
  {
    TLog.d("XG_MSDK", "convert qq AppKey:" + paramString + " to accessKey:" + paramString);
    c = paramString;
    m.b(paramContext, "TPUSH_QQ_ACCESS_KEY", c);
  }
  
  public static void setTag(Context paramContext, String paramString)
  {
    TLog.i("XG_MSDK", "setTag: tagName=" + paramString + ",qqAppid=" + a + ",xg_accessid=" + getQQAccessId(paramContext));
    XGPushManager.a(paramContext, paramString, 1, getQQAccessId(paramContext));
  }
  
  public static void unregisterPush(Context paramContext, XGIOperateCallback paramXGIOperateCallback)
  {
    TLog.i("XG_MSDK", "unregisterPush,qqAppid=" + a + ",xg_accessid=" + getQQAccessId(paramContext));
    Object localObject = paramXGIOperateCallback;
    if (paramXGIOperateCallback == null) {
      localObject = new e();
    }
    XGPushManager.a(paramContext, (XGIOperateCallback)localObject, getQQAccessId(paramContext), getQQAppKey(paramContext));
  }
}
