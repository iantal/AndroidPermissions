package com.tencent.android.tpush.service.channel.a;

import com.tencent.android.tpush.service.channel.b.d;
import com.tencent.android.tpush.service.channel.b.e;
import com.tencent.android.tpush.service.channel.b.g;
import com.tencent.android.tpush.service.channel.b.h;
import com.tencent.android.tpush.service.channel.b.i;
import com.tencent.android.tpush.service.channel.exception.InnerException;
import java.nio.channels.SocketChannel;
import java.util.ArrayList;
import java.util.Iterator;

public class c
  extends a
{
  protected String l = null;
  protected String m = null;
  private boolean n = false;
  
  public c(SocketChannel paramSocketChannel, b paramB)
  {
    super(paramSocketChannel, paramB);
    paramB = new StringBuilder().append(this.g);
    if (this.h == 80) {}
    for (paramSocketChannel = "";; paramSocketChannel = ":" + this.h)
    {
      this.m = paramSocketChannel;
      this.l = "/";
      this.i = 1;
      return;
    }
  }
  
  protected c(SocketChannel paramSocketChannel, b paramB, String paramString1, int paramInt, String paramString2)
  {
    super(paramSocketChannel, paramB);
    this.g = paramString1;
    this.h = paramInt;
    paramB = new StringBuilder().append(paramString1);
    if (paramInt == 80) {}
    for (paramSocketChannel = "";; paramSocketChannel = ":" + paramInt)
    {
      this.m = paramSocketChannel;
      this.l = paramString2;
      return;
    }
  }
  
  public void a(a paramA, d paramD)
  {
    if ((paramD instanceof com.tencent.android.tpush.service.channel.b.a))
    {
      paramD = ((com.tencent.android.tpush.service.channel.b.a)paramD).i.iterator();
      while (paramD.hasNext())
      {
        g localG = (g)paramD.next();
        this.a.b(paramA, localG);
      }
      c();
      return;
    }
    throw new InnerException("packet is not instance of Http****Packet!");
  }
  
  public void a(a paramA, e paramE)
  {
    this.n = true;
    if ((paramE instanceof com.tencent.android.tpush.service.channel.b.b))
    {
      paramE = ((com.tencent.android.tpush.service.channel.b.b)paramE).d.iterator();
      while (paramE.hasNext())
      {
        e localE = (e)paramE.next();
        this.a.a(paramA, (i)localE);
      }
    }
    throw new InnerException("packet is not instance of Http****Packet!");
  }
  
  protected boolean a()
  {
    if (!this.n) {}
    do
    {
      return false;
      if (this.e == null)
      {
        this.e = new com.tencent.android.tpush.service.channel.b.a();
        this.e.a(this.d);
      }
    } while (this.e == null);
    return true;
  }
  
  protected boolean b()
  {
    if ((this.f == null) && (!this.n))
    {
      Object localObject = this.a.a(this, 16);
      if (((ArrayList)localObject).size() > 0)
      {
        com.tencent.android.tpush.service.channel.b.b localB = new com.tencent.android.tpush.service.channel.b.b(this.m, this.l);
        localB.a(this.d);
        localB.a("Host", this.m);
        localB.a("User-Agent", "TPNS_CLIENT/0.1");
        localB.a("Content-Type", "application/binary");
        localObject = ((ArrayList)localObject).iterator();
        while (((Iterator)localObject).hasNext()) {
          localB.a((h)((Iterator)localObject).next());
        }
        this.f = localB;
      }
    }
    return this.f != null;
  }
}
