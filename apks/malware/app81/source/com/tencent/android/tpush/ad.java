package com.tencent.android.tpush;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.os.Handler;
import com.tencent.android.tpush.common.g;
import com.tencent.android.tpush.common.p;
import com.tencent.android.tpush.logging.TLog;
import java.util.Map;

class ad
  extends BroadcastReceiver
{
  Context a = null;
  Intent b = null;
  XGIOperateCallback c = null;
  int d = 0;
  
  public ad(Context paramContext, Intent paramIntent, XGIOperateCallback paramXGIOperateCallback)
  {
    this.a = paramContext;
    this.b = paramIntent;
    this.c = paramXGIOperateCallback;
    this.d = paramIntent.getIntExtra("opType", 0);
  }
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    for (;;)
    {
      try
      {
        paramContext = (ae)XGPushManager.a().remove(this);
        g.a().b().removeCallbacks(paramContext);
        TLog.d("TPush", ">>> service start from app :" + paramIntent.getStringExtra("pkg") + " , sdk version:" + paramIntent.getFloatExtra("ver", 0.0F) + ", timeRunnableMapSize:" + XGPushManager.a().size());
        switch (this.d)
        {
        case 0: 
          TLog.w("TPush", "RegisterStartReceiver error optype:" + this.d);
          p.a(this.a, this);
          return;
        }
      }
      catch (Exception paramContext)
      {
        TLog.e("TPush", "RegisterStartReceiver error", paramContext);
        return;
      }
      XGPushManager.b(this.a, this.b, this.c);
      continue;
      XGPushManager.a(this.a, this.b, this.c);
    }
  }
}
