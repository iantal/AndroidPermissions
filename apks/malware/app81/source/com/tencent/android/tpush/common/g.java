package com.tencent.android.tpush.common;

import android.os.Handler;
import android.os.HandlerThread;
import com.tencent.android.tpush.logging.TLog;

public class g
{
  private static HandlerThread a = null;
  private static Handler b = null;
  
  private g() {}
  
  public static g a()
  {
    c();
    return i.a;
  }
  
  private static void c()
  {
    if ((a == null) || (!a.isAlive()) || (a.isInterrupted()) || (a.getState() == Thread.State.TERMINATED))
    {
      a = new HandlerThread("tpush.working.thread");
      a.start();
      if (a.getLooper() != null)
      {
        b = new Handler(a.getLooper());
        TLog.i("CommonWorkingThread", ">>> Create new working thread." + a.getId());
      }
    }
    else
    {
      return;
    }
    TLog.e("CommonWorkingThread", ">>> Create new working thread false, cause thread.getLooper()==null");
  }
  
  public boolean a(Runnable paramRunnable)
  {
    if (b != null)
    {
      TLog.i("CommonWorkingThread", ">>> working thread execute ");
      return b.post(paramRunnable);
    }
    return false;
  }
  
  public boolean a(Runnable paramRunnable, long paramLong)
  {
    if (b != null)
    {
      TLog.i("CommonWorkingThread", ">>> working thread execute delayMillis " + paramLong);
      return b.postDelayed(paramRunnable, paramLong);
    }
    return false;
  }
  
  public Handler b()
  {
    return b;
  }
}
