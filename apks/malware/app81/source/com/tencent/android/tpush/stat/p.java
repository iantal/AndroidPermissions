package com.tencent.android.tpush.stat;

import android.content.Context;
import com.tencent.android.tpush.stat.a.i;

class p
{
  private static volatile long f = 0L;
  private com.tencent.android.tpush.stat.event.d a;
  private StatReportStrategy b = null;
  private boolean c = false;
  private Context d = null;
  private long e = System.currentTimeMillis();
  
  public p(com.tencent.android.tpush.stat.event.d paramD)
  {
    this.a = paramD;
    this.b = d.a();
    this.c = paramD.e();
    this.d = paramD.d();
  }
  
  private void a(f paramF)
  {
    g.b(j.e()).a(this.a, paramF);
  }
  
  private void b()
  {
    if ((d.e) && (a.a(j.e()).d())) {
      this.b = StatReportStrategy.INSTANT;
    }
    if (d.b()) {
      j.g().b("strategy=" + this.b.name());
    }
    switch (n.a[this.b.ordinal()])
    {
    default: 
      j.g().e("Invalid stat strategy:" + d.a());
    }
    do
    {
      return;
      c();
      return;
      t.a(this.d).a(this.a, new q(this), this.c, true);
      return;
      t.a(this.d).a(this.a, null, this.c, false);
      return;
      t.a(this.d).a(this.a, null, this.c, false);
      return;
      if (a.a(j.e()).b() == 1)
      {
        c();
        return;
      }
      t.a(this.d).a(this.a, null, this.c, false);
      return;
    } while (!com.tencent.android.tpush.stat.a.g.e(this.d));
    a(new r(this));
  }
  
  private void c()
  {
    a(new s(this));
  }
  
  private boolean d()
  {
    return false;
  }
  
  public void a()
  {
    if (d()) {}
    do
    {
      return;
      if ((d.h > 0) && (this.e >= f))
      {
        j.g(this.d);
        f = this.e + 5000L;
        if (d.b()) {
          j.g().b("nextFlushTime=" + f);
        }
      }
      if (!a.a(this.d).e()) {
        break;
      }
      if (d.b()) {
        j.g().b("sendFailedCount=" + j.a);
      }
      if (!j.a())
      {
        b();
        return;
      }
      t.a(this.d).a(this.a, null, this.c, false);
    } while (this.e - j.b <= 1800000L);
    j.c();
    return;
    t.a(this.d).a(this.a, null, this.c, false);
  }
}
