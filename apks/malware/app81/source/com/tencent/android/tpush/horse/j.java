package com.tencent.android.tpush.horse;

import com.tencent.android.tpush.horse.data.StrategyItem;
import com.tencent.android.tpush.logging.TLog;
import java.nio.channels.SocketChannel;

class j
  implements b
{
  j(g paramG) {}
  
  public void a(StrategyItem arg1)
  {
    TLog.v("XGHorse", "@@ onFail(" + ??? + ")");
    if (g.e(this.a))
    {
      g.a(this.a, false);
      this.a.c();
      return;
    }
    StringBuilder localStringBuilder = new StringBuilder().append(">> item:");
    Object localObject1;
    if (??? == null)
    {
      localObject1 = "null";
      label76:
      TLog.i("XGHorse", (String)localObject1 + " status=" + g.d(this.a));
      if (r.j().c()) {
        break label286;
      }
      if ((g.d(this.a) == 0) && (!f.j().c()))
      {
        g.a(this.a, 2);
        localObject1 = new StringBuilder().append(">> ");
        if (??? != null) {
          break label278;
        }
      }
    }
    label278:
    for (??? = "null";; ??? = ???.toString())
    {
      TLog.i("XGHorse", ???);
      if (g.b(this.a) != null) {
        g.a(this.a, 10101, "create channel fail!");
      }
      if (g.d(this.a) != 1) {
        break;
      }
      synchronized (g.c(this.a))
      {
        g.a(this.a, 2);
        TLog.i("XGHorse", ">> http notify 421>>" + Thread.currentThread());
        g.c(this.a).notify();
        return;
      }
      String str = ???.toString();
      break label76;
    }
    label286:
    TLog.i("XGHorse", ">> tcp has remain");
  }
  
  public void a(SocketChannel arg1, StrategyItem paramStrategyItem)
  {
    TLog.v("XGHorse", "@@ onSuccess(" + ??? + ")");
    g.a(0);
    if ((??? == null) || (paramStrategyItem == null))
    {
      TLog.i("XGHorse", ">> socketChannel or item is null ,notifyFail()");
      g.a(this.a, 10101, "create channel fail!");
      return;
    }
    if (???.isConnected())
    {
      TLog.i("XGHorse", ">> isConnected item:");
      if ((g.b(this.a) != null) && ((!paramStrategyItem.j()) || (g.e(this.a)))) {}
    }
    for (;;)
    {
      try
      {
        ???.close();
        if (g.e(this.a)) {
          g.a(this.a, false);
        }
        synchronized (g.c(this.a))
        {
          g.a(this.a, 2);
          TLog.i("XGHorse", ">> TcpTask has result >>" + Thread.currentThread());
          g.c(this.a).notify();
          return;
        }
      }
      catch (Exception ???)
      {
        TLog.e("XGHorse", ???.getMessage());
        continue;
      }
      g.b(this.a).a(???, paramStrategyItem);
      continue;
      TLog.i("XGHorse", ">> not connected >> notifyFail()");
      g.a(this.a, 10101, "create channel fail!");
    }
  }
}
