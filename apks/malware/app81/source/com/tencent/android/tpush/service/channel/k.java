package com.tencent.android.tpush.service.channel;

import android.os.Handler;
import com.qq.taf.jce.JceStruct;
import com.tencent.android.tpush.logging.TLog;
import com.tencent.android.tpush.service.channel.b.i;
import com.tencent.android.tpush.service.channel.c.d;
import java.util.Map;
import java.util.concurrent.ConcurrentHashMap;

class k
  implements Runnable
{
  private com.tencent.android.tpush.service.channel.a.a b = null;
  private i c = null;
  
  public k(b paramB, com.tencent.android.tpush.service.channel.a.a paramA, i paramI)
  {
    this.b = paramA;
    this.c = paramI;
  }
  
  public void run()
  {
    TLog.v("XGService", "@@RequestSuccRunnable run()");
    Object localObject1 = (ConcurrentHashMap)b.e(this.a).get(this.b);
    if (localObject1 == null) {
      return;
    }
    n localN = (n)((ConcurrentHashMap)localObject1).get(Integer.valueOf(this.c.g()));
    if (localN == null)
    {
      TLog.e("XGService", ">> NetCallBackRunnable >>> 请求已被回调过，响应对应的request不存在。" + this.c);
      return;
    }
    TLog.i("XGService", ">> remove timeoutRunnable");
    Object localObject2 = (l)b.g(this.a).remove(localN);
    b.h(this.a).removeCallbacks((Runnable)localObject2);
    TLog.i("XGService", ">> remove tpnsMessagesSent");
    ((ConcurrentHashMap)localObject1).remove(Integer.valueOf(this.c.g()));
    localObject1 = localN.d;
    if (localObject1 == null)
    {
      TLog.e("XGService", ">> messageHandler is null");
      return;
    }
    long l1 = System.currentTimeMillis();
    long l2 = localN.b;
    localObject2 = this.b.e();
    ((a)localObject2).a(3, Long.valueOf(l1 - l2));
    try
    {
      JceStruct localJceStruct = d.a(this.c.f(), this.c.i());
      ((o)localObject1).a(localN.c, this.c.j(), localJceStruct, (a)localObject2);
      return;
    }
    catch (Exception localException)
    {
      TLog.e("XGService", "", localException);
    }
  }
}
