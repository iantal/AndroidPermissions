package com.tencent.msdk.remote.api;

import com.tencent.msdk.WeGame;
import com.tencent.msdk.WeGameNotifyGame;
import com.tencent.msdk.api.ShareRet;
import com.tencent.msdk.tools.Logger;
import java.net.URLEncoder;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

public class ShareToQQ
  extends RemoteApiBase
{
  private static final String EVENT_NAME = "shareToQQ";
  private static final String PATH = "/share/qq";
  private String mMsdkExtInfo = "";
  
  public ShareToQQ(int paramInt, String paramString1, String paramString2, String paramString3, String paramString4, String paramString5, String paramString6, String paramString7, String paramString8)
  {
    Logger.d("act" + paramInt);
    Logger.d("friendOpenId" + paramString1);
    Logger.d("title" + paramString2);
    Logger.d("summary" + paramString3);
    Logger.d("previewText" + paramString4);
    Logger.d("target_url" + paramString5);
    Logger.d("image_url" + paramString6);
    Logger.d("game_tag" + paramString7);
    try
    {
      this.jsonBody.put("summary", paramString3);
      this.jsonBody.put("target_url", paramString5);
      this.jsonBody.put("image_url", paramString6);
      this.jsonBody.put("title", paramString2);
      paramString2 = new JSONArray();
      paramString3 = new SafeJSONObject();
      paramString3.put("openid", paramString1);
      paramString3.put("type", 0);
      paramString2.put(paramString3);
      this.jsonBody.put("fopenids", paramString2.toString());
      this.jsonBody.put("previewText", paramString4);
      this.jsonBody.put("game_tag", paramString7);
      this.jsonBody.put("msdkExtInfo", paramString8);
      this.mMsdkExtInfo = paramString8;
      this.jsonBody.put("oauth_consumer_key", WeGame.getInstance().qq_appid);
      this.jsonBody.put("dst", "1001");
      this.jsonBody.put("flag", "1");
      this.jsonBody.put("access_token", this.accessToken);
      this.jsonBody.put("src", "0");
      return;
    }
    catch (JSONException paramString1)
    {
      paramString1.printStackTrace();
    }
  }
  
  private void callback(int paramInt, String paramString1, String paramString2)
  {
    ShareRet localShareRet = new ShareRet();
    localShareRet.flag = paramInt;
    localShareRet.desc = paramString1;
    localShareRet.platform = WeGame.QQPLATID;
    localShareRet.extInfo = paramString2;
    WeGameNotifyGame.getInstance().OnBackendShareCallback(localShareRet);
  }
  
  protected String getExtUrlParams()
  {
    return "msdkExtInfo=" + URLEncoder.encode(this.mMsdkExtInfo);
  }
  
  protected int getMyId()
  {
    return RemoteApiWhat.ShareToQQ.ordinal();
  }
  
  protected String getPath()
  {
    return "/share/qq";
  }
  
  public void onFailure(String paramString, int paramInt1, int paramInt2)
  {
    if (paramInt2 != getMyId())
    {
      Logger.d("a wrong callback");
      return;
    }
    Logger.d("onFailure " + paramString + " statusCode: " + paramInt1);
    reportEventToBeacon("shareToQQ", false, paramInt1, false);
    callback(-1, paramString, this.mMsdkExtInfo);
  }
  
  /* Error */
  public void onSuccess(String paramString, int paramInt1, int paramInt2)
  {
    // Byte code:
    //   0: iconst_m1
    //   1: istore 5
    //   3: ldc 21
    //   5: astore 7
    //   7: ldc -65
    //   9: astore 10
    //   11: iload_3
    //   12: aload_0
    //   13: invokevirtual 176	com/tencent/msdk/remote/api/ShareToQQ:getMyId	()I
    //   16: if_icmpeq +9 -> 25
    //   19: ldc -78
    //   21: invokestatic 45	com/tencent/msdk/tools/Logger:d	(Ljava/lang/String;)V
    //   24: return
    //   25: aload_1
    //   26: ifnonnull +20 -> 46
    //   29: ldc -63
    //   31: invokestatic 45	com/tencent/msdk/tools/Logger:d	(Ljava/lang/String;)V
    //   34: aload_0
    //   35: ldc 8
    //   37: iconst_0
    //   38: sipush 1002
    //   41: iconst_0
    //   42: invokevirtual 186	com/tencent/msdk/remote/api/ShareToQQ:reportEventToBeacon	(Ljava/lang/String;ZIZ)V
    //   45: return
    //   46: new 25	java/lang/StringBuilder
    //   49: dup
    //   50: invokespecial 26	java/lang/StringBuilder:<init>	()V
    //   53: ldc -61
    //   55: invokevirtual 32	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   58: aload_1
    //   59: invokevirtual 32	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   62: invokevirtual 39	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   65: invokestatic 45	com/tencent/msdk/tools/Logger:d	(Ljava/lang/String;)V
    //   68: iload 5
    //   70: istore 4
    //   72: aload 7
    //   74: astore 9
    //   76: iload 5
    //   78: istore 6
    //   80: aload 7
    //   82: astore 8
    //   84: new 74	com/tencent/msdk/remote/api/SafeJSONObject
    //   87: dup
    //   88: aload_1
    //   89: invokespecial 197	com/tencent/msdk/remote/api/SafeJSONObject:<init>	(Ljava/lang/String;)V
    //   92: astore 11
    //   94: iload 5
    //   96: istore_3
    //   97: aload 7
    //   99: astore 8
    //   101: aload 10
    //   103: astore 9
    //   105: aload 11
    //   107: ifnull +183 -> 290
    //   110: iload 5
    //   112: istore 4
    //   114: aload 7
    //   116: astore 9
    //   118: iload 5
    //   120: istore 6
    //   122: aload 7
    //   124: astore 8
    //   126: aload 11
    //   128: ldc -57
    //   130: invokevirtual 203	org/json/JSONObject:getInt	(Ljava/lang/String;)I
    //   133: istore_3
    //   134: iload_3
    //   135: ifne +165 -> 300
    //   138: iconst_0
    //   139: istore 4
    //   141: iconst_0
    //   142: istore 6
    //   144: iconst_0
    //   145: istore_3
    //   146: aload 7
    //   148: astore 9
    //   150: aload 7
    //   152: astore 8
    //   154: aload_0
    //   155: ldc 8
    //   157: iconst_1
    //   158: iconst_0
    //   159: iconst_0
    //   160: invokevirtual 186	com/tencent/msdk/remote/api/ShareToQQ:reportEventToBeacon	(Ljava/lang/String;ZIZ)V
    //   163: iload_3
    //   164: istore 4
    //   166: aload 7
    //   168: astore 9
    //   170: iload_3
    //   171: istore 6
    //   173: aload 7
    //   175: astore 8
    //   177: aload 11
    //   179: ldc 90
    //   181: invokevirtual 206	org/json/JSONObject:getString	(Ljava/lang/String;)Ljava/lang/String;
    //   184: astore 10
    //   186: aload 10
    //   188: astore 7
    //   190: aload 10
    //   192: ifnull +24 -> 216
    //   195: iload_3
    //   196: istore 4
    //   198: aload 10
    //   200: astore 9
    //   202: iload_3
    //   203: istore 6
    //   205: aload 10
    //   207: astore 8
    //   209: aload 10
    //   211: invokestatic 211	java/net/URLDecoder:decode	(Ljava/lang/String;)Ljava/lang/String;
    //   214: astore 7
    //   216: iload_3
    //   217: istore 4
    //   219: aload 7
    //   221: astore 9
    //   223: iload_3
    //   224: istore 6
    //   226: aload 7
    //   228: astore 8
    //   230: new 25	java/lang/StringBuilder
    //   233: dup
    //   234: invokespecial 26	java/lang/StringBuilder:<init>	()V
    //   237: ldc -43
    //   239: invokevirtual 32	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   242: aload 7
    //   244: invokevirtual 32	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   247: invokevirtual 39	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   250: invokestatic 45	com/tencent/msdk/tools/Logger:d	(Ljava/lang/String;)V
    //   253: iload_3
    //   254: istore 4
    //   256: aload 7
    //   258: astore 9
    //   260: iload_3
    //   261: istore 6
    //   263: aload 7
    //   265: astore 8
    //   267: aload_0
    //   268: aload 11
    //   270: aload_0
    //   271: invokevirtual 219	java/lang/Object:getClass	()Ljava/lang/Class;
    //   274: invokevirtual 224	java/lang/Class:getName	()Ljava/lang/String;
    //   277: invokevirtual 228	com/tencent/msdk/remote/api/ShareToQQ:getNetDesc	(Lorg/json/JSONObject;Ljava/lang/String;)Ljava/lang/String;
    //   280: astore 10
    //   282: aload 10
    //   284: astore 9
    //   286: aload 7
    //   288: astore 8
    //   290: aload_0
    //   291: iload_3
    //   292: aload 9
    //   294: aload 8
    //   296: invokespecial 188	com/tencent/msdk/remote/api/ShareToQQ:callback	(ILjava/lang/String;Ljava/lang/String;)V
    //   299: return
    //   300: iload 5
    //   302: istore 4
    //   304: aload 7
    //   306: astore 9
    //   308: iload 5
    //   310: istore 6
    //   312: aload 7
    //   314: astore 8
    //   316: new 25	java/lang/StringBuilder
    //   319: dup
    //   320: invokespecial 26	java/lang/StringBuilder:<init>	()V
    //   323: ldc -26
    //   325: invokevirtual 32	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   328: iload_3
    //   329: invokevirtual 35	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   332: invokevirtual 39	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   335: invokestatic 45	com/tencent/msdk/tools/Logger:d	(Ljava/lang/String;)V
    //   338: iload 5
    //   340: istore 4
    //   342: aload 7
    //   344: astore 9
    //   346: iload 5
    //   348: istore 6
    //   350: aload 7
    //   352: astore 8
    //   354: aload_0
    //   355: ldc 8
    //   357: iconst_0
    //   358: iload_3
    //   359: iconst_1
    //   360: invokevirtual 186	com/tencent/msdk/remote/api/ShareToQQ:reportEventToBeacon	(Ljava/lang/String;ZIZ)V
    //   363: iload 5
    //   365: istore_3
    //   366: goto -203 -> 163
    //   369: astore 7
    //   371: iload 4
    //   373: istore 6
    //   375: aload 9
    //   377: astore 8
    //   379: aload 7
    //   381: invokevirtual 121	org/json/JSONException:printStackTrace	()V
    //   384: iload 4
    //   386: istore 6
    //   388: aload 9
    //   390: astore 8
    //   392: new 25	java/lang/StringBuilder
    //   395: dup
    //   396: invokespecial 26	java/lang/StringBuilder:<init>	()V
    //   399: ldc -24
    //   401: invokevirtual 32	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   404: aload_1
    //   405: invokevirtual 32	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   408: ldc -74
    //   410: invokevirtual 32	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   413: iload_2
    //   414: invokevirtual 35	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   417: invokevirtual 39	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   420: invokestatic 45	com/tencent/msdk/tools/Logger:d	(Ljava/lang/String;)V
    //   423: iload 4
    //   425: istore 6
    //   427: aload 9
    //   429: astore 8
    //   431: aload_0
    //   432: ldc 8
    //   434: iconst_0
    //   435: sipush 1001
    //   438: iconst_0
    //   439: invokevirtual 186	com/tencent/msdk/remote/api/ShareToQQ:reportEventToBeacon	(Ljava/lang/String;ZIZ)V
    //   442: aload_0
    //   443: iload 4
    //   445: ldc -65
    //   447: aload 9
    //   449: invokespecial 188	com/tencent/msdk/remote/api/ShareToQQ:callback	(ILjava/lang/String;Ljava/lang/String;)V
    //   452: return
    //   453: astore_1
    //   454: aload_0
    //   455: iload 6
    //   457: ldc -65
    //   459: aload 8
    //   461: invokespecial 188	com/tencent/msdk/remote/api/ShareToQQ:callback	(ILjava/lang/String;Ljava/lang/String;)V
    //   464: aload_1
    //   465: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	466	0	this	ShareToQQ
    //   0	466	1	paramString	String
    //   0	466	2	paramInt1	int
    //   0	466	3	paramInt2	int
    //   70	374	4	i	int
    //   1	363	5	j	int
    //   78	378	6	k	int
    //   5	346	7	localObject1	Object
    //   369	11	7	localJSONException	JSONException
    //   82	378	8	localObject2	Object
    //   74	374	9	localObject3	Object
    //   9	274	10	str	String
    //   92	177	11	localSafeJSONObject	SafeJSONObject
    // Exception table:
    //   from	to	target	type
    //   84	94	369	org/json/JSONException
    //   126	134	369	org/json/JSONException
    //   154	163	369	org/json/JSONException
    //   177	186	369	org/json/JSONException
    //   209	216	369	org/json/JSONException
    //   230	253	369	org/json/JSONException
    //   267	282	369	org/json/JSONException
    //   316	338	369	org/json/JSONException
    //   354	363	369	org/json/JSONException
    //   84	94	453	finally
    //   126	134	453	finally
    //   154	163	453	finally
    //   177	186	453	finally
    //   209	216	453	finally
    //   230	253	453	finally
    //   267	282	453	finally
    //   316	338	453	finally
    //   354	363	453	finally
    //   379	384	453	finally
    //   392	423	453	finally
    //   431	442	453	finally
  }
}
