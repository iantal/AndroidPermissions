package com.tencent.msdk.remote.api;

import com.tencent.msdk.WeGameNotifyGame;
import com.tencent.msdk.api.LoginRet;
import com.tencent.msdk.login.LoginUtils;
import com.tencent.msdk.tools.Logger;

public class CleanLocation
  extends RemoteApiBase
{
  private static final String EVENT_NAME = "cleanLocation";
  private static final String PATH = "/relation/clear_location/";
  
  public CleanLocation() {}
  
  private void callback(int paramInt, String paramString)
  {
    RelationRet localRelationRet = new RelationRet();
    localRelationRet.flag = paramInt;
    localRelationRet.desc = paramString;
    paramString = new LoginRet();
    LoginUtils.getLocalLoginRet(paramString);
    localRelationRet.platform = paramString.platform;
    WeGameNotifyGame.getInstance().OnClearLocationCallback(localRelationRet);
  }
  
  protected int getMyId()
  {
    return RemoteApiWhat.CleanLocation.ordinal();
  }
  
  protected String getPath()
  {
    return "/relation/clear_location/";
  }
  
  public void onFailure(String paramString, int paramInt1, int paramInt2)
  {
    if (paramInt2 != getMyId())
    {
      Logger.d("a wrong callback");
      return;
    }
    String str = paramString;
    if (paramString == null) {
      str = "";
    }
    callback(-1, str);
    reportEventToBeacon("cleanLocation", false, paramInt1, false);
  }
  
  public void onSuccess(String paramString, int paramInt1, int paramInt2)
  {
    if (paramInt2 != getMyId())
    {
      Logger.d("a wrong callback");
      return;
    }
    reportEventToBeacon("cleanLocation", true, 0, false);
    String str = paramString;
    if (paramString == null) {
      str = "";
    }
    callback(0, str);
  }
}
