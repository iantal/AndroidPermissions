package com.tencent.msdk.remote.api;

import com.tencent.msdk.WeGame;
import com.tencent.msdk.WeGameNotifyGame;
import com.tencent.msdk.tools.Logger;
import java.util.Vector;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

class QueryWXUserInfo
  extends RemoteApiBase
{
  private static final String EVENT_NAME = "queryWXUserInfo";
  private static final String PATH = "/relation/wxuserinfo";
  
  public QueryWXUserInfo()
  {
    try
    {
      this.jsonBody.put("accessToken", this.accessToken);
      JSONArray localJSONArray = new JSONArray();
      localJSONArray.put(this.openId);
      this.jsonBody.put("openids", localJSONArray);
      return;
    }
    catch (JSONException localJSONException)
    {
      localJSONException.printStackTrace();
    }
  }
  
  private void callback(int paramInt, String paramString, PersonInfo paramPersonInfo)
  {
    RelationRet localRelationRet = new RelationRet();
    localRelationRet.flag = paramInt;
    localRelationRet.desc = paramString;
    paramString = new Vector();
    if (paramPersonInfo != null) {
      paramString.add(paramPersonInfo);
    }
    localRelationRet.persons = paramString;
    localRelationRet.platform = WeGame.WXPLATID;
    WeGameNotifyGame.getInstance().OnBackendRelationCallback(localRelationRet);
  }
  
  protected int getMyId()
  {
    return RemoteApiWhat.QueryWXMyInfo.ordinal();
  }
  
  protected String getPath()
  {
    return "/relation/wxuserinfo";
  }
  
  public void onFailure(String paramString, int paramInt1, int paramInt2)
  {
    if (paramInt2 != getMyId())
    {
      Logger.d("a wrong callback");
      return;
    }
    Logger.d("onFailure " + paramString + " statusCode: " + paramInt1);
    callback(-1, paramString, null);
    reportEventToBeacon("queryWXUserInfo", false, paramInt1, false);
  }
  
  /* Error */
  public void onSuccess(String paramString, int paramInt1, int paramInt2)
  {
    // Byte code:
    //   0: aconst_null
    //   1: astore 8
    //   3: iconst_m1
    //   4: istore 4
    //   6: ldc -118
    //   8: astore 7
    //   10: iload_3
    //   11: aload_0
    //   12: invokevirtual 104	com/tencent/msdk/remote/api/QueryWXUserInfo:getMyId	()I
    //   15: if_icmpeq +9 -> 24
    //   18: ldc 106
    //   20: invokestatic 112	com/tencent/msdk/tools/Logger:d	(Ljava/lang/String;)V
    //   23: return
    //   24: aload_1
    //   25: ifnonnull +20 -> 45
    //   28: ldc -116
    //   30: invokestatic 112	com/tencent/msdk/tools/Logger:d	(Ljava/lang/String;)V
    //   33: aload_0
    //   34: ldc 8
    //   36: iconst_0
    //   37: sipush 1002
    //   40: iconst_0
    //   41: invokevirtual 135	com/tencent/msdk/remote/api/QueryWXUserInfo:reportEventToBeacon	(Ljava/lang/String;ZIZ)V
    //   44: return
    //   45: new 114	java/lang/StringBuilder
    //   48: dup
    //   49: invokespecial 115	java/lang/StringBuilder:<init>	()V
    //   52: ldc -114
    //   54: invokevirtual 121	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   57: aload_1
    //   58: invokevirtual 121	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   61: invokevirtual 129	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   64: invokestatic 112	com/tencent/msdk/tools/Logger:d	(Ljava/lang/String;)V
    //   67: aload 7
    //   69: astore 6
    //   71: aload 7
    //   73: astore 5
    //   75: new 144	com/tencent/msdk/remote/api/SafeJSONObject
    //   78: dup
    //   79: aload_1
    //   80: invokespecial 146	com/tencent/msdk/remote/api/SafeJSONObject:<init>	(Ljava/lang/String;)V
    //   83: astore 9
    //   85: aload 7
    //   87: astore 6
    //   89: aload 7
    //   91: astore 5
    //   93: aload_0
    //   94: aload 9
    //   96: aload_0
    //   97: invokevirtual 152	java/lang/Object:getClass	()Ljava/lang/Class;
    //   100: invokevirtual 157	java/lang/Class:getName	()Ljava/lang/String;
    //   103: invokevirtual 161	com/tencent/msdk/remote/api/QueryWXUserInfo:getNetDesc	(Lorg/json/JSONObject;Ljava/lang/String;)Ljava/lang/String;
    //   106: astore 7
    //   108: aload 7
    //   110: astore 6
    //   112: aload 7
    //   114: astore 5
    //   116: aload 9
    //   118: ldc -93
    //   120: invokevirtual 167	org/json/JSONObject:getInt	(Ljava/lang/String;)I
    //   123: istore_3
    //   124: iload_3
    //   125: ifne +49 -> 174
    //   128: aload 7
    //   130: astore 6
    //   132: aload 7
    //   134: astore 5
    //   136: aload_0
    //   137: ldc 8
    //   139: iconst_1
    //   140: iconst_0
    //   141: iconst_0
    //   142: invokevirtual 135	com/tencent/msdk/remote/api/QueryWXUserInfo:reportEventToBeacon	(Ljava/lang/String;ZIZ)V
    //   145: aload 7
    //   147: astore 6
    //   149: aload 7
    //   151: astore 5
    //   153: aload 9
    //   155: invokestatic 173	com/tencent/msdk/remote/api/WxInfoFormatter:formatUser	(Lorg/json/JSONObject;)Lcom/tencent/msdk/remote/api/PersonInfo;
    //   158: astore 8
    //   160: aload 8
    //   162: astore_1
    //   163: iconst_0
    //   164: istore_2
    //   165: aload_0
    //   166: iload_2
    //   167: aload 7
    //   169: aload_1
    //   170: invokespecial 131	com/tencent/msdk/remote/api/QueryWXUserInfo:callback	(ILjava/lang/String;Lcom/tencent/msdk/remote/api/PersonInfo;)V
    //   173: return
    //   174: aload 7
    //   176: astore 6
    //   178: aload 7
    //   180: astore 5
    //   182: new 114	java/lang/StringBuilder
    //   185: dup
    //   186: invokespecial 115	java/lang/StringBuilder:<init>	()V
    //   189: ldc -81
    //   191: invokevirtual 121	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   194: iload_3
    //   195: invokevirtual 126	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   198: invokevirtual 129	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   201: invokestatic 112	com/tencent/msdk/tools/Logger:d	(Ljava/lang/String;)V
    //   204: aload 7
    //   206: astore 6
    //   208: aload 7
    //   210: astore 5
    //   212: aload_0
    //   213: ldc 8
    //   215: iconst_0
    //   216: iload_3
    //   217: iconst_1
    //   218: invokevirtual 135	com/tencent/msdk/remote/api/QueryWXUserInfo:reportEventToBeacon	(Ljava/lang/String;ZIZ)V
    //   221: iload 4
    //   223: istore_2
    //   224: aload 8
    //   226: astore_1
    //   227: goto -62 -> 165
    //   230: astore 7
    //   232: aload 6
    //   234: astore 5
    //   236: aload 7
    //   238: invokevirtual 45	org/json/JSONException:printStackTrace	()V
    //   241: aload 6
    //   243: astore 5
    //   245: new 114	java/lang/StringBuilder
    //   248: dup
    //   249: invokespecial 115	java/lang/StringBuilder:<init>	()V
    //   252: ldc -79
    //   254: invokevirtual 121	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   257: aload_1
    //   258: invokevirtual 121	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   261: ldc 123
    //   263: invokevirtual 121	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   266: iload_2
    //   267: invokevirtual 126	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   270: invokevirtual 129	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   273: invokestatic 112	com/tencent/msdk/tools/Logger:d	(Ljava/lang/String;)V
    //   276: aload 6
    //   278: astore 5
    //   280: aload_0
    //   281: ldc 8
    //   283: iconst_0
    //   284: sipush 1001
    //   287: iconst_0
    //   288: invokevirtual 135	com/tencent/msdk/remote/api/QueryWXUserInfo:reportEventToBeacon	(Ljava/lang/String;ZIZ)V
    //   291: aload_0
    //   292: iconst_m1
    //   293: aload 6
    //   295: aconst_null
    //   296: invokespecial 131	com/tencent/msdk/remote/api/QueryWXUserInfo:callback	(ILjava/lang/String;Lcom/tencent/msdk/remote/api/PersonInfo;)V
    //   299: return
    //   300: astore_1
    //   301: aload_0
    //   302: iconst_m1
    //   303: aload 5
    //   305: aconst_null
    //   306: invokespecial 131	com/tencent/msdk/remote/api/QueryWXUserInfo:callback	(ILjava/lang/String;Lcom/tencent/msdk/remote/api/PersonInfo;)V
    //   309: aload_1
    //   310: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	311	0	this	QueryWXUserInfo
    //   0	311	1	paramString	String
    //   0	311	2	paramInt1	int
    //   0	311	3	paramInt2	int
    //   4	218	4	i	int
    //   73	231	5	str1	String
    //   69	225	6	str2	String
    //   8	201	7	str3	String
    //   230	7	7	localJSONException	JSONException
    //   1	224	8	localPersonInfo	PersonInfo
    //   83	71	9	localSafeJSONObject	SafeJSONObject
    // Exception table:
    //   from	to	target	type
    //   75	85	230	org/json/JSONException
    //   93	108	230	org/json/JSONException
    //   116	124	230	org/json/JSONException
    //   136	145	230	org/json/JSONException
    //   153	160	230	org/json/JSONException
    //   182	204	230	org/json/JSONException
    //   212	221	230	org/json/JSONException
    //   75	85	300	finally
    //   93	108	300	finally
    //   116	124	300	finally
    //   136	145	300	finally
    //   153	160	300	finally
    //   182	204	300	finally
    //   212	221	300	finally
    //   236	241	300	finally
    //   245	276	300	finally
    //   280	291	300	finally
  }
}
