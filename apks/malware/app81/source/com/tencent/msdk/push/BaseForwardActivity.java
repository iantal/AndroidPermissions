package com.tencent.msdk.push;

import android.app.Activity;
import android.content.ComponentName;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.os.Bundle;
import com.tencent.msdk.push.req.ClickStateReq;
import com.tencent.msdk.push.req.ClickStateReq.Callback;
import com.tencent.msdk.tools.Logger;

public class BaseForwardActivity
  extends Activity
{
  public BaseForwardActivity() {}
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    paramBundle = getPackageManager().getLaunchIntentForPackage(getPackageName());
    Logger.d("launchActivity :" + paramBundle.getComponent().getClassName());
    Intent localIntent = new Intent();
    localIntent.setClassName(this, paramBundle.getComponent().getClassName());
    localIntent.setFlags(268435456);
    localIntent.addFlags(536870912);
    localIntent.putExtras(getIntent());
    startActivity(localIntent);
    if ((getIntent() != null) && (getIntent().getParcelableExtra("PUSH_MSG") != null) && ((getIntent().getParcelableExtra("PUSH_MSG") instanceof MsgEntry)))
    {
      paramBundle = new ClickStateReq((MsgEntry)getIntent().getParcelableExtra("PUSH_MSG"));
      paramBundle.setmCallback(new ClickStateReq.Callback()
      {
        public void onFail()
        {
          Logger.d("ClickStateReq onFail");
        }
        
        public void onSuccess()
        {
          Logger.d("ClickStateReq onSuccess");
        }
      });
      paramBundle.send();
    }
    finish();
  }
}
