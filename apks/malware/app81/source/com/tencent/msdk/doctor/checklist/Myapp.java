package com.tencent.msdk.doctor.checklist;

import android.app.Activity;
import android.content.ComponentName;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;
import android.content.pm.ServiceInfo;
import com.tencent.msdk.doctor.CheckBase;
import java.util.ArrayList;

public class Myapp
  extends CheckBase
{
  public Myapp(Activity paramActivity)
  {
    super(paramActivity);
  }
  
  public ArrayList<String> check()
  {
    ArrayList localArrayList = new ArrayList();
    Object localObject = this.mContext.getPackageName();
    String str = (String)localObject + ":TMAssistantDownloadSDKService";
    if (Boolean.valueOf(getValueFromAssetsFile("SAVE_UPDATE", "msdkconfig.ini")).booleanValue() != true) {}
    for (;;)
    {
      return localArrayList;
      try
      {
        localObject = this.mContext.getPackageManager().getServiceInfo(new ComponentName((String)localObject, "com.tencent.tmdownloader.TMAssistantDownloadService"), 128);
        if (((ServiceInfo)localObject).exported) {
          localArrayList.add("Msdk: the exported of " + "com.tencent.tmdownloader.TMAssistantDownloadService" + " must be false");
        }
        if (!((ServiceInfo)localObject).processName.equals(str))
        {
          localArrayList.add("Msdk: the process of " + "com.tencent.tmdownloader.TMAssistantDownloadService" + " must be :TMAssistantDownloadSDKService");
          return localArrayList;
        }
      }
      catch (PackageManager.NameNotFoundException localNameNotFoundException)
      {
        localNameNotFoundException.printStackTrace();
        localArrayList.add("Lack of service: " + "com.tencent.tmdownloader.TMAssistantDownloadService");
      }
    }
    return localArrayList;
  }
}
