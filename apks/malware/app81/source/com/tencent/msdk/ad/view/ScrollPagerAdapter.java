package com.tencent.msdk.ad.view;

import android.support.v4.view.PagerAdapter;
import android.view.View;
import android.view.ViewGroup;

public abstract class ScrollPagerAdapter
  extends PagerAdapter
{
  private final ScrapManager scrapManager;
  
  public ScrollPagerAdapter()
  {
    this(new ScrapManager());
  }
  
  ScrollPagerAdapter(ScrapManager paramScrapManager)
  {
    this.scrapManager = paramScrapManager;
    paramScrapManager.setViewTypeCount(getViewTypeCount());
  }
  
  public final void destroyItem(ViewGroup paramViewGroup, int paramInt, Object paramObject)
  {
    paramObject = (View)paramObject;
    paramViewGroup.removeView(paramObject);
    int i = getItemViewType(paramInt);
    if (i != -1) {
      this.scrapManager.addScrollView(paramObject, paramInt, i);
    }
  }
  
  public int getItemViewType(int paramInt)
  {
    return 0;
  }
  
  public abstract View getView(int paramInt, View paramView, ViewGroup paramViewGroup);
  
  public int getViewTypeCount()
  {
    return 1;
  }
  
  public final Object instantiateItem(ViewGroup paramViewGroup, int paramInt)
  {
    int i = getItemViewType(paramInt);
    View localView = null;
    if (i != -1) {
      localView = this.scrapManager.getScrapView(paramInt, i);
    }
    localView = getView(paramInt, localView, paramViewGroup);
    paramViewGroup.addView(localView);
    return localView;
  }
  
  public final boolean isViewFromObject(View paramView, Object paramObject)
  {
    return paramView == paramObject;
  }
  
  public void notifyDataSetChanged()
  {
    this.scrapManager.recycleActiveViews();
    super.notifyDataSetChanged();
  }
}
