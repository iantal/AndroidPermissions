package com.tencent.tpshell;

import android.content.Context;
import android.view.View;
import android.view.WindowManager;
import android.view.WindowManager.LayoutParams;

class DestopWaittingBarFloatViewImp
  implements IDestopWaittingBar
{
  private WindowManager.LayoutParams mWinLayoutParams;
  private WindowManager mWindowManager;
  public Context m_context;
  private View m_floatView;
  
  public DestopWaittingBarFloatViewImp(Context paramContext)
  {
    this.m_context = paramContext;
    this.m_floatView = null;
    this.mWindowManager = ((WindowManager)paramContext.getSystemService("window"));
    initWinLayoutParams(paramContext);
  }
  
  private void initWinLayoutParams(Context paramContext)
  {
    this.mWinLayoutParams = new WindowManager.LayoutParams();
    this.mWinLayoutParams.width = -2;
    this.mWinLayoutParams.height = -2;
    this.mWinLayoutParams.gravity = 17;
    this.mWinLayoutParams.type = 2006;
    this.mWinLayoutParams.flags = 8;
    this.mWinLayoutParams.alpha = 100.0F;
  }
  
  public void hide()
  {
    if (this.m_floatView != null) {
      this.mWindowManager.removeView(this.m_floatView);
    }
  }
  
  public void show()
  {
    if (this.m_floatView != null)
    {
      this.mWindowManager.removeView(this.m_floatView);
      this.mWindowManager.addView(this.m_floatView, this.mWinLayoutParams);
      return;
    }
    this.m_floatView = new DestopWaittingBarViewHelper(this.m_context).getContentView();
    this.mWindowManager.addView(this.m_floatView, this.mWinLayoutParams);
  }
}
