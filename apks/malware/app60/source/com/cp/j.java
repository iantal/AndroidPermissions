package com.cp;

import android.content.Context;
import java.io.ByteArrayOutputStream;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.util.Vector;

public final class j
{
  Vector a = new Vector();
  private Context b;
  private int c = 0;
  private int d = 0;
  
  public j(Context paramContext)
  {
    this.b = paramContext;
    try
    {
      a(this.b.openFileInput(k.㾾("પ")));
      try
      {
        paramContext = new DataInputStream(this.b.openFileInput(k.㾾("઴")));
        this.c = paramContext.readInt();
        this.d = paramContext.readInt();
        this.c += 1;
        if (this.c > 99) {
          this.c = 99;
        }
        a();
        return;
      }
      catch (Exception paramContext)
      {
        for (;;) {}
      }
    }
    catch (Exception paramContext)
    {
      for (;;) {}
    }
  }
  
  private void a()
  {
    try
    {
      FileOutputStream localFileOutputStream = this.b.openFileOutput(k.㾾("⋱"), 0);
      DataOutputStream localDataOutputStream = new DataOutputStream(localFileOutputStream);
      localDataOutputStream.writeInt(this.c);
      localDataOutputStream.writeInt(this.d);
      localFileOutputStream.close();
      return;
    }
    catch (Exception localException) {}
  }
  
  private void a(FileInputStream paramFileInputStream)
  {
    paramFileInputStream = new DataInputStream(paramFileInputStream);
    int j = paramFileInputStream.readInt();
    this.a.removeAllElements();
    int i = 0;
    while (i < j)
    {
      k localK = new k(paramFileInputStream);
      this.a.addElement(localK);
      i += 1;
    }
  }
  
  public final int a(int paramInt)
  {
    long l1 = System.currentTimeMillis();
    long l2 = paramInt * 1000;
    paramInt = 0;
    int j;
    for (int i = 0; paramInt < this.a.size(); i = j)
    {
      j = i;
      if (((k)this.a.elementAt(paramInt)).a >= l1 - l2) {
        j = i + 1;
      }
      paramInt += 1;
    }
    return i;
  }
  
  public final void a(b paramB)
  {
    paramB = new k(System.currentTimeMillis(), paramB);
    this.a.addElement(paramB);
    try
    {
      paramB = new DataOutputStream(this.b.openFileOutput(k.㾾("⋯"), 0));
      paramB.writeInt(this.a.size());
      int i = 0;
      while (i < this.a.size())
      {
        k localK = (k)this.a.elementAt(i);
        ByteArrayOutputStream localByteArrayOutputStream = new ByteArrayOutputStream();
        DataOutputStream localDataOutputStream = new DataOutputStream(localByteArrayOutputStream);
        localDataOutputStream.writeLong(localK.a);
        localDataOutputStream.writeUTF(localK.b.a);
        localDataOutputStream.writeInt(localK.b.c);
        paramB.write(localByteArrayOutputStream.toByteArray());
        i += 1;
      }
      return;
    }
    catch (Exception paramB)
    {
      this.d += 1;
      if (this.d > 98) {
        this.d = 98;
      }
      a();
    }
  }
}
