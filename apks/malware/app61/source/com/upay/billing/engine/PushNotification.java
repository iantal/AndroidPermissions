package com.upay.billing.engine;

import android.app.Notification;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.graphics.Bitmap;
import android.media.RingtoneManager;
import android.net.Uri;
import android.widget.RemoteViews;
import java.io.File;
import java.lang.reflect.Field;

public class PushNotification
{
  public PushNotification() {}
  
  public static int getInternalID()
  {
    try
    {
      Field localField = Class.forName("com.android.internal.R$id").getField("icon");
      localField.setAccessible(true);
      int i = localField.getInt(null);
      return i;
    }
    catch (IllegalArgumentException localIllegalArgumentException)
    {
      localIllegalArgumentException.printStackTrace();
      return 0;
    }
    catch (IllegalAccessException localIllegalAccessException)
    {
      localIllegalAccessException.printStackTrace();
      return 0;
    }
    catch (ClassNotFoundException localClassNotFoundException)
    {
      localClassNotFoundException.printStackTrace();
      return 0;
    }
    catch (NoSuchFieldException localNoSuchFieldException)
    {
      localNoSuchFieldException.printStackTrace();
    }
    return 0;
  }
  
  public static void showNotification(Context paramContext, int paramInt, String paramString1, String paramString2, String paramString3, Bitmap paramBitmap)
  {
    try
    {
      new UpayMResource(paramContext);
      NotificationManager localNotificationManager = (NotificationManager)paramContext.getSystemService("notification");
      Notification localNotification = new Notification(UpayMResource.drawable("upay_description"), paramString1, System.currentTimeMillis());
      localNotification.defaults = -1;
      localNotification.sound = RingtoneManager.getDefaultUri(2);
      localNotification.vibrate = new long[] { 1000L, 1000L, 1000L, 1000L, 1000L };
      localNotification.flags |= 0x10;
      Intent localIntent;
      if (paramString3.startsWith("http:")) {
        localIntent = new Intent("android.intent.action.VIEW", Uri.parse(paramString3));
      }
      for (;;)
      {
        localNotification.setLatestEventInfo(paramContext, paramString1, paramString2, PendingIntent.getActivity(paramContext, 0, localIntent, 134217728));
        if ((localNotification.contentView != null) && (paramBitmap != null)) {
          localNotification.contentView.setImageViewBitmap(getInternalID(), paramBitmap);
        }
        localNotificationManager.notify(paramInt, localNotification);
        return;
        boolean bool = new File(paramString3).exists();
        localIntent = null;
        if (bool)
        {
          localIntent = new Intent("android.intent.action.VIEW");
          localIntent.addFlags(268435456);
          localIntent.setDataAndType(Uri.fromFile(new File(paramString3)), "application/vnd.android.package-archive");
        }
      }
      return;
    }
    catch (Exception paramContext) {}
  }
}
