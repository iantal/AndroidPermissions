package com.yongrun.app.sxmn.ui;

import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import com.snowfish.cn.ganga.offline.helper.SFIPayResultListener;
import com.yongrun.app.sxmn.common.e;
import com.yongrun.app.sxmn.service.Service_BindApp;
import java.io.PrintStream;

class ag
  extends SFIPayResultListener
{
  final SharedPreferences a;
  
  ag(Activity_Deal paramActivity_Deal)
  {
    this.a = paramActivity_Deal.getSharedPreferences("settings", 0);
  }
  
  public void onCanceled(String paramString)
  {
    e.a().a(this.b, "2", "", "3");
    paramString = this.a.edit();
    paramString.putBoolean("koufei", false);
    paramString.commit();
    if (Activity_Deal.a(this.b))
    {
      this.b.runOnUiThread(new ah(this));
      return;
    }
    paramString = new Intent(this.b, Service_BindApp.class);
    this.b.startService(paramString);
    this.b.c();
  }
  
  public void onFailed(String paramString)
  {
    e.a().a(this.b, "2", "", "2");
    this.b.runOnUiThread(new ai(this));
    paramString = this.a.edit();
    paramString.putBoolean("koufei", false);
    paramString.putBoolean("wanttopay", true);
    paramString.commit();
  }
  
  public void onSuccess(String paramString)
  {
    if (!Activity_Deal.c(this.b))
    {
      e.a().a(this.b, "2", "", "1");
      Activity_Deal.a(this.b, true);
    }
    System.out.println("success");
    paramString = this.a.edit();
    paramString.putBoolean("koufei", true);
    paramString.commit();
    this.b.c();
  }
}
