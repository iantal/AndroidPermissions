package com.bx.pay;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import com.bx.pay.a.c;
import com.bx.pay.a.d;
import com.bx.pay.backinf.PayCallback;
import com.unionpay.UPPayAssistEx;
import com.unionpay.uppay.PayActivity;
import java.util.HashMap;
import java.util.Map;

public class UpActivity
  extends Activity
{
  public static PayCallback a;
  private String b;
  private String c;
  private String d;
  private String e;
  private Context f;
  
  public UpActivity() {}
  
  protected void onActivityResult(int paramInt1, int paramInt2, Intent paramIntent)
  {
    if (paramIntent == null) {
      return;
    }
    Object localObject = "";
    String str = paramIntent.getExtras().getString("pay_result");
    if (str.equalsIgnoreCase("success")) {
      paramIntent = "支付成功！";
    }
    for (;;)
    {
      localObject = new HashMap();
      ((Map)localObject).put("result", str);
      ((Map)localObject).put("logCode", this.c);
      ((Map)localObject).put("method", "result");
      ((Map)localObject).put("payType", "uppay");
      ((Map)localObject).put("payCode", this.e);
      ((Map)localObject).put("price", this.d);
      ((Map)localObject).put("resultMsg", paramIntent);
      new BXPay(c.a, (String)d.x.get("appId"), (String)d.x.get("channelCode")).a((Map)localObject, this.f, a);
      finish();
      return;
      if (str.equalsIgnoreCase("fail"))
      {
        paramIntent = "支付失败！";
      }
      else
      {
        paramIntent = (Intent)localObject;
        if (str.equalsIgnoreCase("cancel")) {
          paramIntent = "用户取消了支付";
        }
      }
    }
  }
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    this.f = this;
    this.b = getIntent().getStringExtra("tn");
    this.c = getIntent().getStringExtra("logCode");
    this.d = getIntent().getStringExtra("price");
    this.e = getIntent().getStringExtra("payCode");
    paramBundle = this.f;
    paramBundle = this.b;
    String str = this.c;
    HashMap localHashMap = new HashMap();
    localHashMap.put("tn", paramBundle);
    localHashMap.put("logCode", str);
    localHashMap.put("method", "pay");
    localHashMap.put("payType", "uppay");
    UPPayAssistEx.startPayByJAR(this, PayActivity.class, null, null, paramBundle, "00");
  }
}
