package com.rollbar.android;

public class RollbarExceptionHandler
  implements Thread.UncaughtExceptionHandler
{
  private Thread.UncaughtExceptionHandler existingHandler;
  private Notifier notifier;
  
  private RollbarExceptionHandler(Thread.UncaughtExceptionHandler paramUncaughtExceptionHandler, Notifier paramNotifier)
  {
    this.existingHandler = paramUncaughtExceptionHandler;
    this.notifier = paramNotifier;
  }
  
  public static void register(Notifier paramNotifier)
  {
    Thread.UncaughtExceptionHandler localUncaughtExceptionHandler = Thread.getDefaultUncaughtExceptionHandler();
    if (!(localUncaughtExceptionHandler instanceof RollbarExceptionHandler)) {
      Thread.setDefaultUncaughtExceptionHandler(new RollbarExceptionHandler(localUncaughtExceptionHandler, paramNotifier));
    }
  }
  
  public void uncaughtException(Thread paramThread, Throwable paramThrowable)
  {
    this.notifier.uncaughtException(paramThrowable);
    if (this.existingHandler != null) {
      this.existingHandler.uncaughtException(paramThread, paramThrowable);
    }
  }
}
