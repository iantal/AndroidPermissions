package mm.api.http;

import android.util.Log;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.HttpURLConnection;
import java.net.URL;
import mm.api.io.IOUtils;
import org.apache.http.NameValuePair;

public class HttpUtils
{
  private static final int CONNECT_TIMEOUT = 10000;
  private static final int READ_TIMEOUT = 15000;
  
  public HttpUtils() {}
  
  /* Error */
  public static byte[] sendGet(String paramString, NameValuePair... paramVarArgs)
  {
    // Byte code:
    //   0: aconst_null
    //   1: astore 5
    //   3: new 18	java/net/URL
    //   6: dup
    //   7: aload_0
    //   8: invokespecial 21	java/net/URL:<init>	(Ljava/lang/String;)V
    //   11: invokevirtual 25	java/net/URL:openConnection	()Ljava/net/URLConnection;
    //   14: checkcast 27	java/net/HttpURLConnection
    //   17: astore 4
    //   19: aload 4
    //   21: ldc 29
    //   23: invokevirtual 32	java/net/HttpURLConnection:setRequestMethod	(Ljava/lang/String;)V
    //   26: aload 4
    //   28: sipush 10000
    //   31: invokevirtual 36	java/net/HttpURLConnection:setConnectTimeout	(I)V
    //   34: aload 4
    //   36: sipush 15000
    //   39: invokevirtual 39	java/net/HttpURLConnection:setReadTimeout	(I)V
    //   42: aload_1
    //   43: arraylength
    //   44: istore_3
    //   45: iconst_0
    //   46: istore_2
    //   47: iload_2
    //   48: iload_3
    //   49: if_icmplt +52 -> 101
    //   52: ldc 41
    //   54: new 43	java/lang/StringBuilder
    //   57: dup
    //   58: ldc 45
    //   60: invokespecial 46	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   63: aload_0
    //   64: invokevirtual 50	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   67: invokevirtual 54	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   70: invokestatic 60	android/util/Log:d	(Ljava/lang/String;Ljava/lang/String;)I
    //   73: pop
    //   74: aload 4
    //   76: invokevirtual 64	java/net/HttpURLConnection:getInputStream	()Ljava/io/InputStream;
    //   79: astore_1
    //   80: aload_1
    //   81: invokestatic 70	mm/api/io/IOUtils:toByteArray	(Ljava/io/InputStream;)[B
    //   84: astore_0
    //   85: aload_1
    //   86: invokestatic 74	mm/api/io/IOUtils:closeQuietly	(Ljava/io/InputStream;)V
    //   89: aload 4
    //   91: ifnull +8 -> 99
    //   94: aload 4
    //   96: invokevirtual 77	java/net/HttpURLConnection:disconnect	()V
    //   99: aload_0
    //   100: areturn
    //   101: aload_1
    //   102: iload_2
    //   103: aaload
    //   104: astore 5
    //   106: aload 4
    //   108: aload 5
    //   110: invokeinterface 82 1 0
    //   115: aload 5
    //   117: invokeinterface 85 1 0
    //   122: invokevirtual 89	java/net/HttpURLConnection:setRequestProperty	(Ljava/lang/String;Ljava/lang/String;)V
    //   125: iload_2
    //   126: iconst_1
    //   127: iadd
    //   128: istore_2
    //   129: goto -82 -> 47
    //   132: astore_0
    //   133: aconst_null
    //   134: astore_1
    //   135: aload 5
    //   137: astore 4
    //   139: aload_1
    //   140: invokestatic 74	mm/api/io/IOUtils:closeQuietly	(Ljava/io/InputStream;)V
    //   143: aload 4
    //   145: ifnull +8 -> 153
    //   148: aload 4
    //   150: invokevirtual 77	java/net/HttpURLConnection:disconnect	()V
    //   153: aload_0
    //   154: athrow
    //   155: astore_0
    //   156: aconst_null
    //   157: astore_1
    //   158: goto -19 -> 139
    //   161: astore_0
    //   162: goto -23 -> 139
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	165	0	paramString	String
    //   0	165	1	paramVarArgs	NameValuePair[]
    //   46	83	2	i	int
    //   44	6	3	j	int
    //   17	132	4	localObject	Object
    //   1	135	5	localNameValuePair	NameValuePair
    // Exception table:
    //   from	to	target	type
    //   3	19	132	finally
    //   19	45	155	finally
    //   52	80	155	finally
    //   106	125	155	finally
    //   80	85	161	finally
  }
  
  public static byte[] sendPost(String paramString, byte[] paramArrayOfByte, NameValuePair... paramVarArgs)
  {
    Object localObject3 = null;
    localObject2 = null;
    for (;;)
    {
      try
      {
        localObject1 = (HttpURLConnection)new URL(paramString).openConnection();
      }
      finally
      {
        int j;
        int i;
        NameValuePair localNameValuePair;
        paramVarArgs = null;
        paramString = null;
        localObject1 = localObject2;
        IOUtils.closeQuietly(paramVarArgs);
        IOUtils.closeQuietly((InputStream)localObject1);
        if (paramString != null) {
          paramString.disconnect();
        }
      }
      try
      {
        ((HttpURLConnection)localObject1).setRequestMethod("POST");
        ((HttpURLConnection)localObject1).setDoOutput(true);
        ((HttpURLConnection)localObject1).setConnectTimeout(10000);
        ((HttpURLConnection)localObject1).setReadTimeout(15000);
        ((HttpURLConnection)localObject1).setRequestProperty("Content-length", paramArrayOfByte.length);
        j = paramVarArgs.length;
        i = 0;
        if (i >= j)
        {
          Log.d("MMApi", "sendPost url=" + paramString);
          paramVarArgs = ((HttpURLConnection)localObject1).getOutputStream();
          paramString = localObject3;
        }
      }
      finally
      {
        paramString = (String)localObject1;
        paramVarArgs = null;
        localObject1 = localObject2;
        continue;
      }
      try
      {
        paramVarArgs.write(paramArrayOfByte);
        paramString = localObject3;
        paramVarArgs.flush();
        paramString = localObject3;
        paramArrayOfByte = ((HttpURLConnection)localObject1).getInputStream();
        paramString = paramArrayOfByte;
        localObject2 = IOUtils.toByteArray(paramArrayOfByte);
        IOUtils.closeQuietly(paramVarArgs);
        IOUtils.closeQuietly(paramArrayOfByte);
        if (localObject1 != null) {
          ((HttpURLConnection)localObject1).disconnect();
        }
        return localObject2;
      }
      finally
      {
        localObject2 = localObject1;
        localObject1 = paramString;
        paramString = (String)localObject2;
        continue;
      }
      localNameValuePair = paramVarArgs[i];
      ((HttpURLConnection)localObject1).setRequestProperty(localNameValuePair.getName(), localNameValuePair.getValue());
      i += 1;
    }
  }
}
