package com.alipay.sdk.app;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;
import android.os.Bundle;
import android.text.TextUtils;
import com.alipay.sdk.util.h;

public class AuthTask
{
  static final Object a = h.class;
  private static final int b = 73;
  private static final int c = 77;
  private Activity d;
  
  public AuthTask(Activity paramActivity)
  {
    this.d = paramActivity;
  }
  
  private String a(Activity paramActivity, String paramString)
  {
    if (a(paramActivity))
    {
      String str = new h(paramActivity).a(paramString);
      if (TextUtils.equals(str, "failed")) {
        paramActivity = b(paramActivity, paramString);
      }
      do
      {
        return paramActivity;
        paramActivity = str;
      } while (!TextUtils.isEmpty(str));
      return l.a();
    }
    return b(paramActivity, paramString);
  }
  
  private String a(com.alipay.sdk.protocol.a arg1)
  {
    Object localObject1 = com.alipay.sdk.util.a.a(???.e());
    ??? = new Bundle();
    ???.putString("url", localObject1[0]);
    localObject1 = new Intent(this.d, H5AuthActivity.class);
    ((Intent)localObject1).putExtras(???);
    this.d.startActivity((Intent)localObject1);
    synchronized (a)
    {
      try
      {
        a.wait();
        localObject1 = l.a;
        ??? = (com.alipay.sdk.protocol.a)localObject1;
        if (TextUtils.isEmpty((CharSequence)localObject1)) {
          ??? = l.a();
        }
        return ???;
      }
      catch (InterruptedException localInterruptedException)
      {
        String str = l.a();
        return str;
      }
    }
  }
  
  private static boolean a(Context paramContext)
  {
    try
    {
      paramContext = paramContext.getPackageManager().getPackageInfo("com.eg.android.AlipayGphone", 128);
      if (paramContext == null) {
        return false;
      }
      int i = paramContext.versionCode;
      if (i >= 73) {
        return true;
      }
    }
    catch (PackageManager.NameNotFoundException paramContext) {}
    return false;
  }
  
  /* Error */
  private String b(Activity paramActivity, String paramString)
  {
    // Byte code:
    //   0: iconst_0
    //   1: istore_3
    //   2: aload_1
    //   3: ifnull +360 -> 363
    //   6: aload_1
    //   7: invokevirtual 128	android/app/Activity:isFinishing	()Z
    //   10: ifne +353 -> 363
    //   13: new 130	com/alipay/sdk/widget/a
    //   16: dup
    //   17: aload_1
    //   18: invokespecial 131	com/alipay/sdk/widget/a:<init>	(Landroid/app/Activity;)V
    //   21: astore 5
    //   23: aload 5
    //   25: invokevirtual 133	com/alipay/sdk/widget/a:b	()V
    //   28: invokestatic 138	com/alipay/sdk/sys/b:a	()Lcom/alipay/sdk/sys/b;
    //   31: aload_0
    //   32: getfield 26	com/alipay/sdk/app/AuthTask:d	Landroid/app/Activity;
    //   35: invokestatic 143	com/alipay/sdk/data/d:a	()Lcom/alipay/sdk/data/d;
    //   38: invokevirtual 146	com/alipay/sdk/sys/b:a	(Landroid/content/Context;Lcom/alipay/sdk/data/d;)V
    //   41: new 148	com/alipay/sdk/data/c
    //   44: dup
    //   45: invokespecial 149	com/alipay/sdk/data/c:<init>	()V
    //   48: aload_2
    //   49: invokevirtual 154	java/lang/String:toString	()Ljava/lang/String;
    //   52: new 156	org/json/JSONObject
    //   55: dup
    //   56: invokespecial 157	org/json/JSONObject:<init>	()V
    //   59: invokestatic 162	com/alipay/sdk/data/b:a	(Lcom/alipay/sdk/data/c;Ljava/lang/String;Lorg/json/JSONObject;)Lcom/alipay/sdk/data/e;
    //   62: astore 8
    //   64: aload 8
    //   66: getfield 167	com/alipay/sdk/data/e:a	Lcom/alipay/sdk/data/a;
    //   69: ldc -87
    //   71: putfield 173	com/alipay/sdk/data/a:b	Ljava/lang/String;
    //   74: aload 8
    //   76: getfield 167	com/alipay/sdk/data/e:a	Lcom/alipay/sdk/data/a;
    //   79: ldc -81
    //   81: putfield 177	com/alipay/sdk/data/a:e	Ljava/lang/String;
    //   84: aload 8
    //   86: getfield 167	com/alipay/sdk/data/e:a	Lcom/alipay/sdk/data/a;
    //   89: ldc -77
    //   91: putfield 181	com/alipay/sdk/data/a:d	Ljava/lang/String;
    //   94: aload 8
    //   96: getfield 167	com/alipay/sdk/data/e:a	Lcom/alipay/sdk/data/a;
    //   99: ldc -73
    //   101: putfield 185	com/alipay/sdk/data/a:c	Ljava/lang/String;
    //   104: new 187	com/alipay/sdk/net/d
    //   107: dup
    //   108: new 148	com/alipay/sdk/data/c
    //   111: dup
    //   112: invokespecial 149	com/alipay/sdk/data/c:<init>	()V
    //   115: invokespecial 190	com/alipay/sdk/net/d:<init>	(Lcom/alipay/sdk/data/c;)V
    //   118: astore 9
    //   120: aload 5
    //   122: astore_2
    //   123: aload 5
    //   125: astore 7
    //   127: aload 5
    //   129: astore 6
    //   131: aload 9
    //   133: aload_1
    //   134: aload 8
    //   136: iconst_0
    //   137: invokevirtual 193	com/alipay/sdk/net/d:a	(Landroid/content/Context;Lcom/alipay/sdk/data/e;Z)Lcom/alipay/sdk/protocol/c;
    //   140: astore 8
    //   142: aload 5
    //   144: astore_1
    //   145: aload 5
    //   147: ifnull +21 -> 168
    //   150: aload 5
    //   152: astore_2
    //   153: aload 5
    //   155: astore 7
    //   157: aload 5
    //   159: astore 6
    //   161: aload 5
    //   163: invokevirtual 195	com/alipay/sdk/widget/a:c	()V
    //   166: aconst_null
    //   167: astore_1
    //   168: aload_1
    //   169: astore_2
    //   170: aload_1
    //   171: astore 7
    //   173: aload_1
    //   174: astore 6
    //   176: aload 8
    //   178: getfield 200	com/alipay/sdk/protocol/c:c	Lorg/json/JSONObject;
    //   181: ldc -54
    //   183: invokevirtual 206	org/json/JSONObject:optJSONObject	(Ljava/lang/String;)Lorg/json/JSONObject;
    //   186: ldc -48
    //   188: invokestatic 213	com/alipay/sdk/protocol/b:a	(Lorg/json/JSONObject;Ljava/lang/String;)Lcom/alipay/sdk/protocol/b;
    //   191: invokestatic 216	com/alipay/sdk/protocol/a:a	(Lcom/alipay/sdk/protocol/b;)[Lcom/alipay/sdk/protocol/a;
    //   194: astore 5
    //   196: aload_1
    //   197: astore_2
    //   198: aload_1
    //   199: astore 7
    //   201: aload_1
    //   202: astore 6
    //   204: aload 5
    //   206: arraylength
    //   207: istore 4
    //   209: iload_3
    //   210: iload 4
    //   212: if_icmpge +57 -> 269
    //   215: aload 5
    //   217: iload_3
    //   218: aaload
    //   219: astore 8
    //   221: aload_1
    //   222: astore_2
    //   223: aload_1
    //   224: astore 7
    //   226: aload_1
    //   227: astore 6
    //   229: aload 8
    //   231: getstatic 219	com/alipay/sdk/protocol/a:a	Lcom/alipay/sdk/protocol/a;
    //   234: if_acmpne +28 -> 262
    //   237: aload_1
    //   238: astore_2
    //   239: aload_1
    //   240: astore 7
    //   242: aload_1
    //   243: astore 6
    //   245: aload_0
    //   246: aload 8
    //   248: invokespecial 221	com/alipay/sdk/app/AuthTask:a	(Lcom/alipay/sdk/protocol/a;)Ljava/lang/String;
    //   251: astore_1
    //   252: aload_1
    //   253: areturn
    //   254: astore 5
    //   256: aconst_null
    //   257: astore 5
    //   259: goto -231 -> 28
    //   262: iload_3
    //   263: iconst_1
    //   264: iadd
    //   265: istore_3
    //   266: goto -57 -> 209
    //   269: aconst_null
    //   270: astore_1
    //   271: aload_1
    //   272: astore_2
    //   273: aload_1
    //   274: ifnonnull +13 -> 287
    //   277: getstatic 226	com/alipay/sdk/app/m:b	Lcom/alipay/sdk/app/m;
    //   280: invokevirtual 229	com/alipay/sdk/app/m:a	()I
    //   283: invokestatic 232	com/alipay/sdk/app/m:a	(I)Lcom/alipay/sdk/app/m;
    //   286: astore_2
    //   287: aload_2
    //   288: invokevirtual 229	com/alipay/sdk/app/m:a	()I
    //   291: aload_2
    //   292: invokevirtual 234	com/alipay/sdk/app/m:b	()Ljava/lang/String;
    //   295: ldc -20
    //   297: invokestatic 239	com/alipay/sdk/app/l:a	(ILjava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   300: areturn
    //   301: astore_1
    //   302: aload_2
    //   303: astore 6
    //   305: getstatic 241	com/alipay/sdk/app/m:d	Lcom/alipay/sdk/app/m;
    //   308: invokevirtual 229	com/alipay/sdk/app/m:a	()I
    //   311: invokestatic 232	com/alipay/sdk/app/m:a	(I)Lcom/alipay/sdk/app/m;
    //   314: astore_1
    //   315: aload_2
    //   316: ifnull +44 -> 360
    //   319: aload_2
    //   320: invokevirtual 195	com/alipay/sdk/widget/a:c	()V
    //   323: goto -52 -> 271
    //   326: astore_1
    //   327: aload 7
    //   329: ifnull +26 -> 355
    //   332: aload 7
    //   334: invokevirtual 195	com/alipay/sdk/widget/a:c	()V
    //   337: aconst_null
    //   338: astore_1
    //   339: goto -68 -> 271
    //   342: astore_1
    //   343: aload 6
    //   345: ifnull +8 -> 353
    //   348: aload 6
    //   350: invokevirtual 195	com/alipay/sdk/widget/a:c	()V
    //   353: aload_1
    //   354: athrow
    //   355: aconst_null
    //   356: astore_1
    //   357: goto -86 -> 271
    //   360: goto -89 -> 271
    //   363: aconst_null
    //   364: astore 5
    //   366: goto -338 -> 28
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	369	0	this	AuthTask
    //   0	369	1	paramActivity	Activity
    //   0	369	2	paramString	String
    //   1	265	3	i	int
    //   207	6	4	j	int
    //   21	195	5	localObject1	Object
    //   254	1	5	localException	Exception
    //   257	108	5	localObject2	Object
    //   129	220	6	localObject3	Object
    //   125	208	7	localObject4	Object
    //   62	185	8	localObject5	Object
    //   118	14	9	localD	com.alipay.sdk.net.d
    // Exception table:
    //   from	to	target	type
    //   6	28	254	java/lang/Exception
    //   131	142	301	com/alipay/sdk/exception/NetErrorException
    //   161	166	301	com/alipay/sdk/exception/NetErrorException
    //   176	196	301	com/alipay/sdk/exception/NetErrorException
    //   204	209	301	com/alipay/sdk/exception/NetErrorException
    //   229	237	301	com/alipay/sdk/exception/NetErrorException
    //   245	252	301	com/alipay/sdk/exception/NetErrorException
    //   131	142	326	java/lang/Exception
    //   161	166	326	java/lang/Exception
    //   176	196	326	java/lang/Exception
    //   204	209	326	java/lang/Exception
    //   229	237	326	java/lang/Exception
    //   245	252	326	java/lang/Exception
    //   131	142	342	finally
    //   161	166	342	finally
    //   176	196	342	finally
    //   204	209	342	finally
    //   229	237	342	finally
    //   245	252	342	finally
    //   305	315	342	finally
  }
  
  private static boolean b(Context paramContext)
  {
    try
    {
      paramContext = paramContext.getPackageManager().getPackageInfo("com.eg.android.AlipayGphone", 128);
      if (paramContext == null) {
        return false;
      }
      int i = paramContext.versionCode;
      if (i >= 77) {
        return true;
      }
    }
    catch (PackageManager.NameNotFoundException paramContext) {}
    return false;
  }
  
  /* Error */
  public String auth(String paramString)
  {
    // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_1
    //   3: astore_2
    //   4: aload_1
    //   5: ldc -12
    //   7: invokevirtual 247	java/lang/String:contains	(Ljava/lang/CharSequence;)Z
    //   10: ifne +57 -> 67
    //   13: new 249	java/lang/StringBuilder
    //   16: dup
    //   17: invokespecial 250	java/lang/StringBuilder:<init>	()V
    //   20: astore_2
    //   21: aload_2
    //   22: aload_1
    //   23: invokevirtual 254	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   26: pop
    //   27: aload_2
    //   28: ldc_w 256
    //   31: invokevirtual 254	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   34: pop
    //   35: aload_2
    //   36: new 258	com/alipay/sdk/sys/a
    //   39: dup
    //   40: aload_0
    //   41: getfield 26	com/alipay/sdk/app/AuthTask:d	Landroid/app/Activity;
    //   44: invokespecial 261	com/alipay/sdk/sys/a:<init>	(Landroid/content/Context;)V
    //   47: invokevirtual 262	com/alipay/sdk/sys/a:toString	()Ljava/lang/String;
    //   50: invokevirtual 254	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   53: pop
    //   54: aload_2
    //   55: ldc_w 264
    //   58: invokevirtual 254	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   61: pop
    //   62: aload_2
    //   63: invokevirtual 265	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   66: astore_2
    //   67: aload_0
    //   68: getfield 26	com/alipay/sdk/app/AuthTask:d	Landroid/app/Activity;
    //   71: astore_1
    //   72: aload_1
    //   73: invokestatic 30	com/alipay/sdk/app/AuthTask:a	(Landroid/content/Context;)Z
    //   76: ifeq +42 -> 118
    //   79: new 17	com/alipay/sdk/util/h
    //   82: dup
    //   83: aload_1
    //   84: invokespecial 32	com/alipay/sdk/util/h:<init>	(Landroid/app/Activity;)V
    //   87: aload_2
    //   88: invokevirtual 35	com/alipay/sdk/util/h:a	(Ljava/lang/String;)Ljava/lang/String;
    //   91: astore_3
    //   92: aload_3
    //   93: ldc 37
    //   95: invokestatic 43	android/text/TextUtils:equals	(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z
    //   98: ifne +20 -> 118
    //   101: aload_3
    //   102: astore_1
    //   103: aload_3
    //   104: invokestatic 49	android/text/TextUtils:isEmpty	(Ljava/lang/CharSequence;)Z
    //   107: ifeq +7 -> 114
    //   110: invokestatic 54	com/alipay/sdk/app/l:a	()Ljava/lang/String;
    //   113: astore_1
    //   114: aload_0
    //   115: monitorexit
    //   116: aload_1
    //   117: areturn
    //   118: aload_0
    //   119: aload_1
    //   120: aload_2
    //   121: invokespecial 45	com/alipay/sdk/app/AuthTask:b	(Landroid/app/Activity;Ljava/lang/String;)Ljava/lang/String;
    //   124: astore_1
    //   125: goto -11 -> 114
    //   128: astore_1
    //   129: aload_0
    //   130: monitorexit
    //   131: aload_1
    //   132: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	133	0	this	AuthTask
    //   0	133	1	paramString	String
    //   3	118	2	localObject	Object
    //   91	13	3	str	String
    // Exception table:
    //   from	to	target	type
    //   4	67	128	finally
    //   67	101	128	finally
    //   103	114	128	finally
    //   118	125	128	finally
  }
}
