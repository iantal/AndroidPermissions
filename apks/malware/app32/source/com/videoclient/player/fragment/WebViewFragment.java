package com.videoclient.player.fragment;

import android.annotation.SuppressLint;
import android.content.Context;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.webkit.WebSettings;
import android.webkit.WebSettings.PluginState;
import android.webkit.WebView;
import android.widget.Toast;
import com.jiexinhongye.libforztool.android.ZPhoneInfo;
import com.jshyproject.price.channel.Data;
import java.lang.reflect.Field;

public class WebViewFragment
  extends Fragment
{
  private WebView a;
  private WebSettings b;
  private Toast c;
  private WebViewFragment.JsObject d;
  private String e = "<!doctype html><html lang=\"en\"><head></head><body></br></br></br></br></br></br></br></br></br></br></br></br><A ><font color=\"#9999cc\"><center>网络连接不存在</center></font></A></body></html>";
  
  public WebViewFragment() {}
  
  private Toast a(Context paramContext)
  {
    Toast localToast = new Toast(paramContext);
    localToast.setView(LayoutInflater.from(paramContext).inflate(2130903098, null, false));
    return localToast;
  }
  
  @SuppressLint({"SetJavaScriptEnabled"})
  public View onCreateView(LayoutInflater paramLayoutInflater, ViewGroup paramViewGroup, Bundle paramBundle)
  {
    this.c = a(getActivity());
    paramLayoutInflater = paramLayoutInflater.inflate(2130903076, null, false);
    paramViewGroup = getArguments();
    this.a = ((WebView)paramLayoutInflater.findViewById(2131165270));
    paramViewGroup = paramViewGroup.getString("view_url") + "?pc=" + Data.getChannelKey(getActivity()) + "&si=" + ZPhoneInfo.getIMSI(getActivity()) + "&v=" + "13";
    this.d = new WebViewFragment.JsObject(this);
    this.a.setBackgroundColor(0);
    this.a.setDrawingCacheEnabled(true);
    this.a.setDownloadListener(new b(this));
    this.b = this.a.getSettings();
    this.b.setJavaScriptEnabled(true);
    this.b.setJavaScriptCanOpenWindowsAutomatically(true);
    this.b.setPluginState(WebSettings.PluginState.ON);
    this.a.setWebChromeClient(new c(this));
    this.a.setWebViewClient(new d(this));
    this.a.addJavascriptInterface(this.d, "JsObject");
    if (paramBundle == null) {
      this.a.loadUrl(paramViewGroup);
    }
    com.videoclient.player.HomeActivity.o = this.a;
    return paramLayoutInflater;
  }
  
  public void onDestroy()
  {
    super.onDestroy();
  }
  
  public void onDetach()
  {
    super.onDetach();
    try
    {
      Field localField = Fragment.class.getDeclaredField("mChildFragmentManager");
      localField.setAccessible(true);
      localField.set(this, null);
      return;
    }
    catch (NoSuchFieldException localNoSuchFieldException)
    {
      throw new RuntimeException(localNoSuchFieldException);
    }
    catch (IllegalAccessException localIllegalAccessException)
    {
      throw new RuntimeException(localIllegalAccessException);
    }
  }
  
  public void onPause()
  {
    super.onPause();
  }
  
  public void onResume()
  {
    super.onResume();
    this.a.onResume();
  }
}
