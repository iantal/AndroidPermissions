package com.videoclient.player.activity;

import android.annotation.SuppressLint;
import android.app.DownloadManager;
import android.app.DownloadManager.Request;
import android.net.Uri;
import android.webkit.DownloadListener;
import android.webkit.MimeTypeMap;
import com.videoclient.player.model.StringTool;

class a
  implements DownloadListener
{
  a(WebActivity paramWebActivity) {}
  
  @SuppressLint({"NewApi"})
  public void onDownloadStart(String paramString1, String paramString2, String paramString3, String paramString4, long paramLong)
  {
    paramString2 = (DownloadManager)this.a.getSystemService("download");
    paramString3 = new DownloadManager.Request(Uri.parse(paramString1));
    paramString3.setTitle("下载任务");
    paramString3.setDescription("开始下载");
    paramString3.setMimeType(paramString4);
    paramString4 = MimeTypeMap.getSingleton().getExtensionFromMimeType(paramString4);
    paramString3.setDestinationInExternalPublicDir("down", StringTool.getUrlFileName(paramString1) + "." + paramString4);
    paramString3.setNotificationVisibility(1);
    paramString2.enqueue(paramString3);
  }
}
