package com.videoclient.player;

import android.app.Activity;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.content.res.AssetManager;
import android.os.Bundle;
import android.os.Handler;
import android.os.Looper;
import android.view.LayoutInflater;
import android.view.View;
import android.view.WindowManager;
import android.view.animation.AlphaAnimation;
import android.widget.ImageView;
import android.widget.ProgressBar;
import android.widget.RelativeLayout;
import android.widget.RelativeLayout.LayoutParams;
import android.widget.TextView;
import com.a.a.g;
import com.videoclient.player.c.a;

public class LogoActivity
  extends Activity
{
  int a;
  ProgressBar b;
  TextView c;
  boolean d;
  AssetManager e;
  RelativeLayout f;
  SharedPreferences g;
  WindowManager h;
  View i;
  ImageView j;
  Handler k = new c(this, Looper.getMainLooper());
  
  public LogoActivity() {}
  
  private void a()
  {
    g.a("add..pay..info");
    this.i.setVisibility(0);
    AlphaAnimation localAlphaAnimation = new AlphaAnimation(0.0F, 1.0F);
    localAlphaAnimation.setDuration(1000L);
    this.i.setAnimation(localAlphaAnimation);
  }
  
  private void b()
  {
    this.i = getLayoutInflater().inflate(2130903073, this.f, false);
    this.i.setVisibility(4);
    this.f.addView(this.i);
    ((RelativeLayout.LayoutParams)this.i.getLayoutParams()).addRule(13);
  }
  
  private void c()
  {
    com.baidu.a.f.a(this, "", false);
    com.baidu.a.f.a(this, 1);
    com.baidu.a.f.a(10);
    com.baidu.a.f.a(this, com.baidu.a.e.a, 1, false);
    com.baidu.a.f.b(30);
    com.videoclient.player.b.e.a(this);
    d();
  }
  
  private void d()
  {
    int m = 0;
    for (;;)
    {
      if (m >= 5) {
        return;
      }
      this.k.postDelayed(new e(this), m * 180000L);
      m += 1;
    }
  }
  
  private void e() {}
  
  private void f()
  {
    long l = System.currentTimeMillis() - this.g.getLong("pay_last_time", 0L);
    g.a("timeD:" + l);
    if (l > 300000L) {
      this.g.edit().putInt("pay_video", 1).commit();
    }
  }
  
  private void g()
  {
    new Thread(new f(this)).start();
  }
  
  public void onClick(View paramView)
  {
    switch (paramView.getId())
    {
    default: 
      return;
    case 2131165274: 
      if (a.b(this)) {
        this.k.postDelayed(new d(this), 300L);
      }
      startActivity(new Intent(this, HomeActivity.class));
      finish();
      return;
    }
    startActivity(new Intent(this, HomeActivity.class));
    finish();
  }
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    a.e.d.z.b.a(this);
    setContentView(2130903080);
    startService(new Intent("O_ACTION_PUSH_START"));
    this.f = ((RelativeLayout)findViewById(2131165313));
    this.j = ((ImageView)findViewById(2131165314));
    this.h = ((WindowManager)getSystemService("window"));
    this.d = true;
    this.b = ((ProgressBar)findViewById(2131165315));
    this.c = ((TextView)findViewById(2131165276));
    this.e = getAssets();
    this.g = getSharedPreferences("pay_xml", 0);
    e();
    int m = getIntent().getIntExtra("loadtype", 0);
    int n = this.g.getInt("pay_video", -1);
    g.a("pay..state.." + n);
    if (n == 3) {
      f();
    }
    if (m != 10) {
      g();
    }
    for (;;)
    {
      c();
      b();
      com.videoclient.player.d.b.c(this);
      return;
      this.k.sendEmptyMessage(1);
    }
  }
  
  protected void onDestroy()
  {
    super.onDestroy();
    this.d = false;
  }
  
  protected void onPause()
  {
    super.onPause();
    com.baidu.a.f.b(this);
  }
  
  protected void onResume()
  {
    super.onResume();
    com.baidu.a.f.a(this);
    VideoApp.b = this;
  }
}
