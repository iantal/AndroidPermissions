package com.baidu.location;

import android.content.ContentResolver;
import android.content.Context;
import android.database.Cursor;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.net.Proxy;
import android.net.Uri;
import java.util.List;
import org.apache.http.HttpEntity;

abstract class cb
  implements bb
{
  private static int b = 4;
  private static String c = "10.0.0.172";
  private static int d = 80;
  protected static int k = 0;
  private boolean a = false;
  public String e = null;
  public int f = 3;
  public HttpEntity g = null;
  public List h = null;
  public String j = null;
  
  cb() {}
  
  private static int a(Context paramContext, NetworkInfo paramNetworkInfo)
  {
    int m = 2;
    int i;
    if ((paramNetworkInfo != null) && (paramNetworkInfo.getExtraInfo() != null))
    {
      paramContext = paramNetworkInfo.getExtraInfo().toLowerCase();
      if (paramContext != null) {
        if ((paramContext.startsWith("cmwap")) || (paramContext.startsWith("uniwap")) || (paramContext.startsWith("3gwap")))
        {
          paramContext = Proxy.getDefaultHost();
          if ((paramContext != null) && (!paramContext.equals("")) && (!paramContext.equals("null")))
          {
            c = paramContext;
            i = 1;
          }
        }
      }
    }
    do
    {
      do
      {
        do
        {
          do
          {
            do
            {
              do
              {
                do
                {
                  return i;
                  paramContext = "10.0.0.172";
                  break;
                  if (paramContext.startsWith("ctwap"))
                  {
                    paramContext = Proxy.getDefaultHost();
                    if ((paramContext != null) && (!paramContext.equals("")) && (!paramContext.equals("null"))) {}
                    for (;;)
                    {
                      c = paramContext;
                      return 1;
                      paramContext = "10.0.0.200";
                    }
                  }
                  i = m;
                } while (paramContext.startsWith("cmnet"));
                i = m;
              } while (paramContext.startsWith("uninet"));
              i = m;
            } while (paramContext.startsWith("ctnet"));
            i = m;
          } while (paramContext.startsWith("3gnet"));
          paramContext = Proxy.getDefaultHost();
          i = m;
        } while (paramContext == null);
        i = m;
      } while (paramContext.length() <= 0);
      if ("10.0.0.172".equals(paramContext.trim()))
      {
        c = "10.0.0.172";
        return 1;
      }
      i = m;
    } while (!"10.0.0.200".equals(paramContext.trim()));
    c = "10.0.0.200";
    return 1;
  }
  
  private void b()
  {
    b = c();
  }
  
  private int c()
  {
    Context localContext = f.c();
    for (;;)
    {
      try
      {
        Object localObject1 = (ConnectivityManager)localContext.getSystemService("connectivity");
        if (localObject1 == null) {
          return 4;
        }
        NetworkInfo localNetworkInfo2 = ((ConnectivityManager)localObject1).getActiveNetworkInfo();
        if (localNetworkInfo2 != null) {}
        Cursor localCursor;
        NetworkInfo localNetworkInfo1;
        int i;
        return 4;
      }
      catch (SecurityException localSecurityException1)
      {
        try
        {
          if (!localNetworkInfo2.isAvailable()) {
            break label274;
          }
          if (localNetworkInfo2.getType() == 1) {
            return 3;
          }
          localObject1 = Uri.parse("content://telephony/carriers/preferapn");
          localCursor = localContext.getContentResolver().query((Uri)localObject1, null, null, null, null);
          if ((localCursor != null) && (localCursor.moveToFirst()))
          {
            localObject1 = localCursor.getString(localCursor.getColumnIndex("apn"));
            if ((localObject1 != null) && (((String)localObject1).toLowerCase().contains("ctwap")))
            {
              localObject1 = Proxy.getDefaultHost();
              if ((localObject1 == null) || (((String)localObject1).equals("")) || (((String)localObject1).equals("null"))) {
                break label278;
              }
              c = (String)localObject1;
              d = 80;
              if (localCursor == null) {
                break label276;
              }
              localCursor.close();
              break label276;
            }
            if ((localObject1 != null) && (((String)localObject1).toLowerCase().contains("wap")))
            {
              localObject1 = Proxy.getDefaultHost();
              if ((localObject1 == null) || (((String)localObject1).equals("")) || (((String)localObject1).equals("null"))) {
                break label286;
              }
              c = (String)localObject1;
              d = 80;
              if (localCursor == null) {
                break label284;
              }
              localCursor.close();
              break label284;
            }
          }
          if (localCursor != null) {
            localCursor.close();
          }
          return 2;
        }
        catch (SecurityException localSecurityException2)
        {
          localObject2 = localNetworkInfo2;
          continue;
        }
        localSecurityException1 = localSecurityException1;
        localNetworkInfo1 = null;
        try
        {
          i = a(localContext, localNetworkInfo1);
          return i;
        }
        catch (Exception localException1)
        {
          return 4;
        }
      }
      catch (Exception localException2)
      {
        return 4;
      }
      label274:
      label276:
      return 1;
      label278:
      Object localObject2 = "10.0.0.200";
      continue;
      label284:
      return 1;
      label286:
      localObject2 = "10.0.0.172";
    }
  }
  
  abstract void a();
  
  abstract void a(boolean paramBoolean);
  
  public void d()
  {
    new cc(this).start();
  }
  
  public void e()
  {
    new cd(this).start();
  }
}
