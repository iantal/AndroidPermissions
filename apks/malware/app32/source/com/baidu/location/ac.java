package com.baidu.location;

import android.location.Location;
import android.os.Handler;
import android.os.Message;
import android.text.TextUtils;
import java.util.Locale;

abstract class ac
  implements bb
{
  public static String d = null;
  private boolean a = true;
  public ar b = null;
  public cf c = null;
  final Handler e = new ae(this);
  private boolean f = false;
  private boolean g = false;
  private boolean h = false;
  
  ac() {}
  
  public String a(String paramString)
  {
    if ((this.c == null) || (!this.c.a())) {
      this.c = ce.a().e();
    }
    label92:
    Location localLocation;
    String str;
    Object localObject1;
    label129:
    Object localObject3;
    if (this.c != null)
    {
      bh.b("baidu_location_service", this.c.d());
      if ((this.b == null) || (!this.b.h())) {
        this.b = ao.a().j();
      }
      if (this.b == null) {
        break label216;
      }
      bh.b("baidu_location_service", this.b.e());
      localLocation = null;
      if (cl.a().j()) {
        localLocation = cl.a().h();
      }
      str = br.a().c();
      if (!ao.g()) {
        break label226;
      }
      localObject1 = "&cn=32";
      if (!this.a) {
        break label254;
      }
      this.a = false;
      localObject3 = localObject1;
    }
    for (;;)
    {
      Object localObject2 = (String)localObject3 + str;
      localObject1 = localObject2;
      if (paramString != null) {
        localObject1 = paramString + (String)localObject2;
      }
      return bh.a(this.c, this.b, localLocation, (String)localObject1, 0);
      bh.b("baidu_location_service", "cellInfo null...");
      break;
      label216:
      bh.b("baidu_location_service", "wifi list null");
      break label92;
      label226:
      localObject1 = String.format(Locale.CHINA, "&cn=%d", new Object[] { Integer.valueOf(ce.a().d()) });
      break label129;
      label254:
      localObject3 = localObject1;
      if (!this.h)
      {
        localObject3 = bw.f();
        localObject2 = localObject1;
        if (localObject3 != null) {
          localObject2 = (String)localObject1 + (String)localObject3;
        }
        localObject1 = ao.a().m();
        localObject3 = localObject2;
        if (!TextUtils.isEmpty((CharSequence)localObject1))
        {
          localObject1 = ((String)localObject1).replace(":", "");
          localObject3 = String.format(Locale.CHINA, "%s&mac=%s", new Object[] { localObject2, localObject1 });
          this.h = true;
        }
      }
    }
  }
  
  abstract void a();
  
  abstract void a(Message paramMessage);
}
