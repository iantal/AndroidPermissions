package com.baidu.location;

import android.app.Service;
import android.content.Context;
import android.content.Intent;
import android.os.IBinder;
import dalvik.system.DexClassLoader;
import java.io.File;

public class f
  extends Service
  implements bb
{
  public static String d = "repll.jar";
  public static Context e = null;
  j a = null;
  j b = null;
  j c = null;
  
  public f() {}
  
  public static float a()
  {
    return 4.2F;
  }
  
  public static String b()
  {
    return "app.jar";
  }
  
  public static Context c()
  {
    return e;
  }
  
  public IBinder onBind(Intent paramIntent)
  {
    return this.c.onBind(paramIntent);
  }
  
  public void onCreate()
  {
    e = getApplicationContext();
    System.currentTimeMillis();
    this.b = new y();
    try
    {
      File localFile1 = new File(bh.g() + File.separator + d);
      if (localFile1.exists())
      {
        File localFile2 = new File(bh.g() + File.separator + "app.jar");
        if (localFile2.exists()) {
          localFile2.delete();
        }
        localFile1.renameTo(localFile2);
      }
      this.a = ((j)new DexClassLoader(bh.g() + File.separator + "app.jar", bh.g(), null, getClassLoader()).loadClass("com.baidu.serverLoc.LocationService").newInstance());
    }
    catch (Exception localException)
    {
      for (;;)
      {
        this.a = null;
        continue;
        this.c = this.b;
        this.a = null;
      }
    }
    if ((this.a != null) && (this.a.a() > this.b.a()))
    {
      this.c = this.a;
      this.b = null;
      this.c.a(this);
      return;
    }
  }
  
  public void onDestroy()
  {
    this.c.onDestroy();
  }
  
  public int onStartCommand(Intent paramIntent, int paramInt1, int paramInt2)
  {
    return this.c.onStartCommand(paramIntent, paramInt1, paramInt2);
  }
  
  public boolean onUnbind(Intent paramIntent)
  {
    return this.c.a(paramIntent);
  }
}
