package com.payeco.android.plugin.d;

import android.annotation.SuppressLint;
import android.app.DatePickerDialog.OnDateSetListener;
import android.graphics.drawable.BitmapDrawable;
import android.os.Build.VERSION;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.EditText;
import android.widget.LinearLayout;
import android.widget.PopupWindow;
import android.widget.Spinner;
import android.widget.SpinnerAdapter;
import android.widget.TextView;
import android.widget.Toast;
import com.payeco.android.plugin.PayecoPluginLoadingActivity;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.List;
import java.util.Random;

@SuppressLint({"ViewConstructor"})
public final class a
  extends PopupWindow
{
  private static a a;
  private PayecoPluginLoadingActivity b;
  private View c;
  private l d;
  private m e;
  private EditText f;
  private Button g;
  private LinearLayout h;
  private LinearLayout i;
  private TextView j;
  private LinearLayout k;
  private List l = new ArrayList();
  private List m = new ArrayList();
  private List n = new ArrayList();
  private boolean o;
  private int p = 0;
  private int q = 0;
  private int r;
  private Calendar s;
  private String t;
  private String u;
  private View.OnClickListener v = new b(this);
  
  private a(PayecoPluginLoadingActivity paramPayecoPluginLoadingActivity, View paramView, int paramInt1, int paramInt2, int paramInt3, l paramL)
  {
    super(paramView, -1, -1, false);
    this.b = paramPayecoPluginLoadingActivity;
    this.c = paramView;
    this.r = paramInt3;
    this.p = paramInt2;
    this.q = paramInt1;
    this.d = paramL;
    a();
  }
  
  private View a(String paramString)
  {
    return com.payeco.android.plugin.c.d.a(this.c, this.b, paramString);
  }
  
  public static a a(PayecoPluginLoadingActivity paramPayecoPluginLoadingActivity, View paramView, int paramInt1, int paramInt2, int paramInt3, l paramL)
  {
    if (paramInt3 == 1) {}
    for (View localView = com.payeco.android.plugin.c.d.a(paramPayecoPluginLoadingActivity, "payeco_plugin_credit_keyboard");; localView = com.payeco.android.plugin.c.d.a(paramPayecoPluginLoadingActivity, "payeco_plugin_credit_keyboard_land"))
    {
      if (a == null)
      {
        paramPayecoPluginLoadingActivity = new a(paramPayecoPluginLoadingActivity, localView, paramInt1, paramInt2, paramInt3, paramL);
        a = paramPayecoPluginLoadingActivity;
        paramPayecoPluginLoadingActivity.setBackgroundDrawable(new BitmapDrawable());
        a.update();
        a.showAtLocation(paramView, 80, 0, 0);
        a.d = paramL;
      }
      return a;
    }
  }
  
  private void a()
  {
    int i2 = 1;
    ((Button)a("payeco_digit_clear")).setOnClickListener(new k(this));
    Object localObject1 = new int[10];
    Object localObject2 = new int[10];
    localObject2[1] = 1;
    localObject2[2] = 2;
    localObject2[3] = 3;
    localObject2[4] = 4;
    localObject2[5] = 5;
    localObject2[6] = 6;
    localObject2[7] = 7;
    localObject2[8] = 8;
    localObject2[9] = 9;
    Object localObject3 = new Random();
    int i1 = 0;
    label107:
    int i3;
    if (i1 >= localObject2.length)
    {
      i1 = 0;
      if (i1 <= 9) {
        break label542;
      }
      i1 = com.payeco.android.plugin.c.d.a(this.b, "payeco_keyboard_editText", "id");
      i3 = com.payeco.android.plugin.c.d.a(this.b, "payeco_ckb_vailbg", "id");
      this.h = ((LinearLayout)this.c.findViewById(i1));
      this.i = ((LinearLayout)this.c.findViewById(i3));
      i1 = com.payeco.android.plugin.c.d.a(this.b, "payeco_keyborad_cancel", "id");
      if (i1 != 0) {
        this.c.findViewById(i1).setOnClickListener(new c(this));
      }
      this.k = ((LinearLayout)this.c.findViewById(com.payeco.android.plugin.c.d.a(this.b, "payeco_plugin_ckb_spinnerlayout", "id")));
      this.j = ((TextView)this.c.findViewById(com.payeco.android.plugin.c.d.a(this.b, "payeco_ckb_vail", "id")));
      if (Integer.valueOf(Build.VERSION.SDK).intValue() >= 11) {
        break label716;
      }
      this.k.setVisibility(0);
      this.j.setVisibility(8);
      localObject1 = (Spinner)this.c.findViewById(com.payeco.android.plugin.c.d.a(this.b, "payeco_cqpAuth_month_edit", "id"));
      localObject2 = (Spinner)this.c.findViewById(com.payeco.android.plugin.c.d.a(this.b, "payeco_cqpAuth_year_edit", "id"));
      this.s = Calendar.getInstance();
      i3 = this.s.get(2) + 1;
      int i4 = this.s.get(1);
      i1 = i4;
      label360:
      if (i1 <= i4 + 20) {
        break label596;
      }
      i1 = i3;
      label371:
      if (i1 <= 12) {
        break label636;
      }
      i1 = i2;
      label379:
      if (i1 <= 12) {
        break label676;
      }
      localObject3 = new ArrayAdapter(this.b, 17367048, this.l);
      ((ArrayAdapter)localObject3).setDropDownViewResource(17367049);
      ((Spinner)localObject2).setAdapter((SpinnerAdapter)localObject3);
      ((Spinner)localObject2).setOnItemSelectedListener(new d(this, (ArrayAdapter)localObject3, (Spinner)localObject1));
    }
    for (;;)
    {
      this.f = ((EditText)a("payeco_keyboard_password"));
      this.f.setTextColor(-16777216);
      this.f.setOnClickListener(new i(this));
      this.g = ((Button)a("payeco_confirm_keyboard"));
      this.g.setOnClickListener(new j(this));
      return;
      i3 = ((Random)localObject3).nextInt(localObject2.length - i1);
      localObject1[i1] = localObject2[i3];
      localObject2[i3] = localObject2[(localObject2.length - 1 - i1)];
      i1 += 1;
      break;
      label542:
      localObject2 = (Button)a("payeco_digit_" + i1);
      ((Button)localObject2).setOnClickListener(this.v);
      ((Button)localObject2).setText(String.valueOf(localObject1[i1]));
      i1 += 1;
      break label107;
      label596:
      this.l.add(" " + i1 + "年");
      i1 += 1;
      break label360;
      label636:
      this.n.add(" " + i1 + "月");
      i1 += 1;
      break label371;
      label676:
      this.m.add(" " + i1 + "月");
      i1 += 1;
      break label379;
      label716:
      this.k.setVisibility(8);
      this.j.setVisibility(0);
      localObject1 = new g(this);
      this.j.setOnClickListener(new h(this, (DatePickerDialog.OnDateSetListener)localObject1));
    }
  }
  
  public final void a(String paramString1, String paramString2)
  {
    int i1 = com.payeco.android.plugin.c.d.a(this.b, paramString2, "drawable");
    if ((i1 > 0) && (this.h != null)) {
      this.h.setBackgroundResource(i1);
    }
    Toast.makeText(this.b, paramString1, 1).show();
  }
  
  public final void dismiss()
  {
    super.dismiss();
    a = null;
  }
}
