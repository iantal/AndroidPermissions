package com.payeco.android.plugin.d;

import android.annotation.SuppressLint;
import android.content.Context;
import android.graphics.drawable.BitmapDrawable;
import android.text.method.ScrollingMovementMethod;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ImageButton;
import android.widget.PopupWindow;
import com.payeco.android.plugin.c.d;

@SuppressLint({"ViewConstructor"})
public final class n
  extends PopupWindow
{
  private static n c;
  private Context a;
  private View b;
  private EditText d;
  private String e;
  private int f;
  private int g;
  private boolean h;
  private boolean i;
  private String j;
  private String k = "";
  private boolean l;
  private s m;
  
  private n(View paramView, Context paramContext, String paramString1, int paramInt1, int paramInt2, String paramString2, boolean paramBoolean1, boolean paramBoolean2)
  {
    super(paramView, -1, -1, false);
    this.a = paramContext;
    this.b = paramView;
    this.f = paramInt1;
    this.g = paramInt2;
    this.j = paramString2;
    this.i = paramBoolean1;
    this.h = paramBoolean2;
    this.e = paramString1;
    a();
  }
  
  private View a(String paramString)
  {
    return d.a(this.b, this.a, paramString);
  }
  
  public static n a(Context paramContext, View paramView, String paramString1, int paramInt1, int paramInt2, String paramString2, boolean paramBoolean1, boolean paramBoolean2, int paramInt3, s paramS)
  {
    if (paramInt3 == 1) {}
    for (View localView = d.a(paramContext, "payeco_plugin_hxkeyboard");; localView = d.a(paramContext, "payeco_plugin_hxkeyboard_land"))
    {
      if (c == null)
      {
        paramContext = new n(localView, paramContext, paramString1, paramInt1, paramInt2, paramString2, paramBoolean1, paramBoolean2);
        c = paramContext;
        paramContext.setBackgroundDrawable(new BitmapDrawable());
        c.update();
        c.showAtLocation(paramView, 80, 0, 0);
        c.m = paramS;
      }
      return c;
    }
  }
  
  private void a()
  {
    this.d = ((EditText)a("payeco_keyboard_password_hx"));
    this.d.setHint(this.e);
    this.d.setMovementMethod(ScrollingMovementMethod.getInstance());
    if (this.j != null)
    {
      this.d.setText(this.j);
      this.d.setSelection(this.j.length());
      this.k = this.j;
    }
    o localO = new o(this);
    int n = 0;
    for (;;)
    {
      if (n >= 10)
      {
        Button localButton = (Button)a("payeco_digit_x_hx");
        localButton.setOnClickListener(localO);
        if (this.i)
        {
          localButton.setEnabled(false);
          localButton.setBackgroundResource(d.a(this.a, "payeco_btnenable", "drawable"));
        }
        ((Button)a("keyboard_back")).setOnClickListener(new p(this));
        ((Button)a("payeco_digit_ok_hx")).setOnClickListener(new q(this));
        ((ImageButton)a("keyboard_invisable")).setOnClickListener(new r(this));
        return;
      }
      ((Button)a("payeco_digit_" + n + "_hx")).setOnClickListener(localO);
      n += 1;
    }
  }
  
  public final void dismiss()
  {
    super.dismiss();
    c = null;
  }
}
