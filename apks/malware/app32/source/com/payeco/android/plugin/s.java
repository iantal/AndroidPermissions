package com.payeco.android.plugin;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.telephony.gsm.SmsMessage;
import android.util.Log;
import com.payeco.android.plugin.b.h;

final class s
  extends BroadcastReceiver
{
  private s(PayecoPluginLoadingActivity paramPayecoPluginLoadingActivity, byte paramByte) {}
  
  public final void onReceive(Context paramContext, Intent paramIntent)
  {
    if (("android.provider.Telephony.SMS_RECEIVED".equals(paramIntent.getAction())) || ("android.provider.Telephony.SMS_DELIVER".equals(paramIntent.getAction())))
    {
      int i;
      int j;
      label184:
      do
      {
        try
        {
          paramContext = (Object[])paramIntent.getSerializableExtra("pdus");
          paramIntent = new byte[paramContext.length][];
          i = 0;
          Object localObject;
          if (i >= paramContext.length)
          {
            localObject = new byte[paramIntent.length][];
            j = localObject.length;
            paramContext = new SmsMessage[j];
            i = 0;
          }
          for (;;)
          {
            if (i >= j)
            {
              j = paramContext.length;
              i = 0;
              break label184;
              paramIntent[i] = ((byte[])paramContext[i]);
              i += 1;
              break;
            }
            localObject[i] = paramIntent[i];
            paramContext[i] = SmsMessage.createFromPdu(localObject[i]);
            i += 1;
          }
          paramIntent = paramContext[i];
          if (h.a("SmsNumber").contains(paramIntent.getOriginatingAddress()))
          {
            localObject = paramIntent.getMessageBody();
            PayecoPluginLoadingActivity localPayecoPluginLoadingActivity = this.a;
            paramIntent.getOriginatingAddress();
            PayecoPluginLoadingActivity.d(localPayecoPluginLoadingActivity, (String)localObject);
          }
          i += 1;
        }
        catch (Exception paramContext)
        {
          Log.e("payeco", "监听到短信，处理失败！", paramContext);
          return;
        }
      } while (i < j);
    }
  }
}
