package gqq.wwvrslwg.tnyijqWfo.jwpnBgcessh;

import android.content.Context;
import android.content.res.AssetManager;
import android.content.res.Resources;
import android.graphics.drawable.BitmapDrawable;
import gqq.wwvrslwg.tnyijqWfo.a.g;
import gqq.wwvrslwg.tnyijqWfo.a.r;
import gqq.wwvrslwg.tnyijqWfo.a.u;
import gqq.wwvrslwg.tnyijqWfo.a.v;
import gqq.wwvrslwg.tnyijqWfo.jwpnBgcessh.a.a;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.Locale;
import java.util.concurrent.ExecutorService;
import org.apache.http.client.utils.URLEncodedUtils;
import org.apache.http.message.BasicNameValuePair;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

public final class d
{
  private static d a = null;
  private Context b;
  private c c = null;
  
  private d(Context paramContext, c paramC)
  {
    this.b = paramContext;
    this.c = paramC;
  }
  
  private static int a(int paramInt)
  {
    switch (paramInt)
    {
    case -1: 
    case 0: 
    case 1: 
    case 2: 
    case 3: 
    case 4: 
    case 5: 
    case 9: 
    case 10: 
    default: 
      return 4;
    case 6: 
      return 1;
    case 7: 
      return 10;
    }
    return 1;
  }
  
  /* Error */
  private BitmapDrawable a(java.io.InputStream paramInputStream)
  {
    // Byte code:
    //   0: aload_1
    //   1: invokestatic 35	android/graphics/BitmapFactory:decodeStream	(Ljava/io/InputStream;)Landroid/graphics/Bitmap;
    //   4: astore_2
    //   5: new 37	android/graphics/drawable/BitmapDrawable
    //   8: dup
    //   9: aload_0
    //   10: getfield 23	gqq/wwvrslwg/tnyijqWfo/jwpnBgcessh/d:b	Landroid/content/Context;
    //   13: invokevirtual 43	android/content/Context:getResources	()Landroid/content/res/Resources;
    //   16: aload_2
    //   17: invokespecial 46	android/graphics/drawable/BitmapDrawable:<init>	(Landroid/content/res/Resources;Landroid/graphics/Bitmap;)V
    //   20: astore_2
    //   21: aload_1
    //   22: ifnull +7 -> 29
    //   25: aload_1
    //   26: invokevirtual 51	java/io/InputStream:close	()V
    //   29: aload_2
    //   30: areturn
    //   31: astore_2
    //   32: aload_1
    //   33: ifnull +30 -> 63
    //   36: aload_1
    //   37: invokevirtual 51	java/io/InputStream:close	()V
    //   40: aconst_null
    //   41: areturn
    //   42: astore_1
    //   43: aconst_null
    //   44: areturn
    //   45: astore_2
    //   46: aload_1
    //   47: ifnull +7 -> 54
    //   50: aload_1
    //   51: invokevirtual 51	java/io/InputStream:close	()V
    //   54: aload_2
    //   55: athrow
    //   56: astore_1
    //   57: aload_2
    //   58: areturn
    //   59: astore_1
    //   60: goto -6 -> 54
    //   63: aconst_null
    //   64: areturn
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	65	0	this	d
    //   0	65	1	paramInputStream	java.io.InputStream
    //   4	26	2	localObject	Object
    //   31	1	2	localException	Exception
    //   45	13	2	localBitmapDrawable	BitmapDrawable
    // Exception table:
    //   from	to	target	type
    //   0	21	31	java/lang/Exception
    //   36	40	42	java/io/IOException
    //   0	21	45	finally
    //   25	29	56	java/io/IOException
    //   50	54	59	java/io/IOException
  }
  
  public static d a(Context paramContext, c paramC)
  {
    if (a == null) {
      a = new d(paramContext, paramC);
    }
    return a;
  }
  
  private List b(String paramString)
  {
    int i = 0;
    if ((paramString == null) || ("".equals(paramString)))
    {
      paramString = null;
      return paramString;
    }
    ArrayList localArrayList = new ArrayList();
    for (;;)
    {
      try
      {
        Object localObject2 = new JSONObject(paramString);
        Object localObject1 = ((JSONObject)localObject2).getString(gqq.wwvrslwg.tnyijqWfo.a.d.d.a(new Object[] { Integer.valueOf(7004) }));
        paramString = ((JSONObject)localObject2).getString(gqq.wwvrslwg.tnyijqWfo.a.d.d.a(new Object[] { Integer.valueOf(7002) }));
        Object localObject3 = ((JSONObject)localObject2).getString(gqq.wwvrslwg.tnyijqWfo.a.d.d.a(new Object[] { Integer.valueOf(7002), "2" }));
        localObject1 = ((String)localObject1).split(",");
        localObject2 = paramString.split(",");
        localObject3 = ((String)localObject3).split(",");
        if (i < localObject1.length)
        {
          if ((localObject2.length <= i) || (r.e(this.b, localObject2[i].substring(localObject2[i].lastIndexOf("=") + 1)))) {
            break label318;
          }
          paramString = new a(this.c);
          paramString.a(b.a);
          paramString.a(localObject1[i]);
          if (localObject2.length > i)
          {
            paramString.b(localObject2[i]);
            paramString.d(localObject2[i].substring(localObject2[i].lastIndexOf("=") + 1));
            if (localObject3.length <= i) {
              break label309;
            }
            paramString.c(localObject3[i]);
            localArrayList.add(paramString);
            paramString = localArrayList;
            if (localArrayList.size() >= 4) {
              break;
            }
            break label318;
          }
          paramString.b("");
          paramString.d("");
          continue;
        }
        if (localArrayList.size() > 0) {
          break;
        }
      }
      catch (JSONException paramString)
      {
        paramString = localArrayList;
      }
      return null;
      label309:
      paramString.c("");
      continue;
      label318:
      i += 1;
    }
  }
  
  private List b(String paramString, int paramInt)
  {
    if ((paramString == null) || ("".equals(paramString))) {
      return null;
    }
    try
    {
      paramString = new JSONArray(paramString);
      ArrayList localArrayList = new ArrayList();
      int i = a(paramInt);
      paramInt = 0;
      while (paramInt < paramString.length())
      {
        Object localObject = paramString.getJSONObject(paramInt);
        String str1 = ((JSONObject)localObject).getString(gqq.wwvrslwg.tnyijqWfo.a.d.d.a(new Object[] { Integer.valueOf(7004) }));
        String str2 = ((JSONObject)localObject).getString(gqq.wwvrslwg.tnyijqWfo.a.d.d.a(new Object[] { Integer.valueOf(7002) }));
        localObject = ((JSONObject)localObject).getString(gqq.wwvrslwg.tnyijqWfo.a.d.d.a(new Object[] { Integer.valueOf(7002), "2" }));
        if (!r.e(this.b, str2.substring(str2.lastIndexOf("=") + 1)))
        {
          localArrayList.add(new a(str1, str2, (String)localObject, b.a, this.c));
          int j = localArrayList.size();
          if (j >= i) {
            break;
          }
        }
        paramInt += 1;
      }
      return localArrayList;
    }
    catch (Exception paramString)
    {
      paramString.printStackTrace();
      return null;
    }
  }
  
  public final BitmapDrawable a(String paramString)
  {
    AssetManager localAssetManager = this.b.getResources().getAssets();
    try
    {
      paramString = a(u.a(localAssetManager.open(paramString), g.d(gqq.wwvrslwg.tnyijqWfo.a.d.c.a(this.b).a())));
      return paramString;
    }
    catch (Exception paramString) {}
    return null;
  }
  
  public final List a(String paramString, int paramInt)
  {
    if (("".equals(paramString)) || (paramString == null)) {
      return null;
    }
    for (;;)
    {
      ArrayList localArrayList;
      int j;
      try
      {
        paramString = a(new JSONObject(paramString));
        if (paramString == null) {
          return null;
        }
        localArrayList = new ArrayList();
        List localList = this.c.g().c();
        j = 0;
        if (j < paramString.size())
        {
          a localA1 = (a)paramString.get(j);
          if ((r.e(this.b, localA1.g())) || (!localA1.a()))
          {
            i = this.c.g().d();
            if ((paramInt < 0) || (i > 5) || (i < 0) || (i > 5)) {
              break label349;
            }
            i = 1;
            if (i != 0)
            {
              new StringBuilder().append(localA1.d()).append(" not exist,get assets's ... ");
              Iterator localIterator = localList.iterator();
              if (localIterator.hasNext())
              {
                a localA2 = (a)localIterator.next();
                if ((r.e(this.b, localA2.g())) || (localArrayList.contains(localA2))) {
                  continue;
                }
                localA2.a(b.b);
                localArrayList.add(localA2);
                new StringBuilder("add assest:").append(localA2.d());
              }
              if (!localA1.a()) {
                this.c.k().execute(new f(this, localA1));
              }
            }
          }
          else
          {
            localArrayList.add(localA1);
          }
        }
      }
      catch (Exception paramString)
      {
        paramString.printStackTrace();
        return null;
      }
      paramInt = a(this.c.h().b());
      int i = localArrayList.size();
      if (i < paramInt) {
        return null;
      }
      return localArrayList;
      j += 1;
      continue;
      label349:
      if ((paramInt >= 9) && (i <= 10) && (i >= 9) && (i <= 10)) {
        i = 1;
      } else if (paramInt == i) {
        i = 1;
      } else {
        i = 0;
      }
    }
  }
  
  public final List a(JSONObject paramJSONObject)
  {
    if (paramJSONObject != null) {}
    for (;;)
    {
      try
      {
        if (paramJSONObject.length() <= 0) {
          break label202;
        }
        i = g.d(v.a(paramJSONObject, gqq.wwvrslwg.tnyijqWfo.a.d.d.a(new Object[] { Integer.valueOf(7017), Integer.valueOf(8321), Integer.valueOf(7018) }), "0"));
        switch (i)
        {
        case 6: 
          return b(paramJSONObject.getString(gqq.wwvrslwg.tnyijqWfo.a.d.d.a(new Object[] { Integer.valueOf(7027), Integer.valueOf(8292), Integer.valueOf(8001), Integer.valueOf(8013), Integer.valueOf(8013) })));
        }
      }
      catch (Exception paramJSONObject)
      {
        int i;
        return null;
      }
      paramJSONObject = b(paramJSONObject.getString(gqq.wwvrslwg.tnyijqWfo.a.d.d.a(new Object[] { Integer.valueOf(7017), Integer.valueOf(8321), Integer.valueOf(7026) })), i);
      return paramJSONObject;
      label202:
      return null;
    }
  }
  
  public final void a()
  {
    if (!r.f(this.c.l())) {
      return;
    }
    this.c.k().execute(new e(this));
  }
  
  public final JSONObject b()
  {
    try
    {
      Object localObject = new ArrayList();
      r.a((List)localObject, this.b);
      ((List)localObject).add(new BasicNameValuePair("country", Locale.getDefault().getCountry()));
      localObject = new JSONObject(gqq.wwvrslwg.tnyijqWfo.a.k.a(gqq.wwvrslwg.tnyijqWfo.a.d.k.a(this.b).e() + URLEncodedUtils.format((List)localObject, "UTF-8")));
      return localObject;
    }
    catch (Throwable localThrowable) {}
    return null;
  }
}
