package ru.dtlbox.databasereader;

import android.util.Log;
import java.io.IOException;
import java.io.OutputStream;

public abstract class AppDatabaseAttachementReader
{
  public static boolean DEBUG_MODE = false;
  final byte ATTACH_PACKET = 99;
  final byte END_OF_BLOCK = 2;
  final byte END_OF_FIELD = 1;
  final byte END_OF_LINE = 3;
  protected DataBaseHelper mDataBaseHelper;
  
  public AppDatabaseAttachementReader() {}
  
  protected void addData(OutputStream paramOutputStream, String paramString)
  {
    if (paramOutputStream == null) {
      return;
    }
    String str = paramString;
    if (paramString == null) {
      str = "";
    }
    if (str != null) {}
    try
    {
      paramOutputStream.write(str.getBytes());
      paramOutputStream.write(1);
      return;
    }
    catch (Exception paramOutputStream)
    {
      Log.e("data not added", str);
    }
  }
  
  protected void init(Config paramConfig, String paramString1, String paramString2)
  {
    paramConfig = new DataBaseHelper.DataBaseHelperParams(paramString1, paramConfig.getCachePath(), paramString2);
    try
    {
      this.mDataBaseHelper = new DataBaseHelper(paramConfig);
      return;
    }
    catch (IOException paramConfig)
    {
      Log.e(getClass().getName(), "DataBaseHelper not init");
    }
  }
  
  public abstract int readAttach(OutputStream paramOutputStream, int paramInt)
    throws IOException;
  
  public boolean update()
  {
    if (this.mDataBaseHelper != null) {
      return this.mDataBaseHelper.updateDataBase();
    }
    return false;
  }
}
