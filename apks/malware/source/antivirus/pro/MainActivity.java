package antivirus.pro;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.net.Uri;
import android.os.Bundle;
import android.widget.ListView;
import android.widget.TextView;
import java.io.PrintStream;
import java.util.ArrayList;

public class MainActivity
  extends Activity
{
  static ArrayList a = null;
  static boolean b = false;
  
  public MainActivity() {}
  
  public static void a(Context paramContext, String paramString)
  {
    try
    {
      Intent localIntent = new Intent("android.intent.action.DELETE");
      localIntent.setData(Uri.parse("package:" + paramString));
      localIntent.addFlags(268435456);
      paramContext.startActivity(localIntent);
      return;
    }
    catch (Exception paramContext)
    {
      paramContext.printStackTrace();
    }
  }
  
  String a(PackageManager paramPackageManager, String paramString)
  {
    try
    {
      paramPackageManager = (String)paramPackageManager.getApplicationLabel(paramPackageManager.getApplicationInfo(paramString, 128));
      return paramPackageManager;
    }
    catch (Exception paramPackageManager)
    {
      paramPackageManager.printStackTrace();
    }
    return "";
  }
  
  public ArrayList a(ArrayList paramArrayList)
  {
    ArrayList localArrayList = new ArrayList();
    a = new ArrayList();
    PackageManager localPackageManager = getPackageManager();
    int i = 0;
    if (i >= paramArrayList.size()) {
      return localArrayList;
    }
    a localA = (a)paramArrayList.get(i);
    String str1 = localA.a;
    String str2 = a(localPackageManager, str1);
    if ((str2 == null) || (str2.length() == 0)) {
      localArrayList.add(new a(str1, localA.b));
    }
    for (;;)
    {
      a.add(str1);
      i += 1;
      break;
      localArrayList.add(new a(str2, localA.b));
    }
  }
  
  a[] b(ArrayList paramArrayList)
  {
    a[] arrayOfA = new a[paramArrayList.size()];
    int i = 0;
    for (;;)
    {
      if (i >= paramArrayList.size()) {
        return arrayOfA;
      }
      arrayOfA[i] = ((a)paramArrayList.get(i));
      i += 1;
    }
  }
  
  public void c(ArrayList paramArrayList)
  {
    ListView localListView = (ListView)findViewById(2131230722);
    TextView localTextView = (TextView)findViewById(2131230723);
    if (paramArrayList.size() == 0)
    {
      localListView.setVisibility(4);
      localTextView.setVisibility(0);
      return;
    }
    localTextView.setVisibility(4);
    localListView.setVisibility(0);
    localListView.setAdapter(new b(this, 2130903043, b(paramArrayList)));
    localListView.setOnItemClickListener(new c(this));
  }
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    setContentView(2130903040);
    System.out.println("MainActivity::onCreate()");
    if (!b)
    {
      b = true;
      d.a(this, MainReceiver.a, d.b * 10, true);
    }
    paramBundle = new d(this);
    if (paramBundle.c()) {
      paramBundle.a(d.b());
    }
    c(a(d.a(this, null)));
  }
  
  protected void onNewIntent(Intent paramIntent)
  {
    super.onNewIntent(paramIntent);
    System.out.println("onNewIntet()");
    c(a(d.a(this, paramIntent.getStringExtra("new"))));
  }
}
