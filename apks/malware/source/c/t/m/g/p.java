package c.t.m.g;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.os.Handler;

public final class p
  extends BroadcastReceiver
{
  private final b a;
  private Handler b;
  
  public p(b paramB)
  {
    this.a = paramB;
  }
  
  private Handler b()
  {
    try
    {
      Handler localHandler = this.b;
      return localHandler;
    }
    finally
    {
      localObject = finally;
      throw localObject;
    }
  }
  
  private void b(Handler paramHandler)
  {
    try
    {
      this.b = paramHandler;
      return;
    }
    finally
    {
      paramHandler = finally;
      throw paramHandler;
    }
  }
  
  public final void a()
  {
    try
    {
      this.a.a.unregisterReceiver(this);
      return;
    }
    catch (Exception localException) {}
  }
  
  public final void a(Handler paramHandler)
  {
    if (paramHandler == null) {}
    for (int i = 1;; i = 0)
    {
      IntentFilter localIntentFilter;
      if (i == 0) {
        localIntentFilter = new IntentFilter("android.net.conn.CONNECTIVITY_CHANGE");
      }
      try
      {
        this.a.a.registerReceiver(this, localIntentFilter, null, paramHandler);
        b(paramHandler);
        return;
      }
      catch (Exception paramHandler)
      {
        aj.a("listenNetworkState: failed", paramHandler);
      }
    }
  }
  
  public final void onReceive(Context paramContext, Intent paramIntent)
  {
    int j = 1;
    if (paramIntent == null) {}
    for (int i = 1; i != 0; i = 0) {
      return;
    }
    boolean bool = c.a.b(paramContext);
    paramContext = b();
    if (bool)
    {
      if (paramContext == null) {
        break label95;
      }
      i = j;
      if (i != 0)
      {
        paramContext.removeMessages(7999);
        paramContext.sendEmptyMessageDelayed(7999, 3000L);
      }
    }
    paramIntent = new StringBuilder("onReceive: network is ");
    if (bool) {}
    for (paramContext = "connected";; paramContext = "disconnected")
    {
      paramIntent.append(paramContext).toString();
      aj.a();
      return;
      label95:
      i = 0;
      break;
    }
  }
}
