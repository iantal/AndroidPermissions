package c.t.m.g;

import android.location.Location;
import android.net.wifi.ScanResult;
import android.telephony.TelephonyManager;
import android.text.TextUtils;
import java.util.Collections;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import org.json.JSONObject;

public final class v
{
  public final w a;
  public final t b;
  public final u c;
  
  public v(w paramW, t paramT, u paramU)
  {
    this.a = paramW;
    this.b = paramT;
    this.c = paramU;
  }
  
  public final String a(int paramInt, String paramString, b paramB)
  {
    Object localObject2 = this.a;
    Object localObject1;
    Object localObject3;
    label58:
    Object localObject5;
    Object localObject4;
    int i;
    label147:
    label160:
    String str1;
    String str2;
    if ((localObject2 == null) || (Collections.unmodifiableList(((w)localObject2).a) == null))
    {
      localObject1 = "[]";
      localObject3 = c.a.b(this.b);
      localObject2 = this.c;
      if ((localObject2 != null) && (((u)localObject2).a())) {
        break label587;
      }
      localObject2 = "{}";
      localObject5 = paramB.d();
      localObject4 = new HashMap();
      ((HashMap)localObject4).put("imei", ((c.a)localObject5).a());
      ((HashMap)localObject4).put("imsi", ((c.a)localObject5).b());
      ((HashMap)localObject4).put("phonenum", c.a.b(((c.a)localObject5).e));
      ((HashMap)localObject4).put("qq", c.a.b(((c.a)localObject5).g));
      paramB = ((c.a)localObject5).a.a();
      if (paramB == null) {
        break label811;
      }
      i = 1;
      if (i == 0) {
        break label817;
      }
      paramB = Boolean.toString(paramB.isNetworkRoaming());
      ((HashMap)localObject4).put("roaming", paramB);
      localObject4 = new JSONObject((Map)localObject4).toString();
      str1 = ((c.a)localObject5).a();
      str2 = ((c.a)localObject5).b();
      if (!TextUtils.isEmpty(((c.a)localObject5).f)) {
        break label823;
      }
    }
    label587:
    label811:
    label817:
    label823:
    for (paramB = "0123456789ABCDEF";; paramB = ((c.a)localObject5).f)
    {
      paramB = c.a.d(str1 + "_" + str2 + "_" + paramB + "_QQGeoLocation");
      localObject5 = "{\"version\":\"0.4.0\",\"address\":" + paramInt;
      paramString = (String)localObject5 + ",\"source\":203,\"access_token\":\"" + paramB + "\",\"app_name\":\"" + paramString + "\",\"bearing\":1";
      paramString = paramString + ",\"control\":2";
      return paramString + ",\"attribute\":" + (String)localObject4 + ",\"location\":" + (String)localObject2 + ",\"cells\":" + (String)localObject3 + ",\"wifis\":" + (String)localObject1 + "}";
      localObject1 = new StringBuilder();
      ((StringBuilder)localObject1).append("[");
      if ((Collections.unmodifiableList(((w)localObject2).a) == null) || (Collections.unmodifiableList(((w)localObject2).a).size() <= 0))
      {
        ((StringBuilder)localObject1).append("]");
        localObject1 = ((StringBuilder)localObject1).toString();
        break;
      }
      localObject2 = Collections.unmodifiableList(((w)localObject2).a);
      localObject3 = ((List)localObject2).iterator();
      i = 0;
      while (((Iterator)localObject3).hasNext())
      {
        localObject4 = (ScanResult)((Iterator)localObject3).next();
        ((List)localObject2).size();
        if (i > 0) {
          ((StringBuilder)localObject1).append(",");
        }
        ((StringBuilder)localObject1).append("{\"mac\":\"").append(((ScanResult)localObject4).BSSID).append("\",");
        ((StringBuilder)localObject1).append("\"rssi\":").append(((ScanResult)localObject4).level).append("}");
        i += 1;
      }
      ((StringBuilder)localObject1).append("]");
      localObject1 = ((StringBuilder)localObject1).toString();
      break;
      localObject2 = ((u)localObject2).a;
      localObject4 = new StringBuilder();
      double d1 = c.a.a(((Location)localObject2).getLatitude(), 6);
      double d2 = c.a.a(((Location)localObject2).getLongitude(), 6);
      double d3 = c.a.a(((Location)localObject2).getAltitude(), 1);
      double d4 = c.a.a(((Location)localObject2).getAccuracy(), 1);
      double d5 = c.a.a(((Location)localObject2).getBearing(), 1);
      double d6 = c.a.a(((Location)localObject2).getSpeed(), 1);
      ((StringBuilder)localObject4).append("{");
      ((StringBuilder)localObject4).append("\"latitude\":");
      ((StringBuilder)localObject4).append(d1);
      ((StringBuilder)localObject4).append(",\"longitude\":");
      ((StringBuilder)localObject4).append(d2);
      ((StringBuilder)localObject4).append(",\"additional\":");
      ((StringBuilder)localObject4).append("\"" + d3 + "," + d4 + "," + d5 + "," + d6 + "," + ((Location)localObject2).getTime() + "\"");
      ((StringBuilder)localObject4).append("}");
      localObject2 = ((StringBuilder)localObject4).toString();
      break label58;
      i = 0;
      break label147;
      paramB = "false";
      break label160;
    }
  }
}
