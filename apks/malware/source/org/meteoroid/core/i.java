package org.meteoroid.core;

import android.app.AlertDialog;
import android.app.AlertDialog.Builder;
import android.content.DialogInterface;
import android.content.DialogInterface.OnClickListener;
import android.os.Handler;
import android.os.Message;
import android.view.Menu;
import android.view.MenuItem;
import java.util.ArrayList;
import java.util.Iterator;

public final class i
{
  public static final int MSG_OPTIONMENU_ABOUT = 60080;
  public static final int OPTION_MENU_ITEM_ABOUT = 64160;
  public static final int OPTION_MENU_ITEM_EXIT = 64161;
  private static final ArrayList<c> im = new ArrayList();
  private static int[] io;
  
  public static void a(MenuItem paramMenuItem)
  {
    ((c)im.get(paramMenuItem.getItemId())).G();
  }
  
  public static void a(c paramC)
  {
    if (!im.contains(paramC)) {
      im.add(0, paramC);
    }
  }
  
  protected static void ar()
  {
    Object localObject = k.getString(2131034128);
    if ((localObject != null) && (((String)localObject).length() > 0))
    {
      localObject = new a((byte)0);
      a((c)localObject);
      h.a((h.a)localObject);
    }
    a(new b((byte)0));
  }
  
  public static void b(c paramC)
  {
    im.remove(paramC);
  }
  
  protected static void onDestroy()
  {
    im.clear();
  }
  
  public static void onPrepareOptionsMenu(Menu paramMenu)
  {
    paramMenu.clear();
    Iterator localIterator = im.iterator();
    int i = 0;
    int k = 0;
    if (localIterator.hasNext())
    {
      c localC = (c)localIterator.next();
      if (io != null)
      {
        int m = 0;
        int j = 0;
        for (;;)
        {
          n = j;
          if (m >= io.length) {
            break;
          }
          if (io[m] == localC.getId()) {
            j = 1;
          }
          m += 1;
        }
      }
      int n = 0;
      if (n != 0) {
        break label128;
      }
      paramMenu.add(131072, k, i, localC.E());
      i += 1;
    }
    label128:
    for (;;)
    {
      k += 1;
      break;
      return;
    }
  }
  
  private static final class a
    implements h.a, i.c
  {
    private a() {}
    
    public final String E()
    {
      return k.getString(2131034121);
    }
    
    public final void G()
    {
      AlertDialog.Builder localBuilder = new AlertDialog.Builder(k.getActivity());
      localBuilder.setTitle(2131034121);
      localBuilder.setMessage(2131034128);
      localBuilder.setNegativeButton(2131034143, new DialogInterface.OnClickListener()
      {
        public final void onClick(DialogInterface paramAnonymousDialogInterface, int paramAnonymousInt)
        {
          paramAnonymousDialogInterface.dismiss();
        }
      });
      localBuilder.create().show();
    }
    
    public final boolean a(Message paramMessage)
    {
      if (paramMessage.what == 60080)
      {
        k.getHandler().post(new Runnable()
        {
          public final void run()
          {
            i.a.this.G();
          }
        });
        return true;
      }
      return false;
    }
    
    public final int getId()
    {
      return 64160;
    }
  }
  
  private static final class b
    implements i.c
  {
    private b() {}
    
    public final String E()
    {
      return k.getString(2131034129);
    }
    
    public final void G() {}
    
    public final int getId()
    {
      return 64161;
    }
  }
  
  public static abstract interface c
  {
    public abstract String E();
    
    public abstract void G();
    
    public abstract int getId();
  }
}
