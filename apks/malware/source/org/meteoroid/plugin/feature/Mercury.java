package org.meteoroid.plugin.feature;

import android.app.Activity;
import android.os.Handler;
import android.os.Message;
import com.a.a.e.a;
import com.android.apps.bean.AdAdvertisement;
import com.android.apps.listenerinterface.OnAdStateListener;
import com.android.apps.util.AdManager;
import com.android.apps.util.LoggerUtil;
import org.meteoroid.core.h;
import org.meteoroid.core.h.a;
import org.meteoroid.core.k;

public class Mercury
  implements OnAdStateListener, h.a, AbstractPaymentManager.Payment
{
  private boolean ij;
  private boolean kx;
  private String mid;
  
  public Mercury() {}
  
  public final void B(String paramString)
  {
    paramString = new a(paramString);
    String str = paramString.D("EXIT");
    if (str != null)
    {
      this.ij = Boolean.parseBoolean(str);
      this.kx = false;
    }
    str = paramString.D("Mercury_ID");
    if (str != null)
    {
      this.mid = str;
      AdManager.init(k.getActivity(), str, this);
    }
    str = paramString.D("TEST");
    if (str != null) {
      AdManager.setTestMode(Boolean.parseBoolean(str));
    }
    paramString = paramString.D("TINYBEE");
    if (paramString != null) {
      LoggerUtil.setTinybeeAppId(paramString);
    }
    h.a(this);
  }
  
  public final String E()
  {
    return getClass().getSimpleName();
  }
  
  public final boolean a(Message paramMessage)
  {
    if ((paramMessage.what == 47881) && (this.ij))
    {
      bp();
      this.kx = true;
      h.b(47887, new String[] { "MercuryExitTriggerAd", "应用名称", k.aG(), "Mercury_ID", this.mid, "AppPackageName", k.getActivity().getPackageName() });
      return true;
    }
    return false;
  }
  
  public final void bp()
  {
    k.getHandler().post(new Runnable()
    {
      public final void run() {}
    });
    h.b(47887, new String[] { "MercuryStartAdView", "应用名称", k.aG(), "Mercury_ID", this.mid, "AppPackageName", k.getActivity().getPackageName() });
  }
  
  public final String getName()
  {
    return getClass().getSimpleName();
  }
  
  public void notifyAdViewType(String paramString)
  {
    getClass().getSimpleName();
    new StringBuilder("notifyAdViewType:").append(paramString).toString();
    if (paramString.equals("banner")) {
      bp();
    }
  }
  
  public void onActivateFailed(String paramString)
  {
    getClass().getSimpleName();
    new StringBuilder("onActivateFailed:").append(paramString).toString();
    h.b(47887, new String[] { "MercuryActivateFailed", "应用名称", k.aG(), "Mercury_ID", this.mid, "AppPackageName", k.getActivity().getPackageName(), "ErrorInfo", paramString });
  }
  
  public void onActivateSucceed(AdAdvertisement paramAdAdvertisement)
  {
    getClass().getSimpleName();
    new StringBuilder("onActivateSucceed:").append(paramAdAdvertisement.getName()).toString();
    h.b(47887, new String[] { "MercuryActivateSucceed", "应用名称", k.aG(), "Mercury_ID", this.mid, "AppPackageName", k.getActivity().getPackageName(), "AdId", String.valueOf(paramAdAdvertisement.getId()), "AdName", paramAdAdvertisement.getName() });
    h.b(h.a(61698, this));
    if (this.kx) {
      k.aD();
    }
  }
  
  public void onAutoStartFail(String paramString)
  {
    getClass().getSimpleName();
    h.b(47887, new String[] { "MercuryAutoStartFail", "应用名称", k.aG(), "Mercury_ID", this.mid, "AppPackageName", k.getActivity().getPackageName(), "ErrorInfo", paramString });
  }
  
  public void onBack()
  {
    getClass().getSimpleName();
    h.b(47887, new String[] { "MercuryUserCancel", "应用名称", k.aG(), "Mercury_ID", this.mid, "AppPackageName", k.getActivity().getPackageName() });
    h.b(h.a(61699, this));
    if (this.kx) {
      k.aD();
    }
  }
  
  public final void onDestroy() {}
  
  public void onDonwlaodFail(String paramString)
  {
    getClass().getSimpleName();
    h.b(47887, new String[] { "MercuryDonwloadFail", "应用名称", k.aG(), "Mercury_ID", this.mid, "AppPackageName", k.getActivity().getPackageName(), "ErrorInfo", paramString });
  }
  
  public void onInstallFail(String paramString)
  {
    getClass().getSimpleName();
    h.b(47887, new String[] { "MercuryInstallFail", "应用名称", k.aG(), "Mercury_ID", this.mid, "AppPackageName", k.getActivity().getPackageName(), "ErrorInfo", paramString });
  }
  
  public void onUnavailableAds()
  {
    getClass().getSimpleName();
    h.b(47887, new String[] { "MercuryUnavailableAds", "应用名称", k.aG(), "Mercury_ID", this.mid, "AppPackageName", k.getActivity().getPackageName() });
    h.b(h.a(61698, this));
    if (this.kx) {
      k.aD();
    }
  }
}
