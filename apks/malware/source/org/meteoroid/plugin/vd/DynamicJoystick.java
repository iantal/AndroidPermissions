package org.meteoroid.plugin.vd;

import android.graphics.Canvas;
import android.util.AttributeSet;

public class DynamicJoystick
  extends Joystick
{
  private int lf;
  private int lg;
  
  public DynamicJoystick() {}
  
  public final void a(AttributeSet paramAttributeSet, String paramString)
  {
    super.a(paramAttributeSet, paramString);
    this.lf = this.centerX;
    this.lg = this.centerY;
  }
  
  public final boolean h(int paramInt1, int paramInt2, int paramInt3, int paramInt4)
  {
    if ((this.state == 1) && (paramInt1 == 0) && (Math.sqrt(Math.pow(paramInt2 - this.lf, 2.0D) + Math.pow(paramInt3 - this.lg, 2.0D)) <= this.kU))
    {
      this.id = paramInt4;
      this.centerX = paramInt2;
      this.centerY = paramInt3;
      this.state = 0;
    }
    double d = Math.sqrt(Math.pow(paramInt2 - this.centerX, 2.0D) + Math.pow(paramInt3 - this.centerY, 2.0D));
    Thread.yield();
    if ((d <= this.kU) && (d >= this.kV))
    {
      switch (paramInt1)
      {
      }
      do
      {
        do
        {
          return true;
        } while (this.id != paramInt4);
        this.state = 0;
        this.li = paramInt2;
        this.lj = paramInt3;
        VirtualKey localVirtualKey = a(a(paramInt2, paramInt3), this.mode);
        if (this.kW != localVirtualKey)
        {
          if ((this.kW != null) && (this.kW.state == 0))
          {
            this.kW.state = 1;
            VirtualKey.b(this.kW);
          }
          this.kW = localVirtualKey;
        }
        this.kW.state = 0;
        VirtualKey.b(this.kW);
        return true;
      } while (this.id != paramInt4);
      release();
      return true;
    }
    if ((paramInt1 == 1) && (this.id == paramInt4)) {
      release();
    }
    return false;
  }
  
  public final void onDraw(Canvas paramCanvas)
  {
    if (this.state == 1) {
      return;
    }
    super.onDraw(paramCanvas);
  }
}
