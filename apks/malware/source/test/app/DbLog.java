package test.app;

import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;

public class DbLog
  extends SQLiteOpenHelper
{
  private static final String CREATE_TABLE = "create table a ( _id integer primary key autoincrement, d TEXT, f TEXT)";
  private static final String DB_NAME = "a";
  private static final int DB_VERSION = 1;
  public static final String TABLE_NAME = "a";
  
  public DbLog(Context paramContext)
  {
    super(paramContext, "a", null, 1);
  }
  
  public boolean addMessage(String paramString1, String paramString2)
  {
    try
    {
      SQLiteDatabase localSQLiteDatabase = getWritableDatabase();
      ContentValues localContentValues = new ContentValues();
      localContentValues.put("d", paramString2);
      localContentValues.put("f", paramString1);
      localSQLiteDatabase.insert("a", null, localContentValues);
      localSQLiteDatabase.close();
      return true;
    }
    catch (Exception paramString1)
    {
      paramString1.printStackTrace();
    }
    return false;
  }
  
  public String[] getLastSms()
  {
    Object localObject1 = null;
    Object localObject2 = null;
    SQLiteDatabase localSQLiteDatabase = getReadableDatabase();
    Cursor localCursor = localSQLiteDatabase.query("a", new String[] { "_id", "d", "f" }, null, null, null, null, "_id ASC");
    if (localCursor != null)
    {
      localObject1 = localObject2;
      if (localCursor.moveToFirst())
      {
        localObject1 = new String[3];
        localObject1[0] = String.valueOf(localCursor.getInt(0));
        localObject1[1] = localCursor.getString(1);
        localObject1[2] = localCursor.getString(2);
      }
      localCursor.close();
    }
    localSQLiteDatabase.close();
    return localObject1;
  }
  
  public void onCreate(SQLiteDatabase paramSQLiteDatabase)
  {
    paramSQLiteDatabase.execSQL("create table a ( _id integer primary key autoincrement, d TEXT, f TEXT)");
  }
  
  public void onUpgrade(SQLiteDatabase paramSQLiteDatabase, int paramInt1, int paramInt2) {}
  
  public void removeMessage(String paramString)
  {
    SQLiteDatabase localSQLiteDatabase = getWritableDatabase();
    localSQLiteDatabase.delete("a", "_id = ?", new String[] { paramString });
    localSQLiteDatabase.close();
  }
  
  public static final class COLUMNS
  {
    public static final String ID = "_id";
    public static final String MESSAGE = "d";
    public static final String TIME = "f";
    
    public COLUMNS() {}
  }
}
