package cn.yyf.b;

import android.content.Context;
import android.text.TextUtils;
import android.util.Log;
import cn.yyf.utils.Tool;
import java.security.Key;
import java.security.SecureRandom;
import javax.crypto.Cipher;
import javax.crypto.KeyGenerator;
import javax.crypto.SecretKey;
import javax.crypto.spec.SecretKeySpec;
import org.json.JSONObject;

public class b
{
  private static final String a = b.class.getName();
  private static String b = "59F32220158F8F61CBC82116921D1B7A03224AFC93E501CBA028789D2D992EBF820CD7A14F0C5FBC87025EC20F994A88";
  
  public b() {}
  
  public static a a(Context paramContext)
  {
    String str1 = cn.yyf.d.a.a(paramContext, "client_shared", "gifInfos");
    if ((str1.equals("0")) || (Tool.a(paramContext, "dexEntity")))
    {
      str1 = "{\"alias\":\"" + "r" + "\"}";
      String str2 = b;
      str1 = cn.yyf.c.a.a(paramContext, a(), str1);
      if ((!TextUtils.isEmpty(str1)) && (str1.contains("true"))) {
        cn.yyf.d.a.a(paramContext, "client_shared", "gifInfos", str1);
      }
    }
    else
    {
      return a(str1);
    }
    return null;
  }
  
  private static a a(String paramString)
  {
    try
    {
      paramString = new JSONObject(paramString);
      paramString = new a(paramString.getString("version"), paramString.getString("url"));
      return paramString;
    }
    catch (Exception paramString)
    {
      Tool.a(a, Log.getStackTraceString(paramString));
    }
    return null;
  }
  
  private static String a()
  {
    for (;;)
    {
      try
      {
        b = "59F32220158F8F61CBC82116921D1B7A03224AFC93E501CBA028789D2D992EBF820CD7A14F0C5FBC87025EC20F994A88";
        localObject4 = b;
        boolean bool = TextUtils.isEmpty((CharSequence)localObject4);
        if (!bool) {
          continue;
        }
        localObject1 = "0";
        b = (String)localObject1;
      }
      catch (Exception localException)
      {
        Object localObject4;
        Object localObject1;
        Object localObject5;
        localException.printStackTrace();
        continue;
        int j = ((String)localObject4).length() / 2;
        Object localObject3 = new byte[j];
        int i = 0;
        Object localObject2 = localObject3;
        if (i >= j) {
          continue;
        }
        localObject3[i] = Integer.valueOf(((String)localObject4).substring(i * 2, i * 2 + 2), 16).byteValue();
        i += 1;
        continue;
        localObject2 = null;
        continue;
      }
      return b;
      localObject1 = "zz2015".getBytes();
      localObject3 = KeyGenerator.getInstance("AES");
      localObject5 = SecureRandom.getInstance("SHA1PRNG", "Crypto");
      ((SecureRandom)localObject5).setSeed((byte[])localObject1);
      ((KeyGenerator)localObject3).init(128, (SecureRandom)localObject5);
      localObject5 = ((KeyGenerator)localObject3).generateKey().getEncoded();
      if (localObject4 == null) {
        continue;
      }
      if (!"".equals(localObject4)) {
        continue;
      }
      continue;
      localObject3 = new SecretKeySpec((byte[])localObject5, "AES");
      localObject4 = Cipher.getInstance("AES");
      ((Cipher)localObject4).init(2, (Key)localObject3);
      localObject1 = new String(((Cipher)localObject4).doFinal((byte[])localObject1));
    }
  }
}
