package cn.domob.android.ads;

import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.database.sqlite.SQLiteQueryBuilder;
import android.provider.BaseColumns;

final class c
  extends SQLiteOpenHelper
{
  static final String a = "def_res";
  static final String b = "tmp_res";
  static final String c = "domob_ads.db";
  static final String d = "domob_splash_ad_cache_res";
  static final String e = "creative_alias";
  static final String f = "alias_info";
  static final int g = 2;
  static final int h = 10;
  private static c j = null;
  private static H l = new H(c.class.getSimpleName());
  private Context i;
  private SQLiteDatabase k = null;
  
  private c(Context paramContext)
  {
    super(paramContext, "domob_ads.db", null, 2);
    this.i = paramContext;
  }
  
  protected static c a(Context paramContext)
  {
    try
    {
      if (j == null) {
        j = new c(paramContext);
      }
      paramContext = j;
      return paramContext;
    }
    finally {}
  }
  
  protected int a(String paramString1, ContentValues paramContentValues, String paramString2, String[] paramArrayOfString)
  {
    return this.k.update(paramString1, paramContentValues, paramString2, null);
  }
  
  protected int a(String paramString1, String paramString2, String[] paramArrayOfString)
  {
    return this.k.delete(paramString1, paramString2, null);
  }
  
  protected Context a()
  {
    return this.i;
  }
  
  protected Cursor a(String paramString, String[] paramArrayOfString)
  {
    return this.k.rawQuery(paramString, paramArrayOfString);
  }
  
  protected Cursor a(String paramString1, String[] paramArrayOfString1, String paramString2, String[] paramArrayOfString2, String paramString3)
  {
    SQLiteQueryBuilder localSQLiteQueryBuilder = new SQLiteQueryBuilder();
    localSQLiteQueryBuilder.setTables(paramString1);
    return localSQLiteQueryBuilder.query(this.k, paramArrayOfString1, paramString2, paramArrayOfString2, null, null, paramString3);
  }
  
  protected boolean a(String paramString, ContentValues paramContentValues)
  {
    if (this.k.insert(paramString, null, paramContentValues) <= 0L)
    {
      l.e("Insert: failed! " + paramContentValues.toString());
      return false;
    }
    return true;
  }
  
  public void onCreate(SQLiteDatabase paramSQLiteDatabase)
  {
    paramSQLiteDatabase.execSQL("CREATE TABLE IF NOT EXISTS domob_splash_ad_cache_res(_ad_id VARCHAR NOT NULL PRIMARY KEY,_ad_content TEXT ,_ad_alive_time LONG ,_enter_db_time LONG ,_orientation VARCHAR ,_ad_type VARCHAR );");
    paramSQLiteDatabase.execSQL(String.format("CREATE TABLE IF NOT EXISTS %s (%s VARCHAR NOT NULL, %s VARCHAR NOT NULL, PRIMARY KEY (%s, %s));", new Object[] { "creative_alias", "creative_id", "alias", "creative_id", "alias" }));
    paramSQLiteDatabase.execSQL(String.format("CREATE TABLE IF NOT EXISTS %s (%s VARCHAR NOT NULL PRIMARY KEY, %s TEXT, %s TEXT, %s INTEGER);", new Object[] { "alias_info", "alias", "url", "local_path", "ts" }));
  }
  
  public void onUpgrade(SQLiteDatabase paramSQLiteDatabase, int paramInt1, int paramInt2)
  {
    paramSQLiteDatabase.execSQL("DROP TABLE IF EXISTS def_res;");
    paramSQLiteDatabase.execSQL("DROP TABLE IF EXISTS tmp_res;");
    paramSQLiteDatabase.execSQL("DROP TABLE IF EXISTS domob_splash_ad_cache_res;");
    onCreate(paramSQLiteDatabase);
  }
  
  protected static final class a
    implements BaseColumns
  {
    static final String a = "_ad_id";
    static final String b = "_ad_content";
    static final String c = "_ad_alive_time";
    static final String d = "_enter_db_time";
    static final String e = "_ad_type";
    static final String f = "_orientation";
    
    protected a() {}
  }
  
  protected static final class b
    implements BaseColumns
  {
    static final String a = "alias";
    static final String b = "url";
    static final String c = "local_path";
    static final String d = "creative_id";
    static final String e = "ts";
    
    protected b() {}
  }
}
