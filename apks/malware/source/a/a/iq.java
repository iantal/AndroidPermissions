package a.a;

import com.umeng.analytics.AnalyticsConfig;
import com.umeng.analytics.ReportPolicy.a;
import com.umeng.analytics.ReportPolicy.b;
import com.umeng.analytics.ReportPolicy.c;
import com.umeng.analytics.ReportPolicy.d;
import com.umeng.analytics.ReportPolicy.f;
import com.umeng.analytics.ReportPolicy.g;
import com.umeng.analytics.ReportPolicy.h;
import com.umeng.analytics.h;

public class iq
{
  private final long b = 1296000000L;
  private final int c = 1800000;
  private final int d = 10000;
  private ReportPolicy.g e;
  private int f;
  private int g;
  private int h;
  private int i;
  private boolean j = false;
  
  public iq(io paramIo)
  {
    this.f = io.a(paramIo).d();
    int k = io.a(paramIo).e();
    if (k > 0) {
      this.g = c(k);
    }
    for (;;)
    {
      paramIo = io.a(paramIo).c();
      this.h = paramIo[0];
      this.i = paramIo[1];
      return;
      if (AnalyticsConfig.sLatentWindow > 0) {
        this.g = c(AnalyticsConfig.sLatentWindow);
      } else {
        this.g = 10000;
      }
    }
  }
  
  private ReportPolicy.g b(int paramInt1, int paramInt2)
  {
    switch (paramInt1)
    {
    case 2: 
    case 3: 
    default: 
      return new ReportPolicy.c();
    case 1: 
      return new ReportPolicy.c();
    case 6: 
      return new ReportPolicy.d(io.b(this.a), paramInt2);
    case 4: 
      return new ReportPolicy.f(io.b(this.a));
    case 0: 
      return new ReportPolicy.g();
    }
    return new ReportPolicy.h(io.d(this.a));
  }
  
  private int c(int paramInt)
  {
    int k = paramInt;
    if (paramInt > 1800000) {
      k = 1800000;
    }
    return k;
  }
  
  protected void a()
  {
    int m = 1;
    int k = 1;
    Object localObject;
    if (this.f > 0) {
      if (((this.e instanceof ReportPolicy.a)) && (this.e.a()))
      {
        if (k == 0) {
          break label56;
        }
        localObject = this.e;
        label40:
        this.e = ((ReportPolicy.g)localObject);
      }
    }
    for (;;)
    {
      this.j = false;
      return;
      k = 0;
      break;
      label56:
      localObject = new ReportPolicy.a(io.b(this.a), io.c(this.a));
      break label40;
      if (((this.e instanceof ReportPolicy.b)) && (this.e.a())) {}
      for (k = m;; k = 0)
      {
        if (k != 0) {
          break label160;
        }
        if (!b()) {
          break label162;
        }
        localObject = gl.a(io.d(this.a));
        k = com.umeng.analytics.b.a(this.g, (String)localObject);
        this.e = new ReportPolicy.b(k);
        io.a(this.a, k);
        break;
      }
      label160:
      continue;
      label162:
      this.e = b(this.h, this.i);
    }
  }
  
  public void a(int paramInt)
  {
    this.g = c(paramInt);
    d();
  }
  
  public void a(int paramInt1, int paramInt2)
  {
    this.h = paramInt1;
    this.i = paramInt2;
    d();
  }
  
  public void b(int paramInt)
  {
    this.f = paramInt;
    d();
  }
  
  protected boolean b()
  {
    if (io.a(this.a).h()) {}
    while ((io.b(this.a).a()) || (System.currentTimeMillis() - io.b(this.a).j() <= 1296000000L)) {
      return false;
    }
    return true;
  }
  
  public ReportPolicy.g c()
  {
    a();
    return this.e;
  }
  
  protected void d()
  {
    this.j = true;
  }
}
