package com.hzpz.pay.jsoup.parser;

import com.hzpz.pay.jsoup.helper.StringUtil;
import com.hzpz.pay.jsoup.helper.Validate;
import com.hzpz.pay.jsoup.nodes.Attributes;
import com.hzpz.pay.jsoup.nodes.Comment;
import com.hzpz.pay.jsoup.nodes.DataNode;
import com.hzpz.pay.jsoup.nodes.Document;
import com.hzpz.pay.jsoup.nodes.Element;
import com.hzpz.pay.jsoup.nodes.FormElement;
import com.hzpz.pay.jsoup.nodes.Node;
import com.hzpz.pay.jsoup.nodes.TextNode;
import java.util.ArrayList;
import java.util.List;

class b
  extends de
{
  public static final String[] a;
  private static final String[] j;
  private static final String[] k;
  private static final String[] l;
  private static final String[] m;
  private static final String[] n;
  private static final String[] o;
  private static final String[] p;
  private boolean A = false;
  private boolean B = false;
  private String[] C = { null };
  private c q;
  private c r;
  private boolean s = false;
  private Element t;
  private FormElement u;
  private Element v;
  private ArrayList w = new ArrayList();
  private List x = new ArrayList();
  private aj y = new aj();
  private boolean z = true;
  
  static
  {
    if (!b.class.desiredAssertionStatus()) {}
    for (boolean bool = true;; bool = false)
    {
      b = bool;
      j = new String[] { "script", "style" };
      a = new String[] { "applet", "caption", "html", "table", "td", "th", "marquee", "object" };
      k = new String[] { "ol", "ul" };
      l = new String[] { "button" };
      m = new String[] { "html", "table" };
      n = new String[] { "optgroup", "option" };
      o = new String[] { "dd", "dt", "li", "option", "optgroup", "p", "rp", "rt" };
      p = new String[] { "address", "applet", "area", "article", "aside", "base", "basefont", "bgsound", "blockquote", "body", "br", "button", "caption", "center", "col", "colgroup", "command", "dd", "details", "dir", "div", "dl", "dt", "embed", "fieldset", "figcaption", "figure", "footer", "form", "frame", "frameset", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "iframe", "img", "input", "isindex", "li", "link", "listing", "marquee", "menu", "meta", "nav", "noembed", "noframes", "noscript", "object", "ol", "p", "param", "plaintext", "pre", "script", "section", "select", "style", "summary", "table", "tbody", "td", "textarea", "tfoot", "th", "thead", "title", "tr", "ul", "wbr", "xmp" };
      return;
    }
  }
  
  b() {}
  
  private void a(ArrayList paramArrayList, Element paramElement1, Element paramElement2)
  {
    int i = paramArrayList.lastIndexOf(paramElement1);
    if (i != -1) {}
    for (boolean bool = true;; bool = false)
    {
      Validate.a(bool);
      paramArrayList.set(i, paramElement2);
      return;
    }
  }
  
  private boolean a(String paramString, String[] paramArrayOfString1, String[] paramArrayOfString2)
  {
    this.C[0] = paramString;
    return a(this.C, paramArrayOfString1, paramArrayOfString2);
  }
  
  private boolean a(ArrayList paramArrayList, Element paramElement)
  {
    int i = paramArrayList.size() - 1;
    while (i >= 0)
    {
      if ((Element)paramArrayList.get(i) == paramElement) {
        return true;
      }
      i -= 1;
    }
    return false;
  }
  
  private boolean a(String[] paramArrayOfString1, String[] paramArrayOfString2, String[] paramArrayOfString3)
  {
    int i = this.f.size() - 1;
    while (i >= 0)
    {
      String str = ((Element)this.f.get(i)).a();
      if (StringUtil.a(str, paramArrayOfString1)) {
        return true;
      }
      if (StringUtil.a(str, paramArrayOfString2)) {
        return false;
      }
      if ((paramArrayOfString3 != null) && (StringUtil.a(str, paramArrayOfString3))) {
        return false;
      }
      i -= 1;
    }
    Validate.b("Should not be reachable");
    return false;
  }
  
  private void b(Node paramNode)
  {
    if (this.f.size() == 0) {
      this.e.a(paramNode);
    }
    for (;;)
    {
      if (((paramNode instanceof Element)) && (((Element)paramNode).j().h()) && (this.u != null)) {
        this.u.b((Element)paramNode);
      }
      return;
      if (o()) {
        a(paramNode);
      } else {
        z().a(paramNode);
      }
    }
  }
  
  private void c(String... paramVarArgs)
  {
    int i = this.f.size() - 1;
    while (i >= 0)
    {
      Element localElement = (Element)this.f.get(i);
      if ((StringUtil.a(localElement.a(), paramVarArgs)) || (localElement.a().equals("html"))) {
        break;
      }
      this.f.remove(i);
      i -= 1;
    }
  }
  
  private boolean d(Element paramElement1, Element paramElement2)
  {
    return (paramElement1.a().equals(paramElement2.a())) && (paramElement1.w().equals(paramElement2.w()));
  }
  
  Document a(String paramString1, String paramString2, ac paramAc)
  {
    this.q = c.a;
    this.s = false;
    return super.a(paramString1, paramString2, paramAc);
  }
  
  Element a(ak paramAk)
  {
    if (paramAk.r())
    {
      paramAk = b(paramAk);
      this.f.add(paramAk);
      this.d.a(ao.a);
      this.d.a(this.y.n().a(paramAk.i()));
      return paramAk;
    }
    paramAk = new Element(Tag.a(paramAk.q()), this.g, paramAk.d);
    b(paramAk);
    return paramAk;
  }
  
  Element a(String paramString)
  {
    paramString = new Element(Tag.a(paramString), this.g);
    b(paramString);
    return paramString;
  }
  
  FormElement a(ak paramAk, boolean paramBoolean)
  {
    paramAk = new FormElement(Tag.a(paramAk.q()), this.g, paramAk.d);
    a(paramAk);
    b(paramAk);
    if (paramBoolean) {
      this.f.add(paramAk);
    }
    return paramAk;
  }
  
  c a()
  {
    return this.q;
  }
  
  void a(Element paramElement)
  {
    if (this.s) {}
    do
    {
      return;
      paramElement = paramElement.g("href");
    } while (paramElement.length() == 0);
    this.g = paramElement;
    this.s = true;
    this.e.f(paramElement);
  }
  
  void a(Element paramElement1, Element paramElement2)
  {
    int i = this.f.lastIndexOf(paramElement1);
    if (i != -1) {}
    for (boolean bool = true;; bool = false)
    {
      Validate.a(bool);
      this.f.add(i + 1, paramElement2);
      return;
    }
  }
  
  void a(FormElement paramFormElement)
  {
    this.u = paramFormElement;
  }
  
  void a(Node paramNode)
  {
    int i = 0;
    Element localElement2 = b("table");
    Element localElement1;
    if (localElement2 != null) {
      if (localElement2.m() != null)
      {
        localElement2.m();
        localElement1 = null;
        i = 1;
      }
    }
    while (i != 0)
    {
      Validate.a(localElement2);
      localElement2.b(paramNode);
      return;
      localElement1 = f(localElement2);
      continue;
      localElement1 = (Element)this.f.get(0);
    }
    localElement1.a(paramNode);
  }
  
  void a(af paramAf)
  {
    String str = z().i();
    if ((str.equals("script")) || (str.equals("style"))) {}
    for (paramAf = new DataNode(paramAf.n(), this.g);; paramAf = new TextNode(paramAf.n(), this.g))
    {
      z().a(paramAf);
      return;
    }
  }
  
  void a(ag paramAg)
  {
    b(new Comment(paramAg.n(), this.g));
  }
  
  void a(c paramC)
  {
    this.q = paramC;
  }
  
  void a(boolean paramBoolean)
  {
    this.z = paramBoolean;
  }
  
  void a(String... paramVarArgs)
  {
    int i = this.f.size() - 1;
    while (i >= 0)
    {
      Element localElement = (Element)this.f.get(i);
      this.f.remove(i);
      if (StringUtil.a(localElement.a(), paramVarArgs)) {
        break;
      }
      i -= 1;
    }
  }
  
  protected boolean a(ad paramAd)
  {
    this.h = paramAd;
    return this.q.a(paramAd, this);
  }
  
  boolean a(ad paramAd, c paramC)
  {
    this.h = paramAd;
    return paramC.a(paramAd, this);
  }
  
  boolean a(String paramString, String[] paramArrayOfString)
  {
    return a(paramString, a, paramArrayOfString);
  }
  
  Element b(ak paramAk)
  {
    Tag localTag = Tag.a(paramAk.q());
    Element localElement = new Element(localTag, this.g, paramAk.d);
    b(localElement);
    if (paramAk.r())
    {
      if (!localTag.f()) {
        break label60;
      }
      if (localTag.e()) {
        this.d.b();
      }
    }
    return localElement;
    label60:
    localTag.i();
    this.d.b();
    return localElement;
  }
  
  Element b(String paramString)
  {
    int i = this.f.size() - 1;
    while (i >= 0)
    {
      Element localElement = (Element)this.f.get(i);
      if (localElement.a().equals(paramString)) {
        return localElement;
      }
      i -= 1;
    }
    return null;
  }
  
  void b()
  {
    this.r = this.q;
  }
  
  void b(Element paramElement)
  {
    b(paramElement);
    this.f.add(paramElement);
  }
  
  void b(Element paramElement1, Element paramElement2)
  {
    a(this.f, paramElement1, paramElement2);
  }
  
  void b(c paramC)
  {
    if (this.i.a()) {
      this.i.add(new ParseError(this.c.a(), "Unexpected token [%s] when in state [%s]", new Object[] { this.h.a(), paramC }));
    }
  }
  
  void b(boolean paramBoolean)
  {
    this.A = paramBoolean;
  }
  
  boolean b(String[] paramArrayOfString)
  {
    return a(paramArrayOfString, a, null);
  }
  
  c c()
  {
    return this.r;
  }
  
  void c(Element paramElement)
  {
    this.f.add(paramElement);
  }
  
  void c(Element paramElement1, Element paramElement2)
  {
    a(this.w, paramElement1, paramElement2);
  }
  
  void c(String paramString)
  {
    int i = this.f.size() - 1;
    while (i >= 0)
    {
      Element localElement = (Element)this.f.get(i);
      this.f.remove(i);
      if (localElement.a().equals(paramString)) {
        break;
      }
      i -= 1;
    }
  }
  
  void d(String paramString)
  {
    int i = this.f.size() - 1;
    while ((i >= 0) && (!((Element)this.f.get(i)).a().equals(paramString)))
    {
      this.f.remove(i);
      i -= 1;
    }
  }
  
  boolean d()
  {
    return this.z;
  }
  
  boolean d(Element paramElement)
  {
    return a(this.f, paramElement);
  }
  
  Document e()
  {
    return this.e;
  }
  
  boolean e(Element paramElement)
  {
    int i = this.f.size() - 1;
    while (i >= 0)
    {
      if ((Element)this.f.get(i) == paramElement)
      {
        this.f.remove(i);
        return true;
      }
      i -= 1;
    }
    return false;
  }
  
  boolean e(String paramString)
  {
    return a(paramString, null);
  }
  
  Element f(Element paramElement)
  {
    if ((!b) && (!d(paramElement))) {
      throw new AssertionError();
    }
    int i = this.f.size() - 1;
    while (i >= 0)
    {
      if ((Element)this.f.get(i) == paramElement) {
        return (Element)this.f.get(i - 1);
      }
      i -= 1;
    }
    return null;
  }
  
  String f()
  {
    return this.g;
  }
  
  boolean f(String paramString)
  {
    return a(paramString, k);
  }
  
  void g(Element paramElement)
  {
    this.t = paramElement;
  }
  
  boolean g()
  {
    return this.B;
  }
  
  boolean g(String paramString)
  {
    return a(paramString, l);
  }
  
  Element h()
  {
    int i = this.f.size();
    return (Element)this.f.remove(i - 1);
  }
  
  boolean h(Element paramElement)
  {
    return StringUtil.a(paramElement.a(), p);
  }
  
  boolean h(String paramString)
  {
    return a(paramString, m, null);
  }
  
  ArrayList i()
  {
    return this.f;
  }
  
  void i(Element paramElement)
  {
    int i = 0;
    int i1 = this.w.size() - 1;
    if (i1 >= 0)
    {
      Element localElement = (Element)this.w.get(i1);
      if (localElement != null)
      {
        if (!d(paramElement, localElement)) {
          break label79;
        }
        i += 1;
      }
    }
    label79:
    for (;;)
    {
      if (i == 3)
      {
        this.w.remove(i1);
        this.w.add(paramElement);
        return;
      }
      i1 -= 1;
      break;
    }
  }
  
  boolean i(String paramString)
  {
    int i = this.f.size() - 1;
    while (i >= 0)
    {
      String str = ((Element)this.f.get(i)).a();
      if (str.equals(paramString)) {
        return true;
      }
      if (!StringUtil.a(str, n)) {
        return false;
      }
      i -= 1;
    }
    Validate.b("Should not be reachable");
    return false;
  }
  
  void j()
  {
    c(new String[] { "table" });
  }
  
  void j(Element paramElement)
  {
    int i = this.w.size() - 1;
    for (;;)
    {
      if (i >= 0)
      {
        if ((Element)this.w.get(i) == paramElement) {
          this.w.remove(i);
        }
      }
      else {
        return;
      }
      i -= 1;
    }
  }
  
  void j(String paramString)
  {
    while ((paramString != null) && (!z().a().equals(paramString)) && (StringUtil.a(z().a(), o))) {
      h();
    }
  }
  
  Element k(String paramString)
  {
    int i = this.w.size() - 1;
    while (i >= 0)
    {
      Element localElement = (Element)this.w.get(i);
      if (localElement == null) {
        break;
      }
      if (localElement.a().equals(paramString)) {
        return localElement;
      }
      i -= 1;
    }
    return null;
  }
  
  void k()
  {
    c(new String[] { "tbody", "tfoot", "thead" });
  }
  
  boolean k(Element paramElement)
  {
    return a(this.w, paramElement);
  }
  
  void l()
  {
    c(new String[] { "tr" });
  }
  
  void m()
  {
    int i1 = 0;
    int i = this.f.size() - 1;
    for (;;)
    {
      Object localObject;
      if (i >= 0)
      {
        localObject = (Element)this.f.get(i);
        if (i == 0)
        {
          i1 = 1;
          localObject = this.v;
        }
        localObject = ((Element)localObject).a();
        if ("select".equals(localObject)) {
          a(c.p);
        }
      }
      else
      {
        return;
      }
      if (("td".equals(localObject)) || (("td".equals(localObject)) && (i1 == 0)))
      {
        a(c.o);
        return;
      }
      if ("tr".equals(localObject))
      {
        a(c.n);
        return;
      }
      if (("tbody".equals(localObject)) || ("thead".equals(localObject)) || ("tfoot".equals(localObject)))
      {
        a(c.m);
        return;
      }
      if ("caption".equals(localObject))
      {
        a(c.k);
        return;
      }
      if ("colgroup".equals(localObject))
      {
        a(c.l);
        return;
      }
      if ("table".equals(localObject))
      {
        a(c.i);
        return;
      }
      if ("head".equals(localObject))
      {
        a(c.g);
        return;
      }
      if ("body".equals(localObject))
      {
        a(c.g);
        return;
      }
      if ("frameset".equals(localObject))
      {
        a(c.s);
        return;
      }
      if ("html".equals(localObject))
      {
        a(c.c);
        return;
      }
      if (i1 != 0)
      {
        a(c.g);
        return;
      }
      i -= 1;
    }
  }
  
  Element n()
  {
    return this.t;
  }
  
  boolean o()
  {
    return this.A;
  }
  
  FormElement p()
  {
    return this.u;
  }
  
  void q()
  {
    this.x = new ArrayList();
  }
  
  List r()
  {
    return this.x;
  }
  
  void s()
  {
    j(null);
  }
  
  Element t()
  {
    if (this.w.size() > 0) {
      return (Element)this.w.get(this.w.size() - 1);
    }
    return null;
  }
  
  public String toString()
  {
    return "TreeBuilder{currentToken=" + this.h + ", state=" + this.q + ", currentElement=" + z() + '}';
  }
  
  Element u()
  {
    int i = this.w.size();
    if (i > 0) {
      return (Element)this.w.remove(i - 1);
    }
    return null;
  }
  
  void v()
  {
    Object localObject = t();
    if ((localObject == null) || (d((Element)localObject))) {
      return;
    }
    int i3 = this.w.size();
    int i = i3 - 1;
    label163:
    for (;;)
    {
      int i1;
      if (i == 0) {
        i1 = 1;
      }
      for (;;)
      {
        int i2 = i;
        if (i1 == 0)
        {
          localObject = this.w;
          i2 = i + 1;
          localObject = (Element)((ArrayList)localObject).get(i2);
        }
        Validate.a(localObject);
        Element localElement = a(((Element)localObject).a());
        localElement.w().a(((Element)localObject).w());
        this.w.set(i2, localElement);
        if (i2 == i3 - 1) {
          break;
        }
        i1 = 0;
        i = i2;
        continue;
        localObject = this.w;
        i -= 1;
        localObject = (Element)((ArrayList)localObject).get(i);
        if ((localObject != null) && (!d((Element)localObject))) {
          break label163;
        }
        i1 = 0;
      }
    }
  }
  
  void w()
  {
    while ((!this.w.isEmpty()) && (u() != null)) {}
  }
  
  void x()
  {
    this.w.add(null);
  }
}
