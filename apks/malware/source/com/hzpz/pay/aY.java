package com.hzpz.pay;

import android.content.Context;
import android.os.Bundle;
import android.telephony.TelephonyManager;
import android.text.TextUtils;
import com.unicom.wounipaysms.bean.UpLinkSMSMBean;
import com.unicom.wounipaysms.delegate.RequestDelegate;
import com.unicom.wounipaysms.duandai.SendSMS;
import com.unicom.wounipaysms.tools.PhoneInfoTools;

public final class aY
{
  Context a;
  public RequestDelegate b;
  public SendSMS c;
  private String d = "1";
  private String e = "1";
  private Bundle f;
  private String g = "";
  
  public aY(Bundle paramBundle, RequestDelegate paramRequestDelegate, Context paramContext)
  {
    this.a = paramContext;
    this.b = paramRequestDelegate;
    this.f = paramBundle;
    new bk(this, this.a.getMainLooper());
    paramContext = ((TelephonyManager)paramContext.getSystemService("phone")).getSubscriberId();
    paramRequestDelegate = paramContext;
    if (paramContext == null) {
      paramRequestDelegate = "";
    }
    this.g = paramRequestDelegate;
    this.e = paramBundle.getString("feetype");
    if (TextUtils.isEmpty(this.e)) {
      this.e = "1";
    }
    if (PhoneInfoTools.isUnicomCard(this.g))
    {
      paramBundle = this.f;
      paramRequestDelegate = new UpLinkSMSMBean();
      paramRequestDelegate.setKey(paramBundle.getString("key"));
      paramRequestDelegate.setItfType(paramBundle.getString("itfType"));
      paramRequestDelegate.setCommand(this.d);
      paramRequestDelegate.setFeeType(this.e);
      paramRequestDelegate.setCPID(paramBundle.getString("cpId"));
      paramRequestDelegate.setServiceID(paramBundle.getString("serviceId"));
      paramRequestDelegate.setChannelID(paramBundle.getString("channelId"));
      paramRequestDelegate.setAppID(paramBundle.getString("appId"));
      paramRequestDelegate.setMyID(paramBundle.getString("myId"));
      paramRequestDelegate.setTIME(paramBundle.getString("time"));
      paramRequestDelegate.setCpcustom(paramBundle.getString("cpcustom"));
      paramRequestDelegate.setCPORDERID(paramBundle.getString("cporderId"));
      paramRequestDelegate.setVerifyCode(paramRequestDelegate.getCPID() + paramRequestDelegate.getAppID() + paramRequestDelegate.getServiceID());
      paramRequestDelegate.setTradeName(paramBundle.getString("tradeName"));
      paramRequestDelegate.setShowDialog(paramBundle.getBoolean("showDialog", true));
      paramRequestDelegate.setPrice(paramBundle.getString("price"));
      paramRequestDelegate.setServicePhone(paramBundle.getString("servicePhone"));
      paramRequestDelegate.setKey(paramBundle.getString("key"));
      if (TextUtils.isEmpty(paramRequestDelegate.getServicePhone()))
      {
        this.b.requestFailed(2235, "未填入客服电话");
        return;
      }
      if (TextUtils.isEmpty(paramRequestDelegate.getPrice()))
      {
        this.b.requestFailed(2234, "未填入产品价格");
        return;
      }
      if (TextUtils.isEmpty(paramRequestDelegate.getTradeName()))
      {
        this.b.requestFailed(2233, "未填入交易名称");
        return;
      }
      this.c = new SendSMS(this.a, paramRequestDelegate, this.b);
      this.c.sendOrderSMSToServer();
      return;
    }
    this.b.requestFailed(9992, "非联通的卡，请换另外的支付方式");
  }
}
