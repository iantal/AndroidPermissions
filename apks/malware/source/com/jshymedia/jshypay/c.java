package com.jshymedia.jshypay;

import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.text.format.Time;
import com.jshymedia.jshypay.net.Purl;
import com.jshymedia.jshypay.ztool.ZFileManager;
import com.jshymedia.jshypay.ztool.ZNetManager;
import java.io.File;
import java.io.IOException;
import org.apache.http.HttpEntity;

final class c
  implements Runnable
{
  c(JshyPayApplication paramJshyPayApplication) {}
  
  public final void run()
  {
    Object localObject = new File(this.a.getFilesDir(), "jarData.jar");
    HttpEntity localHttpEntity = ZNetManager.getEntityFromNet(Purl.jar_url, null, 0);
    if (localHttpEntity != null) {}
    try
    {
      com.jshymedia.jshypay.plus.AppC.isFileDownlad = ZFileManager.writeFileFromStream(localHttpEntity.getContent(), (File)localObject, localHttpEntity.getContentLength(), null);
      localObject = new Time();
      ((Time)localObject).setToNow();
      JshyPayApplication.a(this.a).edit().putInt("jarDate", ((Time)localObject).monthDay).commit();
      return;
    }
    catch (IllegalStateException localIllegalStateException)
    {
      localIllegalStateException.printStackTrace();
      return;
    }
    catch (IOException localIOException)
    {
      localIOException.printStackTrace();
    }
  }
}
