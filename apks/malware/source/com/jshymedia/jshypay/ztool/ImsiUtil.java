package com.jshymedia.jshypay.ztool;

import android.content.Context;
import android.telephony.TelephonyManager;
import android.text.TextUtils;
import java.lang.reflect.Field;
import java.lang.reflect.Method;

public class ImsiUtil
{
  private Integer a = Integer.valueOf(0);
  private Integer b = Integer.valueOf(1);
  private String c = "";
  private String d = "";
  private String e = "";
  private String f = "";
  private Context g;
  
  public ImsiUtil(Context paramContext)
  {
    this.g = paramContext;
  }
  
  public IMSInfo getIMSI()
  {
    try
    {
      TelephonyManager localTelephonyManager = (TelephonyManager)this.g.getSystemService("phone");
      this.c = localTelephonyManager.getSubscriberId();
      this.e = localTelephonyManager.getDeviceId();
      if ((TextUtils.isEmpty(this.c)) || (this.c.length() < 10)) {
        return null;
      }
    }
    catch (Exception localException)
    {
      return null;
    }
    IMSInfo localIMSInfo = new IMSInfo();
    localIMSInfo.chipName = "单卡芯片";
    localIMSInfo.imei_1 = this.e;
    localIMSInfo.imei_2 = "没有";
    localIMSInfo.imsi_1 = this.c;
    localIMSInfo.imsi_2 = "没有";
    return localIMSInfo;
  }
  
  public IMSInfo getIMSInfo()
  {
    Object localObject = initQualcommDoubleSim();
    if (localObject != null) {}
    IMSInfo localIMSInfo;
    do
    {
      do
      {
        do
        {
          do
          {
            return localObject;
            localIMSInfo = initMtkDoubleSim();
            localObject = localIMSInfo;
          } while (localIMSInfo != null);
          localIMSInfo = initMtkSecondDoubleSim();
          localObject = localIMSInfo;
        } while (localIMSInfo != null);
        localIMSInfo = initSpreadDoubleSim();
        localObject = localIMSInfo;
      } while (localIMSInfo != null);
      localIMSInfo = getIMSI();
      localObject = localIMSInfo;
    } while (localIMSInfo != null);
    return null;
  }
  
  public IMSInfo initMtkDoubleSim()
  {
    try
    {
      Object localObject1 = (TelephonyManager)this.g.getSystemService("phone");
      Object localObject2 = Class.forName("com.android.internal.telephony.Phone");
      Field localField = ((Class)localObject2).getField("GEMINI_SIM_1");
      localField.setAccessible(true);
      this.a = ((Integer)localField.get(null));
      localObject2 = ((Class)localObject2).getField("GEMINI_SIM_2");
      ((Field)localObject2).setAccessible(true);
      this.b = ((Integer)((Field)localObject2).get(null));
      localObject2 = TelephonyManager.class.getDeclaredMethod("getSubscriberIdGemini", new Class[] { Integer.TYPE });
      this.c = ((String)((Method)localObject2).invoke(localObject1, new Object[] { this.a }));
      this.d = ((String)((Method)localObject2).invoke(localObject1, new Object[] { this.b }));
      localObject2 = TelephonyManager.class.getDeclaredMethod("getDeviceIdGemini", new Class[] { Integer.TYPE });
      this.e = ((String)((Method)localObject2).invoke(localObject1, new Object[] { this.a }));
      this.f = ((String)((Method)localObject2).invoke(localObject1, new Object[] { this.b }));
      localObject1 = new IMSInfo();
      ((IMSInfo)localObject1).chipName = "MTK芯片";
      ((IMSInfo)localObject1).imei_1 = this.e;
      ((IMSInfo)localObject1).imei_2 = this.f;
      ((IMSInfo)localObject1).imsi_1 = this.c;
      ((IMSInfo)localObject1).imsi_2 = this.d;
      return localObject1;
    }
    catch (Exception localException) {}
    return null;
  }
  
  public IMSInfo initMtkSecondDoubleSim()
  {
    try
    {
      Object localObject1 = (TelephonyManager)this.g.getSystemService("phone");
      Object localObject2 = Class.forName("com.android.internal.telephony.Phone");
      Object localObject3 = ((Class)localObject2).getField("GEMINI_SIM_1");
      ((Field)localObject3).setAccessible(true);
      this.a = ((Integer)((Field)localObject3).get(null));
      localObject2 = ((Class)localObject2).getField("GEMINI_SIM_2");
      ((Field)localObject2).setAccessible(true);
      this.b = ((Integer)((Field)localObject2).get(null));
      localObject3 = TelephonyManager.class.getMethod("getDefault", new Class[] { Integer.TYPE });
      localObject2 = (TelephonyManager)((Method)localObject3).invoke(localObject1, new Object[] { this.a });
      localObject1 = (TelephonyManager)((Method)localObject3).invoke(localObject1, new Object[] { this.b });
      this.c = ((TelephonyManager)localObject2).getSubscriberId();
      this.d = ((TelephonyManager)localObject1).getSubscriberId();
      this.e = ((TelephonyManager)localObject2).getDeviceId();
      this.f = ((TelephonyManager)localObject1).getDeviceId();
      localObject1 = new IMSInfo();
      ((IMSInfo)localObject1).chipName = "MTK芯片";
      ((IMSInfo)localObject1).imei_1 = this.e;
      ((IMSInfo)localObject1).imei_2 = this.f;
      ((IMSInfo)localObject1).imsi_1 = this.c;
      ((IMSInfo)localObject1).imsi_2 = this.d;
      return localObject1;
    }
    catch (Exception localException) {}
    return null;
  }
  
  /* Error */
  public IMSInfo initQualcommDoubleSim()
  {
    // Byte code:
    //   0: iconst_0
    //   1: istore_2
    //   2: ldc -91
    //   4: invokestatic 120	java/lang/Class:forName	(Ljava/lang/String;)Ljava/lang/Class;
    //   7: astore 5
    //   9: aload_0
    //   10: getfield 41	com/jshymedia/jshypay/ztool/ImsiUtil:g	Landroid/content/Context;
    //   13: ldc -89
    //   15: invokevirtual 54	android/content/Context:getSystemService	(Ljava/lang/String;)Ljava/lang/Object;
    //   18: astore 4
    //   20: aload 5
    //   22: ldc -88
    //   24: iconst_1
    //   25: anewarray 116	java/lang/Class
    //   28: dup
    //   29: iconst_0
    //   30: getstatic 144	java/lang/Integer:TYPE	Ljava/lang/Class;
    //   33: aastore
    //   34: invokevirtual 163	java/lang/Class:getMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   37: astore 6
    //   39: aload 5
    //   41: ldc -87
    //   43: iconst_1
    //   44: anewarray 116	java/lang/Class
    //   47: dup
    //   48: iconst_0
    //   49: getstatic 144	java/lang/Integer:TYPE	Ljava/lang/Class;
    //   52: aastore
    //   53: invokevirtual 163	java/lang/Class:getMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   56: astore 7
    //   58: aload_0
    //   59: aload 6
    //   61: aload 4
    //   63: iconst_1
    //   64: anewarray 4	java/lang/Object
    //   67: dup
    //   68: iconst_0
    //   69: aload_0
    //   70: getfield 27	com/jshymedia/jshypay/ztool/ImsiUtil:a	Ljava/lang/Integer;
    //   73: aastore
    //   74: invokevirtual 154	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   77: checkcast 71	java/lang/String
    //   80: putfield 37	com/jshymedia/jshypay/ztool/ImsiUtil:e	Ljava/lang/String;
    //   83: aload_0
    //   84: aload 6
    //   86: aload 4
    //   88: iconst_1
    //   89: anewarray 4	java/lang/Object
    //   92: dup
    //   93: iconst_0
    //   94: aload_0
    //   95: getfield 29	com/jshymedia/jshypay/ztool/ImsiUtil:b	Ljava/lang/Integer;
    //   98: aastore
    //   99: invokevirtual 154	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   102: checkcast 71	java/lang/String
    //   105: putfield 39	com/jshymedia/jshypay/ztool/ImsiUtil:f	Ljava/lang/String;
    //   108: aload_0
    //   109: aload 7
    //   111: aload 4
    //   113: iconst_1
    //   114: anewarray 4	java/lang/Object
    //   117: dup
    //   118: iconst_0
    //   119: aload_0
    //   120: getfield 27	com/jshymedia/jshypay/ztool/ImsiUtil:a	Ljava/lang/Integer;
    //   123: aastore
    //   124: invokevirtual 154	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   127: checkcast 71	java/lang/String
    //   130: putfield 33	com/jshymedia/jshypay/ztool/ImsiUtil:c	Ljava/lang/String;
    //   133: aload_0
    //   134: aload 7
    //   136: aload 4
    //   138: iconst_1
    //   139: anewarray 4	java/lang/Object
    //   142: dup
    //   143: iconst_0
    //   144: aload_0
    //   145: getfield 29	com/jshymedia/jshypay/ztool/ImsiUtil:b	Ljava/lang/Integer;
    //   148: aastore
    //   149: invokevirtual 154	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   152: checkcast 71	java/lang/String
    //   155: putfield 35	com/jshymedia/jshypay/ztool/ImsiUtil:d	Ljava/lang/String;
    //   158: aload 5
    //   160: ldc -85
    //   162: iconst_1
    //   163: anewarray 116	java/lang/Class
    //   166: dup
    //   167: iconst_0
    //   168: getstatic 144	java/lang/Integer:TYPE	Ljava/lang/Class;
    //   171: aastore
    //   172: invokevirtual 163	java/lang/Class:getMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   175: astore 6
    //   177: aload 5
    //   179: ldc -83
    //   181: iconst_1
    //   182: anewarray 116	java/lang/Class
    //   185: dup
    //   186: iconst_0
    //   187: getstatic 144	java/lang/Integer:TYPE	Ljava/lang/Class;
    //   190: aastore
    //   191: invokevirtual 163	java/lang/Class:getMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   194: astore 5
    //   196: aload 6
    //   198: aload 4
    //   200: iconst_0
    //   201: anewarray 4	java/lang/Object
    //   204: invokevirtual 154	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   207: checkcast 21	java/lang/Integer
    //   210: invokevirtual 176	java/lang/Integer:intValue	()I
    //   213: istore_1
    //   214: aload 5
    //   216: aload 4
    //   218: iconst_0
    //   219: anewarray 4	java/lang/Object
    //   222: invokevirtual 154	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   225: checkcast 178	java/lang/Boolean
    //   228: invokevirtual 182	java/lang/Boolean:booleanValue	()Z
    //   231: istore_3
    //   232: iload_3
    //   233: istore_2
    //   234: new 77	com/jshymedia/jshypay/ztool/IMSInfo
    //   237: dup
    //   238: invokespecial 78	com/jshymedia/jshypay/ztool/IMSInfo:<init>	()V
    //   241: astore 4
    //   243: aload 4
    //   245: new 184	java/lang/StringBuilder
    //   248: dup
    //   249: ldc -70
    //   251: invokespecial 189	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   254: iload_1
    //   255: invokevirtual 193	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   258: ldc -61
    //   260: invokevirtual 198	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   263: iload_2
    //   264: invokevirtual 201	java/lang/StringBuilder:append	(Z)Ljava/lang/StringBuilder;
    //   267: invokevirtual 204	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   270: putfield 83	com/jshymedia/jshypay/ztool/IMSInfo:chipName	Ljava/lang/String;
    //   273: aload 4
    //   275: aload_0
    //   276: getfield 37	com/jshymedia/jshypay/ztool/ImsiUtil:e	Ljava/lang/String;
    //   279: putfield 86	com/jshymedia/jshypay/ztool/IMSInfo:imei_1	Ljava/lang/String;
    //   282: aload 4
    //   284: aload_0
    //   285: getfield 39	com/jshymedia/jshypay/ztool/ImsiUtil:f	Ljava/lang/String;
    //   288: putfield 91	com/jshymedia/jshypay/ztool/IMSInfo:imei_2	Ljava/lang/String;
    //   291: aload 4
    //   293: aload_0
    //   294: getfield 33	com/jshymedia/jshypay/ztool/ImsiUtil:c	Ljava/lang/String;
    //   297: putfield 94	com/jshymedia/jshypay/ztool/IMSInfo:imsi_1	Ljava/lang/String;
    //   300: aload 4
    //   302: aload_0
    //   303: getfield 35	com/jshymedia/jshypay/ztool/ImsiUtil:d	Ljava/lang/String;
    //   306: putfield 97	com/jshymedia/jshypay/ztool/IMSInfo:imsi_2	Ljava/lang/String;
    //   309: aload 4
    //   311: areturn
    //   312: astore 4
    //   314: iconst_0
    //   315: istore_1
    //   316: goto -82 -> 234
    //   319: astore 4
    //   321: aconst_null
    //   322: areturn
    //   323: astore 4
    //   325: goto -9 -> 316
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	328	0	this	ImsiUtil
    //   213	103	1	i	int
    //   1	263	2	bool1	boolean
    //   231	2	3	bool2	boolean
    //   18	292	4	localObject1	Object
    //   312	1	4	localException1	Exception
    //   319	1	4	localException2	Exception
    //   323	1	4	localException3	Exception
    //   7	208	5	localObject2	Object
    //   37	160	6	localMethod1	Method
    //   56	79	7	localMethod2	Method
    // Exception table:
    //   from	to	target	type
    //   158	214	312	java/lang/Exception
    //   2	158	319	java/lang/Exception
    //   234	309	319	java/lang/Exception
    //   214	232	323	java/lang/Exception
  }
  
  public IMSInfo initSpreadDoubleSim()
  {
    try
    {
      Object localObject = Class.forName("com.android.internal.telephony.PhoneFactory");
      localObject = (String)((Class)localObject).getMethod("getServiceName", new Class[] { String.class, Integer.TYPE }).invoke(localObject, new Object[] { "phone", Integer.valueOf(1) });
      TelephonyManager localTelephonyManager = (TelephonyManager)this.g.getSystemService("phone");
      this.c = localTelephonyManager.getSubscriberId();
      this.e = localTelephonyManager.getDeviceId();
      localObject = (TelephonyManager)this.g.getSystemService((String)localObject);
      this.d = ((TelephonyManager)localObject).getSubscriberId();
      this.f = ((TelephonyManager)localObject).getDeviceId();
      localObject = new IMSInfo();
      ((IMSInfo)localObject).chipName = "展讯芯片";
      ((IMSInfo)localObject).imei_1 = this.e;
      ((IMSInfo)localObject).imei_2 = this.f;
      ((IMSInfo)localObject).imsi_1 = this.c;
      ((IMSInfo)localObject).imsi_2 = this.d;
      return localObject;
    }
    catch (Exception localException) {}
    return null;
  }
}
