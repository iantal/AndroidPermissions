package com.splunk.mint;

import java.util.ArrayList;
import java.util.Iterator;
import org.json.JSONArray;

class BreadcrumbsLimited
  extends ArrayList<String>
{
  protected static final int MAX_BREADCRUMBS = 16;
  private static final long serialVersionUID = -7130367487360671781L;
  
  BreadcrumbsLimited() {}
  
  public boolean addToList(String paramString)
  {
    String str = paramString;
    if (paramString == null) {
      str = "null";
    }
    Logger.logInfo("Breadcrumb: " + str + " was added to the breadcrumb list");
    add(str);
    if (size() > 16)
    {
      Logger.logInfo("Breadcrumbs list is bigger than " + String.valueOf(16) + " items, removing the oldest one.");
      remove(0);
    }
    return true;
  }
  
  public JSONArray getList()
  {
    JSONArray localJSONArray = new JSONArray();
    Iterator localIterator = iterator();
    while (localIterator.hasNext()) {
      localJSONArray.put((String)localIterator.next());
    }
    return localJSONArray;
  }
}
