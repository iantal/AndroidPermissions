package com.w545taxxxg9.Utils;

import android.app.Notification;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.media.Ringtone;
import android.media.RingtoneManager;
import android.net.Uri;
import android.os.Bundle;
import com.w545taxxxg9.MessageViewer;

public class AppNotificationManager
{
  public static final int NOTIFICATION_ID = 10001;
  
  public AppNotificationManager() {}
  
  public static void generateNotification(Context paramContext, String paramString1, String paramString2, Intent paramIntent)
  {
    Notification localNotification = new Notification(2130837516, paramString2, System.currentTimeMillis());
    localNotification.setLatestEventInfo(paramContext, paramString2, paramString1, PendingIntent.getActivity(paramContext, (int)(System.currentTimeMillis() & 0xFFFFFFF), paramIntent, 0));
    localNotification.flags |= 0x10;
    int i = (int)System.currentTimeMillis();
    ((NotificationManager)paramContext.getSystemService("notification")).notify(i, localNotification);
    playNotificationSound(paramContext);
  }
  
  public static Intent getLaunchIntent(Context paramContext, String paramString1, String paramString2)
  {
    paramContext = new Intent(paramContext, MessageViewer.class);
    paramContext.addFlags(67108864);
    paramContext.addFlags(268435456);
    paramContext.addFlags(2097152);
    Bundle localBundle = new Bundle();
    localBundle.putString("url", paramString2);
    localBundle.putString("title", paramString1);
    paramContext.putExtras(localBundle);
    return paramContext;
  }
  
  public static void playNotificationSound(Context paramContext)
  {
    Uri localUri = RingtoneManager.getDefaultUri(2);
    if (localUri != null)
    {
      paramContext = RingtoneManager.getRingtone(paramContext, localUri);
      if (paramContext != null)
      {
        paramContext.setStreamType(5);
        paramContext.play();
      }
    }
  }
}
