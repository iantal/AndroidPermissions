package com.w545taxxxg9.Utils;

import android.content.ActivityNotFoundException;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.net.Uri;
import android.util.Log;
import android.webkit.DownloadListener;
import com.w545taxxxg9.Controllers.WebContentController;
import com.w545taxxxg9.Factory.Factory;
import com.w545taxxxg9.MainNavigationActivity;

public class BrowserDownloadListener
  implements DownloadListener
{
  private WebContentController _webController;
  
  public BrowserDownloadListener(WebContentController paramWebContentController)
  {
    this._webController = paramWebContentController;
  }
  
  public void onDownloadStart(String paramString1, String paramString2, String paramString3, String paramString4, long paramLong)
  {
    try
    {
      paramString2 = Factory.getInstance().getMainNavigationActivity();
      paramString3 = new Intent("android.intent.action.VIEW");
      paramString3.setDataAndType(Uri.parse(paramString1), paramString4);
      if (paramString2.getPackageManager().resolveActivity(paramString3, 0) != null)
      {
        paramString2.startActivity(paramString3);
        return;
      }
      paramString3 = new Intent("android.intent.action.VIEW");
      paramString3.setData(Uri.parse(paramString1));
      paramString2.startActivity(paramString3);
      return;
    }
    catch (ActivityNotFoundException paramString1)
    {
      Log.e("ActivityNotFoundException", "onDownloadStart :" + paramString1.getMessage());
    }
  }
}
