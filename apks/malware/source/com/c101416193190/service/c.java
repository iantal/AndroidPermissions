package com.c101416193190.service;

import android.app.ActivityManager;
import android.app.ActivityManager.RunningServiceInfo;
import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.ServiceConnection;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import java.util.List;

public final class c
{
  private static c a = null;
  private static SharedPreferences b = null;
  private ServiceConnection c;
  
  private c(Context paramContext)
  {
    b = paramContext.getSharedPreferences("mService", 0);
  }
  
  public static c a(Context paramContext)
  {
    int i = 0;
    if (a == null) {
      a = new c(paramContext);
    }
    String str = MyService.class.getName();
    paramContext = ((ActivityManager)paramContext.getSystemService("activity")).getRunningServices(Integer.MAX_VALUE);
    int j = 0;
    if ((i != 0) || (j >= paramContext.size()))
    {
      if (i == 0) {
        b.edit().clear().commit();
      }
      return a;
    }
    if (((ActivityManager.RunningServiceInfo)paramContext.get(j)).service.getClassName().equals(str)) {
      i = 1;
    }
    for (;;)
    {
      j += 1;
      break;
    }
  }
  
  public final void a(Intent paramIntent, Context paramContext, Class paramClass, ServiceConnection paramServiceConnection)
  {
    int i = b.getInt(String.valueOf(3), -1);
    if ((i == -1) || (i != 3))
    {
      this.c = paramServiceConnection;
      paramIntent.setClass(paramContext, paramClass);
      paramIntent.putExtra("type_value", 3);
      paramContext.bindService(paramIntent, paramServiceConnection, 1);
    }
  }
}
