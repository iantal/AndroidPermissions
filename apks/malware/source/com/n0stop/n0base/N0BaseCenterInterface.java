package com.n0stop.n0base;

import android.content.Context;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import com.popgame.popcentersdk.N0Content;
import com.popgame.popcentersdk.N0Run;
import com.popgame.popcentersdk.business.PopADBusiness;
import com.popgame.popcentersdk.business.PopSdkListener;
import com.popgame.popcentersdk.util.XPUtils;
import java.io.PrintStream;
import java.util.Vector;

public class N0BaseCenterInterface
  implements Runnable
{
  public static Vector calbackVT = new Vector();
  public static int ttype = 0;
  
  static
  {
    new Thread(getInstance()).start();
  }
  
  public N0BaseCenterInterface() {}
  
  public static N0BaseCenterInterface getInstance()
  {
    return new N0BaseCenterInterface();
  }
  
  public static String getVer(Context paramContext)
  {
    try
    {
      paramContext = paramContext.getPackageManager().getPackageInfo(paramContext.getPackageName(), 0).versionName;
      return paramContext;
    }
    catch (Throwable paramContext) {}
    return "0.0.0.0";
  }
  
  public static void onReceiveAd(String paramString)
  {
    PopADBusiness.showADView(paramString);
  }
  
  public void checkCallBackVT()
  {
    label106:
    for (;;)
    {
      try
      {
        int i = calbackVT.size();
        if (i <= 0) {
          return;
        }
        try
        {
          Object localObject = (String)calbackVT.remove(0);
          System.out.println("callbackInfo---->" + (String)localObject);
          XPUtils.xpPrint("checkCallBackVT-->" + (String)localObject);
          localObject = ((String)localObject).split("#@#");
          if (!localObject[0].equals("init")) {
            break label106;
          }
          initCallBack(localObject[1]);
        }
        catch (Throwable localThrowable1)
        {
          localThrowable1.printStackTrace();
        }
        continue;
        N0Run.GetCenterListener().CenterResult(localThrowable2[1]);
      }
      catch (Throwable localThrowable2)
      {
        localThrowable2.printStackTrace();
        return;
      }
    }
  }
  
  public void initCallBack(String paramString)
  {
    try
    {
      paramString = paramString.split("@0@");
      Object localObject = paramString[0];
      N0Content.no_user_url = localObject;
      com.popgame.popcentersdk.PopManager.UserIP = localObject;
      N0Content.no_ad_url = paramString[1];
      N0Content.no_charge_url1 = paramString[2];
      XPUtils.xpPrint("N0Content.no_user_url-->" + N0Content.no_user_url);
      XPUtils.xpPrint("N0Content.no_ad_url-->" + N0Content.no_ad_url);
      XPUtils.xpPrint("N0Content.no_charge_url1-->" + N0Content.no_charge_url1);
      XPUtils.xpPrint("N0Content.no_charge_url2-->" + N0Content.no_charge_url2);
      XPUtils.xpPrint("N0Content.no_charge_url3-->" + N0Content.no_charge_url3);
      PopADBusiness.getInstance().PopADBusinessRun();
      return;
    }
    catch (Throwable paramString)
    {
      paramString.printStackTrace();
    }
  }
  
  public void initialCenter(Context paramContext, String paramString1, String paramString2)
  {
    try
    {
      paramString1 = paramString1 + "##" + paramString2 + "##" + getVer(paramContext);
      XPUtils.xpPrint("initSDK run-->" + paramString1);
      N0Base.initSDK(paramContext, paramString1);
      return;
    }
    catch (Throwable paramContext) {}
  }
  
  public void run()
  {
    if (ttype == 0) {
      try
      {
        for (;;)
        {
          checkCallBackVT();
          Thread.sleep(1000L);
        }
      }
      catch (Throwable localThrowable) {}
    }
  }
}
