package com.pollfish.c;

import android.app.Activity;
import android.content.Context;
import android.os.AsyncTask;
import com.pollfish.f.b;
import com.pollfish.f.b.a;
import java.io.File;

public class c
  extends AsyncTask
{
  private Activity a;
  private String b;
  
  public c(Activity paramActivity)
  {
    this.a = paramActivity;
    this.b = (paramActivity.getApplicationContext().getCacheDir().getAbsolutePath() + "/" + "pollfish_queue");
  }
  
  protected Boolean a(Void... paramVarArgs)
  {
    b.a("ClearQueueTask", "clearing queue");
    b.a("ClearQueueTask", "queueFilePath: " + this.b);
    try
    {
      paramVarArgs = new File(this.b);
      if (paramVarArgs.exists()) {
        a(paramVarArgs);
      }
      return Boolean.valueOf(true);
    }
    catch (Exception paramVarArgs)
    {
      a.a(paramVarArgs);
      b.b("ClearQueueTask", "Error  while clearing queue: " + paramVarArgs);
    }
    return Boolean.valueOf(false);
  }
  
  void a(File paramFile)
  {
    if (paramFile.isDirectory())
    {
      File[] arrayOfFile = paramFile.listFiles();
      int j = arrayOfFile.length;
      int i = 0;
      while (i < j)
      {
        a(arrayOfFile[i]);
        i += 1;
      }
    }
    b.a("ClearQueueTask", "delete file with path: " + paramFile.getAbsolutePath());
    paramFile.delete();
  }
  
  protected void a(Boolean paramBoolean)
  {
    b.a("ClearQueueTask", "Cleaned queue sucessfully: " + paramBoolean);
    super.onPostExecute(paramBoolean);
  }
  
  protected void onPreExecute()
  {
    b.a("ClearQueueTask", "ClearRequestQueueTask: onPreExecute");
    super.onPreExecute();
  }
}
