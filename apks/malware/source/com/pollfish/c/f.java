package com.pollfish.c;

import android.os.AsyncTask;
import com.pollfish.f.b;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map.Entry;
import java.util.Set;

public class f
  extends AsyncTask
{
  private String a = "";
  private HashMap b = null;
  private com.pollfish.g.a c;
  private String d;
  
  public f(String paramString1, HashMap paramHashMap, com.pollfish.g.a paramA, String paramString2)
  {
    this.a = paramString1;
    this.b = paramHashMap;
    this.c = paramA;
    this.d = paramString2;
  }
  
  protected Boolean a(String... paramVarArgs)
  {
    if (this.a != null)
    {
      b.a("LoadContentInWebViewTask", "Html assets do not exist in cache- start replacing relative paths");
      try
      {
        b.a("LoadContentInWebViewTask", "replacing things in temp webview content");
        if (this.b != null)
        {
          paramVarArgs = this.b.entrySet().iterator();
          while (paramVarArgs.hasNext())
          {
            Map.Entry localEntry = (Map.Entry)paramVarArgs.next();
            String str1 = (String)localEntry.getKey();
            String str2 = (String)localEntry.getValue();
            b.a("LoadContentInWebViewTask", "key: " + localEntry.getKey() + " = " + localEntry.getValue());
            paramVarArgs.remove();
            this.a = this.a.replaceAll(str1, str2);
            continue;
            return Boolean.valueOf(false);
          }
        }
      }
      catch (Exception paramVarArgs)
      {
        com.pollfish.f.b.a.a(paramVarArgs);
        b.b("LoadContentInWebViewTask", "error while replacing web content html:" + paramVarArgs);
      }
    }
    b.a("LoadContentInWebViewTask", "finished replacing things in temp webview content");
    return Boolean.valueOf(true);
  }
  
  protected void a(Boolean paramBoolean)
  {
    b.a("LoadContentInWebViewTask", "LoadContentInWebViewTask onPostExecute: " + paramBoolean);
    if (paramBoolean.booleanValue())
    {
      String str = "file:///" + this.d;
      this.c.loadDataWithBaseURL(str, this.a, "text/html", "utf-8", null);
      this.c.setBackgroundColor(0);
    }
    super.onPostExecute(paramBoolean);
  }
  
  protected void onPreExecute()
  {
    b.a("LoadContentInWebViewTask", "LoadContentInWebViewTask: onPreExecute");
    super.onPreExecute();
  }
}
