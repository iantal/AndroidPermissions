package com.pollfish.d;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.graphics.Color;
import android.graphics.Point;
import android.net.Uri;
import android.os.Handler;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.Window;
import android.view.WindowManager.LayoutParams;
import android.widget.Button;
import android.widget.RelativeLayout;
import android.widget.RelativeLayout.LayoutParams;
import com.pollfish.c.d;
import com.pollfish.constants.Position;
import com.pollfish.interfaces.PollfishClosedListener;
import com.pollfish.interfaces.PollfishOpenedListener;
import com.pollfish.interfaces.PollfishSurveyCompletedListener;
import com.pollfish.interfaces.a.b;
import java.util.HashMap;
import java.util.Timer;
import java.util.TimerTask;
import org.json.JSONObject;

public class a
  extends RelativeLayout
{
  private static boolean h = false;
  private Activity a;
  private com.pollfish.a.a b;
  private Button c;
  private Button d;
  private com.pollfish.g.a e;
  private com.pollfish.a.b f;
  private com.pollfish.constants.a g;
  private boolean i = false;
  private a.b j;
  private com.pollfish.interfaces.a.a k;
  private int l = 0;
  
  public a(Context paramContext, Activity paramActivity, com.pollfish.a.b paramB, boolean paramBoolean, a.b paramB1, com.pollfish.interfaces.a.a paramA)
  {
    super(paramContext);
    com.pollfish.f.b.a("OverlayLayout", "new OverlayLayout()");
    h = paramBoolean;
    removeAllViews();
    a(false);
    this.c = null;
    this.d = null;
    this.i = false;
    this.a = paramActivity;
    this.b = null;
    this.j = paramB1;
    this.k = paramA;
    this.f = paramB;
    this.g = com.pollfish.constants.a.a;
    com.pollfish.f.b.a("OverlayLayout", "pollfishViewStatus: " + this.g);
    new Handler().post(new Runnable()
    {
      public void run()
      {
        a.this.a();
      }
    });
  }
  
  private void c(boolean paramBoolean)
  {
    com.pollfish.f.b.a("OverlayLayout", "hideIndicator(" + paramBoolean + ")");
    if (this.c == null) {}
    do
    {
      return;
      if (!paramBoolean)
      {
        this.c.setOnClickListener(null);
        this.c.setVisibility(4);
        return;
      }
    } while (this.c.getVisibility() != 0);
    com.pollfish.f.a.b.a(this.c, this.f.C(), false, 1000, null, 0);
  }
  
  /* Error */
  private void k()
  {
    // Byte code:
    //   0: iconst_1
    //   1: istore_1
    //   2: iconst_0
    //   3: istore_2
    //   4: ldc 66
    //   6: ldc -77
    //   8: invokestatic 73	com/pollfish/f/b:a	(Ljava/lang/String;Ljava/lang/String;)V
    //   11: aload_0
    //   12: new 145	android/widget/Button
    //   15: dup
    //   16: aload_0
    //   17: getfield 85	com/pollfish/d/a:a	Landroid/app/Activity;
    //   20: invokespecial 180	android/widget/Button:<init>	(Landroid/content/Context;)V
    //   23: putfield 81	com/pollfish/d/a:c	Landroid/widget/Button;
    //   26: aload_0
    //   27: getfield 85	com/pollfish/d/a:a	Landroid/app/Activity;
    //   30: invokestatic 183	com/pollfish/f/a/b:a	(Landroid/app/Activity;)I
    //   33: istore_3
    //   34: ldc 66
    //   36: new 101	java/lang/StringBuilder
    //   39: dup
    //   40: invokespecial 103	java/lang/StringBuilder:<init>	()V
    //   43: ldc -71
    //   45: invokevirtual 109	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   48: iload_3
    //   49: invokevirtual 188	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   52: invokevirtual 116	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   55: invokestatic 73	com/pollfish/f/b:a	(Ljava/lang/String;Ljava/lang/String;)V
    //   58: aload_0
    //   59: getfield 85	com/pollfish/d/a:a	Landroid/app/Activity;
    //   62: invokevirtual 194	android/app/Activity:getWindow	()Landroid/view/Window;
    //   65: invokevirtual 200	android/view/Window:getAttributes	()Landroid/view/WindowManager$LayoutParams;
    //   68: getfield 205	android/view/WindowManager$LayoutParams:flags	I
    //   71: sipush 1024
    //   74: iand
    //   75: ifeq +218 -> 293
    //   78: goto +682 -> 760
    //   81: iconst_2
    //   82: newarray int
    //   84: astore 6
    //   86: aload_0
    //   87: getfield 87	com/pollfish/d/a:b	Lcom/pollfish/a/a;
    //   90: aload_0
    //   91: getfield 85	com/pollfish/d/a:a	Landroid/app/Activity;
    //   94: aload_0
    //   95: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   98: invokevirtual 163	com/pollfish/a/b:C	()Lcom/pollfish/constants/Position;
    //   101: aload 6
    //   103: invokevirtual 210	com/pollfish/a/a:a	(Landroid/content/Context;Lcom/pollfish/constants/Position;[I)Landroid/graphics/drawable/Drawable;
    //   106: astore 5
    //   108: new 212	android/widget/RelativeLayout$LayoutParams
    //   111: dup
    //   112: aload 6
    //   114: iconst_0
    //   115: iaload
    //   116: aload_0
    //   117: getfield 85	com/pollfish/d/a:a	Landroid/app/Activity;
    //   120: invokevirtual 216	android/app/Activity:getApplicationContext	()Landroid/content/Context;
    //   123: invokestatic 221	com/pollfish/f/c:a	(ILandroid/content/Context;)I
    //   126: aload 6
    //   128: iconst_1
    //   129: iaload
    //   130: aload_0
    //   131: getfield 85	com/pollfish/d/a:a	Landroid/app/Activity;
    //   134: invokevirtual 216	android/app/Activity:getApplicationContext	()Landroid/content/Context;
    //   137: invokestatic 221	com/pollfish/f/c:a	(ILandroid/content/Context;)I
    //   140: invokespecial 224	android/widget/RelativeLayout$LayoutParams:<init>	(II)V
    //   143: astore 4
    //   145: aload_0
    //   146: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   149: invokevirtual 163	com/pollfish/a/b:C	()Lcom/pollfish/constants/Position;
    //   152: getstatic 230	com/pollfish/constants/Position:BOTTOM_LEFT	Lcom/pollfish/constants/Position;
    //   155: if_acmpeq +29 -> 184
    //   158: aload_0
    //   159: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   162: invokevirtual 163	com/pollfish/a/b:C	()Lcom/pollfish/constants/Position;
    //   165: getstatic 233	com/pollfish/constants/Position:TOP_LEFT	Lcom/pollfish/constants/Position;
    //   168: if_acmpeq +16 -> 184
    //   171: aload_0
    //   172: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   175: invokevirtual 163	com/pollfish/a/b:C	()Lcom/pollfish/constants/Position;
    //   178: getstatic 236	com/pollfish/constants/Position:MIDDLE_LEFT	Lcom/pollfish/constants/Position;
    //   181: if_acmpne +117 -> 298
    //   184: aload 4
    //   186: bipush 9
    //   188: invokevirtual 239	android/widget/RelativeLayout$LayoutParams:addRule	(I)V
    //   191: aload_0
    //   192: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   195: invokevirtual 163	com/pollfish/a/b:C	()Lcom/pollfish/constants/Position;
    //   198: getstatic 230	com/pollfish/constants/Position:BOTTOM_LEFT	Lcom/pollfish/constants/Position;
    //   201: if_acmpeq +16 -> 217
    //   204: aload_0
    //   205: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   208: invokevirtual 163	com/pollfish/a/b:C	()Lcom/pollfish/constants/Position;
    //   211: getstatic 242	com/pollfish/constants/Position:BOTTOM_RIGHT	Lcom/pollfish/constants/Position;
    //   214: if_acmpne +135 -> 349
    //   217: aload 4
    //   219: bipush 12
    //   221: invokevirtual 239	android/widget/RelativeLayout$LayoutParams:addRule	(I)V
    //   224: aload 4
    //   226: iconst_0
    //   227: iload_1
    //   228: iconst_0
    //   229: aload_0
    //   230: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   233: invokevirtual 245	com/pollfish/a/b:D	()I
    //   236: i2f
    //   237: aload_0
    //   238: getfield 85	com/pollfish/d/a:a	Landroid/app/Activity;
    //   241: invokevirtual 216	android/app/Activity:getApplicationContext	()Landroid/content/Context;
    //   244: invokestatic 248	com/pollfish/f/c:a	(FLandroid/content/Context;)F
    //   247: f2i
    //   248: invokevirtual 252	android/widget/RelativeLayout$LayoutParams:setMargins	(IIII)V
    //   251: aload 5
    //   253: ifnull +39 -> 292
    //   256: aload_0
    //   257: getfield 81	com/pollfish/d/a:c	Landroid/widget/Button;
    //   260: ifnull +20 -> 280
    //   263: aload_0
    //   264: getfield 81	com/pollfish/d/a:c	Landroid/widget/Button;
    //   267: aload 5
    //   269: invokevirtual 256	android/widget/Button:setBackground	(Landroid/graphics/drawable/Drawable;)V
    //   272: aload_0
    //   273: getfield 81	com/pollfish/d/a:c	Landroid/widget/Button;
    //   276: iconst_4
    //   277: invokevirtual 153	android/widget/Button:setVisibility	(I)V
    //   280: aload_0
    //   281: getfield 81	com/pollfish/d/a:c	Landroid/widget/Button;
    //   284: ifnull +8 -> 292
    //   287: aload 4
    //   289: ifnonnull +407 -> 696
    //   292: return
    //   293: iconst_0
    //   294: istore_1
    //   295: goto +465 -> 760
    //   298: aload 4
    //   300: bipush 11
    //   302: invokevirtual 239	android/widget/RelativeLayout$LayoutParams:addRule	(I)V
    //   305: goto -114 -> 191
    //   308: astore 6
    //   310: ldc 66
    //   312: new 101	java/lang/StringBuilder
    //   315: dup
    //   316: invokespecial 103	java/lang/StringBuilder:<init>	()V
    //   319: ldc_w 258
    //   322: invokevirtual 109	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   325: aload 6
    //   327: invokevirtual 112	java/lang/StringBuilder:append	(Ljava/lang/Object;)Ljava/lang/StringBuilder;
    //   330: invokevirtual 116	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   333: invokestatic 260	com/pollfish/f/b:b	(Ljava/lang/String;Ljava/lang/String;)V
    //   336: aload 6
    //   338: invokestatic 265	com/pollfish/f/b/a:a	(Ljava/lang/Throwable;)V
    //   341: aload_0
    //   342: aconst_null
    //   343: putfield 81	com/pollfish/d/a:c	Landroid/widget/Button;
    //   346: goto -95 -> 251
    //   349: aload_0
    //   350: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   353: invokevirtual 163	com/pollfish/a/b:C	()Lcom/pollfish/constants/Position;
    //   356: getstatic 233	com/pollfish/constants/Position:TOP_LEFT	Lcom/pollfish/constants/Position;
    //   359: if_acmpeq +16 -> 375
    //   362: aload_0
    //   363: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   366: invokevirtual 163	com/pollfish/a/b:C	()Lcom/pollfish/constants/Position;
    //   369: getstatic 268	com/pollfish/constants/Position:TOP_RIGHT	Lcom/pollfish/constants/Position;
    //   372: if_acmpne +42 -> 414
    //   375: aload 4
    //   377: bipush 10
    //   379: invokevirtual 239	android/widget/RelativeLayout$LayoutParams:addRule	(I)V
    //   382: aload 4
    //   384: iconst_0
    //   385: iload_1
    //   386: aload_0
    //   387: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   390: invokevirtual 245	com/pollfish/a/b:D	()I
    //   393: i2f
    //   394: aload_0
    //   395: getfield 85	com/pollfish/d/a:a	Landroid/app/Activity;
    //   398: invokevirtual 216	android/app/Activity:getApplicationContext	()Landroid/content/Context;
    //   401: invokestatic 248	com/pollfish/f/c:a	(FLandroid/content/Context;)F
    //   404: f2i
    //   405: iadd
    //   406: iconst_0
    //   407: iconst_0
    //   408: invokevirtual 252	android/widget/RelativeLayout$LayoutParams:setMargins	(IIII)V
    //   411: goto -160 -> 251
    //   414: ldc 66
    //   416: new 101	java/lang/StringBuilder
    //   419: dup
    //   420: invokespecial 103	java/lang/StringBuilder:<init>	()V
    //   423: ldc_w 270
    //   426: invokevirtual 109	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   429: aload_0
    //   430: invokevirtual 273	com/pollfish/d/a:getHeight	()I
    //   433: invokevirtual 188	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   436: invokevirtual 116	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   439: invokestatic 73	com/pollfish/f/b:a	(Ljava/lang/String;Ljava/lang/String;)V
    //   442: ldc 66
    //   444: new 101	java/lang/StringBuilder
    //   447: dup
    //   448: invokespecial 103	java/lang/StringBuilder:<init>	()V
    //   451: ldc_w 275
    //   454: invokevirtual 109	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   457: aload 6
    //   459: iconst_1
    //   460: iaload
    //   461: invokevirtual 188	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   464: invokevirtual 116	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   467: invokestatic 73	com/pollfish/f/b:a	(Ljava/lang/String;Ljava/lang/String;)V
    //   470: ldc 66
    //   472: new 101	java/lang/StringBuilder
    //   475: dup
    //   476: invokespecial 103	java/lang/StringBuilder:<init>	()V
    //   479: ldc_w 277
    //   482: invokevirtual 109	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   485: aload_0
    //   486: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   489: invokevirtual 245	com/pollfish/a/b:D	()I
    //   492: i2f
    //   493: aload_0
    //   494: getfield 85	com/pollfish/d/a:a	Landroid/app/Activity;
    //   497: invokevirtual 216	android/app/Activity:getApplicationContext	()Landroid/content/Context;
    //   500: invokestatic 248	com/pollfish/f/c:a	(FLandroid/content/Context;)F
    //   503: f2i
    //   504: invokevirtual 188	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   507: invokevirtual 116	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   510: invokestatic 73	com/pollfish/f/b:a	(Ljava/lang/String;Ljava/lang/String;)V
    //   513: ldc 66
    //   515: new 101	java/lang/StringBuilder
    //   518: dup
    //   519: invokespecial 103	java/lang/StringBuilder:<init>	()V
    //   522: ldc_w 279
    //   525: invokevirtual 109	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   528: aload_0
    //   529: invokevirtual 273	com/pollfish/d/a:getHeight	()I
    //   532: iconst_2
    //   533: idiv
    //   534: aload 6
    //   536: iconst_1
    //   537: iaload
    //   538: iconst_2
    //   539: idiv
    //   540: isub
    //   541: aload_0
    //   542: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   545: invokevirtual 245	com/pollfish/a/b:D	()I
    //   548: i2f
    //   549: aload_0
    //   550: getfield 85	com/pollfish/d/a:a	Landroid/app/Activity;
    //   553: invokevirtual 216	android/app/Activity:getApplicationContext	()Landroid/content/Context;
    //   556: invokestatic 248	com/pollfish/f/c:a	(FLandroid/content/Context;)F
    //   559: f2i
    //   560: iadd
    //   561: invokevirtual 188	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   564: invokevirtual 116	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   567: invokestatic 73	com/pollfish/f/b:a	(Ljava/lang/String;Ljava/lang/String;)V
    //   570: aload 4
    //   572: bipush 10
    //   574: invokevirtual 239	android/widget/RelativeLayout$LayoutParams:addRule	(I)V
    //   577: aload 4
    //   579: iconst_0
    //   580: iload_1
    //   581: aload_0
    //   582: invokevirtual 273	com/pollfish/d/a:getHeight	()I
    //   585: iload_1
    //   586: isub
    //   587: iconst_2
    //   588: idiv
    //   589: iadd
    //   590: aload 6
    //   592: iconst_1
    //   593: iaload
    //   594: iconst_2
    //   595: idiv
    //   596: isub
    //   597: aload_0
    //   598: getfield 93	com/pollfish/d/a:f	Lcom/pollfish/a/b;
    //   601: invokevirtual 245	com/pollfish/a/b:D	()I
    //   604: i2f
    //   605: aload_0
    //   606: getfield 85	com/pollfish/d/a:a	Landroid/app/Activity;
    //   609: invokevirtual 216	android/app/Activity:getApplicationContext	()Landroid/content/Context;
    //   612: invokestatic 248	com/pollfish/f/c:a	(FLandroid/content/Context;)F
    //   615: f2i
    //   616: iadd
    //   617: iconst_0
    //   618: iconst_0
    //   619: invokevirtual 252	android/widget/RelativeLayout$LayoutParams:setMargins	(IIII)V
    //   622: goto -371 -> 251
    //   625: astore 6
    //   627: ldc 66
    //   629: new 101	java/lang/StringBuilder
    //   632: dup
    //   633: invokespecial 103	java/lang/StringBuilder:<init>	()V
    //   636: ldc_w 258
    //   639: invokevirtual 109	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   642: aload 6
    //   644: invokevirtual 112	java/lang/StringBuilder:append	(Ljava/lang/Object;)Ljava/lang/StringBuilder;
    //   647: invokevirtual 116	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   650: invokestatic 281	com/pollfish/f/b:c	(Ljava/lang/String;Ljava/lang/String;)V
    //   653: aload_0
    //   654: getfield 81	com/pollfish/d/a:c	Landroid/widget/Button;
    //   657: aload 5
    //   659: invokevirtual 284	android/widget/Button:setBackgroundDrawable	(Landroid/graphics/drawable/Drawable;)V
    //   662: goto -390 -> 272
    //   665: astore 5
    //   667: ldc 66
    //   669: new 101	java/lang/StringBuilder
    //   672: dup
    //   673: invokespecial 103	java/lang/StringBuilder:<init>	()V
    //   676: ldc_w 258
    //   679: invokevirtual 109	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   682: aload 5
    //   684: invokevirtual 112	java/lang/StringBuilder:append	(Ljava/lang/Object;)Ljava/lang/StringBuilder;
    //   687: invokevirtual 116	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   690: invokestatic 281	com/pollfish/f/b:c	(Ljava/lang/String;Ljava/lang/String;)V
    //   693: goto -421 -> 272
    //   696: aload_0
    //   697: getfield 81	com/pollfish/d/a:c	Landroid/widget/Button;
    //   700: invokevirtual 288	android/widget/Button:getParent	()Landroid/view/ViewParent;
    //   703: ifnonnull +22 -> 725
    //   706: aload_0
    //   707: aload_0
    //   708: getfield 81	com/pollfish/d/a:c	Landroid/widget/Button;
    //   711: aload 4
    //   713: invokevirtual 292	com/pollfish/d/a:addView	(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    //   716: aload_0
    //   717: getfield 81	com/pollfish/d/a:c	Landroid/widget/Button;
    //   720: iconst_4
    //   721: invokevirtual 153	android/widget/Button:setVisibility	(I)V
    //   724: return
    //   725: ldc 66
    //   727: ldc_w 294
    //   730: invokestatic 281	com/pollfish/f/b:c	(Ljava/lang/String;Ljava/lang/String;)V
    //   733: goto -17 -> 716
    //   736: astore 6
    //   738: aconst_null
    //   739: astore 5
    //   741: aconst_null
    //   742: astore 4
    //   744: goto -434 -> 310
    //   747: astore 6
    //   749: aconst_null
    //   750: astore 4
    //   752: goto -442 -> 310
    //   755: iload_3
    //   756: istore_1
    //   757: goto -676 -> 81
    //   760: iload_1
    //   761: ifeq -6 -> 755
    //   764: iload_2
    //   765: istore_1
    //   766: goto -685 -> 81
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	769	0	this	a
    //   1	765	1	m	int
    //   3	762	2	n	int
    //   33	723	3	i1	int
    //   143	608	4	localLayoutParams	RelativeLayout.LayoutParams
    //   106	552	5	localDrawable	android.graphics.drawable.Drawable
    //   665	18	5	localException1	Exception
    //   739	1	5	localObject	Object
    //   84	43	6	arrayOfInt	int[]
    //   308	283	6	localException2	Exception
    //   625	18	6	localNoSuchMethodError	NoSuchMethodError
    //   736	1	6	localException3	Exception
    //   747	1	6	localException4	Exception
    // Exception table:
    //   from	to	target	type
    //   145	184	308	java/lang/Exception
    //   184	191	308	java/lang/Exception
    //   191	217	308	java/lang/Exception
    //   217	251	308	java/lang/Exception
    //   298	305	308	java/lang/Exception
    //   349	375	308	java/lang/Exception
    //   375	411	308	java/lang/Exception
    //   414	622	308	java/lang/Exception
    //   263	272	625	java/lang/NoSuchMethodError
    //   263	272	665	java/lang/Exception
    //   26	78	736	java/lang/Exception
    //   81	108	736	java/lang/Exception
    //   108	145	747	java/lang/Exception
  }
  
  public void a()
  {
    com.pollfish.f.b.a("OverlayLayout", "addPollfishIndicatorAndPanel()");
    if (this.f != null) {
      try
      {
        if (this.e == null)
        {
          e();
          return;
        }
        com.pollfish.f.b.a("OverlayLayout", "addPollfishIndicatorAndPanel(): pollFishPanel not null - do not create");
        return;
      }
      catch (Exception localException)
      {
        this.e = null;
        com.pollfish.f.b.b("OverlayLayout", "failed to create pollfish Panel");
        com.pollfish.f.b.a.a(localException);
      }
    }
  }
  
  public void a(com.pollfish.a.a paramA)
  {
    int m = 0;
    com.pollfish.f.b.a("OverlayLayout", "proceedPanel()");
    if ((this.f != null) && (paramA != null))
    {
      this.b = paramA;
      if (!this.f.B())
      {
        if (this.c != null) {
          break label355;
        }
        k();
      }
    }
    for (;;)
    {
      int n;
      boolean bool;
      try
      {
        if (this.e == null) {
          break label421;
        }
        Point localPoint = this.f.u();
        n = com.pollfish.f.a.b.a(this.a);
        com.pollfish.f.b.a("OverlayLayout", "statusBarHeight:" + n);
        int i1 = paramA.h() * localPoint.x / 100;
        if ((this.a.getWindow().getAttributes().flags & 0x400) != 0)
        {
          bool = true;
          break label435;
          com.pollfish.f.b.a("OverlayLayout", "app is on fullScreen (status bar visible): " + bool);
          n = paramA.i() * (localPoint.y - m) / 100;
          com.pollfish.f.b.a("OverlayLayout", "getWidth(): " + getWidth() + "OverlayLayout getHeight(): " + getHeight());
          com.pollfish.f.b.a("OverlayLayout", "Pollfish Panel panelWidth: " + i1 + " panelHeight: " + n);
          paramA = new RelativeLayout.LayoutParams(i1, n);
          if ((this.f.C() == Position.TOP_RIGHT) || (this.f.C() == Position.BOTTOM_RIGHT) || (this.f.C() == Position.MIDDLE_RIGHT))
          {
            paramA.addRule(11);
            if (getHeight() - m - n <= 0) {
              break label412;
            }
            paramA.topMargin = (m + (getHeight() - m) / 2 - n / 2);
            addView(this.e, paramA);
            f();
            return;
            label355:
            com.pollfish.f.b.a("OverlayLayout", "addPollfishIndicatorAndPanel(): indicator not null - do not create");
          }
        }
        else
        {
          bool = false;
          break label435;
        }
        paramA.addRule(9);
        continue;
        paramA.addRule(12);
      }
      catch (Exception paramA)
      {
        com.pollfish.f.b.a.a(paramA);
        com.pollfish.f.b.b("OverlayLayout", "error: " + paramA);
        return;
      }
      label412:
      continue;
      label421:
      com.pollfish.f.b.a("OverlayLayout", "pollFishPanel == null");
      return;
      label435:
      do
      {
        m = n;
        break;
      } while (!bool);
    }
  }
  
  public void a(boolean paramBoolean)
  {
    com.pollfish.f.b.a("OverlayLayout", "hidePanelAndIndicator()");
    try
    {
      a(false, paramBoolean);
      c(false);
      this.g = com.pollfish.constants.a.a;
      return;
    }
    catch (Exception localException)
    {
      com.pollfish.f.b.b("OverlayLayout", "error while trying to hide panel and indicator");
      com.pollfish.f.b.a.a(localException);
    }
  }
  
  public void a(boolean paramBoolean1, boolean paramBoolean2)
  {
    com.pollfish.f.b.a("OverlayLayout", "hidePanel()");
    if ((this.b != null) && (this.f != null) && (paramBoolean2)) {
      new d(this.f, "https://wss.pollfish.com/v2/device/set/survey/hidden", null, this.j, this.a, false, null, this.b).c(new Void[0]);
    }
    setFocusableInTouchMode(false);
    if ((this.e == null) || (this.g != com.pollfish.constants.a.c)) {}
    label275:
    label306:
    for (;;)
    {
      return;
      if (this.d != null) {
        this.d.setOnClickListener(null);
      }
      if (this.e != null)
      {
        this.g = com.pollfish.constants.a.a;
        com.pollfish.f.b.a("OverlayLayout", "pollfishViewStatus: " + this.g);
        if (this.f.B())
        {
          c(false);
          if ((this.a instanceof PollfishClosedListener)) {
            ((PollfishClosedListener)this.a).onPollfishClosed();
          }
          if (paramBoolean1) {
            break label275;
          }
          if (this.e.getVisibility() == 0) {
            this.e.setVisibility(4);
          }
        }
        for (;;)
        {
          if (this.d.getVisibility() != 0) {
            break label306;
          }
          this.d.setVisibility(4);
          return;
          if (this.b == null) {
            break;
          }
          com.pollfish.f.b.a("OverlayLayout", "panelObj.isPollfishCompleted(): " + this.b.f());
          if (this.b.f()) {
            break;
          }
          b();
          break;
          if (this.e.getVisibility() == 0) {
            com.pollfish.f.a.b.a(this.e, this.f.C(), false, 1000, null, 0);
          }
        }
      }
    }
  }
  
  public void b()
  {
    com.pollfish.f.b.a("OverlayLayout", "showIndicator()");
    if (this.b == null) {}
    do
    {
      do
      {
        return;
      } while (this.b.f());
      if (this.f.B()) {
        c();
      }
    } while ((this.c == null) || ((this.e != null) && (this.g == com.pollfish.constants.a.c) && (this.g != com.pollfish.constants.a.b)) || (h));
    try
    {
      com.pollfish.f.a.b.a(this.c, this.f.C(), true, 1000, new a(null), 0);
      this.g = com.pollfish.constants.a.b;
      com.pollfish.f.b.a("OverlayLayout", "pollfishViewStatus: " + this.g);
      return;
    }
    catch (Exception localException)
    {
      com.pollfish.f.b.a.a(localException);
      com.pollfish.f.b.b("OverlayLayout", "animateView e: " + localException);
    }
  }
  
  public void b(boolean paramBoolean)
  {
    h = paramBoolean;
  }
  
  public void c()
  {
    com.pollfish.f.b.a("OverlayLayout", "showPanel()");
    if ((this.b != null) && (this.f != null)) {
      new d(this.f, "https://wss.pollfish.com/v2/device/set/survey/viewed", null, this.j, this.a, false, null, this.b).c(new Void[0]);
    }
    if (!this.f.B())
    {
      c(true);
      if ((this.e == null) || (this.g != com.pollfish.constants.a.c)) {
        break label100;
      }
    }
    for (;;)
    {
      return;
      c(false);
      break;
      label100:
      this.g = com.pollfish.constants.a.c;
      com.pollfish.f.b.a("OverlayLayout", "pollfishViewStatus: " + this.g);
      if ((this.b == null) || (this.b.f())) {
        continue;
      }
      if ((this.a instanceof PollfishOpenedListener)) {
        ((PollfishOpenedListener)this.a).onPollfishOpened();
      }
      RelativeLayout.LayoutParams localLayoutParams;
      if (this.d == null)
      {
        localLayoutParams = new RelativeLayout.LayoutParams(-1, -1);
        this.d = new Button(this.a);
      }
      try
      {
        this.d.setBackgroundColor(Color.parseColor(this.b.k()));
        com.pollfish.f.b.a("OverlayLayout", "semiTrasparentView.setBackgroundColor: " + this.b.k());
        localLayoutParams.addRule(3, this.e.getId());
        addView(this.d, localLayoutParams);
        this.d.setOnClickListener(new View.OnClickListener()
        {
          public void onClick(View paramAnonymousView)
          {
            try
            {
              a.this.a(true, true);
              return;
            }
            catch (Exception paramAnonymousView)
            {
              com.pollfish.f.b.a("OverlayLayout", "Error while clicking on trasparent view with error:" + paramAnonymousView);
              com.pollfish.f.b.a.a(paramAnonymousView);
            }
          }
        });
        if (h) {
          continue;
        }
        setFocusableInTouchMode(true);
        requestFocus();
      }
      catch (IllegalArgumentException localIllegalArgumentException)
      {
        try
        {
          com.pollfish.f.a.b.a(this.e, this.f.C(), true, 1000, null, 0);
          com.pollfish.f.b.a("OverlayLayout", "pollFishPanel.getVisibility()" + this.e.getVisibility());
          if ((this.d != null) && (this.d.getVisibility() == 4)) {
            this.d.setVisibility(0);
          }
          this.e.bringToFront();
          return;
          localIllegalArgumentException = localIllegalArgumentException;
          com.pollfish.f.b.a.a(localIllegalArgumentException);
          com.pollfish.f.b.b("OverlayLayout", "semiTrasparentView.setBackgroundColor e: " + localIllegalArgumentException);
          this.d.setBackgroundColor(Color.parseColor("#55000000"));
        }
        catch (Exception localException)
        {
          for (;;)
          {
            com.pollfish.f.b.a.a(localException);
            com.pollfish.f.b.b("OverlayLayout", "animateView e: " + localException);
            if (this.e != null) {
              this.e.setVisibility(0);
            }
            if (this.d != null) {
              this.d.setVisibility(0);
            }
          }
        }
      }
    }
  }
  
  public void d()
  {
    com.pollfish.f.b.a("OverlayLayout", "showPollfishOnStartup()");
    if (this.b != null)
    {
      if (this.f.B()) {
        com.pollfish.f.b.a("OverlayLayout", "showPollfishOnStartup(): show Panel call in custom mode");
      }
      do
      {
        try
        {
          if ((this.g != com.pollfish.constants.a.c) && (this.g != com.pollfish.constants.a.b)) {
            c();
          }
          return;
        }
        catch (Exception localException1)
        {
          com.pollfish.f.b.b("OverlayLayout", "showPollfishOnStartup() error: " + localException1);
          com.pollfish.f.b.a.a(localException1);
          return;
        }
        try
        {
          com.pollfish.f.b.a("OverlayLayout", "showPollfishOnStartup(): show on server mode");
          if ((this.b.e() == 0) && (this.g != com.pollfish.constants.a.b) && (this.g != com.pollfish.constants.a.c))
          {
            b();
            return;
          }
        }
        catch (Exception localException2)
        {
          com.pollfish.f.b.b("OverlayLayout", "showPollfishOnStartup error: " + localException2);
          com.pollfish.f.b.a.a(localException2);
          return;
        }
      } while ((this.g == com.pollfish.constants.a.c) || (this.g == com.pollfish.constants.a.b));
      c();
      return;
    }
    com.pollfish.f.b.a("OverlayLayout", "panelObj == null");
  }
  
  public void e()
  {
    com.pollfish.f.b.a("OverlayLayout", "createPollfishPanel()");
    this.e = new com.pollfish.g.a(this.a, new com.pollfish.interfaces.b()
    {
      public void a()
      {
        com.pollfish.f.b.a("OverlayLayout", "webViewLoaded()");
        a.b(a.this, true);
        try
        {
          if (!a.j())
          {
            localObject = new Runnable()
            {
              public void run()
              {
                a.this.d();
              }
            };
            com.pollfish.f.c.a(a.d(a.this), (Runnable)localObject, 0);
            return;
          }
          Object localObject = new Runnable()
          {
            public void run()
            {
              a.this.a(true);
            }
          };
          com.pollfish.f.c.a(a.d(a.this), (Runnable)localObject, 0);
          return;
        }
        catch (Exception localException)
        {
          com.pollfish.f.b.a("OverlayLayout", "webViewLoaded() error: " + localException);
          com.pollfish.f.b.a.a(localException);
        }
      }
      
      public void a(String paramAnonymousString)
      {
        com.pollfish.f.b.a("OverlayLayout", "openWebsite(" + paramAnonymousString + ")");
        String str = paramAnonymousString;
        if (!paramAnonymousString.startsWith("http://"))
        {
          str = paramAnonymousString;
          if (!paramAnonymousString.startsWith("https://")) {
            str = "http://" + paramAnonymousString;
          }
        }
        try
        {
          paramAnonymousString = new Intent("android.intent.action.VIEW", Uri.parse(str));
          a.d(a.this).startActivity(paramAnonymousString);
          return;
        }
        catch (Exception paramAnonymousString)
        {
          com.pollfish.f.b.b("OverlayLayout", "openWebsite error: " + paramAnonymousString);
          com.pollfish.f.b.a.a(paramAnonymousString);
        }
      }
      
      public void a(String paramAnonymousString1, String paramAnonymousString2, boolean paramAnonymousBoolean)
      {
        com.pollfish.f.b.a("OverlayLayout", "sentToServer with url:  " + "https://wss.pollfish.com" + paramAnonymousString1 + " and save at queue: " + paramAnonymousBoolean);
        com.pollfish.f.b.a("OverlayLayout", "jsonParams:  " + paramAnonymousString2);
        try
        {
          paramAnonymousString2 = new JSONObject(paramAnonymousString2);
          new d(a.c(a.this), "https://wss.pollfish.com" + paramAnonymousString1, paramAnonymousString2, a.f(a.this), a.d(a.this), paramAnonymousBoolean, null, null).c(new Void[0]);
          return;
        }
        catch (Exception paramAnonymousString1)
        {
          com.pollfish.f.b.b("OverlayLayout", "error while parsing sentToServer from javascript : " + paramAnonymousString1);
          com.pollfish.f.b.a.a(paramAnonymousString1);
        }
      }
      
      public void b()
      {
        com.pollfish.f.b.a("OverlayLayout", "closePanel()");
        Runnable local3 = new Runnable()
        {
          public void run()
          {
            try
            {
              a.this.a(true, true);
              return;
            }
            catch (Exception localException)
            {
              com.pollfish.f.b.b("OverlayLayout", "closePanel() error: " + localException);
              com.pollfish.f.b.a.a(localException);
            }
          }
        };
        com.pollfish.f.c.a(a.d(a.this), local3, 0);
      }
      
      public void c()
      {
        com.pollfish.f.b.a("OverlayLayout", "ClearQueueTask()");
        new com.pollfish.c.c(a.d(a.this)).execute(new Void[0]);
      }
      
      public String d()
      {
        com.pollfish.f.b.a("OverlayLayout", "getFromServer()");
        if (a.e(a.this) != null) {
          return a.e(a.this).j();
        }
        return "";
      }
      
      public void e()
      {
        com.pollfish.f.b.a("OverlayLayout", "setSurveyCompleted()");
        try
        {
          if ((a.d(a.this) instanceof PollfishSurveyCompletedListener)) {
            ((PollfishSurveyCompletedListener)a.d(a.this)).onPollfishSurveyCompleted();
          }
          a.e(a.this).a(true);
          return;
        }
        catch (Exception localException)
        {
          com.pollfish.f.b.b("OverlayLayout", "Error while setting findih project e: " + localException);
          com.pollfish.f.b.a.a(localException);
        }
      }
      
      public String f()
      {
        com.pollfish.f.b.a("OverlayLayout", "getDeviceInfo()");
        if (a.c(a.this) != null)
        {
          int i = 0;
          if ((a.c(a.this).C() == Position.TOP_RIGHT) || (a.c(a.this).C() == Position.BOTTOM_RIGHT) || (a.c(a.this).C() == Position.MIDDLE_RIGHT)) {
            i = 1;
          }
          return "{\"version\": \"" + a.c(a.this).h() + "\", \"language\": \"" + a.c(a.this).i() + "\", \"host\": \"" + "https://wss.pollfish.com" + "\", \"position\" : \"" + i + "\"}";
        }
        return "";
      }
      
      public void g()
      {
        com.pollfish.f.b.a("OverlayLayout", "closeAndNoShow()");
        try
        {
          a.e(a.this).a(true);
          Runnable local4 = new Runnable()
          {
            public void run()
            {
              try
              {
                a.this.a(true, false);
                return;
              }
              catch (Exception localException)
              {
                com.pollfish.f.b.b("OverlayLayout", "closePanel() error: " + localException);
                com.pollfish.f.b.a.a(localException);
              }
            }
          };
          com.pollfish.f.c.a(a.d(a.this), local4, 0);
          return;
        }
        catch (Exception localException)
        {
          for (;;)
          {
            com.pollfish.f.b.b("OverlayLayout", "Error while no thanks e: " + localException);
            com.pollfish.f.b.a.a(localException);
          }
        }
      }
    });
    this.e.setVisibility(4);
  }
  
  public void f()
  {
    post(new Runnable()
    {
      public void run()
      {
        try
        {
          com.pollfish.f.b.a("OverlayLayout", "check if files/assets exist!!");
          if (a.this.g() == null)
          {
            com.pollfish.f.b.a("OverlayLayout", "check if files/assets exist- create timer!!");
            final Timer localTimer = new Timer();
            localTimer.schedule(new TimerTask()
            {
              public void run()
              {
                a.g(a.this);
                com.pollfish.f.b.a("OverlayLayout", "timer: wait a liitlecheck if files/assets exist!! numTimes: " + a.h(a.this));
                try
                {
                  if ((a.this.g() != null) || (a.h(a.this) > 100))
                  {
                    localTimer.cancel();
                    a.a(a.this, 0);
                  }
                  return;
                }
                catch (Exception localException)
                {
                  com.pollfish.f.b.b("OverlayLayout", "timer: e: " + localException);
                  com.pollfish.f.b.a.a(localException);
                  localTimer.cancel();
                  a.a(a.this, 0);
                }
              }
            }, 0, 'Ç´');
          }
          return;
        }
        catch (Exception localException)
        {
          com.pollfish.f.b.b("OverlayLayout", "exception while writing webviewcontent in cache:" + localException);
          com.pollfish.f.b.a.a(localException);
        }
      }
    });
  }
  
  public HashMap g()
  {
    com.pollfish.f.b.a("OverlayLayout", "checkTasksAndContinueLoadPanel");
    final HashMap localHashMap = this.k.b();
    if (localHashMap != null)
    {
      com.pollfish.f.b.a("OverlayLayout", " all tasks set ");
      if (localHashMap.size() == 0)
      {
        com.pollfish.f.b.a("OverlayLayout", "check if files/assets exist-> proceed!!");
        try
        {
          com.pollfish.f.b.a("OverlayLayout", "call pollFishPanel.loadContent()");
          Runnable local5 = new Runnable()
          {
            public void run()
            {
              if ((a.b(a.this) != null) && (a.e(a.this) != null)) {}
              try
              {
                a.b(a.this).a(a.e(a.this).d());
                return;
              }
              catch (Exception localException)
              {
                com.pollfish.f.b.a.a(localException);
                com.pollfish.f.b.b("OverlayLayout", "e: " + localException);
              }
            }
          };
          com.pollfish.f.c.a(this.a, local5, 0);
          return localHashMap;
        }
        catch (Exception localException)
        {
          com.pollfish.f.b.a("OverlayLayout", "checkTasksAndContinueLoadPanel() error: " + localException);
          com.pollfish.f.b.a.a(localException);
          return localHashMap;
        }
      }
      com.pollfish.f.b.a("OverlayLayout", "check if files/assets exist - You have to replace strings before showing webview!");
      if (!h)
      {
        Runnable local6 = new Runnable()
        {
          public void run()
          {
            if ((a.b(a.this) != null) && (a.e(a.this) != null)) {}
            try
            {
              if ((a.b(a.this) != null) && (a.e(a.this) != null)) {
                a.b(a.this).a(localHashMap, a.e(a.this).d());
              }
              return;
            }
            catch (Exception localException)
            {
              com.pollfish.f.b.a.a(localException);
              com.pollfish.f.b.b("OverlayLayout", "e: " + localException);
            }
          }
        };
        com.pollfish.f.c.a(this.a, local6, 0);
        return localHashMap;
      }
      a(true);
      return localHashMap;
    }
    com.pollfish.f.b.a("OverlayLayout", "not all tasks set so far, check in a while!");
    return localHashMap;
  }
  
  public void h()
  {
    com.pollfish.f.b.a("OverlayLayout", "hidePollfishManually() - manualy by the user");
    try
    {
      com.pollfish.f.b.a("OverlayLayout", "before hide pollfishViewStatus: " + this.g);
      com.pollfish.f.a.a = true;
      b(true);
      a(true);
      com.pollfish.f.b.a("OverlayLayout", "after hide pollfishViewStatus: " + this.g);
      return;
    }
    catch (Exception localException)
    {
      com.pollfish.f.b.b("OverlayLayout", "Exception while hidePollfish(): " + localException);
      com.pollfish.f.b.a.a(localException);
    }
  }
  
  public void i()
  {
    com.pollfish.f.b.a("OverlayLayout", "showPollfishManually() - manualy by the user");
    com.pollfish.f.a.a = false;
    b(false);
    if (this.i) {}
    try
    {
      com.pollfish.f.b.a("OverlayLayout", "before show pollfishViewStatus: " + this.g);
      d();
      com.pollfish.f.b.a("OverlayLayout", "after show pollfishViewStatus: " + this.g);
      return;
    }
    catch (Exception localException)
    {
      com.pollfish.f.b.b("OverlayLayout", "Exception while showPollfish(): " + localException);
      com.pollfish.f.b.a.a(localException);
    }
  }
  
  public boolean onKeyDown(int paramInt, KeyEvent paramKeyEvent)
  {
    com.pollfish.f.b.a("OverlayLayout", "onKeyDown: " + paramInt + " pollfishViewStatus: " + this.g);
    if ((paramInt == 4) && (this.e != null) && (this.g == com.pollfish.constants.a.c)) {
      try
      {
        setFocusableInTouchMode(true);
        requestFocus();
        a(true, true);
        return true;
      }
      catch (Exception paramKeyEvent)
      {
        com.pollfish.f.b.b("OverlayLayout", "onKeyDown: " + paramKeyEvent);
        com.pollfish.f.b.a.a(paramKeyEvent);
      }
    }
    return false;
  }
  
  private class a
    implements View.OnClickListener
  {
    private a() {}
    
    public void onClick(View paramView)
    {
      try
      {
        if (a.a(a.this).getVisibility() == 0)
        {
          if ((a.b(a.this) != null) && (!a.j())) {
            a.this.c();
          }
          if (!a.c(a.this).B())
          {
            a.a(a.this, true);
            return;
          }
          a.a(a.this, false);
          return;
        }
      }
      catch (Exception paramView)
      {
        com.pollfish.f.b.a.a(paramView);
      }
    }
  }
}
