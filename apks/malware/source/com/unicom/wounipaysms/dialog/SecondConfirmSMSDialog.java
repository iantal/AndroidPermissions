package com.unicom.wounipaysms.dialog;

import android.app.Dialog;
import android.content.Context;
import android.content.res.Resources;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.drawable.ColorDrawable;
import android.graphics.drawable.Drawable;
import android.text.Html;
import android.util.DisplayMetrics;
import android.view.KeyEvent;
import android.view.View;
import android.view.ViewGroup.LayoutParams;
import android.view.Window;
import android.view.WindowManager.LayoutParams;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.LinearLayout.LayoutParams;
import android.widget.TextView;
import com.unicom.wounipaysms.bean.UpLinkSMSMBean;
import com.unicom.wounipaysms.tools.PhoneInfoTools;

public class SecondConfirmSMSDialog
  extends Dialog
{
  private UpLinkSMSMBean bean;
  private Context mContext;
  private SecondConfirmSMSDialog.SecondConfirmListener secondConfirmListener;
  
  public SecondConfirmSMSDialog(Context paramContext, UpLinkSMSMBean paramUpLinkSMSMBean)
  {
    super(paramContext);
    this.mContext = paramContext;
    this.bean = paramUpLinkSMSMBean;
    init();
  }
  
  private void init()
  {
    requestWindowFeature(1);
    Object localObject1 = this.mContext.getResources().getDisplayMetrics();
    Object localObject4 = getWindow().getAttributes();
    if (((DisplayMetrics)localObject1).widthPixels > ((DisplayMetrics)localObject1).heightPixels) {}
    for (((WindowManager.LayoutParams)localObject4).width = ((int)(((DisplayMetrics)localObject1).heightPixels * 0.8F));; ((WindowManager.LayoutParams)localObject4).width = ((int)(((DisplayMetrics)localObject1).widthPixels * 0.8F)))
    {
      ((WindowManager.LayoutParams)localObject4).height = ((int)(((WindowManager.LayoutParams)localObject4).width * 0.95F));
      ((WindowManager.LayoutParams)localObject4).gravity = 17;
      getWindow().setAttributes((WindowManager.LayoutParams)localObject4);
      getWindow().setBackgroundDrawable(new ColorDrawable(16777215));
      setCanceledOnTouchOutside(false);
      localObject1 = new LinearLayout.LayoutParams(((WindowManager.LayoutParams)localObject4).width, -2);
      LinearLayout localLinearLayout1 = new LinearLayout(this.mContext);
      localLinearLayout1.setLayoutParams((ViewGroup.LayoutParams)localObject1);
      localLinearLayout1.setGravity(1);
      localLinearLayout1.setOrientation(1);
      localLinearLayout1.setBackgroundDrawable(PhoneInfoTools.getNinePatchDrawable(getBitmapByResourceName("images/main_bg.9.png")));
      Object localObject2 = new LinearLayout.LayoutParams(((WindowManager.LayoutParams)localObject4).width, 2);
      LinearLayout localLinearLayout2 = new LinearLayout(this.mContext);
      localLinearLayout2.setLayoutParams((ViewGroup.LayoutParams)localObject2);
      localLinearLayout2.setBackgroundColor(-2236963);
      Object localObject3 = new LinearLayout.LayoutParams((int)(((WindowManager.LayoutParams)localObject4).width * 0.93D), 1);
      localObject2 = new LinearLayout(this.mContext);
      ((LinearLayout)localObject2).setLayoutParams((ViewGroup.LayoutParams)localObject3);
      ((LinearLayout)localObject2).setPadding(10, 0, 10, 0);
      ((LinearLayout)localObject2).setBackgroundColor(-2236963);
      LinearLayout localLinearLayout3 = new LinearLayout(this.mContext);
      localLinearLayout3.setLayoutParams((ViewGroup.LayoutParams)localObject3);
      localLinearLayout3.setPadding(10, 0, 10, 0);
      localLinearLayout3.setBackgroundColor(-2236963);
      Object localObject6 = new LinearLayout.LayoutParams(((WindowManager.LayoutParams)localObject4).width, (int)(((WindowManager.LayoutParams)localObject4).height * 6 / 35.0F));
      localObject3 = new LinearLayout(this.mContext);
      ((LinearLayout)localObject3).setLayoutParams((ViewGroup.LayoutParams)localObject6);
      ((LinearLayout)localObject3).setGravity(16);
      ((LinearLayout)localObject3).setOrientation(0);
      Object localObject5 = new ImageView(this.mContext);
      ((ImageView)localObject5).setBackgroundDrawable(PhoneInfoTools.getDrawable(getBitmapByResourceName("images/unicom.png")));
      Object localObject7 = new LinearLayout.LayoutParams((int)(((LinearLayout.LayoutParams)localObject6).width * 0.15D), (int)(((LinearLayout.LayoutParams)localObject6).width * 0.1D));
      ((LinearLayout.LayoutParams)localObject7).leftMargin = ((int)(((LinearLayout.LayoutParams)localObject6).width * 0.02D));
      ((ImageView)localObject5).setLayoutParams((ViewGroup.LayoutParams)localObject7);
      ((LinearLayout)localObject3).addView((View)localObject5);
      localObject5 = new ImageView(this.mContext);
      ((ImageView)localObject5).setBackgroundDrawable(PhoneInfoTools.getDrawable(getBitmapByResourceName("images/woreader.png")));
      localObject7 = new LinearLayout.LayoutParams((int)(((LinearLayout.LayoutParams)localObject6).width * 0.1D), (int)(((LinearLayout.LayoutParams)localObject6).width * 0.1D));
      ((LinearLayout.LayoutParams)localObject7).leftMargin = ((int)(((LinearLayout.LayoutParams)localObject6).width * 0.01D));
      ((ImageView)localObject5).setLayoutParams((ViewGroup.LayoutParams)localObject7);
      ((LinearLayout)localObject3).addView((View)localObject5);
      localObject5 = new TextView(this.mContext);
      localObject7 = new LinearLayout.LayoutParams((int)(((LinearLayout.LayoutParams)localObject6).width * 0.52D), -2);
      ((LinearLayout.LayoutParams)localObject7).leftMargin = ((int)(((LinearLayout.LayoutParams)localObject6).width * 0.05D));
      ((TextView)localObject5).setLayoutParams((ViewGroup.LayoutParams)localObject7);
      ((TextView)localObject5).setText("沃阅读统一支付");
      ((TextView)localObject5).setTextSize(2, 15.0F);
      ((LinearLayout)localObject3).addView((View)localObject5);
      localObject5 = new Button(this.mContext);
      ((Button)localObject5).setBackgroundDrawable(PhoneInfoTools.getDrawable(getBitmapByResourceName("images/cancel.png")));
      ((Button)localObject5).setLayoutParams(new LinearLayout.LayoutParams((int)(((LinearLayout.LayoutParams)localObject6).width * 0.1D), (int)(((LinearLayout.LayoutParams)localObject6).width * 0.1D)));
      ((LinearLayout)localObject3).addView((View)localObject5);
      localObject7 = new LinearLayout.LayoutParams(((WindowManager.LayoutParams)localObject4).width, (int)(((WindowManager.LayoutParams)localObject4).height * 14 / 35.0F));
      localObject6 = new LinearLayout(this.mContext);
      ((LinearLayout)localObject6).setPadding((int)(((WindowManager.LayoutParams)localObject4).width * 0.05D), 0, (int)(((WindowManager.LayoutParams)localObject4).width * 0.05D), 0);
      ((LinearLayout)localObject6).setLayoutParams((ViewGroup.LayoutParams)localObject7);
      ((LinearLayout)localObject6).setGravity(16);
      ((LinearLayout)localObject6).setOrientation(1);
      Object localObject8 = new TextView(this.mContext);
      ((TextView)localObject8).setText("您将购买：" + this.bean.getTradeName());
      Object localObject9 = new LinearLayout.LayoutParams(((LinearLayout.LayoutParams)localObject7).width, (int)(((LinearLayout.LayoutParams)localObject7).height * 0.31D));
      ((TextView)localObject8).setTextSize(2, 15.0F);
      ((TextView)localObject8).setGravity(16);
      ((TextView)localObject8).setLayoutParams((ViewGroup.LayoutParams)localObject9);
      ((TextView)localObject8).setTextColor(-16777216);
      ((LinearLayout)localObject6).addView((View)localObject8);
      localObject8 = new LinearLayout(this.mContext);
      ((LinearLayout)localObject8).setLayoutParams((ViewGroup.LayoutParams)localObject9);
      ((LinearLayout)localObject8).setGravity(16);
      ((LinearLayout)localObject8).setOrientation(0);
      TextView localTextView = new TextView(this.mContext);
      localTextView.setText(Html.fromHtml("<font color=#ff000000>支付话费：</font><font color=#ff0000>" + this.bean.getPrice() + "</font></font>"));
      localTextView.setTextSize(2, 15.0F);
      localObject9 = new LinearLayout.LayoutParams(-2, -2);
      localTextView.setLayoutParams((ViewGroup.LayoutParams)localObject9);
      ((LinearLayout)localObject8).addView(localTextView);
      localTextView = new TextView(this.mContext);
      localTextView.setText("（不含短信费）");
      localTextView.setTextColor(-6710887);
      localTextView.setTextSize(2, 12.0F);
      localTextView.setLayoutParams((ViewGroup.LayoutParams)localObject9);
      ((LinearLayout)localObject8).addView(localTextView);
      ((LinearLayout)localObject6).addView((View)localObject8);
      localObject9 = new LinearLayout.LayoutParams(((LinearLayout.LayoutParams)localObject7).width, (int)(((LinearLayout.LayoutParams)localObject7).height * 0.4D));
      localObject8 = new LinearLayout(this.mContext);
      ((LinearLayout)localObject8).setGravity(16);
      ((LinearLayout)localObject8).setOrientation(0);
      ((LinearLayout)localObject8).setLayoutParams((ViewGroup.LayoutParams)localObject9);
      localObject7 = new LinearLayout.LayoutParams(-2, (int)(((LinearLayout.LayoutParams)localObject7).height * 0.25D));
      localObject9 = new TextView(this.mContext);
      ((TextView)localObject9).setText("验 证 码：");
      ((TextView)localObject9).setGravity(16);
      ((TextView)localObject9).setTextColor(-16777216);
      ((TextView)localObject9).setTextSize(2, 15.0F);
      ((TextView)localObject9).setLayoutParams((ViewGroup.LayoutParams)localObject7);
      ((LinearLayout)localObject8).addView((View)localObject9);
      localObject9 = new EditText(this.mContext);
      ((EditText)localObject9).setText(this.bean.getVerifyCode());
      ((EditText)localObject9).setGravity(16);
      ((EditText)localObject9).setTextSize(2, 15.0F);
      ((EditText)localObject9).setLayoutParams((ViewGroup.LayoutParams)localObject7);
      ((EditText)localObject9).setBackgroundDrawable(PhoneInfoTools.getNinePatchDrawable(getBitmapByResourceName("images/verify_et.9.png")));
      ((EditText)localObject9).setPadding(15, 0, 15, 0);
      ((EditText)localObject9).setEnabled(false);
      ((LinearLayout)localObject8).addView((View)localObject9);
      ((LinearLayout)localObject6).addView((View)localObject8);
      localObject8 = new LinearLayout.LayoutParams(((WindowManager.LayoutParams)localObject4).width, (int)(((WindowManager.LayoutParams)localObject4).height * 6 / 35.0F));
      localObject7 = new LinearLayout(this.mContext);
      ((LinearLayout)localObject7).setLayoutParams((ViewGroup.LayoutParams)localObject8);
      ((LinearLayout)localObject7).setGravity(16);
      ((LinearLayout)localObject7).setOrientation(0);
      localObject8 = new LinearLayout.LayoutParams(-2, -2);
      localObject9 = new TextView(this.mContext);
      ((TextView)localObject9).setPadding((int)(((WindowManager.LayoutParams)localObject4).width * 0.05D), 0, (int)(((WindowManager.LayoutParams)localObject4).width * 0.01D), 0);
      ((TextView)localObject9).setLayoutParams((ViewGroup.LayoutParams)localObject8);
      ((TextView)localObject9).setTextSize(2, 15.0F);
      ((TextView)localObject9).setText("客服电话：");
      ((TextView)localObject9).setTextColor(-16777216);
      ((LinearLayout)localObject7).addView((View)localObject9);
      localObject9 = new TextView(this.mContext);
      ((TextView)localObject9).setLayoutParams((ViewGroup.LayoutParams)localObject8);
      ((TextView)localObject9).setTextSize(2, 18.0F);
      ((TextView)localObject9).setText(this.bean.getServicePhone());
      ((LinearLayout)localObject7).addView((View)localObject9);
      localObject8 = new LinearLayout.LayoutParams(((WindowManager.LayoutParams)localObject4).width, (int)(((WindowManager.LayoutParams)localObject4).height * 9 / 35.0F));
      localObject4 = new LinearLayout(this.mContext);
      ((LinearLayout)localObject4).setLayoutParams((ViewGroup.LayoutParams)localObject8);
      ((LinearLayout)localObject4).setGravity(17);
      localObject8 = new LinearLayout.LayoutParams((int)(((LinearLayout.LayoutParams)localObject8).width * 0.8D), (int)(((LinearLayout.LayoutParams)localObject8).height * 0.65D));
      localObject9 = new Button(this.mContext);
      ((Button)localObject9).setText("确认话费支付");
      ((Button)localObject9).setTextColor(-1);
      ((Button)localObject9).setTextSize(2, 15.0F);
      ((Button)localObject9).setLayoutParams((ViewGroup.LayoutParams)localObject8);
      ((Button)localObject9).setBackgroundDrawable(PhoneInfoTools.getNinePatchDrawable(getBitmapByResourceName("images/confirm_bt.9.png")));
      ((LinearLayout)localObject4).addView((View)localObject9);
      localLinearLayout1.addView((View)localObject3);
      localLinearLayout1.addView(localLinearLayout2);
      localLinearLayout1.addView((View)localObject6);
      localLinearLayout1.addView((View)localObject2);
      localLinearLayout1.addView((View)localObject7);
      localLinearLayout1.addView(localLinearLayout3);
      localLinearLayout1.addView((View)localObject4);
      setContentView(localLinearLayout1, (ViewGroup.LayoutParams)localObject1);
      ((Button)localObject5).setOnTouchListener(new SecondConfirmSMSDialog.MyTouchListener(this, 0));
      ((Button)localObject5).setOnClickListener(new SecondConfirmSMSDialog.MyClickListener(this, 0));
      ((Button)localObject9).setOnTouchListener(new SecondConfirmSMSDialog.MyTouchListener(this, 1));
      ((Button)localObject9).setOnClickListener(new SecondConfirmSMSDialog.MyClickListener(this, 1));
      return;
    }
  }
  
  private void setBackgroudDrawable(View paramView, int paramInt, boolean paramBoolean)
  {
    Object localObject = null;
    if (paramInt == 0) {
      if (paramBoolean) {
        localObject = PhoneInfoTools.getDrawable(getBitmapByResourceName("images/cancel_on.png"));
      }
    }
    for (;;)
    {
      paramView.setBackgroundDrawable((Drawable)localObject);
      return;
      localObject = PhoneInfoTools.getDrawable(getBitmapByResourceName("images/cancel.png"));
      continue;
      if (1 == paramInt) {
        if (paramBoolean) {
          localObject = PhoneInfoTools.getNinePatchDrawable(getBitmapByResourceName("images/confirm_bt_on.9.png"));
        } else {
          localObject = PhoneInfoTools.getNinePatchDrawable(getBitmapByResourceName("images/confirm_bt.9.png"));
        }
      }
    }
  }
  
  public boolean dispatchKeyEvent(KeyEvent paramKeyEvent)
  {
    if (paramKeyEvent.getKeyCode() == 4)
    {
      if (this.secondConfirmListener != null) {
        this.secondConfirmListener.cancel();
      }
      dismiss();
    }
    return super.dispatchKeyEvent(paramKeyEvent);
  }
  
  protected Bitmap getBitmapByResourceName(String paramString)
  {
    return BitmapFactory.decodeStream(getClass().getResourceAsStream(paramString));
  }
  
  public void setSecondConfirmListener(SecondConfirmSMSDialog.SecondConfirmListener paramSecondConfirmListener)
  {
    this.secondConfirmListener = paramSecondConfirmListener;
  }
}
