package com.waps;

import android.content.Context;
import org.apache.http.HttpHost;
import org.apache.http.HttpResponse;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.entity.ByteArrayEntity;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.params.HttpParams;
import org.apache.http.util.EntityUtils;

public class z
{
  private boolean a = false;
  private SDKUtils b;
  
  public z() {}
  
  public z(Context paramContext)
  {
    if (this.b == null) {
      this.b = new SDKUtils(paramContext);
    }
  }
  
  private String a(HttpHost paramHttpHost, String paramString, ByteArrayEntity paramByteArrayEntity, DefaultHttpClient paramDefaultHttpClient)
  {
    try
    {
      paramString = new HttpPost(paramString);
      paramString.setEntity(paramByteArrayEntity);
      paramString.setHeader("Udid", b());
      paramString.setHeader("Accept-Encoding", "gzip");
      if (paramHttpHost == null) {}
      for (paramHttpHost = paramDefaultHttpClient.execute(paramString);; paramHttpHost = paramDefaultHttpClient.execute(paramHttpHost, paramString)) {
        return EntityUtils.toString(paramHttpHost.getEntity());
      }
      return null;
    }
    catch (Exception paramHttpHost) {}
  }
  
  private String b()
  {
    Object localObject = "";
    try
    {
      String str2 = this.b.getUdid();
      String str1 = str2;
      localObject = str2;
      if (SDKUtils.isNull(str2))
      {
        localObject = str2;
        str2 = "mac" + this.b.getMac_Address().replaceAll(":", "");
        str1 = str2;
        localObject = str2;
        if (SDKUtils.isNull(str2)) {
          str1 = "EMULATOR";
        }
      }
      localObject = str1;
      str1 = str1.toLowerCase() + "kingxiaoguang@gmail.com";
      localObject = str1;
      str1 = AppConnect.a(str1.getBytes()).toLowerCase();
      return str1;
    }
    catch (Exception localException) {}
    return localObject;
  }
  
  /* Error */
  public String a(String paramString1, String paramString2)
  {
    // Byte code:
    //   0: aload_0
    //   1: invokespecial 39	com/waps/z:b	()Ljava/lang/String;
    //   4: astore_3
    //   5: aload_0
    //   6: invokevirtual 118	com/waps/z:a	()Z
    //   9: ifne +120 -> 129
    //   12: new 79	java/lang/StringBuilder
    //   15: dup
    //   16: invokespecial 80	java/lang/StringBuilder:<init>	()V
    //   19: aload_1
    //   20: invokevirtual 86	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   23: aload_2
    //   24: invokevirtual 86	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   27: ldc 120
    //   29: invokevirtual 86	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   32: ldc 122
    //   34: invokevirtual 86	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   37: ldc 124
    //   39: invokevirtual 86	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   42: invokestatic 130	java/lang/System:currentTimeMillis	()J
    //   45: invokevirtual 133	java/lang/StringBuilder:append	(J)Ljava/lang/StringBuilder;
    //   48: invokevirtual 99	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   51: astore_1
    //   52: aload_1
    //   53: ldc -121
    //   55: invokevirtual 139	java/lang/String:contains	(Ljava/lang/CharSequence;)Z
    //   58: ifeq +3 -> 61
    //   61: new 141	org/apache/http/client/methods/HttpGet
    //   64: dup
    //   65: aload_1
    //   66: ldc -113
    //   68: ldc -111
    //   70: invokevirtual 97	java/lang/String:replaceAll	(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   73: invokespecial 146	org/apache/http/client/methods/HttpGet:<init>	(Ljava/lang/String;)V
    //   76: astore_1
    //   77: aload_1
    //   78: ldc 36
    //   80: aload_3
    //   81: invokevirtual 147	org/apache/http/client/methods/HttpGet:setHeader	(Ljava/lang/String;Ljava/lang/String;)V
    //   84: new 149	org/apache/http/params/BasicHttpParams
    //   87: dup
    //   88: invokespecial 150	org/apache/http/params/BasicHttpParams:<init>	()V
    //   91: astore_2
    //   92: aload_2
    //   93: ldc -105
    //   95: invokestatic 157	org/apache/http/params/HttpConnectionParams:setConnectionTimeout	(Lorg/apache/http/params/HttpParams;I)V
    //   98: aload_2
    //   99: ldc -98
    //   101: invokestatic 161	org/apache/http/params/HttpConnectionParams:setSoTimeout	(Lorg/apache/http/params/HttpParams;I)V
    //   104: new 49	org/apache/http/impl/client/DefaultHttpClient
    //   107: dup
    //   108: aload_2
    //   109: invokespecial 164	org/apache/http/impl/client/DefaultHttpClient:<init>	(Lorg/apache/http/params/HttpParams;)V
    //   112: aload_1
    //   113: invokeinterface 167 2 0
    //   118: invokeinterface 59 1 0
    //   123: invokestatic 65	org/apache/http/util/EntityUtils:toString	(Lorg/apache/http/HttpEntity;)Ljava/lang/String;
    //   126: astore_1
    //   127: aload_1
    //   128: areturn
    //   129: new 79	java/lang/StringBuilder
    //   132: dup
    //   133: invokespecial 80	java/lang/StringBuilder:<init>	()V
    //   136: aload_1
    //   137: invokevirtual 86	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   140: aload_2
    //   141: invokevirtual 86	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   144: invokevirtual 99	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   147: astore_2
    //   148: new 169	org/apache/http/HttpHost
    //   151: dup
    //   152: ldc -85
    //   154: bipush 80
    //   156: ldc -83
    //   158: invokespecial 176	org/apache/http/HttpHost:<init>	(Ljava/lang/String;ILjava/lang/String;)V
    //   161: astore 4
    //   163: aload_2
    //   164: ldc -78
    //   166: invokevirtual 181	java/lang/String:startsWith	(Ljava/lang/String;)Z
    //   169: ifeq +113 -> 282
    //   172: new 169	org/apache/http/HttpHost
    //   175: dup
    //   176: ldc -73
    //   178: bipush 80
    //   180: ldc -83
    //   182: invokespecial 176	org/apache/http/HttpHost:<init>	(Ljava/lang/String;ILjava/lang/String;)V
    //   185: astore_1
    //   186: aload_2
    //   187: ldc -113
    //   189: ldc -111
    //   191: invokevirtual 97	java/lang/String:replaceAll	(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   194: ldc -71
    //   196: ldc 70
    //   198: invokevirtual 188	java/lang/String:replaceFirst	(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   201: astore_2
    //   202: new 141	org/apache/http/client/methods/HttpGet
    //   205: dup
    //   206: aload_2
    //   207: invokespecial 146	org/apache/http/client/methods/HttpGet:<init>	(Ljava/lang/String;)V
    //   210: astore_2
    //   211: aload_2
    //   212: ldc 36
    //   214: aload_3
    //   215: invokevirtual 147	org/apache/http/client/methods/HttpGet:setHeader	(Ljava/lang/String;Ljava/lang/String;)V
    //   218: new 149	org/apache/http/params/BasicHttpParams
    //   221: dup
    //   222: invokespecial 150	org/apache/http/params/BasicHttpParams:<init>	()V
    //   225: astore_3
    //   226: aload_3
    //   227: sipush 15000
    //   230: invokestatic 157	org/apache/http/params/HttpConnectionParams:setConnectionTimeout	(Lorg/apache/http/params/HttpParams;I)V
    //   233: aload_3
    //   234: sipush 30000
    //   237: invokestatic 161	org/apache/http/params/HttpConnectionParams:setSoTimeout	(Lorg/apache/http/params/HttpParams;I)V
    //   240: new 49	org/apache/http/impl/client/DefaultHttpClient
    //   243: dup
    //   244: aload_3
    //   245: invokespecial 164	org/apache/http/impl/client/DefaultHttpClient:<init>	(Lorg/apache/http/params/HttpParams;)V
    //   248: astore_3
    //   249: aload_3
    //   250: invokeinterface 192 1 0
    //   255: ldc -62
    //   257: aload 4
    //   259: invokeinterface 200 3 0
    //   264: pop
    //   265: aload_3
    //   266: aload_1
    //   267: aload_2
    //   268: invokeinterface 201 3 0
    //   273: invokeinterface 59 1 0
    //   278: invokestatic 65	org/apache/http/util/EntityUtils:toString	(Lorg/apache/http/HttpEntity;)Ljava/lang/String;
    //   281: areturn
    //   282: new 169	org/apache/http/HttpHost
    //   285: dup
    //   286: ldc -53
    //   288: bipush 80
    //   290: ldc -83
    //   292: invokespecial 176	org/apache/http/HttpHost:<init>	(Ljava/lang/String;ILjava/lang/String;)V
    //   295: astore_1
    //   296: aload_2
    //   297: ldc -113
    //   299: ldc -111
    //   301: invokevirtual 97	java/lang/String:replaceAll	(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   304: ldc -51
    //   306: ldc 70
    //   308: invokevirtual 188	java/lang/String:replaceFirst	(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   311: astore_2
    //   312: goto -110 -> 202
    //   315: astore_1
    //   316: aconst_null
    //   317: areturn
    //   318: astore_1
    //   319: aconst_null
    //   320: areturn
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	321	0	this	z
    //   0	321	1	paramString1	String
    //   0	321	2	paramString2	String
    //   4	262	3	localObject	Object
    //   161	97	4	localHttpHost	HttpHost
    // Exception table:
    //   from	to	target	type
    //   129	202	315	java/lang/Exception
    //   202	282	315	java/lang/Exception
    //   282	312	315	java/lang/Exception
    //   12	61	318	java/lang/Exception
    //   61	127	318	java/lang/Exception
  }
  
  public String a(byte[] paramArrayOfByte, String paramString)
  {
    ByteArrayEntity localByteArrayEntity = new ByteArrayEntity(paramArrayOfByte);
    paramString = paramString.replaceAll(" ", "%20");
    DefaultHttpClient localDefaultHttpClient = new DefaultHttpClient();
    if (this.a) {}
    try
    {
      HttpHost localHttpHost = new HttpHost("10.0.0.172", 80, "http");
      if (paramString.startsWith("http://app")) {
        paramArrayOfByte = new HttpHost("app.wapx.cn", 80, "http");
      }
      for (paramString = paramString.replaceFirst("http://app.wapx.cn", "");; paramString = paramString.replaceFirst("http://ads.wapx.cn", ""))
      {
        localDefaultHttpClient.getParams().setParameter("http.route.default-proxy", localHttpHost);
        return a(paramArrayOfByte, paramString, localByteArrayEntity, localDefaultHttpClient);
        paramArrayOfByte = new HttpHost("ads.wapx.cn", 80, "http");
      }
      try
      {
        paramArrayOfByte = a(null, paramString, localByteArrayEntity, localDefaultHttpClient);
        return paramArrayOfByte;
      }
      catch (Exception paramArrayOfByte)
      {
        return "";
      }
      return "";
    }
    catch (Exception paramArrayOfByte) {}
  }
  
  public void a(boolean paramBoolean)
  {
    this.a = paramBoolean;
  }
  
  public boolean a()
  {
    return this.a;
  }
  
  /* Error */
  public byte[] a(String paramString)
  {
    // Byte code:
    //   0: new 221	java/io/ByteArrayOutputStream
    //   3: dup
    //   4: invokespecial 222	java/io/ByteArrayOutputStream:<init>	()V
    //   7: astore 4
    //   9: new 224	java/io/DataOutputStream
    //   12: dup
    //   13: aload 4
    //   15: invokespecial 227	java/io/DataOutputStream:<init>	(Ljava/io/OutputStream;)V
    //   18: astore_2
    //   19: aconst_null
    //   20: astore_3
    //   21: new 229	java/util/zip/GZIPOutputStream
    //   24: dup
    //   25: new 231	java/io/BufferedOutputStream
    //   28: dup
    //   29: aload_2
    //   30: invokespecial 232	java/io/BufferedOutputStream:<init>	(Ljava/io/OutputStream;)V
    //   33: invokespecial 233	java/util/zip/GZIPOutputStream:<init>	(Ljava/io/OutputStream;)V
    //   36: astore_2
    //   37: aload_2
    //   38: aload_1
    //   39: invokevirtual 110	java/lang/String:getBytes	()[B
    //   42: invokevirtual 236	java/util/zip/GZIPOutputStream:write	([B)V
    //   45: aload_2
    //   46: ifnull +7 -> 53
    //   49: aload_2
    //   50: invokevirtual 239	java/util/zip/GZIPOutputStream:close	()V
    //   53: aload 4
    //   55: invokevirtual 242	java/io/ByteArrayOutputStream:toByteArray	()[B
    //   58: areturn
    //   59: astore_1
    //   60: aconst_null
    //   61: astore_2
    //   62: aload_2
    //   63: ifnull -10 -> 53
    //   66: aload_2
    //   67: invokevirtual 239	java/util/zip/GZIPOutputStream:close	()V
    //   70: goto -17 -> 53
    //   73: astore_1
    //   74: goto -21 -> 53
    //   77: astore_1
    //   78: aload_3
    //   79: astore_2
    //   80: aload_2
    //   81: ifnull +7 -> 88
    //   84: aload_2
    //   85: invokevirtual 239	java/util/zip/GZIPOutputStream:close	()V
    //   88: aload_1
    //   89: athrow
    //   90: astore_1
    //   91: goto -38 -> 53
    //   94: astore_2
    //   95: goto -7 -> 88
    //   98: astore_1
    //   99: goto -19 -> 80
    //   102: astore_1
    //   103: goto -41 -> 62
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	106	0	this	z
    //   0	106	1	paramString	String
    //   18	67	2	localObject1	Object
    //   94	1	2	localIOException	java.io.IOException
    //   20	59	3	localObject2	Object
    //   7	47	4	localByteArrayOutputStream	java.io.ByteArrayOutputStream
    // Exception table:
    //   from	to	target	type
    //   21	37	59	java/lang/Exception
    //   66	70	73	java/io/IOException
    //   21	37	77	finally
    //   49	53	90	java/io/IOException
    //   84	88	94	java/io/IOException
    //   37	45	98	finally
    //   37	45	102	java/lang/Exception
  }
  
  public String b(String paramString1, String paramString2)
  {
    return a(a(paramString2), paramString1);
  }
}
