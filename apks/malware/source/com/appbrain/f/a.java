package com.appbrain.f;

import com.appbrain.g.b;
import com.appbrain.g.d;
import com.appbrain.g.f;
import java.nio.ByteBuffer;
import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;

public final class a
{
  private byte[] a = null;
  
  public a() {}
  
  public static byte[] a(d paramD)
  {
    paramD = paramD.e();
    byte[] arrayOfByte = paramD.f().a();
    try
    {
      MessageDigest localMessageDigest = MessageDigest.getInstance("SHA-1");
      localMessageDigest.update(arrayOfByte);
      paramD.a(ByteBuffer.wrap(localMessageDigest.digest()).getLong());
      paramD.a(f.a);
      return paramD.f().a();
    }
    catch (NoSuchAlgorithmException paramD)
    {
      throw new RuntimeException(paramD);
    }
  }
  
  public final b a(byte[] paramArrayOfByte)
  {
    paramArrayOfByte = b.a(paramArrayOfByte);
    if (paramArrayOfByte.k())
    {
      Object localObject = paramArrayOfByte.H();
      ((d)localObject).g();
      ((d)localObject).h();
      localObject = ((d)localObject).f().a();
      try
      {
        MessageDigest localMessageDigest = MessageDigest.getInstance("SHA-1");
        if (paramArrayOfByte.n() == f.b) {
          localMessageDigest.update(this.a);
        }
        localMessageDigest.update((byte[])localObject);
        long l = ByteBuffer.wrap(localMessageDigest.digest()).getLong();
        if (l != paramArrayOfByte.l()) {
          throw new SecurityException("Wrong checksum value. " + l + " " + paramArrayOfByte.l());
        }
      }
      catch (NoSuchAlgorithmException paramArrayOfByte)
      {
        throw new RuntimeException(paramArrayOfByte);
      }
    }
    return paramArrayOfByte;
  }
}
