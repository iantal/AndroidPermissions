package com.appbrain.a;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import com.appbrain.AppBrainActivity;
import com.appbrain.RemoteSettings;
import com.appbrain.e.q;

public class a
{
  public a() {}
  
  private static Intent a(Context paramContext)
  {
    Intent localIntent = new Intent(paramContext, AppBrainActivity.class);
    if (!(paramContext instanceof Activity))
    {
      localIntent.addFlags(268435456);
      localIntent.addFlags(8388608);
    }
    return localIntent;
  }
  
  public static com.appbrain.a a(AppBrainActivity paramAppBrainActivity)
  {
    String str = paramAppBrainActivity.getIntent().getExtras().getString("activity");
    if ("interstitial".equals(str)) {
      return new u(paramAppBrainActivity);
    }
    if ("offerwall".equals(str)) {
      return new ah(paramAppBrainActivity);
    }
    return new com.appbrain.a();
  }
  
  static void a(Context paramContext, int paramInt, String paramString)
  {
    Object localObject = new Exception().getStackTrace();
    boolean bool = false;
    if (localObject.length > 3) {
      bool = localObject[3].getClassName().startsWith("android.view");
    }
    localObject = a(paramContext);
    ((Intent)localObject).putExtra("activity", "offerwall");
    ((Intent)localObject).putExtra("src", q.g.a());
    ((Intent)localObject).putExtra("bt", paramInt);
    ((Intent)localObject).putExtra("bo", bool);
    b.a().b((Intent)localObject);
    if (paramString != null) {
      ah.a(paramString);
    }
    paramContext.startActivity((Intent)localObject);
  }
  
  static void a(Context paramContext, q paramQ)
  {
    a(paramContext, paramQ, b.a());
  }
  
  static void a(Context paramContext, q paramQ, b paramB)
  {
    Intent localIntent = a(paramContext);
    localIntent.putExtra("activity", "offerwall");
    localIntent.putExtra("src", paramQ.a());
    if (paramB != null) {
      paramB.b(localIntent);
    }
    paramContext.startActivity(localIntent);
  }
  
  static void a(Context paramContext, boolean paramBoolean, b paramB)
  {
    double d1 = 0.0D;
    try
    {
      double d2 = Double.parseDouble(ax.a().i().get("iskip", "0"));
      d1 = d2;
    }
    catch (Throwable localThrowable)
    {
      Intent localIntent;
      for (;;) {}
    }
    if (Math.random() < d1)
    {
      a(paramContext, q.i, paramB);
      return;
    }
    localIntent = a(paramContext);
    localIntent.putExtra("activity", "interstitial");
    localIntent.putExtra("maybe", paramBoolean);
    if (paramB != null) {
      paramB.b(localIntent);
    }
    paramContext.startActivity(localIntent);
  }
}
