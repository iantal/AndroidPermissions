package com.appbrain.a;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.os.Build.VERSION;
import android.os.SystemClock;
import cmn.a;
import cmn.h;
import com.appbrain.AppBrain;
import com.appbrain.ReferrerReceiver;
import com.appbrain.RemoteSettings;
import com.appbrain.e.b;
import java.util.TimeZone;

public final class s
{
  private static Integer a = null;
  private final Context b;
  
  public s(Context paramContext)
  {
    this.b = paramContext.getApplicationContext();
    if (!ax.a().b()) {
      AppBrain.initApp(paramContext);
    }
  }
  
  private static int a(Context paramContext)
  {
    if (a == null) {}
    for (;;)
    {
      try
      {
        paramContext = paramContext.getPackageManager().getPackageInfo(paramContext.getPackageName(), 0);
        if (paramContext == null) {
          continue;
        }
        a = Integer.valueOf(a.a().a(paramContext, paramContext.applicationInfo));
      }
      catch (Throwable paramContext)
      {
        paramContext.printStackTrace();
        a = Integer.valueOf(0);
        continue;
      }
      return a.intValue();
      a = Integer.valueOf(0);
    }
  }
  
  public final b a()
  {
    Object localObject1 = h.a(this.b);
    localD = b.ak();
    localD.a(SystemClock.elapsedRealtime());
    localD.b(System.currentTimeMillis());
    localD.a(((h)localObject1).h());
    localD.b(((h)localObject1).l());
    localD.c(((h)localObject1).f());
    localD.d(((h)localObject1).d());
    localD.e(((h)localObject1).g());
    localD.f(((h)localObject1).j());
    localD.g(((h)localObject1).i());
    localD.a(((h)localObject1).k());
    localD.b(((h)localObject1).e());
    localD.h(((h)localObject1).a());
    localD.i(((h)localObject1).b());
    localD.j(((h)localObject1).c());
    localD.m(((h)localObject1).o());
    localD.k(((h)localObject1).n());
    localD.l(((h)localObject1).m());
    localD.p(Build.VERSION.SDK_INT);
    localD.o(TimeZone.getDefault().getOffset(System.currentTimeMillis()));
    ax localAx = ax.a();
    localD.c(43);
    Object localObject2 = ReferrerReceiver.retrieve(localAx.j());
    if (localObject2 != null) {
      localD.n((String)localObject2);
    }
    localObject2 = localAx.d();
    localD.d(((SharedPreferences)localObject2).getInt("pingcount", 0));
    localD.e(((SharedPreferences)localObject2).getInt("init_called", 0));
    localD.f(a(this.b));
    localD.g(((h)localObject1).b);
    localD.h(((h)localObject1).c);
    localD.i(((h)localObject1).d);
    for (;;)
    {
      try
      {
        localNetworkInfo = ((ConnectivityManager)this.b.getSystemService("connectivity")).getActiveNetworkInfo();
        if (localNetworkInfo != null) {
          continue;
        }
        localD.j(1);
      }
      catch (Exception localException)
      {
        NetworkInfo localNetworkInfo;
        int i;
        localD.j(0);
        continue;
      }
      localD.k(localAx.k());
      localD.l(((SharedPreferences)localObject2).getInt("ow_click", 0));
      localD.m(((SharedPreferences)localObject2).getInt("ow_inst", 0));
      localD.o(((h)localObject1).e);
      localD.n(((h)localObject1).a);
      localObject1 = localAx.i().get("extra");
      if (localObject1 != null) {
        localD.p((String)localObject1);
      }
      localObject1 = this.b;
      localObject1 = bb.a();
      if (localObject1 != null) {
        localD.a(com.appbrain.b.d.a((byte[])localObject1));
      }
      localObject1 = this.b;
      localObject1 = bb.b();
      if (localObject1 != null) {
        localD.b(com.appbrain.b.d.a((byte[])localObject1));
      }
      return localD.e();
      i = localNetworkInfo.getType();
      localD.j(localNetworkInfo.getSubtype() + (i + 1) * 1000);
    }
  }
}
