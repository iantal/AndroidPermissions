package com.alipay.sdk.protocol;

import android.content.Context;
import android.text.TextUtils;
import java.io.UnsupportedEncodingException;
import java.net.URLDecoder;
import org.json.JSONException;
import org.json.JSONObject;

public final class e
{
  public e() {}
  
  public static g a(c paramC)
  {
    com.alipay.sdk.data.e localE = paramC.a;
    com.alipay.sdk.data.f localF = paramC.b;
    Object localObject2 = paramC.c;
    Object localObject1 = null;
    if (((JSONObject)localObject2).has("form"))
    {
      localObject1 = new g(localE, localF);
      ((g)localObject1).a(paramC.c);
      paramC = (c)localObject1;
    }
    do
    {
      return paramC;
      paramC = (c)localObject1;
    } while (!((JSONObject)localObject2).has("status"));
    paramC = f.a(((JSONObject)localObject2).optString("status"));
    switch (e.1.a[paramC.ordinal()])
    {
    default: 
      return null;
    case 1: 
    case 2: 
    case 3: 
      paramC = new g(localE, localF);
      paramC.a((JSONObject)localObject2);
      return paramC;
    }
    localObject2 = com.alipay.sdk.sys.b.a().a;
    paramC = com.alipay.sdk.util.b.a((Context)localObject2).a();
    localObject1 = com.alipay.sdk.util.b.a((Context)localObject2).b();
    localObject2 = new com.alipay.sdk.tid.a((Context)localObject2);
    ((com.alipay.sdk.tid.a)localObject2).a(paramC, (String)localObject1);
    ((com.alipay.sdk.tid.a)localObject2).close();
    return null;
  }
  
  private static void b(c paramC)
  {
    com.alipay.sdk.data.f localF = paramC.b;
    JSONObject localJSONObject = paramC.c;
    Object localObject = paramC.a.a;
    com.alipay.sdk.data.a localA = paramC.b.l;
    if (TextUtils.isEmpty(localA.c)) {
      localA.c = ((com.alipay.sdk.data.a)localObject).c;
    }
    if (TextUtils.isEmpty(localA.d)) {
      localA.d = ((com.alipay.sdk.data.a)localObject).d;
    }
    if (TextUtils.isEmpty(localA.b)) {
      localA.b = ((com.alipay.sdk.data.a)localObject).b;
    }
    if (TextUtils.isEmpty(localA.a)) {
      localA.a = ((com.alipay.sdk.data.a)localObject).a;
    }
    localObject = localJSONObject.optJSONObject("reflected_data");
    if (localObject != null)
    {
      new StringBuilder("session = ").append(((JSONObject)localObject).optString("session", "")).toString();
      paramC.b.i = ((JSONObject)localObject);
    }
    for (;;)
    {
      localF.f = localJSONObject.optString("end_code", "0");
      localF.j = localJSONObject.optString("user_id", "");
      paramC = localJSONObject.optString("result");
      try
      {
        localObject = URLDecoder.decode(localJSONObject.optString("result"), "UTF-8");
        paramC = (c)localObject;
      }
      catch (UnsupportedEncodingException localUnsupportedEncodingException)
      {
        for (;;) {}
      }
      localF.g = paramC;
      localF.h = localJSONObject.optString("memo", "");
      return;
      if (localJSONObject.has("session"))
      {
        paramC = new JSONObject();
        try
        {
          paramC.put("session", localJSONObject.optString("session"));
          localObject = com.alipay.sdk.tid.b.a().a;
          if (!TextUtils.isEmpty((CharSequence)localObject)) {
            paramC.put("tid", localObject);
          }
          localF.i = paramC;
        }
        catch (JSONException paramC) {}
      }
    }
  }
}
