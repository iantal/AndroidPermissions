package com.jiexinhongye.adsdk.activity;

import android.app.Activity;
import android.content.res.Resources;
import android.os.Bundle;
import android.widget.Button;
import android.widget.ImageView;
import com.jiexinhongye.adsdk.adapter.MarketAdpater;
import com.jiexinhongye.adsdk.data.MarketDatas;
import com.jiexinhongye.adsdk.weight.PullToRefreshListView;
import com.jiexinhongye.libforztool.android.ResHelper;

public class AppMarket
  extends Activity
{
  MarketAdpater a;
  private PullToRefreshListView b;
  private String c = "ad_activity_market";
  private String d = "listView";
  private ImageView e;
  
  public AppMarket() {}
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    requestWindowFeature(1);
    setContentView(ResHelper.getLayoutId(this, this.c));
    this.b = ((PullToRefreshListView)findViewById(ResHelper.getId(this, this.d)));
    this.a = new MarketAdpater(this);
    this.b.setAdapter(this.a);
    this.a.data().load();
    this.b.setOnRefreshListener(new a(this));
    paramBundle = new Button(this);
    paramBundle.setBackgroundDrawable(getResources().getDrawable(ResHelper.getDrawableId(this, "ad_button_selector")));
    paramBundle.setText("点击加载更多");
    paramBundle.setTextSize(15.0F);
    paramBundle.setTextColor(ResHelper.getColorId(this, "ad_theme_color"));
    paramBundle.setOnClickListener(new c(this));
    this.b.addFooterView(paramBundle);
    this.e = ((ImageView)findViewById(ResHelper.getId(this, "image_close")));
    this.e.setOnClickListener(new d(this));
  }
}
