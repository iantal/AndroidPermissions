package com.ltad.util;

import android.content.Context;
import android.util.Log;
import com.ltad.a.i;
import com.ltad.banner.BannerAdapter;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Set;

public class BannerUtil
{
  private static final String TAG = "Joy_BannerUtil";
  private static BannerUtil mInstance = new BannerUtil();
  private Context mAppContext;
  private ArrayList mBannerList = new ArrayList();
  private HashMap mBannerMap = new HashMap();
  
  private BannerUtil() {}
  
  public static BannerUtil getInstance(Context paramContext)
  {
    if (paramContext != null) {
      mInstance.mAppContext = paramContext.getApplicationContext();
    }
    return mInstance;
  }
  
  public void addSupportBanner(String paramString, BannerAdapter paramBannerAdapter)
  {
    this.mBannerMap.put(paramString, paramBannerAdapter);
    if (paramBannerAdapter != null) {
      this.mBannerList.add(paramBannerAdapter);
    }
  }
  
  public void destroy()
  {
    BannerAdapter localBannerAdapter = getSupportBanner(PropertyUtil.getPropertyDefault(this.mAppContext, i.a(262149), i.a(262150)));
    if (localBannerAdapter != null) {
      localBannerAdapter.destroy();
    }
  }
  
  public ArrayList getSupportAdapterList()
  {
    return this.mBannerList;
  }
  
  public BannerAdapter getSupportBanner(String paramString)
  {
    paramString = (BannerAdapter)this.mBannerMap.get(paramString);
    Object localObject = paramString;
    Iterator localIterator;
    if (paramString == null) {
      localIterator = this.mBannerMap.keySet().iterator();
    }
    do
    {
      if (!localIterator.hasNext())
      {
        localObject = paramString;
        return localObject;
      }
      paramString = (String)localIterator.next();
      localObject = (BannerAdapter)this.mBannerMap.get(paramString);
      paramString = (String)localObject;
    } while (localObject == null);
    return localObject;
  }
  
  public boolean hasSupportBanner()
  {
    return !this.mBannerMap.isEmpty();
  }
  
  public void initAd()
  {
    Log.e("Joy_BannerUtil", ">>>>>>>>>> Init Banner ad <<<<<<<<<<");
    Object localObject1 = this.mBannerMap.keySet().iterator();
    Object localObject2;
    int i;
    if (!((Iterator)localObject1).hasNext())
    {
      this.mBannerMap.clear();
      localObject2 = PropertyUtil.getPropertyDefault(this.mAppContext, i.a(720896), i.a(262150) + i.a(720897) + i.a(262151));
      localObject1 = localObject2;
      if (!((String)localObject2).contains(i.a(262152))) {
        localObject1 = localObject2 + i.a(720897) + i.a(262152);
      }
      localObject1 = ((String)localObject1).split(i.a(720897));
      if (localObject1.length > 0) {
        i = 0;
      }
    }
    for (;;)
    {
      if (i >= localObject1.length)
      {
        return;
        localObject2 = (String)((Iterator)localObject1).next();
        localObject2 = (BannerAdapter)this.mBannerMap.get(localObject2);
        if (localObject2 == null) {
          break;
        }
        ((BannerAdapter)localObject2).destroy();
        break;
      }
      localObject2 = localObject1[i].substring(0, 1).toUpperCase() + localObject1[i].substring(1).toLowerCase();
      localObject2 = i.a(720898) + (String)localObject2;
      try
      {
        ((BannerAdapter)Class.forName((String)localObject2).newInstance()).init(this.mAppContext);
        i += 1;
      }
      catch (Exception localException)
      {
        for (;;)
        {
          Log.w("Joy_BannerUtil", "Exception:" + localException.getMessage());
        }
      }
    }
  }
}
