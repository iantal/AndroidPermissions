package com.prime31;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import org.scribe.model.Token;

public class TwitterSession
{
  private static final String SHARED = "Twitter_Preferences";
  private static final String TWEET_AUTH_KEY = "auth_key";
  private static final String TWEET_AUTH_SECRET_KEY = "auth_secret_key";
  private static final String TWEET_USER_NAME = "user_name";
  private SharedPreferences.Editor editor;
  private SharedPreferences sharedPref;
  
  public TwitterSession(Context paramContext)
  {
    this.sharedPref = paramContext.getSharedPreferences("Twitter_Preferences", 0);
    this.editor = this.sharedPref.edit();
  }
  
  public Token getAccessToken()
  {
    Object localObject2 = null;
    String str1 = this.sharedPref.getString("auth_key", null);
    String str2 = this.sharedPref.getString("auth_secret_key", null);
    Object localObject1 = localObject2;
    if (str1 != null)
    {
      localObject1 = localObject2;
      if (str2 != null) {
        localObject1 = new Token(str1, str2);
      }
    }
    return localObject1;
  }
  
  public String getUsername()
  {
    return this.sharedPref.getString("user_name", "");
  }
  
  public void resetAccessToken()
  {
    this.editor.putString("auth_key", null);
    this.editor.putString("auth_secret_key", null);
    this.editor.putString("user_name", null);
    this.editor.commit();
  }
  
  public void storeAccessToken(Token paramToken, String paramString)
  {
    this.editor.putString("auth_key", paramToken.getToken());
    this.editor.putString("auth_secret_key", paramToken.getSecret());
    this.editor.putString("user_name", paramString);
    this.editor.commit();
  }
}
