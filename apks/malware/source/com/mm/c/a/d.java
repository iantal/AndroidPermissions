package com.mm.c.a;

import android.content.ContentResolver;
import android.content.Context;
import android.database.Cursor;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.net.NetworkInfo.State;
import android.net.Uri;
import android.text.TextUtils;

public final class d
{
  public static String a = "ctwap";
  public static String b = "uninet";
  public static String c = "3gnet";
  private static Uri d = Uri.parse("content://telephony/carriers/preferapn");
  private static final Uri e = Uri.parse("content://telephony/carriers");
  
  public static String a(Context paramContext)
  {
    Object localObject = (ConnectivityManager)paramContext.getSystemService("connectivity");
    if (((ConnectivityManager)localObject).getNetworkInfo(1).getState().equals(NetworkInfo.State.CONNECTED)) {
      return "1";
    }
    localObject = ((ConnectivityManager)localObject).getActiveNetworkInfo();
    if ((localObject != null) && (((NetworkInfo)localObject).isAvailable()))
    {
      localObject = e.b(paramContext);
      if (!TextUtils.isEmpty((CharSequence)localObject))
      {
        if ((((String)localObject).startsWith("46000")) || (((String)localObject).startsWith("46002")) || (((String)localObject).startsWith("46007")))
        {
          if (d(paramContext)) {
            return "0";
          }
          return "1";
        }
        if (((String)localObject).startsWith("46001"))
        {
          if (c(paramContext)) {
            return "0";
          }
          return "1";
        }
        if (((String)localObject).startsWith("46003"))
        {
          if (b(paramContext)) {
            return "0";
          }
          return "1";
        }
      }
    }
    return "1";
  }
  
  private static boolean b(Context paramContext)
  {
    try
    {
      paramContext = paramContext.getContentResolver().query(d, null, null, null, null);
      paramContext.moveToFirst();
      boolean bool = paramContext.getString(paramContext.getColumnIndex("user")).toLowerCase().contains(a);
      if (bool) {
        return true;
      }
    }
    catch (Exception paramContext)
    {
      paramContext.printStackTrace();
      return false;
    }
    return false;
  }
  
  private static boolean c(Context paramContext)
  {
    try
    {
      Object localObject = paramContext.getContentResolver().query(e, null, "apn like '%uninet%' or apn like '%UNINET%' or apn like '%3GNET%' or apn like '%3gnet%'", null, null);
      if (localObject == null) {
        return false;
      }
      if ((localObject != null) && (((Cursor)localObject).moveToNext()))
      {
        paramContext = ((Cursor)localObject).getString(((Cursor)localObject).getColumnIndex("apn")).toLowerCase();
        localObject = ((Cursor)localObject).getString(((Cursor)localObject).getColumnIndex("type")).toLowerCase();
        if ((c.equals(paramContext)) || (b.equals(paramContext)))
        {
          int i = "default".indexOf((String)localObject);
          if (i != -1) {
            return true;
          }
        }
        return false;
      }
    }
    catch (Exception paramContext)
    {
      paramContext.printStackTrace();
      return false;
    }
    return false;
  }
  
  private static boolean d(Context paramContext)
  {
    if (paramContext == null) {
      return false;
    }
    paramContext = (ConnectivityManager)paramContext.getSystemService("connectivity");
    if (paramContext == null) {
      return false;
    }
    paramContext = paramContext.getActiveNetworkInfo();
    if (paramContext == null) {
      return false;
    }
    paramContext = paramContext.getExtraInfo();
    if ((TextUtils.isEmpty(paramContext)) || (paramContext.length() < 3)) {
      return false;
    }
    return paramContext.toLowerCase().indexOf("wap") > 0;
  }
}
