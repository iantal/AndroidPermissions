package com.tencent.bugly.a;

import android.content.Context;
import com.tencent.bugly.crashreport.common.info.c;
import com.tencent.bugly.crashreport.common.strategy.f;
import com.tencent.bugly.crashreport.crash.CrashDetailBean;
import java.util.Date;
import java.util.Iterator;
import java.util.List;

class ay
  extends bb
{
  ay(av paramAv1, Context paramContext, t paramT, c paramC, f paramF, as paramAs, av paramAv2, List paramList)
  {
    super(paramContext, paramT, paramC, paramF, paramAs, paramAv2);
  }
  
  protected void a()
  {
    super.a();
    this.b.a(0, new Date().getTime());
  }
  
  protected void a(boolean paramBoolean, int paramInt, String paramString)
  {
    super.a(paramBoolean, paramInt, paramString);
    if ((this.a != null) && (this.a.size() > 0))
    {
      bf.a("up finish update state %b", new Object[] { Boolean.valueOf(paramBoolean) });
      paramString = this.a.iterator();
      while (paramString.hasNext())
      {
        CrashDetailBean localCrashDetailBean = (CrashDetailBean)paramString.next();
        bf.c("pre uid:%s uc:%d re:%b me:%b", new Object[] { localCrashDetailBean.c, Integer.valueOf(localCrashDetailBean.l), Boolean.valueOf(localCrashDetailBean.d), Boolean.valueOf(localCrashDetailBean.j) });
        localCrashDetailBean.l += 1;
        localCrashDetailBean.d = paramBoolean;
        bf.c("set uid:%s uc:%d re:%b me:%b", new Object[] { localCrashDetailBean.c, Integer.valueOf(localCrashDetailBean.l), Boolean.valueOf(localCrashDetailBean.d), Boolean.valueOf(localCrashDetailBean.j) });
      }
      ao.a(av.a(this.b)).a(this.a);
      bf.a("update state size %d", new Object[] { Integer.valueOf(this.a.size()) });
    }
    if (paramBoolean)
    {
      bf.b("[crash] upload success.", new Object[0]);
      return;
    }
    bf.b("[crash] upload fail.", new Object[0]);
  }
}
