package com.tencent.android.tpush;

import android.content.Intent;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import java.io.File;

class b
  implements Runnable
{
  Message a = XGDownloadService.e(this.b).obtainMessage();
  private Intent c;
  private int d;
  
  public b(XGDownloadService paramXGDownloadService, Intent paramIntent, int paramInt)
  {
    this.c = paramIntent;
    this.d = paramInt;
  }
  
  public void run()
  {
    this.a.what = 0;
    this.a.arg1 = this.d;
    new Bundle();
    Bundle localBundle = this.c.getExtras();
    this.a.setData(localBundle);
    try
    {
      if (!XGDownloadService.f(this.b).exists()) {
        XGDownloadService.f(this.b).mkdirs();
      }
      if (!XGDownloadService.a(this.b).exists()) {
        XGDownloadService.a(this.b).createNewFile();
      }
      if (this.b.a(XGDownloadService.g(this.b), XGDownloadService.a(this.b), this.d) > 0L) {
        XGDownloadService.e(this.b).sendMessage(this.a);
      }
      return;
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
      XGDownloadService.e(this.b).sendMessage(this.a);
    }
  }
}
