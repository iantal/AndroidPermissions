package com.tencent.android.tpush.service;

import com.qq.taf.jce.JceStruct;
import com.tencent.android.tpush.logging.TLog;
import com.tencent.android.tpush.service.b.k;
import com.tencent.android.tpush.service.cache.CacheManager;
import com.tencent.android.tpush.service.channel.exception.ChannelException;
import com.tencent.android.tpush.service.channel.protocol.TpnsUnregisterReq;

class r
  implements com.tencent.android.tpush.service.channel.o
{
  r(o paramO, String paramString) {}
  
  public void a(JceStruct paramJceStruct1, int paramInt, JceStruct paramJceStruct2, com.tencent.android.tpush.service.channel.a paramA)
  {
    TLog.v("XGService", "@@ TpnsMessage.IEventListener.onResponse reponseCode:" + paramInt);
    if (paramInt == 0)
    {
      TLog.i("XGService", ">> uninstall report success rsp=" + paramA.c() + " @host=" + paramA.f() + " @http=" + paramA.b());
      CacheManager.UninstallInfoSuccessByPkgName(this.a);
      k.a().a(l.f(), this.a);
      com.tencent.android.tpush.service.b.a.a().c(l.f(), this.a);
      return;
    }
    TLog.e("XGService", ">> uninstall report fail responseCode=" + paramInt);
    o.a(this.b, paramInt, "服务器处理失败，返回错误", this.a, (TpnsUnregisterReq)paramJceStruct1, paramA);
  }
  
  public void a(JceStruct paramJceStruct, com.tencent.android.tpush.service.channel.a paramA) {}
  
  public void a(JceStruct paramJceStruct, ChannelException paramChannelException, com.tencent.android.tpush.service.channel.a paramA)
  {
    TLog.v("XGService", "@@ TpnsMessage.IEventListener.onMessageSendFailed " + paramChannelException.errorCode + "," + paramChannelException.getMessage());
    o.a(this.b, paramChannelException.errorCode, paramChannelException.getMessage(), this.a, (TpnsUnregisterReq)paramJceStruct, paramA);
  }
}
