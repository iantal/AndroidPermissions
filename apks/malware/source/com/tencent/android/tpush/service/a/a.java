package com.tencent.android.tpush.service.a;

import android.content.Context;
import android.text.TextUtils;
import com.tencent.android.tpush.encrypt.Rijndael;
import com.tencent.android.tpush.logging.TLog;
import com.tencent.android.tpush.logging.b.c;
import com.tencent.android.tpush.service.d.d;
import com.tencent.android.tpush.service.l;
import org.json.JSONException;
import org.json.JSONObject;

public class a
{
  public static long a;
  public static int b;
  public static int c;
  public static int d;
  public static int e;
  public static int f;
  public static int g;
  public static int h;
  public static int i;
  public static int j;
  public static int k;
  public static int l;
  public static int m;
  public static int n;
  public static int o;
  public static int p;
  public static int q;
  public static int r = a("logLevel", 63);
  public static int s = a("logFileSizeLimit", 262144);
  public static int t = a("errCount", 5);
  public static String u = a("logUploadDomain", "183.61.46.193");
  public static int v;
  public static int w;
  public static String x = null;
  public static int y = 1;
  public static int z = 1;
  
  static
  {
    a = a(l.f());
    b = a("recTo", 30000);
    c = a("hbIntvl", 299980);
    d = a("httpHbIntvl", 600000);
    e = a("stIntvl", 54000000);
    f = a("cnMsgExp", 60000);
    g = a("fqcSuc", 10);
    h = a("fqcFal", 100);
    i = a("rptIntvl", 1200);
    j = a("rptMaxCnt", 5);
    k = a("httpRtCnt", 3);
    l = a("ackMaxCnt", 3);
    m = a("ackDuration", 180000);
    n = a("loadIpIntvl", 72000000);
    o = a("redirectConnectTime", 30000);
    p = a("redirectSoTime", 20000);
    q = a("strategyExpiredTime", 1440);
    v = a("rptLive", 0);
    w = a("rptLiveIntvl", 3600);
  }
  
  public static int a(String paramString, int paramInt)
  {
    int i1;
    if (l.f() != null) {
      i1 = d.b(l.f(), b(paramString), paramInt);
    }
    do
    {
      return i1;
      i1 = paramInt;
    } while (c.a() == null);
    return d.b(c.a(), b(paramString), paramInt);
  }
  
  public static int a(String paramString, JSONObject paramJSONObject)
  {
    if ((paramJSONObject != null) && (!d.a(paramString))) {
      try
      {
        int i1 = paramJSONObject.getInt(paramString);
        return i1;
      }
      catch (Exception paramString)
      {
        TLog.e("XGService", paramString.getMessage());
      }
    }
    return 0;
  }
  
  public static long a(Context paramContext)
  {
    long l1 = 1L;
    if (paramContext != null)
    {
      TLog.v("XGService", "@@ getConfVersion(" + paramContext + ")");
      l1 = d.c(paramContext, b("confVer"), 1L);
    }
    return l1;
  }
  
  public static String a(String paramString1, String paramString2)
  {
    if (l.f() != null)
    {
      paramString1 = d.e(l.f(), b(paramString1));
      if (!TextUtils.isEmpty(paramString1)) {}
    }
    do
    {
      do
      {
        return paramString2;
        return paramString1;
      } while (c.a() == null);
      paramString1 = d.e(c.a(), b(paramString1));
    } while (TextUtils.isEmpty(paramString1));
    return paramString1;
  }
  
  public static void a(String paramString)
  {
    int i4 = 30000;
    int i3 = 3600;
    int i2 = 5;
    int i5 = 3;
    TLog.v("XGService", "@@ parseValue(" + paramString + ")");
    try
    {
      JSONObject localJSONObject = new JSONObject(paramString);
      a = a("confVer", localJSONObject);
      long l1;
      int i1;
      if (a == 0L)
      {
        l1 = 1L;
        a = l1;
        b = a("recTo", localJSONObject) * 1000;
        if (b != 0) {
          break label1158;
        }
        i1 = 30000;
        label104:
        b = i1;
        c = a("hbIntvl", localJSONObject) * 60 * 1000;
        if (c != 0) {
          break label1165;
        }
        i1 = 299980;
        label134:
        c = i1;
        d = a("httpHbIntvl", localJSONObject) * 60 * 1000;
        if (d != 0) {
          break label1172;
        }
        i1 = 600000;
        label164:
        d = i1;
        e = a("stIntvl", localJSONObject) * 60 * 1000;
        if (e != 0) {
          break label1179;
        }
        i1 = 54000000;
        label194:
        e = i1;
        f = a("cnMsgExp", localJSONObject) * 1000;
        if (f != 0) {
          break label1186;
        }
        i1 = 60000;
        label221:
        f = i1;
        g = a("fqcSuc", localJSONObject);
        if (g != 0) {
          break label1193;
        }
        i1 = 10;
        label244:
        g = i1;
        h = a("fqcFal", localJSONObject);
        if (h != 0) {
          break label1200;
        }
        i1 = 100;
        label267:
        h = i1;
        i = a("rptIntvl", localJSONObject);
        if (i != 0) {
          break label1207;
        }
        i1 = 1200;
        label291:
        i = i1;
        j = a("rptMaxCnt", localJSONObject);
        if (j != 0) {
          break label1214;
        }
        i1 = 5;
        label313:
        j = i1;
        k = a("httpRtCnt", localJSONObject);
        if (k != 0) {
          break label1221;
        }
        i1 = 3;
        label335:
        k = i1;
        l = a("ackMaxCnt", localJSONObject);
        if (l != 0) {
          break label1228;
        }
        i1 = i5;
        label358:
        l = i1;
        m = a("ackDuration", localJSONObject) * 1000;
        if (m != 0) {
          break label1235;
        }
        i1 = 180000;
        label385:
        m = i1;
        n = a("loadIpIntvl", localJSONObject) * 60 * 60 * 1000;
        if (n != 0) {
          break label1242;
        }
        i1 = 72000000;
        label418:
        n = i1;
        o = a("redirectConnectTime", localJSONObject);
        if (o != 0) {
          break label1249;
        }
        i1 = i4;
        label441:
        o = i1;
        p = a("redirectSoTime", localJSONObject);
        if (p != 0) {
          break label1256;
        }
        i1 = 20000;
        label465:
        p = i1;
        q = a("strategyExpiredTime", localJSONObject);
        if (q != 0) {
          break label1263;
        }
        i1 = 1440;
        label489:
        q = i1;
        v = a("rptLive", localJSONObject);
        if (v != 0) {
          break label1270;
        }
        i1 = 0;
        label511:
        v = i1;
        w = a("rptLiveIntvl", localJSONObject);
        if (w != 3600) {
          break label1277;
        }
        i1 = i3;
        label536:
        w = i1;
        r = a("logLevel", localJSONObject);
        if (r != 0) {
          break label1284;
        }
        i1 = 63;
        label559:
        r = i1;
        s = a("logFileSizeLimit", localJSONObject) * 1024;
        if (s != 0) {
          break label1291;
        }
        i1 = 262144;
        label586:
        s = i1;
        t = a("errCount", localJSONObject);
        if (t != 0) {
          break label1298;
        }
        i1 = i2;
        label608:
        t = i1;
        u = b("logUploadDomain", localJSONObject);
        if (!TextUtils.isEmpty(u)) {
          break label1305;
        }
      }
      label1158:
      label1165:
      label1172:
      label1179:
      label1186:
      label1193:
      label1200:
      label1207:
      label1214:
      label1221:
      label1228:
      label1235:
      label1242:
      label1249:
      label1256:
      label1263:
      label1270:
      label1277:
      label1284:
      label1291:
      label1298:
      label1305:
      for (paramString = "183.61.46.193";; paramString = u)
      {
        u = paramString;
        y = localJSONObject.optInt("enableWd", 1);
        z = localJSONObject.optInt("report", 1);
        x = localJSONObject.optString("stopXG", null);
        TLog.i("XGService", ">> redct=" + o + " redso=" + p + " expi=" + q + " loglevel=" + r + " filesize=" + s + " rptLive=" + v);
        if (l.f() == null) {
          return;
        }
        d.b(l.f(), b("confVer"), a);
        d.a(l.f(), b("recTo"), b);
        d.a(l.f(), b("hbIntvl"), c);
        d.a(l.f(), b("httpHbIntvl"), d);
        d.a(l.f(), b("stIntvl"), e);
        d.a(l.f(), b("cnMsgExp"), f);
        d.a(l.f(), b("fqcSuc"), g);
        d.a(l.f(), b("fqcFal"), h);
        d.a(l.f(), b("rptIntvl"), i);
        d.a(l.f(), b("rptMaxCnt"), j);
        d.a(l.f(), b("httpRtCnt"), k);
        d.a(l.f(), b("ackMaxCnt"), l);
        d.a(l.f(), b("ackDuration"), m);
        d.a(l.f(), b("loadIpIntvl"), n);
        d.a(l.f(), b("redirectConnectTime"), o);
        d.a(l.f(), b("redirectSoTime"), p);
        d.a(l.f(), b("strategyExpiredTime"), q);
        d.a(l.f(), b("rptLive"), v);
        d.a(l.f(), b("rptLiveIntvl"), w);
        d.a(l.f(), b("logLevel"), r);
        d.a(l.f(), b("logFileSizeLimit"), s);
        d.a(l.f(), b("errCount"), t);
        if (!d.a(x)) {
          d.a(l.f(), b("stopXG"), Rijndael.encrypt(x));
        }
        d.a(l.f(), b("enableWd"), y);
        d.a(l.f(), b("report"), z);
        return;
        l1 = a;
        break;
        i1 = b;
        break label104;
        i1 = c;
        break label134;
        i1 = d;
        break label164;
        i1 = e;
        break label194;
        i1 = f;
        break label221;
        i1 = g;
        break label244;
        i1 = h;
        break label267;
        i1 = i;
        break label291;
        i1 = j;
        break label313;
        i1 = k;
        break label335;
        i1 = l;
        break label358;
        i1 = m;
        break label385;
        i1 = n;
        break label418;
        i1 = o;
        break label441;
        i1 = p;
        break label465;
        i1 = q;
        break label489;
        i1 = v;
        break label511;
        i1 = w;
        break label536;
        i1 = r;
        break label559;
        i1 = s;
        break label586;
        i1 = t;
        break label608;
      }
      return;
    }
    catch (Exception paramString)
    {
      TLog.w("XGService", "parseValue failed.", paramString);
    }
  }
  
  public static boolean a(Context paramContext, long paramLong)
  {
    if ((paramContext != null) && (a(paramContext) != paramLong))
    {
      TLog.v("XGService", "@@ getConfVersion(" + paramContext + "," + paramLong + ")");
      return d.b(paramContext, b("confVer"), paramLong);
    }
    return false;
  }
  
  public static String b(String paramString)
  {
    return "com.tencent.tpus." + paramString;
  }
  
  public static String b(String paramString, JSONObject paramJSONObject)
  {
    if ((paramJSONObject != null) && (!d.a(paramString))) {
      try
      {
        paramString = paramJSONObject.getString(paramString);
        return paramString;
      }
      catch (JSONException paramString)
      {
        TLog.e("XGService", paramString.getMessage());
      }
    }
    return "";
  }
}
