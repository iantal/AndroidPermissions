package com.tencent.android.tpush.service;

import android.content.Context;
import android.content.Intent;
import com.jg.JgClassChecked;
import com.tencent.android.tpush.logging.TLog;
import com.tencent.android.tpush.service.channel.protocol.TpnsPushMsg;
import com.tencent.android.tpush.service.d.d;
import java.util.ArrayList;

@JgClassChecked(author=1, fComment="确认已进行安全校验", lastDate="20150316", reviewer=3, vComment={com.jg.EType.INTENTCHECK})
class j
  implements Runnable
{
  private Context b = null;
  private Intent c = null;
  
  public j(a paramA, Context paramContext, Intent paramIntent)
  {
    this.b = paramContext;
    this.c = paramIntent;
  }
  
  public void run()
  {
    TLog.v("XGService", "@@PushServiceRannable run()");
    Object localObject1 = this.c.getAction();
    if (localObject1 == null) {}
    do
    {
      do
      {
        return;
        if (("android.intent.action.PACKAGE_ADDED".equals(localObject1)) || ("android.intent.action.PACKAGE_REPLACED".equals(localObject1)))
        {
          a.a(this.a, this.b, this.c);
          XGWatchdog.getInstance(this.b).sendAllLocalXGAppList();
          return;
        }
        if ("android.intent.action.PACKAGE_REMOVED".equals(localObject1))
        {
          a.b(this.a, this.b, this.c);
          XGWatchdog.getInstance(this.b).sendAllLocalXGAppList();
          return;
        }
        if ("com.tencent.android.tpush.action.REGISTER".equals(localObject1))
        {
          a.c(this.a, this.b, this.c);
          return;
        }
        if ("com.tencent.android.tpush.action.UNREGISTER".equals(localObject1))
        {
          a.d(this.a, this.b, this.c);
          return;
        }
        if ("com.tencent.android.tpush.action.ENABLE_DEBUG".equals(localObject1))
        {
          a.e(this.a, this.b, this.c);
          return;
        }
        if ("com.tencent.android.tpush.action.MSG_ACK".equals(localObject1))
        {
          com.tencent.android.tpush.service.b.a.a().a(this.b, this.c);
          return;
        }
        if ("com.tencent.android.tpush.action.TAG".equals(localObject1))
        {
          a.f(this.a, this.b, this.c);
          return;
        }
        if ("com.tencent.android.tpush.action.PUSH_CLICK.RESULT".equals(localObject1))
        {
          com.tencent.android.tpush.service.b.a.a().b(this.b, this.c);
          return;
        }
        if (!"com.tencent.android.tpush.action.PUSH_CANCELLED.RESULT".equals(localObject1)) {
          break;
        }
        com.tencent.android.tpush.service.b.a.a().b(this.b, this.c);
        localObject1 = this.c.getStringExtra("packName");
      } while (d.a((String)localObject1));
      Object localObject2 = new Intent("com.tencent.android.tpush.action.FEEDBACK");
      ((Intent)localObject2).setPackage((String)localObject1);
      ((Intent)localObject2).putExtras(this.c);
      ((Intent)localObject2).putExtra("TPUSH.FEEDBACK", 4);
      this.b.sendBroadcast((Intent)localObject2);
      return;
      if ("com.tencent.android.tpush.action.CUSTOM_NOTIFICATION".equals(localObject1))
      {
        localObject2 = new TpnsPushMsg();
        ((TpnsPushMsg)localObject2).msgId = this.c.getLongExtra("msgId", -System.currentTimeMillis());
        ((TpnsPushMsg)localObject2).accessId = this.c.getLongExtra("accessId", -1L);
        ((TpnsPushMsg)localObject2).appPkgName = this.c.getStringExtra("appPkgName");
        ((TpnsPushMsg)localObject2).busiMsgId = 0L;
        ((TpnsPushMsg)localObject2).timestamp = System.currentTimeMillis();
        ((TpnsPushMsg)localObject2).type = this.c.getIntExtra("type", 1);
        ((TpnsPushMsg)localObject2).multiPkg = 0L;
        ((TpnsPushMsg)localObject2).ttl = 259200000;
        ((TpnsPushMsg)localObject2).date = this.c.getStringExtra("date");
        ((TpnsPushMsg)localObject2).content = ("{\"title\":\"" + this.c.getStringExtra("title") + "\",\"content\":\"" + this.c.getStringExtra("content") + "\",\"builder_id\":" + this.c.getLongExtra("builderId", 0L) + ",\"custom_content\":" + this.c.getStringExtra("custom_content") + ",\"ring\":" + this.c.getIntExtra("ring", 1) + ",\"vibrate\":" + this.c.getIntExtra("vibrate", 1) + ",\"lights\":" + this.c.getIntExtra("lights", 1) + ",\"ring_raw\":\"" + this.c.getStringExtra("ring_raw") + "\",\"icon_type\":" + this.c.getIntExtra("icon_type", 0) + ",\"icon_res\":\"" + this.c.getStringExtra("icon_res") + "\",\"style_id\":" + this.c.getIntExtra("style_id", 1) + ",\"small_icon\":\"" + this.c.getStringExtra("small_icon") + "\",\"clearable\":1,\"accept_time\":[{\"start\":{\"hour\":\"" + this.c.getStringExtra("hour") + "\",\"min\":\"" + this.c.getStringExtra("min") + "\"},\"end\":{\"hour\":\"23\",\"min\":\"59\"}}],\"action\":{\"action_type\":" + this.c.getIntExtra("action_type", 1) + ",\"activity\":\"" + this.c.getStringExtra("activity") + "\",\"browser\":{\"url\":\"" + this.c.getStringExtra("url") + "\"},\"intent\":\"" + this.c.getStringExtra("intent") + "\",\"package_name\":{\"packageDownloadUrl\":\"" + this.c.getStringExtra("packageDownloadUrl") + "\",\"packageName\":\"" + this.c.getStringExtra("packageName") + "\"}}}");
        localObject1 = new ArrayList();
        ((ArrayList)localObject1).add(localObject2);
        localObject2 = new com.tencent.android.tpush.service.channel.a(new Object[] { Integer.valueOf(0), "127.0.0.1" });
        com.tencent.android.tpush.service.b.a.a().b((ArrayList)localObject1, this.c.getLongExtra("timeUs", System.currentTimeMillis()), (com.tencent.android.tpush.service.channel.a)localObject2);
        return;
      }
    } while (!"com.tencent.android.tpush.action.ack.sdk2srv".equals(localObject1));
    com.tencent.android.tpush.service.c.a.a(this.c);
  }
}
