package com.tencent.android.tpush.stat;

import android.content.Context;
import android.content.IntentFilter;
import com.jg.JgMethodChecked;
import com.tencent.android.tpush.stat.a.e;
import com.tencent.android.tpush.stat.a.i;
import com.tencent.android.tpush.stat.a.k;
import org.apache.http.HttpHost;

public class a
{
  private static volatile a e = null;
  private volatile int a = 2;
  private volatile String b = "";
  private volatile HttpHost c = null;
  private e d = null;
  private Context f = null;
  private i g = null;
  
  private a(Context paramContext)
  {
    this.f = paramContext.getApplicationContext();
    this.d = new e();
    g.a(paramContext);
    this.g = com.tencent.android.tpush.stat.a.g.b();
    h();
    f();
  }
  
  public static a a(Context paramContext)
  {
    if (e == null) {}
    try
    {
      if (e == null) {
        e = new a(paramContext);
      }
      return e;
    }
    finally {}
  }
  
  private void h()
  {
    this.a = 0;
    this.c = null;
    this.b = null;
  }
  
  public String a()
  {
    return this.b;
  }
  
  public int b()
  {
    return this.a;
  }
  
  public void c() {}
  
  public boolean d()
  {
    return this.a == 1;
  }
  
  public boolean e()
  {
    return this.a != 0;
  }
  
  void f()
  {
    if (k.f(this.f))
    {
      this.b = com.tencent.android.tpush.stat.a.g.h(this.f);
      if (d.b()) {
        this.g.b("NETWORK name:" + this.b);
      }
      if (com.tencent.android.tpush.stat.a.g.c(this.b)) {
        if (!"WIFI".equalsIgnoreCase(this.b)) {
          break label95;
        }
      }
      label95:
      for (this.a = 1;; this.a = 2)
      {
        this.c = com.tencent.android.tpush.stat.a.g.a(this.f);
        return;
      }
    }
    if (d.b()) {
      this.g.b("NETWORK TYPE: network is close.");
    }
    h();
  }
  
  @JgMethodChecked(author=1, fComment="确认已进行安全校验", lastDate="20150316", reviewer=3, vComment={com.jg.EType.RECEIVERCHECK})
  public void g()
  {
    this.f.getApplicationContext().registerReceiver(new b(this), new IntentFilter("android.net.conn.CONNECTIVITY_CHANGE"));
  }
}
