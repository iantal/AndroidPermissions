package com.tencent.tmapkupdatesdk.internal.c;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.content.pm.ApplicationInfo;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.net.Proxy;
import android.os.Bundle;
import android.provider.Settings.Secure;
import android.telephony.TelephonyManager;
import android.text.TextUtils;
import com.tencent.tmapkupdatesdk.internal.logic.protocol.jce.Terminal;
import com.tencent.tmassistantbase.util.GlobalUtil;
import com.tencent.tmassistantbase.util.QUASetting;
import com.tencent.tmassistantbase.util.TMLog;

public class a
{
  private static a a = null;
  private static String c = "";
  private static int d = 0;
  private static Terminal e = null;
  private Context b;
  
  private a() {}
  
  public static int a(Context paramContext, String paramString)
  {
    int j = 0;
    int i = j;
    if (paramContext != null)
    {
      i = j;
      if (!TextUtils.isEmpty(paramString)) {
        paramContext = paramContext.getPackageManager();
      }
    }
    try
    {
      i = paramContext.getPackageInfo(paramString, 0).versionCode;
      return i;
    }
    catch (PackageManager.NameNotFoundException paramContext)
    {
      paramContext.printStackTrace();
      TMLog.e("ApkUpdateGlobalUtil", "exception: ", paramContext);
    }
    return 0;
  }
  
  public static a a()
  {
    try
    {
      if (a == null) {
        a = new a();
      }
      a localA = a;
      return localA;
    }
    finally {}
  }
  
  public static String b(Context paramContext)
  {
    if (paramContext != null) {
      return paramContext.getPackageName();
    }
    return "";
  }
  
  public static byte c()
  {
    if (!TextUtils.isEmpty(Proxy.getDefaultHost())) {}
    for (int i = 1;; i = 0) {
      return (byte)i;
    }
  }
  
  public static int c(Context paramContext)
  {
    int i = 0;
    PackageManager localPackageManager;
    if (paramContext != null) {
      localPackageManager = paramContext.getPackageManager();
    }
    try
    {
      i = localPackageManager.getPackageInfo(paramContext.getPackageName(), 0).versionCode;
      return i;
    }
    catch (PackageManager.NameNotFoundException paramContext)
    {
      paramContext.printStackTrace();
      TMLog.e("ApkUpdateGlobalUtil", "exception: ", paramContext);
    }
    return 0;
  }
  
  public static int n()
  {
    try
    {
      int i = d;
      d = i + 1;
      return i;
    }
    finally
    {
      localObject = finally;
      throw localObject;
    }
  }
  
  public int a(String paramString)
  {
    if (this.b == null) {}
    for (;;)
    {
      return 0;
      try
      {
        paramString = this.b.getPackageManager().getApplicationInfo(paramString, 128);
        if ((paramString != null) && (paramString.metaData != null))
        {
          int i = paramString.metaData.getInt("com.tencent.android.qqdownloader.GRAY_CODE");
          return i;
        }
      }
      catch (Exception paramString)
      {
        paramString.printStackTrace();
        TMLog.e("ApkUpdateGlobalUtil", "exception: ", paramString);
      }
    }
    return 0;
  }
  
  public void a(Context paramContext)
  {
    TMLog.i("ApkUpdateGlobalUtil", "enter");
    this.b = paramContext;
    c = new QUASetting(paramContext).buildQUA();
    TMLog.i("ApkUpdateGlobalUtil", "QUA:" + c);
    TMLog.i("ApkUpdateGlobalUtil", "exit");
  }
  
  public Context b()
  {
    return this.b;
  }
  
  public void b(String paramString)
  {
    if (paramString != null)
    {
      SharedPreferences localSharedPreferences = this.b.getSharedPreferences("TMAssistantSDKSharedPreference", 0);
      if (localSharedPreferences != null) {
        localSharedPreferences.edit().putString("TMAssistantSDKPhoneGUID", paramString).commit();
      }
    }
  }
  
  public String d()
  {
    if (this.b == null) {
      return "";
    }
    return ((TelephonyManager)this.b.getSystemService("phone")).getNetworkOperator();
  }
  
  public String e()
  {
    if (this.b == null) {
      return "";
    }
    if (this.b.checkCallingOrSelfPermission("android.permission.ACCESS_NETWORK_STATE") == -1) {
      return "";
    }
    Object localObject = ((ConnectivityManager)this.b.getSystemService("connectivity")).getActiveNetworkInfo();
    if (localObject == null) {
      return "";
    }
    if (((NetworkInfo)localObject).getType() == 1) {
      return "WIFI";
    }
    localObject = ((NetworkInfo)localObject).getExtraInfo();
    if (localObject == null) {
      return "";
    }
    return ((String)localObject).toUpperCase();
  }
  
  public int f()
  {
    String str = e();
    if (!TextUtils.isEmpty(str))
    {
      if (str.equals("WIFI")) {
        return 1;
      }
      if (str.equals("UN_DETECT")) {
        return 0;
      }
      if (str.equals("CMWAP")) {
        return 2;
      }
      if (str.equals("CMNET")) {
        return 3;
      }
      if (str.equals("UNIWAP")) {
        return 4;
      }
      if (str.equals("UNINET")) {
        return 5;
      }
      if (str.equals("WAP3G")) {
        return 6;
      }
      if (str.equals("NET3G")) {
        return 7;
      }
      if (str.equals("CTWAP")) {
        return 8;
      }
      if (str.equals("CTNET")) {
        return 9;
      }
    }
    return 10;
  }
  
  public String g()
  {
    return c;
  }
  
  /* Error */
  public Terminal h()
  {
    // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: getstatic 26	com/tencent/tmapkupdatesdk/internal/c/a:e	Lcom/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal;
    //   5: ifnonnull +73 -> 78
    //   8: aload_0
    //   9: invokevirtual 230	com/tencent/tmapkupdatesdk/internal/c/a:i	()Ljava/lang/String;
    //   12: astore_1
    //   13: aload_0
    //   14: invokevirtual 233	com/tencent/tmapkupdatesdk/internal/c/a:j	()Ljava/lang/String;
    //   17: astore_2
    //   18: ldc 2
    //   20: monitorenter
    //   21: new 235	com/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal
    //   24: dup
    //   25: invokespecial 236	com/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal:<init>	()V
    //   28: putstatic 26	com/tencent/tmapkupdatesdk/internal/c/a:e	Lcom/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal;
    //   31: getstatic 26	com/tencent/tmapkupdatesdk/internal/c/a:e	Lcom/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal;
    //   34: aload_1
    //   35: putfield 239	com/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal:androidId	Ljava/lang/String;
    //   38: getstatic 26	com/tencent/tmapkupdatesdk/internal/c/a:e	Lcom/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal;
    //   41: aload_2
    //   42: putfield 242	com/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal:androidIdSdCard	Ljava/lang/String;
    //   45: getstatic 26	com/tencent/tmapkupdatesdk/internal/c/a:e	Lcom/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal;
    //   48: aload_0
    //   49: invokevirtual 245	com/tencent/tmapkupdatesdk/internal/c/a:k	()Ljava/lang/String;
    //   52: putfield 248	com/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal:imei	Ljava/lang/String;
    //   55: getstatic 26	com/tencent/tmapkupdatesdk/internal/c/a:e	Lcom/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal;
    //   58: aload_0
    //   59: invokevirtual 251	com/tencent/tmapkupdatesdk/internal/c/a:l	()Ljava/lang/String;
    //   62: putfield 254	com/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal:imsi	Ljava/lang/String;
    //   65: getstatic 26	com/tencent/tmapkupdatesdk/internal/c/a:e	Lcom/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal;
    //   68: aload_0
    //   69: invokevirtual 257	com/tencent/tmapkupdatesdk/internal/c/a:m	()Ljava/lang/String;
    //   72: putfield 260	com/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal:macAdress	Ljava/lang/String;
    //   75: ldc 2
    //   77: monitorexit
    //   78: getstatic 26	com/tencent/tmapkupdatesdk/internal/c/a:e	Lcom/tencent/tmapkupdatesdk/internal/logic/protocol/jce/Terminal;
    //   81: astore_1
    //   82: aload_0
    //   83: monitorexit
    //   84: aload_1
    //   85: areturn
    //   86: astore_1
    //   87: ldc 2
    //   89: monitorexit
    //   90: aload_1
    //   91: athrow
    //   92: astore_1
    //   93: aload_0
    //   94: monitorexit
    //   95: aload_1
    //   96: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	97	0	this	a
    //   12	73	1	localObject1	Object
    //   86	5	1	localObject2	Object
    //   92	4	1	localObject3	Object
    //   17	25	2	str	String
    // Exception table:
    //   from	to	target	type
    //   21	78	86	finally
    //   87	90	86	finally
    //   2	21	92	finally
    //   78	82	92	finally
    //   90	92	92	finally
  }
  
  public String i()
  {
    return Settings.Secure.getString(b().getContentResolver(), "android_id");
  }
  
  public String j()
  {
    SharedPreferences localSharedPreferences = this.b.getSharedPreferences("TMAssistantSDKSharedPreference", 0);
    if (localSharedPreferences != null) {
      return localSharedPreferences.getString("TMAssistantSDKPhoneGUID", "");
    }
    return "";
  }
  
  public String k()
  {
    return GlobalUtil.getInstance().getImei();
  }
  
  public String l()
  {
    return GlobalUtil.getInstance().getImsi();
  }
  
  public String m()
  {
    return GlobalUtil.getInstance().getMacAddress();
  }
}
