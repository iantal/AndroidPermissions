package com.tencent.msdk.communicator;

import android.os.Build;
import android.os.Build.VERSION;
import com.tencent.msdk.WeGame;
import com.tencent.msdk.api.WGPlatform;
import com.tencent.msdk.tools.HexUtil;
import com.tencent.msdk.tools.Logger;
import com.tencent.msdk.tools.T;
import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;
import java.util.Locale;

public class UrlManager
{
  public UrlManager() {}
  
  public static String getUrl(String paramString, int paramInt)
  {
    String str3 = "";
    String str2 = "";
    String str4 = "";
    localObject1 = str4;
    str1 = str4;
    for (;;)
    {
      try
      {
        String str6 = WeGame.getInstance().getApiDomain();
        localObject1 = str4;
        str1 = str4;
        String str5 = "" + System.currentTimeMillis();
        localObject1 = str4;
        str1 = str4;
        Object localObject2 = MessageDigest.getInstance("MD5");
        localObject1 = str4;
        str1 = str4;
        Logger.d("platform: " + WeGame.getInstance().getPlatId());
        localObject1 = str4;
        str1 = str4;
        if (paramInt != WeGame.QQPLATID)
        {
          localObject1 = str4;
          str1 = str4;
          if (paramInt != WeGame.QQHALL) {
            continue;
          }
        }
        localObject1 = str4;
        str1 = str4;
        str2 = WeGame.getInstance().qq_appid;
        localObject1 = str4;
        str1 = str4;
        str3 = WeGame.getInstance().getMSDKKey();
        localObject1 = str4;
        str1 = str4;
        str3 = str3 + str5;
        localObject1 = str4;
        str1 = str4;
        Logger.d("Original Sig: " + str3);
        localObject1 = str4;
        str1 = str4;
        ((MessageDigest)localObject2).update(str3.getBytes());
        localObject1 = str4;
        str1 = str4;
        localObject2 = HexUtil.bytes2HexStr(((MessageDigest)localObject2).digest()).toLowerCase(Locale.CHINA);
        localObject1 = str4;
        str1 = str4;
        str3 = "AndroidSDK_" + Build.VERSION.SDK + "_" + Build.DEVICE + "_" + Build.VERSION.RELEASE;
        localObject1 = str4;
        str1 = str4;
        paramString = str6 + paramString;
        localObject1 = paramString;
        str1 = paramString;
        paramString = paramString + "?appid=" + str2;
        localObject1 = paramString;
        str1 = paramString;
        paramString = paramString + "&version=" + WGPlatform.WGGetVersion();
        localObject1 = paramString;
        str1 = paramString;
        paramString = paramString + "&timestamp=" + str5;
        localObject1 = paramString;
        str1 = paramString;
        paramString = paramString + "&sig=" + (String)localObject2;
        localObject1 = paramString;
        str1 = paramString;
        paramString = paramString + "&encode=2";
        localObject1 = paramString;
        str1 = paramString;
        paramString = paramString + "&opua=" + T.encode(str3);
        localObject1 = paramString;
      }
      catch (NoSuchAlgorithmException paramString)
      {
        paramString.printStackTrace();
        continue;
      }
      catch (NumberFormatException paramString)
      {
        paramString.printStackTrace();
        localObject1 = str1;
        continue;
      }
      Logger.d("url: " + (String)localObject1);
      return localObject1;
      localObject1 = str4;
      str1 = str4;
      if (paramInt == WeGame.WXPLATID)
      {
        localObject1 = str4;
        str1 = str4;
        str2 = WeGame.getInstance().wx_appid;
        localObject1 = str4;
        str1 = str4;
        str3 = WeGame.getInstance().getMSDKKey();
      }
    }
  }
  
  public static String getUrl(String paramString1, int paramInt, String paramString2)
  {
    String str3 = "";
    String str2 = "";
    String str4 = "";
    localObject1 = str4;
    str1 = str4;
    for (;;)
    {
      try
      {
        String str6 = WeGame.getInstance().getApiDomain();
        localObject1 = str4;
        str1 = str4;
        String str5 = "" + System.currentTimeMillis();
        localObject1 = str4;
        str1 = str4;
        Object localObject2 = MessageDigest.getInstance("MD5");
        localObject1 = str4;
        str1 = str4;
        Logger.d("platform: " + WeGame.getInstance().getPlatId());
        localObject1 = str4;
        str1 = str4;
        if (paramInt != WeGame.QQPLATID)
        {
          localObject1 = str4;
          str1 = str4;
          if (paramInt != WeGame.QQHALL) {
            continue;
          }
        }
        localObject1 = str4;
        str1 = str4;
        str2 = WeGame.getInstance().qq_appid;
        localObject1 = str4;
        str1 = str4;
        str3 = WeGame.getInstance().getMSDKKey();
        localObject1 = str4;
        str1 = str4;
        str3 = str3 + str5;
        localObject1 = str4;
        str1 = str4;
        Logger.d("Original Sig: " + str3);
        localObject1 = str4;
        str1 = str4;
        ((MessageDigest)localObject2).update(str3.getBytes());
        localObject1 = str4;
        str1 = str4;
        localObject2 = HexUtil.bytes2HexStr(((MessageDigest)localObject2).digest()).toLowerCase(Locale.CHINA);
        localObject1 = str4;
        str1 = str4;
        str3 = "AndroidSDK_" + Build.VERSION.SDK + "_" + Build.DEVICE + "_" + Build.VERSION.RELEASE;
        localObject1 = str4;
        str1 = str4;
        paramString1 = str6 + paramString1;
        localObject1 = paramString1;
        str1 = paramString1;
        paramString1 = paramString1 + "?appid=" + str2;
        localObject1 = paramString1;
        str1 = paramString1;
        paramString1 = paramString1 + "&version=" + WGPlatform.WGGetVersion();
        localObject1 = paramString1;
        str1 = paramString1;
        paramString1 = paramString1 + "&timestamp=" + str5;
        localObject1 = paramString1;
        str1 = paramString1;
        paramString1 = paramString1 + "&sig=" + (String)localObject2;
        localObject1 = paramString1;
        str1 = paramString1;
        paramString1 = paramString1 + "&openid=" + paramString2;
        localObject1 = paramString1;
        str1 = paramString1;
        paramString1 = paramString1 + "&encode=2";
        localObject1 = paramString1;
        str1 = paramString1;
        paramString1 = paramString1 + "&opua=" + T.encode(str3);
        localObject1 = paramString1;
      }
      catch (NoSuchAlgorithmException paramString1)
      {
        paramString1.printStackTrace();
        continue;
      }
      catch (NumberFormatException paramString1)
      {
        paramString1.printStackTrace();
        localObject1 = str1;
        continue;
      }
      Logger.d("url: " + (String)localObject1);
      return localObject1;
      localObject1 = str4;
      str1 = str4;
      if (paramInt == WeGame.WXPLATID)
      {
        localObject1 = str4;
        str1 = str4;
        str2 = WeGame.getInstance().wx_appid;
        localObject1 = str4;
        str1 = str4;
        str3 = WeGame.getInstance().getMSDKKey();
      }
    }
  }
  
  public static String getUrl(String paramString1, String paramString2, String paramString3, String paramString4, String paramString5)
  {
    String str2 = "";
    localObject1 = str2;
    str1 = str2;
    try
    {
      String str3 = "" + System.currentTimeMillis();
      localObject1 = str2;
      str1 = str2;
      Object localObject2 = MessageDigest.getInstance("MD5");
      localObject1 = str2;
      str1 = str2;
      paramString4 = paramString4 + str3;
      localObject1 = str2;
      str1 = str2;
      Logger.d("Original Sig: " + paramString4);
      localObject1 = str2;
      str1 = str2;
      ((MessageDigest)localObject2).update(paramString4.getBytes());
      localObject1 = str2;
      str1 = str2;
      localObject2 = HexUtil.bytes2HexStr(((MessageDigest)localObject2).digest()).toLowerCase(Locale.CHINA);
      localObject1 = str2;
      str1 = str2;
      paramString4 = "AndroidSDK_" + Build.VERSION.SDK + "_" + Build.DEVICE + "_" + Build.VERSION.RELEASE;
      localObject1 = str2;
      str1 = str2;
      paramString1 = paramString2 + paramString1;
      localObject1 = paramString1;
      str1 = paramString1;
      paramString1 = paramString1 + "?appid=" + paramString3;
      localObject1 = paramString1;
      str1 = paramString1;
      paramString1 = paramString1 + "&version=" + paramString5;
      localObject1 = paramString1;
      str1 = paramString1;
      paramString1 = paramString1 + "&timestamp=" + str3;
      localObject1 = paramString1;
      str1 = paramString1;
      paramString1 = paramString1 + "&sig=" + (String)localObject2;
      localObject1 = paramString1;
      str1 = paramString1;
      paramString1 = paramString1 + "&encode=2";
      localObject1 = paramString1;
      str1 = paramString1;
      paramString1 = paramString1 + "&opua=" + T.encode(paramString4);
      localObject1 = paramString1;
    }
    catch (NoSuchAlgorithmException paramString1)
    {
      for (;;)
      {
        paramString1.printStackTrace();
      }
    }
    catch (NumberFormatException paramString1)
    {
      for (;;)
      {
        paramString1.printStackTrace();
        localObject1 = str1;
      }
    }
    Logger.d("url: " + (String)localObject1);
    return localObject1;
  }
}
