package com.tencent.msdk.tools;

import android.content.Context;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;
import com.tencent.mm.sdk.openapi.IWXAPI;
import com.tencent.mm.sdk.openapi.WXAPIFactory;
import com.tencent.msdk.WeGame;
import java.lang.reflect.Field;

public class WeGameTools
{
  public static String WXPAKAGENAME = "com.tencent.mm";
  
  public WeGameTools() {}
  
  public static String WGGetPlatformAPPVersion(Context paramContext, int paramInt)
  {
    if (paramInt == WeGame.WXPLATID) {
      return "Wechat version:" + VersionHelper.getAppVersionName(paramContext, "com.tencent.mm");
    }
    if (paramInt == WeGame.QQPLATID) {
      return "QQ version:" + VersionHelper.getAppVersionName(paramContext, "com.tencent.mobileqq");
    }
    return "";
  }
  
  public static boolean isInstalledApp(Context paramContext, String paramString)
  {
    try
    {
      paramContext = paramContext.getPackageManager().getPackageInfo(paramString, 0);
      return paramContext != null;
    }
    catch (PackageManager.NameNotFoundException paramContext) {}
    return false;
  }
  
  public static boolean isPlatformInstalled(Context paramContext, int paramInt)
  {
    if (paramInt == WeGame.WXPLATID) {
      return WXAPIFactory.createWXAPI(paramContext, WeGame.getInstance().wx_appid).isWXAppInstalled();
    }
    if (paramInt == WeGame.QQPLATID) {
      return isInstalledApp(paramContext, "com.tencent.mobileqq");
    }
    return false;
  }
  
  public static boolean isPlatformSupportApi(Context paramContext, int paramInt)
  {
    if (paramInt == WeGame.WXPLATID) {
      return WXAPIFactory.createWXAPI(paramContext, WeGame.getInstance().wx_appid).isWXAppSupportAPI();
    }
    return paramInt == WeGame.QQPLATID;
  }
  
  public static int reflectResouce(String paramString1, String paramString2, String paramString3)
  {
    if ((paramString1 == null) || (paramString2 == null) || (paramString3 == null)) {
      return 0;
    }
    try
    {
      paramString1 = Class.forName(paramString1 + "$" + paramString2);
      int i = Integer.parseInt(paramString1.getField(paramString3).get(paramString1.newInstance()).toString());
      return i;
    }
    catch (Exception paramString1)
    {
      paramString1.printStackTrace();
    }
    return -1;
  }
}
