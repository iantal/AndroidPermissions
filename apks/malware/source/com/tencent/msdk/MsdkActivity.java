package com.tencent.msdk;

import android.app.Activity;
import android.app.ActivityManager;
import android.app.ActivityManager.RunningTaskInfo;
import android.os.Bundle;
import com.tencent.msdk.tools.Logger;
import java.util.List;

public class MsdkActivity
  extends Activity
{
  public MsdkActivity() {}
  
  private boolean isReduplicateGameActivity()
  {
    return getActivityNum() > 1;
  }
  
  public int getActivityNum()
  {
    Object localObject = (ActivityManager)getSystemService("activity");
    if (localObject == null) {}
    do
    {
      return 0;
      localObject = ((ActivityManager)localObject).getRunningTasks(1);
    } while (localObject == null);
    return ((ActivityManager.RunningTaskInfo)((List)localObject).get(0)).numActivities;
  }
  
  public void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    if (isReduplicateGameActivity())
    {
      Logger.d("MsdkActivity onCreate~~~.Reduplicate game activity was detected.Return immediately.");
      finish();
    }
  }
  
  protected void onDestroy()
  {
    super.onDestroy();
    if (isReduplicateGameActivity()) {
      Logger.d("MsdkActivity onDestroy~~~.Reduplicate game activity was detected.Return immediately.");
    }
  }
  
  public void onLowMemory()
  {
    Logger.d("***~~~!!!onLowMemory()!!!~~~***");
  }
  
  protected void onPause()
  {
    super.onPause();
    if (isReduplicateGameActivity())
    {
      Logger.d("MsdkActivity onPause~~~.Reduplicate game activity was detected.Return immediately.");
      return;
    }
    Logger.d("onPause()");
  }
  
  protected void onRestart()
  {
    Logger.d("MsdkActivity onRestart~~~");
    super.onRestart();
    if (isReduplicateGameActivity()) {
      Logger.d("YellowGame onRestart~~~.Reduplicate game activity was detected.Return immediately.");
    }
  }
  
  protected void onResume()
  {
    super.onResume();
    if (isReduplicateGameActivity())
    {
      Logger.d("MsdkActivity onResume~~~.Reduplicate game activity was detected.Return immediately.");
      return;
    }
    Logger.d("onResume()");
  }
  
  protected void onStart()
  {
    super.onStart();
    if (isReduplicateGameActivity())
    {
      Logger.d("MsdkActivity onStart~~~.Reduplicate game activity was detected.Return immediately.");
      return;
    }
    Logger.d("onStart()");
  }
  
  protected void onStop()
  {
    super.onStop();
    if (isReduplicateGameActivity())
    {
      Logger.d("MsdkActivity onStop~~~.Reduplicate game activity was detected.Return immediately.");
      return;
    }
    Logger.d("onStop()");
  }
}
