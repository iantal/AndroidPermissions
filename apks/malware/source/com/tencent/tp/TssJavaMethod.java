package com.tencent.tp;

import android.content.pm.ApplicationInfo;
import android.content.pm.PackageInfo;
import java.io.File;
import java.io.IOException;
import java.io.InputStream;
import java.util.jar.JarFile;

public class TssJavaMethod
{
  private static ITssJavaMethod a = null;
  public static String runtime_sdk_version = "1.7.1(2015/1/29)";
  
  static
  {
    b();
  }
  
  public TssJavaMethod() {}
  
  private static boolean a()
  {
    if (TssSdkRuntime.getPackageInfo() == null) {}
    for (;;)
    {
      return false;
      Object localObject1 = TssSdkRuntime.getPackageInfo().applicationInfo.dataDir;
      localObject1 = new File((String)localObject1 + "/files/tersafeupdate2.jar");
      if (((File)localObject1).exists() == true) {
        try
        {
          JarFile localJarFile = new JarFile(((File)localObject1).getAbsoluteFile(), true);
          if (a(localJarFile) != true)
          {
            localJarFile.close();
            return false;
          }
          Object localObject2 = localJarFile.getInputStream(localJarFile.getJarEntry("version.txt"));
          byte[] arrayOfByte = new byte['Â€'];
          localObject2 = new String(arrayOfByte, 0, ((InputStream)localObject2).read(arrayOfByte));
          localJarFile.close();
          if ("1.7.1(2015/1/29)".compareTo((String)localObject2) < 0)
          {
            runtime_sdk_version = (String)localObject2;
            b.a(((File)localObject1).getAbsolutePath(), null);
            return true;
          }
        }
        catch (IOException localIOException) {}
      }
    }
    return false;
  }
  
  private static boolean a(JarFile paramJarFile)
  {
    return true;
  }
  
  private static void b()
  {
    if (a == null) {}
    try
    {
      if (a() != true) {}
      Class localClass;
      for (a = null;; a = (ITssJavaMethod)localClass.newInstance())
      {
        if (a == null) {
          a = new g();
        }
        return;
        localClass = b.a("com.tencent.up_tp.TssJavaMethodImp");
        if (localClass == null) {
          break;
        }
      }
    }
    catch (Exception localException1)
    {
      for (;;)
      {
        if (j.c() == 1) {
          try
          {
            j.a("*#06#:" + localException1.toString());
          }
          catch (Exception localException2) {}
        }
      }
      throw new Exception("com.tencent.up_tp.TssJavaMethodImp not found");
    }
  }
  
  public static void initialize()
  {
    if (a != null) {
      a.initialize();
    }
  }
  
  public static void invokeForceUpdateRootkitAppRequest()
  {
    if (a != null) {
      a.invokeForceUpdateRootkitAppRequest();
    }
  }
  
  public static void invokeRootkitAppRequest()
  {
    if (a != null) {
      a.invokeRootkitAppRequest();
    }
  }
  
  public static void invokeRootkitIsRunningTip()
  {
    if (a != null) {
      a.invokeRootkitIsRunningTip();
    }
  }
  
  public static void scan()
  {
    if (a != null) {
      a.scan();
    }
  }
  
  public static void showMsgBoxEx()
  {
    if (a != null) {
      a.showMsgBoxEx();
    }
  }
}
