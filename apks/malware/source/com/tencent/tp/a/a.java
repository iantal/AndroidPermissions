package com.tencent.tp.a;

import android.content.Context;
import android.graphics.drawable.Drawable;
import android.util.Log;
import android.view.View;
import android.view.ViewGroup.LayoutParams;
import android.view.WindowManager;
import android.view.WindowManager.LayoutParams;
import android.widget.LinearLayout;
import android.widget.LinearLayout.LayoutParams;
import android.widget.TextView;

public class a
{
  protected static boolean f;
  protected Context a;
  protected View b;
  protected WindowManager c;
  protected TextView d;
  protected WindowManager.LayoutParams e;
  protected boolean g;
  protected boolean h;
  
  public a(Context paramContext)
  {
    this.a = paramContext;
    a(true);
  }
  
  public a(Context paramContext, boolean paramBoolean)
  {
    this.a = paramContext;
    a(paramBoolean);
  }
  
  public static boolean c()
  {
    return f;
  }
  
  private WindowManager.LayoutParams d(boolean paramBoolean)
  {
    int i = t.a(this.a);
    int j = t.b(this.a);
    WindowManager.LayoutParams localLayoutParams = new WindowManager.LayoutParams(-2, -2, 9999, 8, -2);
    localLayoutParams.gravity = 51;
    localLayoutParams.width = i;
    localLayoutParams.height = j;
    localLayoutParams.x = 0;
    localLayoutParams.y = 0;
    localLayoutParams.type = 1003;
    if (paramBoolean)
    {
      localLayoutParams.flags = 0;
      return localLayoutParams;
    }
    localLayoutParams.flags = 56;
    return localLayoutParams;
  }
  
  private boolean l()
  {
    return t.a(this.a) > t.b(this.a);
  }
  
  private View m()
  {
    LinearLayout localLinearLayout = new LinearLayout(this.a);
    Object localObject = new LinearLayout.LayoutParams(-1, -2);
    int i = t.a(this.a, 20);
    ((LinearLayout.LayoutParams)localObject).setMargins(i, i / 2, i, i);
    localLinearLayout.setLayoutParams((ViewGroup.LayoutParams)localObject);
    localLinearLayout.setGravity(17);
    View localView1 = e();
    if (localView1 != null) {
      localLinearLayout.addView(localView1);
    }
    View localView2 = f();
    if (localView2 != null) {
      localLinearLayout.addView(localView2);
    }
    localObject = localLinearLayout;
    if (localView1 == null)
    {
      localObject = localLinearLayout;
      if (localView2 == null) {
        localObject = null;
      }
    }
    return localObject;
  }
  
  protected LinearLayout a(String paramString)
  {
    return a(paramString, false, false);
  }
  
  protected LinearLayout a(String paramString, boolean paramBoolean1, boolean paramBoolean2)
  {
    Object localObject1 = new LinearLayout.LayoutParams(-1, -1);
    LinearLayout localLinearLayout = new LinearLayout(this.a);
    localLinearLayout.setLayoutParams((ViewGroup.LayoutParams)localObject1);
    localLinearLayout.setOrientation(1);
    localLinearLayout.setGravity(17);
    localLinearLayout.setBackgroundDrawable(s.a());
    if (paramBoolean2) {
      localLinearLayout.setBackgroundColor(s.a(0, 0, 0, 10));
    }
    Object localObject2;
    int j;
    if (paramBoolean1)
    {
      i = -2;
      localObject2 = new LinearLayout.LayoutParams(i, -2);
      j = t.a(this.a, 20);
      if (!l()) {
        break label395;
      }
    }
    label395:
    for (int i = j * 3;; i = j)
    {
      ((LinearLayout.LayoutParams)localObject2).setMargins(i, j, i, j);
      localObject1 = new LinearLayout(this.a);
      ((LinearLayout)localObject1).setLayoutParams((ViewGroup.LayoutParams)localObject2);
      ((LinearLayout)localObject1).setGravity(17);
      localObject2 = s.b();
      if (localObject2 != null) {
        ((LinearLayout)localObject1).setBackgroundDrawable((Drawable)localObject2);
      }
      ((LinearLayout)localObject1).setOrientation(1);
      localLinearLayout.addView((View)localObject1);
      if (paramString != null)
      {
        Object localObject3 = new LinearLayout.LayoutParams(-1, -2);
        localObject2 = new LinearLayout(this.a);
        ((LinearLayout.LayoutParams)localObject3).setMargins(1, 1, 1, 1);
        ((LinearLayout)localObject2).setLayoutParams((ViewGroup.LayoutParams)localObject3);
        localObject3 = s.c();
        if (localObject3 != null) {
          ((LinearLayout)localObject2).setBackgroundDrawable((Drawable)localObject3);
        }
        ((LinearLayout)localObject2).setGravity(17);
        localObject3 = new LinearLayout.LayoutParams(-2, -2);
        i = t.a(this.a, 13);
        ((LinearLayout.LayoutParams)localObject3).setMargins(0, i, 0, i);
        TextView localTextView = new TextView(this.a);
        localTextView.setText(paramString);
        localTextView.setTextColor(-1);
        localTextView.setTextSize(h());
        localTextView.setLayoutParams((ViewGroup.LayoutParams)localObject3);
        ((LinearLayout)localObject2).addView(localTextView);
        this.d = localTextView;
        ((LinearLayout)localObject1).addView((View)localObject2);
      }
      paramString = d();
      if (paramString != null) {
        ((LinearLayout)localObject1).addView(paramString);
      }
      paramString = m();
      if (paramString != null) {
        ((LinearLayout)localObject1).addView(paramString);
      }
      this.b = localLinearLayout;
      return localLinearLayout;
      i = -1;
      break;
    }
  }
  
  public void a()
  {
    if ((f) && (this.b != null))
    {
      this.c.removeView(this.b);
      f = false;
    }
  }
  
  protected void a(View paramView)
  {
    int i = t.a(this.a);
    int m = paramView.getWidth();
    int k = paramView.getHeight();
    int j = t.b(this.a, i);
    m = t.b(this.a, m);
    k = t.b(this.a, k);
    Log.d("tpsafe", "screen:" + i + " screen:" + j + " width:" + m + " height:" + k);
  }
  
  protected void a(boolean paramBoolean)
  {
    if (this.c == null)
    {
      this.c = ((WindowManager)this.a.getSystemService("window"));
      this.e = d(paramBoolean);
    }
  }
  
  public void b(boolean paramBoolean)
  {
    this.g = paramBoolean;
  }
  
  public boolean b()
  {
    return f;
  }
  
  public void c(boolean paramBoolean)
  {
    this.h = paramBoolean;
  }
  
  protected View d()
  {
    return null;
  }
  
  protected View e()
  {
    return null;
  }
  
  protected View f()
  {
    return null;
  }
  
  protected WindowManager.LayoutParams g()
  {
    return new WindowManager.LayoutParams(-1, -2);
  }
  
  protected int h()
  {
    return 22;
  }
  
  protected int i()
  {
    int i = t.a(this.a);
    i = t.b(this.a, i);
    if (i > 400) {
      return 147;
    }
    if (i > 350) {
      return 130;
    }
    if (i > 300) {
      return 110;
    }
    return 100;
  }
  
  protected int j()
  {
    return 45;
  }
  
  protected int k()
  {
    int i = t.a(this.a);
    if (t.b(this.a, i) > 400) {
      return 20;
    }
    return 15;
  }
}
