package com.tencent.beacon.scheduler.d;

import com.tencent.b.d;
import com.tencent.beacon.scheduler.AccessIP;
import com.tencent.beacon.scheduler.a.c.a.a;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.Map;
import java.util.Set;

public class a
{
  private String a;
  private String b;
  private String c;
  private int d;
  private String e;
  private String f;
  private ArrayList g;
  private int h;
  private int i;
  private int j;
  private String k;
  private Exception l;
  private AccessIP m;
  private boolean n;
  private int o;
  private int p;
  private int q;
  private int r;
  
  public a() {}
  
  public String a()
  {
    return this.a;
  }
  
  public void a(int paramInt)
  {
    this.d = paramInt;
  }
  
  public void a(String paramString)
  {
    this.a = paramString;
  }
  
  public void a(Set paramSet)
  {
    this.g = new ArrayList();
    this.g.addAll(paramSet);
  }
  
  public String b()
  {
    return this.b;
  }
  
  public void b(int paramInt)
  {
    this.h = paramInt;
  }
  
  public void b(String paramString)
  {
    this.b = paramString;
  }
  
  public String c()
  {
    return this.c;
  }
  
  public void c(int paramInt)
  {
    this.i = paramInt;
  }
  
  public void c(String paramString)
  {
    this.c = paramString;
  }
  
  public int d()
  {
    return this.d;
  }
  
  public void d(String paramString)
  {
    this.e = paramString;
  }
  
  public String e()
  {
    return this.e;
  }
  
  public void e(String paramString)
  {
    this.f = paramString;
  }
  
  public ArrayList f()
  {
    return this.g;
  }
  
  public int g()
  {
    return this.h;
  }
  
  public int h()
  {
    return this.i;
  }
  
  public b i()
  {
    Object localObject1 = new com.tencent.a.b(this.a, this.b, this.c, this.d, this.e, this.h, this.i, this.f, this.g);
    Object localObject2 = new d();
    ((d)localObject2).a(1);
    ((d)localObject2).b("#dispatcher.DispatchService");
    ((d)localObject2).a("dispatch");
    ((d)localObject2).a("req", localObject1);
    localObject1 = ((d)localObject2).a();
    if (localObject1 == null)
    {
      this.j = -2;
      com.tencent.beacon.scheduler.e.c.c("ScheduleRequestImpl", "req encode fail...");
      return null;
    }
    localObject2 = new com.tencent.beacon.scheduler.b.b();
    ((com.tencent.beacon.scheduler.b.a)localObject2).a((byte[])localObject1);
    this.n = com.tencent.beacon.scheduler.e.b.e();
    this.m = ((com.tencent.beacon.scheduler.b.a)localObject2).i();
    this.o = ((com.tencent.beacon.scheduler.b.a)localObject2).e();
    this.p = ((com.tencent.beacon.scheduler.b.a)localObject2).f();
    this.q = ((com.tencent.beacon.scheduler.b.a)localObject2).g();
    this.r = ((com.tencent.beacon.scheduler.b.a)localObject2).h();
    if (((com.tencent.beacon.scheduler.b.a)localObject2).b() == 0)
    {
      localObject2 = ((com.tencent.beacon.scheduler.b.a)localObject2).a();
      localObject1 = new d();
      Object localObject3 = new com.tencent.a.c();
      for (;;)
      {
        Object localObject4;
        try
        {
          ((d)localObject1).a((byte[])localObject2);
          localObject1 = (com.tencent.a.c)((d)localObject1).b("rsp", localObject3);
          localObject2 = new b();
          localObject3 = com.tencent.beacon.scheduler.e.b.a();
          long l1 = System.currentTimeMillis();
          if ((((String)localObject3).equals("unkonwn")) || (!((String)localObject3).equals(this.f))) {
            break label582;
          }
          if ((((com.tencent.a.c)localObject1).a == null) || (((com.tencent.a.c)localObject1).a.size() <= 0)) {
            break label533;
          }
          localObject3 = new com.tencent.beacon.scheduler.a.c.a(this.f);
          Iterator localIterator = ((com.tencent.a.c)localObject1).a.keySet().iterator();
          if (!localIterator.hasNext()) {
            break;
          }
          localObject4 = (String)localIterator.next();
          Object localObject5 = (ArrayList)((com.tencent.a.c)localObject1).a.get(localObject4);
          localObject4 = new a.a((String)localObject4, l1);
          localObject5 = ((ArrayList)localObject5).iterator();
          if (!((Iterator)localObject5).hasNext()) {
            break label516;
          }
          String str = (String)((Iterator)localObject5).next();
          AccessIP localAccessIP = new AccessIP();
          if (localAccessIP.setIpPortStr(str))
          {
            ((a.a)localObject4).a(localAccessIP);
            continue;
          }
          com.tencent.beacon.scheduler.e.c.c("ScheduleRequestImpl", "parse ipPort fail. ipPort:" + str);
        }
        catch (Exception localException)
        {
          com.tencent.beacon.scheduler.e.c.b("ScheduleRequestImpl", "wup decode fail.", localException);
          com.tencent.beacon.scheduler.e.c.c("ScheduleRequestImpl", "rspBuff:" + com.tencent.beacon.scheduler.a.b.b((byte[])localObject2));
          this.j = -8;
          this.k = com.tencent.beacon.scheduler.a.b.b((byte[])localObject2);
          this.l = localException;
          return null;
        }
        continue;
        label516:
        ((com.tencent.beacon.scheduler.a.c.a)localObject3).a((a.a)localObject4);
      }
      ((b)localObject2).a((com.tencent.beacon.scheduler.a.c.a)localObject3);
      for (;;)
      {
        label533:
        if (localException.b != null) {
          ((b)localObject2).a(new com.tencent.beacon.scheduler.a.a.c(localException.b));
        }
        if (localException.c != null) {
          ((b)localObject2).a(new com.tencent.beacon.scheduler.a.a.b(localException.c));
        }
        return localObject2;
        label582:
        ((b)localObject2).a(null);
        this.j = -9;
        this.k = ("req apn:" + this.f + ",current apn:" + (String)localObject3);
      }
    }
    this.j = ((com.tencent.beacon.scheduler.b.a)localObject2).b();
    this.k = ((com.tencent.beacon.scheduler.b.a)localObject2).d();
    this.l = ((com.tencent.beacon.scheduler.b.a)localObject2).c();
    return null;
  }
  
  public AccessIP j()
  {
    return this.m;
  }
  
  public boolean k()
  {
    return this.n;
  }
  
  public int l()
  {
    return this.j;
  }
  
  public String m()
  {
    return this.k;
  }
  
  public Exception n()
  {
    return this.l;
  }
  
  public int o()
  {
    return this.o;
  }
  
  public int p()
  {
    return this.p;
  }
  
  public int q()
  {
    return this.q;
  }
  
  public int r()
  {
    return this.r;
  }
}
