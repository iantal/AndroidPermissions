package com.zhangzhifu.sdk.e;

import android.content.Context;
import android.os.Build.VERSION;
import android.text.TextPaint;
import android.util.AttributeSet;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.animation.AnimationSet;
import android.view.animation.RotateAnimation;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.ProgressBar;
import android.widget.RelativeLayout;
import android.widget.RelativeLayout.LayoutParams;
import android.widget.TextView;
import com.b.a.a;
import com.b.a.e;

public class c
  extends RelativeLayout
  implements View.OnClickListener
{
  public a a;
  RelativeLayout b;
  ProgressBar c;
  public Button d;
  public Button e;
  private e f;
  private TextView g;
  private RelativeLayout h = new RelativeLayout(getContext(), null);
  private ImageView i;
  private d j;
  
  public c(Context paramContext, AttributeSet paramAttributeSet)
  {
    super(paramContext, paramAttributeSet);
    this.h.setBackgroundDrawable(com.zhangzhifu.sdk.util.d.b("zhangpay_pic/loading_bg.png", getContext()));
    int k = (int)(290.0F * com.zhangzhifu.sdk.util.d.a(getContext()));
    int m = (int)(110.0F * com.zhangzhifu.sdk.util.d.a(getContext()));
    com.zhangzhifu.sdk.util.d.a(getContext());
    paramContext = new RelativeLayout.LayoutParams(k, m);
    paramContext.addRule(13, -1);
    this.h.setId(1000);
    addView(this.h, paramContext);
    this.c = new ProgressBar(getContext());
    k = (int)(com.zhangzhifu.sdk.util.d.a(getContext()) * 60.0F);
    m = (int)(com.zhangzhifu.sdk.util.d.a(getContext()) * 60.0F);
    paramContext = new RelativeLayout.LayoutParams(k, m);
    paramContext.addRule(11, -1);
    paramContext.topMargin = ((int)(com.zhangzhifu.sdk.util.d.a(getContext()) * 10.0F));
    this.b = new RelativeLayout(getContext());
    this.b.setId(4000);
    this.h.addView(this.b, paramContext);
    paramContext = new RelativeLayout.LayoutParams(k, m);
    paramContext.addRule(11, -1);
    this.i = new ImageView(getContext());
    this.i.setBackgroundDrawable(com.zhangzhifu.sdk.util.d.b("zhangpay_pic/loading_360.png", getContext()));
    paramAttributeSet = new AnimationSet(true);
    RotateAnimation localRotateAnimation = new RotateAnimation(0.0F, 360.0F, 1, 0.5F, 1, 0.5F);
    localRotateAnimation.setDuration(1000L);
    localRotateAnimation.setRepeatCount(120);
    paramAttributeSet.addAnimation(localRotateAnimation);
    this.i.startAnimation(paramAttributeSet);
    this.b.addView(this.i, paramContext);
    k = (int)(com.zhangzhifu.sdk.util.d.a(getContext()) * 10.0F);
    paramContext = new RelativeLayout.LayoutParams(-1, -2);
    paramContext.addRule(9, -1);
    paramContext.topMargin = k;
    this.f = new e(getContext());
    this.f.getPaint().setFakeBoldText(true);
    this.f.setId(3009);
    this.f.setTextSize(18.0F);
    this.f.setTextColor(-1);
    this.f.setText("安全加载中");
    if (Build.VERSION.SDK_INT > 10)
    {
      if ((this.a == null) || (!this.a.b())) {
        break label598;
      }
      this.a.a();
    }
    for (;;)
    {
      this.h.addView(this.f, paramContext);
      k = (int)(20.0F * com.zhangzhifu.sdk.util.d.a(getContext()));
      paramContext = new RelativeLayout.LayoutParams(-1, -2);
      paramContext.addRule(9, -1);
      paramContext.addRule(3, this.f.getId());
      paramContext.topMargin = k;
      this.g = new TextView(getContext());
      this.g.setId(3010);
      this.g.getPaint().setFakeBoldText(true);
      this.g.setTextSize(11.0F);
      this.g.setTextColor(-1);
      this.g.setText("   提醒：为保障计费结果的准确性，请勿进行其他操作，\n   如有疑问请致电0755-86700489");
      this.h.addView(this.g, paramContext);
      return;
      label598:
      this.a = new a();
      this.a.a(this.f);
    }
  }
  
  public void onClick(View paramView)
  {
    if (paramView == this.e) {
      if (this.j != null) {
        this.j.a();
      }
    }
    while ((paramView != this.d) || (this.j == null)) {
      return;
    }
    this.j.b();
  }
  
  public void setBtnClick(d paramD)
  {
    this.j = paramD;
  }
  
  public void setLoadingText(String paramString)
  {
    this.f.setText(paramString);
  }
}
