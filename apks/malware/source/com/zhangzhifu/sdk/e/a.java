package com.zhangzhifu.sdk.e;

import android.content.Context;
import android.graphics.Color;
import android.util.AttributeSet;
import android.view.View;
import android.view.View.OnClickListener;
import android.webkit.WebSettings;
import android.webkit.WebView;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.RelativeLayout;
import android.widget.RelativeLayout.LayoutParams;
import android.widget.TextView;
import com.zhangzhifu.sdk.a.e;
import com.zhangzhifu.sdk.util.d;
import com.zhangzhifu.sdk.util.h;

public class a
  extends RelativeLayout
  implements View.OnClickListener
{
  public static String d;
  public static String e;
  public Button a;
  public Button b;
  public TextView c;
  private RelativeLayout f = new RelativeLayout(getContext(), null);
  private ImageView g;
  private TextView h;
  private WebView i;
  private b j;
  
  public a(Context paramContext, AttributeSet paramAttributeSet)
  {
    super(paramContext, paramAttributeSet);
    setBackgroundColor(Color.argb(102, 0, 0, 0));
    paramContext = h.a(getContext(), "zhangpay_pic/zhangpay_bg.9.png");
    this.f.setBackgroundDrawable(paramContext);
    int k = (int)(d.a(getContext()) * 250.0F);
    int m = (int)(d.a(getContext()) * 250.0F);
    d.a(getContext());
    paramContext = new RelativeLayout.LayoutParams(k, m);
    paramContext.addRule(13, -1);
    this.f.setId(1996);
    addView(this.f, paramContext);
    k = (int)(50.0F * d.a(getContext()));
    m = (int)(d.a(getContext()) * 250.0F);
    d.a(getContext());
    paramContext = new RelativeLayout.LayoutParams(m, k);
    paramContext.addRule(13, -1);
    paramContext.addRule(10, -1);
    this.g = new ImageView(getContext());
    this.g.setImageBitmap(d.a("zhangpay_pic/zhangpay_top_title.png", getContext(), m, k));
    this.g.setId(1997);
    this.f.addView(this.g, paramContext);
    k = (int)(220.0F * d.a(getContext()));
    m = (int)(d.a(getContext()) * 100.0F);
    int n = (int)(5.0F * d.a(getContext()));
    paramContext = new RelativeLayout.LayoutParams(k, m);
    paramContext.addRule(3, this.g.getId());
    paramContext.topMargin = n;
    paramContext.addRule(14, -1);
    this.h = new TextView(getContext());
    this.h.setTextSize(15.0F);
    Integer.valueOf(e.a().l(getContext())).intValue();
    this.h.setTextColor(-16777216);
    paramAttributeSet = e.q(getContext()).replace("X.XX", e.c(getContext()).subSequence(0, e.c(getContext()).length() - 1) + ".00");
    this.h.setText("商品名称:" + e.e(getContext()) + "\n商品价格:" + e.c(getContext()) + "\n商品概述:" + paramAttributeSet);
    this.h.setTextColor(-1728053248);
    this.h.setId(1998);
    this.f.addView(this.h, paramContext);
    k = (int)(220.0F * d.a(getContext()));
    m = (int)(170.0F * d.a(getContext()));
    n = (int)(75.0F * d.a(getContext()));
    paramContext = new RelativeLayout.LayoutParams(k, m);
    paramContext.addRule(3, this.g.getId());
    paramContext.topMargin = n;
    paramContext.addRule(14, -1);
    this.h = new TextView(getContext());
    this.h.setTextSize(14.0F);
    this.h.setTextColor(Color.rgb(82, 161, 232));
    this.h.setId(2000);
    this.f.addView(this.h, paramContext);
    k = (int)(20.0F * d.a(getContext()));
    m = (int)(150.0F * d.a(getContext()));
    paramContext = new RelativeLayout.LayoutParams((int)(200.0F * d.a(getContext())), m);
    paramContext.addRule(12, -1);
    paramContext.addRule(13, -1);
    paramContext.leftMargin = k;
    paramContext.rightMargin = k;
    paramContext.bottomMargin = k;
    this.i = new WebView(getContext());
    this.i.setId(2001);
    this.i.setScrollBarStyle(0);
    k = (int)(40.0F * d.a(getContext()));
    m = (int)(180.0F * d.a(getContext()));
    n = (int)(10.0F * d.a(getContext()));
    paramContext = new RelativeLayout.LayoutParams(m, k);
    paramContext.addRule(13, -1);
    paramContext.bottomMargin = ((int)(6.0F * d.a(getContext())));
    paramContext.addRule(12, this.i.getId());
    paramContext.topMargin = n;
    this.a = new Button(getContext());
    this.a.setOnClickListener(this);
    this.a.setBackgroundDrawable(d.a(getContext(), "zhangpay_pic/button_normal.9.png", "zhangpay_pic/button_on.9.png", "zhangpay_pic/button_on.9.png", "zhangpay_pic/button_on.9.png"));
    this.a.setId(2002);
    this.a.setText("确认");
    this.a.setTextColor(-1);
    this.a.setTextSize(22.0F);
    this.f.addView(this.a, paramContext);
    paramContext = new RelativeLayout.LayoutParams((int)(d.a(getContext()) * 100.0F), (int)(d.a(getContext()) * 100.0F));
    paramContext.addRule(11, this.a.getId());
    paramContext.leftMargin = ((int)(213.0F * d.a(getContext())));
    paramContext.topMargin = ((int)(230.0F * d.a(getContext())));
    this.c = new TextView(getContext());
    this.c.setTextSize(8.0F);
    this.c.setTextColor(-7829368);
    this.a.setId(2004);
    this.c.setText("v3.4.15");
    this.f.addView(this.c, paramContext);
    k = (int)(1.0F * d.a(getContext()));
    m = (int)(40.0F * d.a(getContext()));
    paramContext = new RelativeLayout.LayoutParams(m, m);
    paramContext.addRule(10, -1);
    paramContext.addRule(11, -1);
    paramContext.rightMargin = k;
    paramContext.topMargin = k;
    this.b = new Button(getContext());
    this.b.setOnClickListener(this);
    this.b.setBackgroundDrawable(d.a(getContext(), "zhangpay_pic/close_normal.9.png", "zhangpay_pic/close_pressed.9.png", "zhangpay_pic/close_pressed.9.png", "zhangpay_pic/close_pressed.9.png"));
    this.b.setId(2003);
    this.f.addView(this.b, paramContext);
  }
  
  public void a()
  {
    if (e != null) {
      this.h.setText(e);
    }
    if (d != null)
    {
      this.i.getSettings().setDefaultTextEncodingName("utf-8");
      this.i.loadDataWithBaseURL(null, d, "text/html", "utf-8", null);
    }
  }
  
  public void onClick(View paramView)
  {
    if (paramView == this.b) {
      if (this.j != null) {
        this.j.b();
      }
    }
    while ((paramView != this.a) || (this.j == null)) {
      return;
    }
    this.j.a();
  }
  
  public void setBtnClick(b paramB)
  {
    this.j = paramB;
  }
  
  public void setFeeViewText(String paramString)
  {
    this.h.setText(paramString);
  }
}
