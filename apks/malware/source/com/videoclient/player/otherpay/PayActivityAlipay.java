package com.videoclient.player.otherpay;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.os.Handler;
import android.view.View;
import android.widget.Toast;
import com.jiexinhongye.libforztool.android.ZPhoneInfo;
import com.jshyproject.price.channel.Data;
import com.videoclient.player.c.a;
import java.io.UnsupportedEncodingException;
import java.net.URLEncoder;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Locale;
import java.util.Random;

public class PayActivityAlipay
  extends Activity
{
  public static String a = "";
  private String b;
  private String c;
  private String d;
  private Handler e = new d(this);
  
  public PayActivityAlipay() {}
  
  public String a()
  {
    String str = new SimpleDateFormat("MMddHHmmss", Locale.getDefault()).format(new Date());
    Object localObject = new Random();
    str = (str + ((Random)localObject).nextInt()).substring(0, 15);
    localObject = "fee=20&body=videovip&tradeno=" + str + "&deviceId=" + ZPhoneInfo.getIMEI(this) + "&imsi=" + ZPhoneInfo.getIMSI(this) + "&userId=" + ZPhoneInfo.getIMEI(this) + "&subject=videovip&seller=" + "jshy@zlewx.com" + "&channelNo=" + Data.getChannelKey(this);
    b.a(b.a, (String)localObject);
    a = str;
    return str;
  }
  
  public String a(String paramString)
  {
    return h.a(paramString, "MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAMc4W3Cjc/Y77IZJ+vgYFV/sq9ESRSc9rQpclNEyvOvXZbndJ9gVI8RlocqaMU8pqZkcgdVa4KKoIwusOzbuYwUUHqqHYpGPBxco6OlyM5zdFO/lWlIoDSYZabzzsjg7n+WLICFfTGqDOQzg4WQwgwW0SPCKB0bkiCkH4/7R/pOBAgMBAAECgYBQFj3cODlj4Y8iJRd5KOVe3JvtvnSCY+7uXW2N8+GyxbKlV1yvJ0BrsZerBPWRp2QAo08mYBQyD3mXNbPQT2EKcXSJZgJGao1UzPIbTy+GS5QlbS7jxrDdYwAXZK8A8+qkhkQ1rU8vnFVteh1sEwx3aIGmpb5Q5gzqpzdCK/ju4QJBAPTHkjobrkmFisY3W/UbYlkOVP5sDgzaewGVdeas32aOai0pdmOwMRp9JYNT2HIZMIsdEpHfMLtC5TXK787tyjUCQQDQWig7cKCRKfKVqMkeOw8NIE5b+g2PWMvmAZzN4IEXB7jOuujsNduqaOeBhBRvkM/seDryLlt/PzvQDuaY7W2dAkAW/SNLl8vvlb4pzYsyYucCrCjpWCadqGtDA9F136h/jkKEiU9YH3UNItHCGr7KQHlhp1JWJtsBy0+RlMSe75A9AkEApXMSg7D6MIwI8MMpgfIQD7JZxzwXzH8M20boh6wBlpIxNSjDkd9q4jWPsQ97UuTB19vZozsguTkzfBJ5F3NjGQJBAKFBDs+J7S84qt896YzfX15IDx0HBLPflMtBE9r4tBd8y+2SS8+It5CILuT0ehKVogM0S7aAX1wbi3aPf9k894M=");
  }
  
  public String a(String paramString1, String paramString2, String paramString3)
  {
    return new StringBuilder(String.valueOf(new StringBuilder(String.valueOf(new StringBuilder(String.valueOf(new StringBuilder(String.valueOf(new StringBuilder(String.valueOf(new StringBuilder(String.valueOf(new StringBuilder(String.valueOf(new StringBuilder(String.valueOf(new StringBuilder(String.valueOf(new StringBuilder(String.valueOf("partner=\"2088021162301392\"")).append("&seller_id=\"jshy@zlewx.com\"").toString())).append("&out_trade_no=\"").append(a()).append("\"").toString())).append("&subject=\"").append(paramString1).append("\"").toString())).append("&body=\"").append(paramString2).append("\"").toString())).append("&total_fee=\"").append(paramString3).append("\"").toString())).append("&notify_url=\"").append(b.b).append("\"").toString())).append("&service=\"mobile.securitypay.pay\"").toString())).append("&payment_type=\"1\"").toString())).append("&_input_charset=\"utf-8\"").toString())).append("&it_b_pay=\"30m\"").toString() + "&return_url=\"m.alipay.com\"";
  }
  
  public String b()
  {
    return "sign_type=\"RSA\"";
  }
  
  public void check(View paramView)
  {
    new Thread(new f(this)).start();
  }
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    setContentView(2130903082);
    paramBundle = getIntent();
    this.d = paramBundle.getStringExtra("total_fee");
    this.c = paramBundle.getStringExtra("body");
    this.b = paramBundle.getStringExtra("subject");
    com.baidu.a.f.a(this, "alipay", "支付宝支付");
  }
  
  public void pay(View paramView)
  {
    if (a.b)
    {
      Toast.makeText(this, "有订单正在支付", 0).show();
      return;
    }
    a.b = false;
    String str2 = a(this.b, this.c, this.d);
    paramView = a(str2);
    try
    {
      String str1 = URLEncoder.encode(paramView, "UTF-8");
      paramView = str1;
    }
    catch (UnsupportedEncodingException localUnsupportedEncodingException)
    {
      for (;;)
      {
        localUnsupportedEncodingException.printStackTrace();
      }
    }
    new Thread(new e(this, str2 + "&sign=\"" + paramView + "\"&" + b())).start();
  }
}
