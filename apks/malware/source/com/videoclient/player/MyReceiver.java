package com.videoclient.player;

import android.annotation.SuppressLint;
import android.app.DownloadManager;
import android.app.DownloadManager.Query;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.res.Resources;
import android.database.Cursor;
import android.net.Uri;
import android.os.Build.VERSION;
import com.jshymedia.jshypay.ztool.Zlog;

public class MyReceiver
  extends BroadcastReceiver
{
  public MyReceiver() {}
  
  @SuppressLint({"NewApi"})
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    Zlog.syso("video_receiver:" + paramIntent.getAction());
    if ("android.intent.action.PACKAGE_REMOVED".equals(paramIntent.getAction())) {}
    int i;
    int j;
    do
    {
      do
      {
        long l;
        do
        {
          do
          {
            return;
            if (("android.intent.action.PACKAGE_ADDED".equals(paramIntent.getAction())) && (paramIntent.getDataString().substring(8).equals(paramContext.getResources().getString(2131034132)))) {
              paramContext.startService(new Intent("O_ACTION_PUSH_START"));
            }
          } while (!"android.intent.action.DOWNLOAD_COMPLETE".equals(paramIntent.getAction()));
          localObject = (DownloadManager)paramContext.getSystemService("download");
          i = Build.VERSION.SDK_INT;
          Zlog.syso("下载管理器，下载完成。。。。。。。");
          l = paramIntent.getLongExtra("extra_download_id", 0L);
        } while ((l == 0L) || (i < 9));
        paramIntent = new DownloadManager.Query();
        paramIntent.setFilterById(new long[] { l });
        localObject = ((DownloadManager)localObject).query(paramIntent);
      } while (!((Cursor)localObject).moveToFirst());
      i = ((Cursor)localObject).getColumnIndex("status");
      j = ((Cursor)localObject).getColumnIndex("media_type");
    } while (8 != ((Cursor)localObject).getInt(i));
    paramIntent = ((Cursor)localObject).getString(((Cursor)localObject).getColumnIndex("local_uri"));
    Object localObject = ((Cursor)localObject).getString(j);
    Zlog.syso("typeMedia:" + (String)localObject);
    Intent localIntent = new Intent("android.intent.action.VIEW");
    localIntent.setDataAndType(Uri.parse(paramIntent), (String)localObject);
    localIntent.setFlags(268435456);
    paramContext.startActivity(localIntent);
  }
}
