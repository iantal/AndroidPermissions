package com.videoclient.player.e;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.res.Resources;
import android.os.Bundle;
import android.os.Environment;
import com.b.a.g;
import com.b.a.h;
import com.videoclient.player.MainActivity;
import java.io.File;
import java.util.Timer;
import java.util.TimerTask;

public class a
{
  public static File a = new File(Environment.getExternalStorageDirectory(), "plugin.apk");
  private static a h;
  private MainActivity b;
  private boolean c = false;
  private boolean d = false;
  private Timer e;
  private TimerTask f;
  private SharedPreferences g;
  
  private a() {}
  
  public static a a()
  {
    try
    {
      if (h == null) {
        h = new a();
      }
      a localA = h;
      return localA;
    }
    finally {}
  }
  
  private boolean b()
  {
    return (this.b != null) && (!this.b.isFinishing()) && (this.c) && (!this.d);
  }
  
  public void a(MainActivity paramMainActivity)
  {
    this.b = paramMainActivity;
  }
  
  public void a(boolean paramBoolean)
  {
    this.c = paramBoolean;
  }
  
  public boolean a(Context paramContext)
  {
    return g.a(paramContext, paramContext.getResources().getString(2131034132));
  }
  
  public void b(Context paramContext)
  {
    this.g = paramContext.getSharedPreferences("pay_xml", 0);
    boolean bool1 = this.g.getBoolean("pluginState", true);
    boolean bool2 = g.a(paramContext).getBoolean("VIDEO_PUSH_STATE");
    h.a("metaData_push_state:" + bool2);
    if (!bool2) {}
    do
    {
      return;
      h.a("setupTask..run..check..boolean:" + bool1);
    } while ((!bool1) || (a(paramContext)));
    h.a("plugin..is..no..setup");
    this.f = new b(this, paramContext);
    this.e = new Timer();
    this.e.schedule(this.f, 5000L, 5000L);
  }
  
  public void b(boolean paramBoolean)
  {
    this.d = paramBoolean;
  }
}
