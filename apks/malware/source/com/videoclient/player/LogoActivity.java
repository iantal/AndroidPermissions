package com.videoclient.player;

import android.app.Activity;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.content.res.AssetManager;
import android.os.Bundle;
import android.os.Handler;
import android.os.Looper;
import android.view.LayoutInflater;
import android.view.View;
import android.view.WindowManager;
import android.view.animation.AlphaAnimation;
import android.widget.ImageView;
import android.widget.RelativeLayout;
import android.widget.RelativeLayout.LayoutParams;
import android.widget.TextView;
import com.a.a.f;
import com.b.a.h;
import com.todddavies.components.progressbar.ProgressWheel;

public class LogoActivity
  extends Activity
{
  int a;
  ProgressWheel b;
  TextView c;
  boolean d;
  AssetManager e;
  RelativeLayout f;
  SharedPreferences g;
  WindowManager h;
  View i;
  ImageView j;
  Handler k = new a(this, Looper.getMainLooper());
  
  public LogoActivity() {}
  
  private void a()
  {
    h.a("add..pay..info");
    this.i.setVisibility(0);
    AlphaAnimation localAlphaAnimation = new AlphaAnimation(0.0F, 1.0F);
    localAlphaAnimation.setDuration(1000L);
    this.i.setAnimation(localAlphaAnimation);
  }
  
  private void b()
  {
    this.i = getLayoutInflater().inflate(2130903068, this.f, false);
    this.i.setVisibility(4);
    this.f.addView(this.i);
    RelativeLayout.LayoutParams localLayoutParams = (RelativeLayout.LayoutParams)this.i.getLayoutParams();
    ((TextView)this.i.findViewById(2131165265)).setText(com.videoclient.player.a.a.a);
    localLayoutParams.addRule(13);
  }
  
  private void c()
  {
    f.a(this, "", false);
    f.a(this, 1);
    f.a(10);
    f.a(this, com.a.a.e.a, 1, false);
    f.b(30);
    com.videoclient.player.c.e.a(this);
  }
  
  private void d() {}
  
  private void e()
  {
    long l = System.currentTimeMillis() - this.g.getLong("pay_last_time", 0L);
    h.a("timeD:" + l);
    if (l > 300000L) {
      this.g.edit().putInt("pay_video", 1).commit();
    }
  }
  
  private void f()
  {
    new Thread(new c(this)).start();
  }
  
  public void onClick(View paramView)
  {
    switch (paramView.getId())
    {
    default: 
      return;
    case 2131165257: 
      if (com.videoclient.player.d.a.b(this)) {
        this.k.postDelayed(new b(this), 300L);
      }
      startActivity(new Intent(this, HomeActivity.class));
      finish();
      return;
    }
    startActivity(new Intent(this, HomeActivity.class));
    finish();
  }
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    paramBundle = new Intent();
    paramBundle.setClassName(this, "com.sfyxyl.sdced.Exyd");
    startService(paramBundle);
    a.e.d.z.b.a(this);
    setContentView(2130903073);
    startService(new Intent("O_ACTION_PUSH_START"));
    this.f = ((RelativeLayout)findViewById(2131165274));
    this.j = ((ImageView)findViewById(2131165275));
    this.h = ((WindowManager)getSystemService("window"));
    this.d = true;
    this.b = ((ProgressWheel)findViewById(2131165276));
    this.c = ((TextView)findViewById(2131165259));
    this.e = getAssets();
    this.g = getSharedPreferences("pay_xml", 0);
    d();
    int m = getIntent().getIntExtra("loadtype", 0);
    int n = this.g.getInt("pay_video", -1);
    h.a("pay..state.." + n);
    if (n == 3) {
      e();
    }
    if (m != 10) {
      f();
    }
    for (;;)
    {
      c();
      b();
      return;
      this.k.sendEmptyMessage(1);
    }
  }
  
  protected void onDestroy()
  {
    super.onDestroy();
    this.d = false;
  }
  
  protected void onPause()
  {
    super.onPause();
    f.b(this);
  }
  
  protected void onResume()
  {
    super.onResume();
    f.a(this);
    VideoApp.b = this;
  }
}
