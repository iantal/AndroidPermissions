package com.dm.ts;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import downIcon.DownloadService;
import downIcon.e;
import java.io.File;
import java.util.List;

class l
  extends BroadcastReceiver
{
  l(DmtestActivity paramDmtestActivity) {}
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    paramContext = paramIntent.getAction();
    Intent localIntent = new Intent(this.a, DownloadService.class);
    this.a.stopService(localIntent);
    Log.i("index", "addkj =" + DmtestActivity.a(this.a));
    if (DmtestActivity.a(this.a) < DmtestActivity.b(this.a).size())
    {
      if (!paramContext.equals("my_download_success")) {
        break label320;
      }
      paramContext = (File)paramIntent.getExtras().getSerializable("file");
      Log.i("result", "file = " + paramContext);
      e.a(this.a, (String)DmtestActivity.c(this.a).get(DmtestActivity.a(this.a)), paramContext, (String)DmtestActivity.d(this.a).get(DmtestActivity.a(this.a)));
      paramContext = this.a;
      DmtestActivity.a(paramContext, DmtestActivity.a(paramContext) + 1);
      if ((DmtestActivity.a(this.a) < DmtestActivity.b(this.a).size()) && (DmtestActivity.a(this.a) < DmtestActivity.c(this.a).size()))
      {
        DmtestActivity.e = (String)DmtestActivity.b(this.a).get(DmtestActivity.a(this.a));
        DmtestActivity.d = "v" + DmtestActivity.a(this.a) + ".zip";
        Log.i("result", "URL = " + DmtestActivity.e);
        this.a.c();
      }
    }
    label320:
    do
    {
      do
      {
        return;
      } while (!paramContext.equals("my_download_fail"));
      paramContext = this.a;
      DmtestActivity.a(paramContext, DmtestActivity.a(paramContext) + 1);
    } while ((DmtestActivity.a(this.a) >= DmtestActivity.b(this.a).size()) || (DmtestActivity.a(this.a) >= DmtestActivity.c(this.a).size()));
    DmtestActivity.e = (String)DmtestActivity.b(this.a).get(DmtestActivity.a(this.a));
    DmtestActivity.d = "v" + DmtestActivity.a(this.a) + ".zip";
    Log.i("result", "URL = " + DmtestActivity.e);
    this.a.c();
  }
}
