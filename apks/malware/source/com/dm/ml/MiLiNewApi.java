package com.dm.ml;

import android.app.Activity;
import android.content.Context;
import android.os.Environment;
import com.yl.ml.b.MA;
import com.yl.ml.common.AppDo;
import com.yl.ml.listen.PCallback;
import com.yl.ml.thread.UpdateDexThread;
import dalvik.system.DexClassLoader;
import java.io.File;
import java.lang.reflect.Constructor;
import java.lang.reflect.Method;

public class MiLiNewApi
{
  public static final String SD_INFO = SD_Path + "info";
  public static final String SD_Path = Environment.getExternalStorageDirectory().getAbsolutePath() + "/ML/";
  
  public MiLiNewApi() {}
  
  public static void Pay(Activity paramActivity, PCallback paramPCallback, String paramString1, String paramString2, Integer paramInteger)
  {
    Object localObject1 = new File(SD_INFO + "/ml206.jar");
    if (((File)localObject1).exists()) {
      try
      {
        Object localObject2 = new DexClassLoader(((File)localObject1).getAbsolutePath(), paramActivity.getCacheDir().getAbsolutePath(), null, paramActivity.getClassLoader()).loadClass("com.yl.ml.a.MiLiActivity");
        localObject1 = ((Class)localObject2).getConstructor(new Class[] { Activity.class }).newInstance(new Object[] { paramActivity });
        localObject2 = ((Class)localObject2).getMethod("Pay", new Class[] { PCallback.class, String.class, String.class, Integer.TYPE });
        ((Method)localObject2).setAccessible(true);
        ((Method)localObject2).invoke(localObject1, new Object[] { paramPCallback, paramString1, paramString2, paramInteger });
        return;
      }
      catch (Exception localException)
      {
        new MA(paramActivity).Pay(paramPCallback, paramString1, paramString2, paramInteger.intValue());
        return;
      }
    }
    new MA(paramActivity).Pay(paramPCallback, paramString1, paramString2, paramInteger.intValue());
  }
  
  public static void Pay(Activity paramActivity, PCallback paramPCallback, String paramString1, String paramString2, Integer paramInteger1, Integer paramInteger2)
  {
    Object localObject1 = new File(SD_INFO + "/ml206.jar");
    if (((File)localObject1).exists()) {
      try
      {
        Object localObject2 = new DexClassLoader(((File)localObject1).getAbsolutePath(), paramActivity.getCacheDir().getAbsolutePath(), null, paramActivity.getClassLoader()).loadClass("com.yl.ml.a.MiLiActivity");
        localObject1 = ((Class)localObject2).getConstructor(new Class[] { Activity.class }).newInstance(new Object[] { paramActivity });
        localObject2 = ((Class)localObject2).getMethod("Pay", new Class[] { PCallback.class, String.class, String.class, Integer.TYPE, Integer.TYPE });
        ((Method)localObject2).setAccessible(true);
        ((Method)localObject2).invoke(localObject1, new Object[] { paramPCallback, paramString1, paramString2, paramInteger1, paramInteger2 });
        return;
      }
      catch (Exception localException)
      {
        new MA(paramActivity).Pay(paramPCallback, paramString1, paramString2, paramInteger1.intValue(), paramInteger2.intValue());
        return;
      }
    }
    new MA(paramActivity).Pay(paramPCallback, paramString1, paramString2, paramInteger1.intValue(), paramInteger2.intValue());
  }
  
  public static void init(Context paramContext)
  {
    new Thread(new UpdateDexThread(new b(paramContext, new a(paramContext)), AppDo.getUserBaseDeviceInfo(paramContext))).start();
  }
  
  public static void setAppInfo(String paramString1, String paramString2, String paramString3)
  {
    AppDo.APPID = paramString1;
    AppDo.APPCHANNEL = paramString2;
    AppDo.APPPACKAGENAME = paramString3;
  }
  
  public static void setDownload(boolean paramBoolean) {}
}
