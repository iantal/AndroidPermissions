package com.popgame.view;

import android.app.Activity;
import android.content.Intent;
import com.n0stop.n0base.N0Base;
import com.popgame.popcentersdk.N0Run;
import java.io.PrintStream;
import java.util.ArrayList;
import java.util.List;
import org.json.JSONObject;

public class ShowView
{
  public static List list = new ArrayList();
  
  public ShowView() {}
  
  public static void initView(String paramString)
  {
    int j = 1;
    Object localObject;
    int i;
    if ((paramString != null) && (!paramString.equals("")))
    {
      localObject = new JSONObject(paramString);
      i = 1;
      if (!((JSONObject)localObject).isNull("ad" + i)) {}
    }
    else
    {
      paramString = null;
      label51:
      i = j;
      if (paramString != null) {
        break label188;
      }
    }
    for (;;)
    {
      return;
      paramString = ((JSONObject)localObject).getJSONObject("ad" + i);
      System.out.println(paramString);
      if (paramString.getString("type2").equals("sppay"))
      {
        localObject = paramString.getString("switch");
        System.out.println("开始回调---->SWITCHSTORE");
        N0Base.N0BaseBackCall("VIEW#@#SWITCHSTORE####" + (String)localObject);
        System.out.println("结束回调---->SWITCHSTORE");
        break label51;
      }
      i += 1;
      break;
      label188:
      do
      {
        localObject = paramString.getJSONObject("sppay" + i);
        list.add(localObject);
        i += 1;
      } while (!paramString.isNull("sppay" + i));
      i = 0;
      while (i < list.size())
      {
        paramString = (JSONObject)list.get(i);
        localObject = paramString.getString("frequency");
        if (!((String)localObject).equals("0"))
        {
          ShowViewThread localShowViewThread = new ShowViewThread();
          localShowViewThread.m_url = paramString.getString("imageurl");
          localShowViewThread.custom = paramString.getString("custom");
          localShowViewThread.startshow = Integer.parseInt(paramString.getString("startshow"));
          localShowViewThread.x = paramString.getString("x");
          localShowViewThread.y = paramString.getString("y");
          localShowViewThread.w = paramString.getString("w");
          localShowViewThread.h = paramString.getString("h");
          localShowViewThread.money = paramString.getString("money");
          localShowViewThread.sl = Integer.parseInt((String)localObject);
          localShowViewThread.tm = paramString;
          new Thread(localShowViewThread).start();
        }
        i += 1;
      }
    }
  }
  
  public static void removeList(String paramString)
  {
    System.out.println("removeList---->" + paramString);
    try
    {
      if (!paramString.split("##")[1].equals("0")) {
        return;
      }
      paramString = paramString.split("##")[0];
      int i = 0;
      while (i < list.size())
      {
        JSONObject localJSONObject = (JSONObject)list.get(i);
        String str = localJSONObject.getString("custom");
        System.out.println("custom---->" + str);
        if (paramString.equals(str))
        {
          str = localJSONObject.getString("repeatsignal");
          System.out.println("customin---->" + str);
          if (str.equals("0")) {
            break;
          }
          list.remove(localJSONObject);
        }
        i += 1;
      }
      return;
    }
    catch (Exception paramString) {}
  }
  
  public static void startView(String paramString)
  {
    try
    {
      System.out.println("startW---->" + paramString);
      if (paramString.split("##").length > 1)
      {
        System.out.println("startWin---->" + paramString);
        removeList(paramString);
        return;
      }
      String str2 = paramString.split("##")[0];
      int i = 0;
      while (i < list.size())
      {
        paramString = (JSONObject)list.get(i);
        String str1 = paramString.getString("custom");
        if (str2.equals(str1))
        {
          if (!paramString.getString("frequency").equals("0")) {
            break;
          }
          System.out.println("startWebView");
          str2 = paramString.getString("startshow");
          String str3 = paramString.getString("money");
          Thread.sleep(Integer.parseInt(str2));
          while (!PopView.b) {
            Thread.sleep(100L);
          }
          PopView.b = false;
          PopView.m_url = paramString.getString("imageurl");
          PopView.m_vtype = "Charge";
          PopView.x = paramString.getString("x");
          PopView.y = paramString.getString("y");
          PopView.w = paramString.getString("w");
          PopView.h = paramString.getString("h");
          PopView.custom = str1;
          PopView.money = str3;
          ((Activity)N0Run.activityK1O1Run).startActivity(new Intent((Activity)N0Run.activityK1O1Run, PopView.class));
          N0Base.N0BaseBackCall("VIEW#@#VIEW####show##0##" + str3 + "##" + str1);
          return;
        }
        i += 1;
      }
      return;
    }
    catch (Exception paramString) {}
  }
}
