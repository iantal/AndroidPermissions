package com.popgame.popcentersdk.business;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import com.popgame.popcentersdk.N0Run;
import com.popgame.popcentersdk.PopManager;
import com.popgame.popcentersdk.channel.chaerge.POPChargeCenter;
import com.popgame.popcentersdk.util.XPUtils;
import com.popgame.popcentersdk.view.PopView;
import org.json.JSONException;
import org.json.JSONObject;

public class PopMessageHandler
  extends Handler
{
  public static Handler mHandler = null;
  
  public PopMessageHandler() {}
  
  public static void postPopMsg(int paramInt, String paramString1, String paramString2)
  {
    try
    {
      Message localMessage = new Message();
      Bundle localBundle = new Bundle();
      if (paramString1 != null) {
        localBundle.putString("url", paramString1);
      }
      if (paramString2 != null) {
        localBundle.putString("result", paramString2);
      }
      localMessage.setData(localBundle);
      localMessage.what = paramInt;
      mHandler.sendMessage(localMessage);
      return;
    }
    catch (Throwable paramString1)
    {
      paramString1.printStackTrace();
    }
  }
  
  public void handleMessage(Message paramMessage)
  {
    Bundle localBundle;
    try
    {
      super.handleMessage(paramMessage);
      localBundle = paramMessage.getData();
      switch (paramMessage.what)
      {
      case 2: 
        if (localBundle.getString("url") == null) {
          return;
        }
        paramMessage = localBundle.getString("url");
        XPUtils.xpPrint(paramMessage);
        PopView.m_url = paramMessage;
        PopView.m_vtype = "Charge";
        ((Activity)N0Run.activityK1O1Run).startActivity(new Intent((Activity)N0Run.activityK1O1Run, PopView.class));
        return;
      }
    }
    catch (Throwable paramMessage)
    {
      paramMessage.printStackTrace();
      return;
    }
    localBundle.getString("result");
    return;
    if (localBundle.getString("url") != null)
    {
      paramMessage = PopManager.resultParam(localBundle.getString("url"));
      try
      {
        paramMessage.put("serverIp", PopManager.UserIP);
        return;
      }
      catch (JSONException paramMessage)
      {
        paramMessage.printStackTrace();
        return;
      }
      POPChargeCenter.POPChargeWeiXin(localBundle.getString("url"));
      return;
    }
  }
}
