package com.popgame.popcentersdk;

import android.app.Activity;
import com.n0stop.n0base.N0BaseCenterInterface;
import com.popgame.popcentersdk.business.PopMessageHandler;
import com.popgame.popcentersdk.business.db.PopDBManager;
import com.popgame.popcentersdk.util.XPUtils;
import java.util.UUID;
import org.json.JSONException;
import org.json.JSONObject;

public class PopManager
{
  public static String UserIP = null;
  public static PopDBManager dbManager = null;
  public static JSONObject errResult = null;
  public static boolean initStatus = false;
  
  public PopManager() {}
  
  public static PopManager getInstance()
  {
    return new PopManager();
  }
  
  /* Error */
  private static String infoFromDb(String paramString)
  {
    // Byte code:
    //   0: iconst_0
    //   1: istore_1
    //   2: aload_0
    //   3: ldc 37
    //   5: invokevirtual 43	java/lang/String:split	(Ljava/lang/String;)[Ljava/lang/String;
    //   8: astore_0
    //   9: aload_0
    //   10: arraylength
    //   11: istore_2
    //   12: new 45	org/json/JSONObject
    //   15: dup
    //   16: invokespecial 46	org/json/JSONObject:<init>	()V
    //   19: astore_3
    //   20: new 45	org/json/JSONObject
    //   23: dup
    //   24: invokespecial 46	org/json/JSONObject:<init>	()V
    //   27: astore 4
    //   29: new 45	org/json/JSONObject
    //   32: dup
    //   33: invokespecial 46	org/json/JSONObject:<init>	()V
    //   36: astore 5
    //   38: iload_1
    //   39: iload_2
    //   40: if_icmplt +46 -> 86
    //   43: aload_3
    //   44: ldc 48
    //   46: ldc 50
    //   48: invokevirtual 54	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   51: pop
    //   52: aload_3
    //   53: ldc 56
    //   55: aload 4
    //   57: invokevirtual 54	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   60: pop
    //   61: aload 5
    //   63: ldc 58
    //   65: ldc 50
    //   67: invokevirtual 54	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   70: pop
    //   71: aload 5
    //   73: ldc 60
    //   75: aload_3
    //   76: invokevirtual 54	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   79: pop
    //   80: aload 5
    //   82: invokevirtual 64	org/json/JSONObject:toString	()Ljava/lang/String;
    //   85: areturn
    //   86: aload_0
    //   87: iload_1
    //   88: aaload
    //   89: invokevirtual 65	java/lang/String:toString	()Ljava/lang/String;
    //   92: ldc 67
    //   94: invokevirtual 43	java/lang/String:split	(Ljava/lang/String;)[Ljava/lang/String;
    //   97: astore 6
    //   99: new 45	org/json/JSONObject
    //   102: dup
    //   103: invokespecial 46	org/json/JSONObject:<init>	()V
    //   106: astore 7
    //   108: aload 7
    //   110: ldc 69
    //   112: aload 6
    //   114: iconst_0
    //   115: aaload
    //   116: invokevirtual 54	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   119: pop
    //   120: aload 7
    //   122: ldc 71
    //   124: aload 6
    //   126: iconst_1
    //   127: aaload
    //   128: invokevirtual 54	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   131: pop
    //   132: aload 7
    //   134: ldc 73
    //   136: aload 6
    //   138: iconst_2
    //   139: aaload
    //   140: invokevirtual 54	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   143: pop
    //   144: aload 7
    //   146: ldc 75
    //   148: aload 6
    //   150: iconst_3
    //   151: aaload
    //   152: invokevirtual 54	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   155: pop
    //   156: aload 4
    //   158: iload_1
    //   159: invokestatic 79	java/lang/String:valueOf	(I)Ljava/lang/String;
    //   162: aload 7
    //   164: invokevirtual 54	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   167: pop
    //   168: iload_1
    //   169: iconst_1
    //   170: iadd
    //   171: istore_1
    //   172: goto -134 -> 38
    //   175: astore_0
    //   176: getstatic 84	com/popgame/popcentersdk/N0Run:N0RunDebug	Z
    //   179: ifeq +7 -> 186
    //   182: aload_0
    //   183: invokevirtual 87	java/lang/Throwable:printStackTrace	()V
    //   186: ldc 89
    //   188: areturn
    //   189: astore 6
    //   191: goto -23 -> 168
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	194	0	paramString	String
    //   1	171	1	i	int
    //   11	30	2	j	int
    //   19	57	3	localJSONObject1	JSONObject
    //   27	130	4	localJSONObject2	JSONObject
    //   36	45	5	localJSONObject3	JSONObject
    //   97	52	6	arrayOfString	String[]
    //   189	1	6	localException	Exception
    //   106	57	7	localJSONObject4	JSONObject
    // Exception table:
    //   from	to	target	type
    //   43	80	175	java/lang/Throwable
    //   86	108	175	java/lang/Throwable
    //   108	168	175	java/lang/Throwable
    //   108	168	189	java/lang/Exception
  }
  
  public static void initial()
  {
    if (PopMessageHandler.mHandler == null) {
      PopMessageHandler.mHandler = new PopMessageHandler();
    }
  }
  
  public static JSONObject resultParam(String paramString)
  {
    String[] arrayOfString = null;
    JSONObject localJSONObject = new JSONObject();
    label164:
    label166:
    String str;
    if (paramString != null)
    {
      try
      {
        if (paramString.indexOf("&") >= 0)
        {
          paramString = paramString.split("&");
          int i = 0;
          for (;;)
          {
            if (i >= paramString.length)
            {
              paramString = localJSONObject;
              break label166;
            }
            if (paramString[i].contains("="))
            {
              arrayOfString = paramString[i].split("=");
              boolean bool = arrayOfString[0].equals("status");
              if (bool) {}
            }
            try
            {
              localJSONObject.put(arrayOfString[0], arrayOfString[1]);
              i += 1;
            }
            catch (JSONException localJSONException)
            {
              for (;;)
              {
                localJSONException.printStackTrace();
              }
            }
          }
        }
        if (paramString.indexOf("=") < 0) {
          break label164;
        }
      }
      catch (Throwable paramString)
      {
        paramString.printStackTrace();
        XPUtils.xpPrint(paramString.toString());
        return null;
      }
      paramString = paramString.split("=");
      try
      {
        localJSONObject.put(paramString[0], paramString[1]);
        paramString = localJSONObject;
      }
      catch (JSONException paramString)
      {
        paramString.printStackTrace();
        paramString = localJSONObject;
      }
      paramString = null;
      str = paramString;
    }
    return str;
  }
  
  public String initialLogCenter(String paramString1, String paramString2)
  {
    XPUtils.xpPrint("1initialLogCenter-->" + paramString1 + "##" + paramString2);
    if ((paramString1 == null) || (paramString1.length() == 0)) {
      return "please input the channelId";
    }
    String str;
    if (paramString2 != null)
    {
      str = paramString2;
      if (!paramString2.equals("null")) {}
    }
    else
    {
      str = "nouser";
    }
    if ((AppInfo.m_uuid == null) || (AppInfo.m_uuid.length() == 0)) {
      AppInfo.m_uuid = UUID.randomUUID().toString();
    }
    AppInfo.m_channelId = paramString1;
    AppInfo.m_userId = str;
    AppInfo.getInstance().initAppInfo((Activity)N0Run.activityK1O1Run);
    boolean bool = N0Run.N0RunDebug;
    N0BaseCenterInterface.getInstance().initialCenter((Activity)N0Run.activityK1O1Run, paramString1, str);
    return "true";
  }
}
