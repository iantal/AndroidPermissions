package com.shortcut.receiver;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.net.Uri;
import android.os.Parcelable;
import android.util.Log;
import com.shortcut.a.b;
import com.shortcut.f;
import java.util.ArrayList;
import java.util.Iterator;

public class AppInstalledReceiver
  extends BroadcastReceiver
{
  String a = "shortcut";
  
  public AppInstalledReceiver() {}
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    Object localObject1 = f.a(paramContext);
    Log.i(this.a, paramIntent.getDataString());
    Object localObject2 = paramIntent.getDataString();
    paramIntent = ((com.shortcut.a)localObject1).a().iterator();
    label42:
    Iterator localIterator;
    if (!paramIntent.hasNext())
    {
      paramIntent = null;
      if (paramIntent == null)
      {
        localObject1 = f.b(paramContext);
        if (localObject1 != null)
        {
          localIterator = ((ArrayList)localObject1).iterator();
          label61:
          if (localIterator.hasNext()) {
            break label230;
          }
        }
      }
      localObject1 = paramIntent;
      paramIntent = null;
    }
    for (;;)
    {
      if (localObject1 != null)
      {
        localObject1 = paramContext.getPackageManager().getLaunchIntentForPackage((String)localObject1);
        if (localObject1 != null) {
          paramContext.startActivity((Intent)localObject1);
        }
        if (paramIntent != null)
        {
          Log.i(this.a, "Detele shortcut " + paramIntent.c());
          localObject1 = new Intent("android.intent.action.VIEW", Uri.parse(paramIntent.b()));
          localObject2 = new Intent();
          ((Intent)localObject2).putExtra("android.intent.extra.shortcut.INTENT", (Parcelable)localObject1);
          ((Intent)localObject2).putExtra("android.intent.extra.shortcut.NAME", paramIntent.c());
          ((Intent)localObject2).setAction("com.android.launcher.action.UNINSTALL_SHORTCUT");
          paramContext.sendBroadcast((Intent)localObject2);
        }
      }
      return;
      localObject1 = (com.shortcut.a.a)paramIntent.next();
      if ((((com.shortcut.a.a)localObject1).a().length() <= 0) || (!((String)localObject2).contains(((com.shortcut.a.a)localObject1).a()))) {
        break;
      }
      paramIntent = ((com.shortcut.a.a)localObject1).a();
      break label42;
      label230:
      localObject1 = (b)localIterator.next();
      if ((((b)localObject1).d().length() <= 0) || (!((String)localObject2).contains(((b)localObject1).d()))) {
        break label61;
      }
      localObject2 = ((b)localObject1).d();
      paramIntent = (Intent)localObject1;
      localObject1 = localObject2;
    }
  }
}
