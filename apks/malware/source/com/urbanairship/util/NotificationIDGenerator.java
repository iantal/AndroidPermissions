package com.urbanairship.util;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import com.urbanairship.UAirship;

public class NotificationIDGenerator
{
  private static final String COUNT_KEY = "count";
  private static int RANGE = 100;
  private static final String SHARED_PREFERENCES_FILE = "com.urbanairship.notificationidgenerator";
  private static int START = 1000;
  
  public NotificationIDGenerator() {}
  
  private static int getInt(String paramString, int paramInt)
  {
    return getPreferences().getInt(paramString, paramInt);
  }
  
  private static SharedPreferences getPreferences()
  {
    return UAirship.shared().getApplicationContext().getSharedPreferences("com.urbanairship.notificationidgenerator", 0);
  }
  
  public static int getRange()
  {
    try
    {
      int i = RANGE;
      return i;
    }
    finally {}
  }
  
  public static int getStart()
  {
    try
    {
      int i = START;
      return i;
    }
    finally {}
  }
  
  /* Error */
  public static int nextID()
  {
    // Byte code:
    //   0: ldc 2
    //   2: monitorenter
    //   3: invokestatic 57	com/urbanairship/util/NotificationIDGenerator:getStart	()I
    //   6: istore_0
    //   7: invokestatic 59	com/urbanairship/util/NotificationIDGenerator:getRange	()I
    //   10: istore_1
    //   11: ldc 8
    //   13: iload_0
    //   14: invokestatic 60	com/urbanairship/util/NotificationIDGenerator:getInt	(Ljava/lang/String;I)I
    //   17: istore_2
    //   18: iload_2
    //   19: iload_1
    //   20: iload_0
    //   21: iadd
    //   22: if_icmpge +43 -> 65
    //   25: ldc 62
    //   27: invokestatic 68	com/urbanairship/Logger:verbose	(Ljava/lang/String;)V
    //   30: ldc 8
    //   32: iload_2
    //   33: iconst_1
    //   34: iadd
    //   35: invokestatic 72	com/urbanairship/util/NotificationIDGenerator:putInt	(Ljava/lang/String;I)V
    //   38: new 74	java/lang/StringBuilder
    //   41: dup
    //   42: invokespecial 75	java/lang/StringBuilder:<init>	()V
    //   45: ldc 77
    //   47: invokevirtual 81	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   50: iload_2
    //   51: invokevirtual 84	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   54: invokevirtual 88	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   57: invokestatic 68	com/urbanairship/Logger:verbose	(Ljava/lang/String;)V
    //   60: ldc 2
    //   62: monitorexit
    //   63: iload_2
    //   64: ireturn
    //   65: ldc 90
    //   67: invokestatic 68	com/urbanairship/Logger:verbose	(Ljava/lang/String;)V
    //   70: ldc 8
    //   72: iload_0
    //   73: invokestatic 72	com/urbanairship/util/NotificationIDGenerator:putInt	(Ljava/lang/String;I)V
    //   76: goto -38 -> 38
    //   79: astore_3
    //   80: ldc 2
    //   82: monitorexit
    //   83: aload_3
    //   84: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   6	67	0	i	int
    //   10	12	1	j	int
    //   17	47	2	k	int
    //   79	5	3	localObject	Object
    // Exception table:
    //   from	to	target	type
    //   3	18	79	finally
    //   25	38	79	finally
    //   38	63	79	finally
    //   65	76	79	finally
    //   80	83	79	finally
  }
  
  private static void putInt(String paramString, int paramInt)
  {
    SharedPreferences.Editor localEditor = getPreferences().edit();
    localEditor.putInt(paramString, paramInt);
    localEditor.commit();
  }
  
  public static void setRange(int paramInt)
  {
    try
    {
      putInt("count", START);
      RANGE = paramInt;
      return;
    }
    finally {}
  }
  
  public static void setStart(int paramInt)
  {
    try
    {
      putInt("count", paramInt);
      START = paramInt;
      return;
    }
    finally {}
  }
}
