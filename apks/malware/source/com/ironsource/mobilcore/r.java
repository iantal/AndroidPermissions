package com.ironsource.mobilcore;

import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;

final class r
{
  private static r a = null;
  private Context b;
  
  private r() {}
  
  public static r a()
  {
    if (a == null) {
      a = new r();
    }
    return a;
  }
  
  public final void a(Context paramContext)
  {
    this.b = paramContext;
  }
  
  public final void a(String paramString1, String paramString2, String paramString3, String paramString4, String paramString5, long paramLong, boolean paramBoolean, String paramString6)
  {
    A.a("downloadFileToInternalStorage started", 55);
    if (!a(paramString2))
    {
      A.a("downloadFileToInternalStorage | isDownloadingApp (" + paramString2 + ") = false", 55);
      a.a(this.b, paramString2, 0);
      A.a("Started downloadFileTo..", 55);
      String str = aE.d(paramString1);
      Intent localIntent = aE.m(this.b);
      localIntent.putExtra("extra_service_type", "download");
      localIntent.putExtra("com.ironsource.mobilcore.extra_download_url", paramString1);
      localIntent.putExtra("com.ironsource.mobilcore.extra_download_filename", str);
      localIntent.putExtra("com.ironsource.mobilcore.extra_download_appname", paramString2);
      localIntent.putExtra("com.ironsource.mobilcore.extra_is_apk_download", true);
      localIntent.putExtra("com.ironsource.mobilcore.extra_download_app_img_name", paramString3);
      localIntent.putExtra("com.ironsource.mobilecore.MobileCoreReport_extra_flow", paramString5);
      localIntent.putExtra("com.ironsource.mobilcore.MobileCoreReport_extra_flow_type", paramString6);
      localIntent.putExtra("com.ironsource.mobilcore.MobileCoreReport_extra_offer", paramString4);
      localIntent.putExtra("com.ironsource.mobilcore.extra_download_queue_id", -1L);
      this.b.startService(localIntent);
      return;
    }
    A.a("downloadFileToInternalStorage | isDownloadingApp (" + paramString2 + ") = true", 55);
  }
  
  public final boolean a(String paramString)
  {
    return aE.n(this.b).getInt("apkDownloadFile_" + paramString, -1) == 0;
  }
}
