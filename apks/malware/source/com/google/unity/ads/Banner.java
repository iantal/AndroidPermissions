package com.google.unity.ads;

import android.app.Activity;
import android.util.Log;
import android.view.ViewGroup;
import android.view.ViewParent;
import android.widget.FrameLayout.LayoutParams;
import com.google.android.gms.ads.AdListener;
import com.google.android.gms.ads.AdRequest;
import com.google.android.gms.ads.AdSize;
import com.google.android.gms.ads.AdView;

public class Banner
{
  private static final int POSITION_BOTTOM = 1;
  private static final int POSITION_BOTTOM_LEFT = 4;
  private static final int POSITION_BOTTOM_RIGHT = 5;
  private static final int POSITION_TOP = 0;
  private static final int POSITION_TOP_LEFT = 2;
  private static final int POSITION_TOP_RIGHT = 3;
  private Activity activity;
  private AdView adView;
  private UnityAdListener listener;
  
  public Banner(Activity paramActivity, UnityAdListener paramUnityAdListener)
  {
    this.activity = paramActivity;
    this.listener = paramUnityAdListener;
  }
  
  public void create(final String paramString, final AdSize paramAdSize, final int paramInt)
  {
    this.activity.runOnUiThread(new Runnable()
    {
      public void run()
      {
        Banner.access$002(Banner.this, new AdView(Banner.this.activity));
        Banner.this.adView.setBackgroundColor(0);
        Banner.this.adView.setAdUnitId(paramString);
        Banner.this.adView.setAdSize(paramAdSize);
        Banner.this.adView.setAdListener(new AdListener()
        {
          public void onAdClosed()
          {
            if (Banner.this.listener != null) {
              Banner.this.listener.onAdClosed();
            }
          }
          
          public void onAdFailedToLoad(int paramAnonymous2Int)
          {
            if (Banner.this.listener != null) {
              Banner.this.listener.onAdFailedToLoad(PluginUtils.getErrorReason(paramAnonymous2Int));
            }
          }
          
          public void onAdLeftApplication()
          {
            if (Banner.this.listener != null) {
              Banner.this.listener.onAdLeftApplication();
            }
          }
          
          public void onAdLoaded()
          {
            if (Banner.this.listener != null) {
              Banner.this.listener.onAdLoaded();
            }
          }
          
          public void onAdOpened()
          {
            if (Banner.this.listener != null) {
              Banner.this.listener.onAdOpened();
            }
          }
        });
        FrameLayout.LayoutParams localLayoutParams = new FrameLayout.LayoutParams(-2, -2);
        switch (paramInt)
        {
        }
        for (;;)
        {
          Banner.this.activity.addContentView(Banner.this.adView, localLayoutParams);
          return;
          localLayoutParams.gravity = 49;
          continue;
          localLayoutParams.gravity = 81;
          continue;
          localLayoutParams.gravity = 51;
          continue;
          localLayoutParams.gravity = 53;
          continue;
          localLayoutParams.gravity = 83;
          continue;
          localLayoutParams.gravity = 85;
        }
      }
    });
  }
  
  public void destroy()
  {
    this.activity.runOnUiThread(new Runnable()
    {
      public void run()
      {
        Log.d("AdsUnity", "Calling destroy() on Android");
        Banner.this.adView.destroy();
        ViewParent localViewParent = Banner.this.adView.getParent();
        if ((localViewParent != null) && ((localViewParent instanceof ViewGroup))) {
          ((ViewGroup)localViewParent).removeView(Banner.this.adView);
        }
      }
    });
  }
  
  public void hide()
  {
    this.activity.runOnUiThread(new Runnable()
    {
      public void run()
      {
        Log.d("AdsUnity", "Calling hide() on Android");
        Banner.this.adView.setVisibility(8);
        Banner.this.adView.pause();
      }
    });
  }
  
  public void loadAd(final AdRequest paramAdRequest)
  {
    this.activity.runOnUiThread(new Runnable()
    {
      public void run()
      {
        Log.d("AdsUnity", "Calling loadAd() on Android");
        Banner.this.adView.loadAd(paramAdRequest);
      }
    });
  }
  
  public void setAdListener(UnityAdListener paramUnityAdListener)
  {
    this.listener = paramUnityAdListener;
  }
  
  public void show()
  {
    this.activity.runOnUiThread(new Runnable()
    {
      public void run()
      {
        Log.d("AdsUnity", "Calling show() on Android");
        Banner.this.adView.setVisibility(0);
        Banner.this.adView.resume();
      }
    });
  }
}
