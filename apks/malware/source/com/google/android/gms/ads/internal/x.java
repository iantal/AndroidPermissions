package com.google.android.gms.ads.internal;

import android.app.Activity;
import android.content.Context;
import android.os.RemoteException;
import android.view.View;
import android.view.ViewTreeObserver.OnGlobalLayoutListener;
import android.view.ViewTreeObserver.OnScrollChangedListener;
import com.google.android.gms.ads.internal.client.AdSizeParcel;
import com.google.android.gms.ads.internal.client.ac;
import com.google.android.gms.ads.internal.client.n;
import com.google.android.gms.ads.internal.client.q;
import com.google.android.gms.ads.internal.client.z;
import com.google.android.gms.ads.internal.formats.NativeAdOptionsParcel;
import com.google.android.gms.ads.internal.purchase.m;
import com.google.android.gms.ads.internal.util.client.VersionInfoParcel;
import com.google.android.gms.ads.internal.util.client.a;
import com.google.android.gms.ads.internal.util.client.b;
import com.google.android.gms.b.ao;
import com.google.android.gms.b.dh;
import com.google.android.gms.b.dv;
import com.google.android.gms.b.en;
import com.google.android.gms.b.eo;
import com.google.android.gms.b.ep;
import com.google.android.gms.b.eq;
import com.google.android.gms.b.ht;
import com.google.android.gms.b.jm;
import com.google.android.gms.b.jy;
import com.google.android.gms.b.ml;
import com.google.android.gms.b.mm;
import com.google.android.gms.b.mn;
import com.google.android.gms.b.ms;
import com.google.android.gms.b.mu;
import com.google.android.gms.b.nj;
import com.google.android.gms.b.nm;
import com.google.android.gms.b.og;
import com.google.android.gms.b.pa;
import com.google.android.gms.b.pb;
import com.google.android.gms.b.qx;
import java.util.HashSet;
import java.util.List;
import java.util.UUID;

public final class x
  implements ViewTreeObserver.OnGlobalLayoutListener, ViewTreeObserver.OnScrollChangedListener
{
  public ms A = null;
  View B = null;
  public int C = 0;
  boolean D = false;
  boolean E = false;
  private HashSet<mn> F = null;
  private int G = -1;
  private int H = -1;
  private og I;
  final String a;
  public String b;
  public final Context c;
  final ao d;
  public final VersionInfoParcel e;
  y f;
  public mu g;
  public mu h;
  public AdSizeParcel i;
  public ml j;
  public mm k;
  public mn l;
  n m;
  q n;
  z o;
  ac p;
  jm q;
  jy r;
  en s;
  eo t;
  qx<String, ep> u;
  qx<String, eq> v;
  NativeAdOptionsParcel w;
  dv x;
  List<String> y;
  m z;
  
  public x(Context paramContext, AdSizeParcel paramAdSizeParcel, String paramString, VersionInfoParcel paramVersionInfoParcel)
  {
    this(paramContext, paramAdSizeParcel, paramString, paramVersionInfoParcel, (byte)0);
  }
  
  private x(Context paramContext, AdSizeParcel paramAdSizeParcel, String paramString, VersionInfoParcel paramVersionInfoParcel, byte paramByte)
  {
    dh.a(paramContext);
    this.a = UUID.randomUUID().toString();
    if ((paramAdSizeParcel.f) || (paramAdSizeParcel.j)) {
      this.f = null;
    }
    for (;;)
    {
      if ((paramContext != null) && ((paramContext instanceof Activity)) && (this.f != null))
      {
        w.e();
        nj.a((Activity)paramContext, this);
        w.e();
        nj.a((Activity)paramContext, this);
      }
      this.i = paramAdSizeParcel;
      this.b = paramString;
      this.c = paramContext;
      this.e = paramVersionInfoParcel;
      this.d = new ao(new l(this));
      this.I = new og(200L);
      this.v = new qx();
      return;
      this.f = new y(paramContext);
      this.f.setMinimumWidth(paramAdSizeParcel.h);
      this.f.setMinimumHeight(paramAdSizeParcel.e);
      this.f.setVisibility(4);
    }
  }
  
  private void b(boolean paramBoolean)
  {
    boolean bool = true;
    if ((this.f == null) || (this.j == null) || (this.j.b == null)) {}
    do
    {
      do
      {
        return;
      } while ((!this.j.b.i().b()) || ((paramBoolean) && (!this.I.a())));
      localObject = new int[2];
      this.f.getLocationOnScreen((int[])localObject);
      com.google.android.gms.ads.internal.client.l.a();
      i1 = a.b(this.c, localObject[0]);
      com.google.android.gms.ads.internal.client.l.a();
      i2 = a.b(this.c, localObject[1]);
    } while ((i1 == this.G) && (i2 == this.H));
    this.G = i1;
    this.H = i2;
    Object localObject = this.j.b.i();
    int i1 = this.G;
    int i2 = this.H;
    if (!paramBoolean) {}
    for (paramBoolean = bool;; paramBoolean = false)
    {
      ((pb)localObject).a(i1, i2, paramBoolean);
      return;
    }
  }
  
  public final HashSet<mn> a()
  {
    return this.F;
  }
  
  public final void a(HashSet<mn> paramHashSet)
  {
    this.F = paramHashSet;
  }
  
  public final void a(boolean paramBoolean)
  {
    if ((this.C == 0) && (this.j != null) && (this.j.b != null)) {
      this.j.b.stopLoading();
    }
    if (this.g != null) {
      this.g.j();
    }
    if (this.h != null) {
      this.h.j();
    }
    if (paramBoolean) {
      this.j = null;
    }
  }
  
  public final void b()
  {
    if ((this.j != null) && (this.j.b != null)) {
      this.j.b.destroy();
    }
  }
  
  public final void c()
  {
    if ((this.j != null) && (this.j.m != null)) {}
    try
    {
      this.j.m.c();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      b.e("Could not destroy mediation adapter.");
    }
  }
  
  public final boolean d()
  {
    return this.C == 0;
  }
  
  public final boolean e()
  {
    return this.C == 1;
  }
  
  public final void f()
  {
    this.l.a(this.j.t);
    this.l.b(this.j.u);
    this.l.a(this.i.f);
    this.l.b(this.j.k);
  }
  
  public final void g()
  {
    this.n = null;
    this.o = null;
    this.r = null;
    this.q = null;
    this.x = null;
    this.p = null;
    if ((this.c != null) && ((this.c instanceof Activity)) && (this.f != null))
    {
      w.g().a((Activity)this.c, this);
      w.e();
      nj.b((Activity)this.c, this);
    }
    a(false);
    if (this.f != null) {
      this.f.removeAllViews();
    }
    b();
    c();
    this.j = null;
  }
  
  public final void onGlobalLayout()
  {
    b(false);
  }
  
  public final void onScrollChanged()
  {
    b(true);
  }
}
