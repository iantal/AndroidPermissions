package com.google.android.gms.internal;

import android.app.Activity;
import android.content.ComponentCallbacks;
import android.content.Context;
import android.content.pm.ApplicationInfo;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;
import android.content.res.Resources;
import android.graphics.Rect;
import android.net.Uri;
import android.net.Uri.Builder;
import android.os.Build.VERSION;
import android.os.Bundle;
import android.os.RemoteException;
import android.util.DisplayMetrics;
import android.view.View;
import android.view.ViewGroup.LayoutParams;
import android.view.ViewParent;
import android.view.Window;
import com.google.android.gms.a.c;
import com.google.android.gms.a.f;
import com.google.android.gms.common.internal.ag;
import java.util.ArrayList;
import java.util.HashSet;

public final class sk
  extends bd
  implements a, cf, cq, cs, dk, fd, fj, iu, je, ld, sj
{
  private av a;
  private final dt b;
  private final sp c;
  private final b d;
  private final g e;
  private boolean f;
  private final ComponentCallbacks g = new sl(this);
  
  public sk(Context paramContext, ay paramAy, String paramString, dt paramDt, gt paramGt)
  {
    this(new sp(paramContext, paramAy, paramString, paramGt), paramDt);
  }
  
  private sk(sp paramSp, dt paramDt)
  {
    this.c = paramSp;
    this.b = paramDt;
    this.d = new b(this);
    this.e = new g();
    lo.b(this.c.c);
    lb.a(this.c.c, this.c.e);
    if ((Build.VERSION.SDK_INT >= 14) && (this.c != null) && (this.c.c != null)) {
      this.c.c.registerComponentCallbacks(this.g);
    }
  }
  
  private jw a(av paramAv, Bundle paramBundle)
  {
    ApplicationInfo localApplicationInfo = this.c.c.getApplicationInfo();
    try
    {
      PackageInfo localPackageInfo = this.c.c.getPackageManager().getPackageInfo(localApplicationInfo.packageName, 0);
      String str = null;
      Object localObject2 = str;
      if (!this.c.i.f)
      {
        localObject2 = str;
        if (this.c.a.getParent() != null)
        {
          localObject2 = new int[2];
          this.c.a.getLocationOnScreen((int[])localObject2);
          int k = localObject2[0];
          int m = localObject2[1];
          localObject2 = this.c.c.getResources().getDisplayMetrics();
          int n = this.c.a.getWidth();
          int i1 = this.c.a.getHeight();
          int j = 0;
          int i = j;
          if (this.c.a.isShown())
          {
            i = j;
            if (k + n > 0)
            {
              i = j;
              if (m + i1 > 0)
              {
                i = j;
                if (k <= ((DisplayMetrics)localObject2).widthPixels)
                {
                  i = j;
                  if (m <= ((DisplayMetrics)localObject2).heightPixels) {
                    i = 1;
                  }
                }
              }
            }
          }
          localObject2 = new Bundle(5);
          ((Bundle)localObject2).putInt("x", k);
          ((Bundle)localObject2).putInt("y", m);
          ((Bundle)localObject2).putInt("width", n);
          ((Bundle)localObject2).putInt("height", i1);
          ((Bundle)localObject2).putInt("visible", i);
        }
      }
      str = lb.b();
      this.c.l = new kz(str, this.c.b);
      this.c.l.a(paramAv);
      Bundle localBundle = lb.a(this.c.c, this, str);
      return new jw((Bundle)localObject2, paramAv, this.c.i, this.c.b, localApplicationInfo, localPackageInfo, str, lb.a, this.c.e, localBundle, this.c.t, paramBundle, lb.e());
    }
    catch (PackageManager.NameNotFoundException localNameNotFoundException)
    {
      for (;;)
      {
        Object localObject1 = null;
      }
    }
  }
  
  private void a(int paramInt)
  {
    mi.e("Failed to load ad: " + paramInt);
    if (this.c.f != null) {}
    try
    {
      this.c.f.a(paramInt);
      return;
    }
    catch (RemoteException localRemoteException)
    {
      mi.c("Could not call AdListener.onAdFailedToLoad().", localRemoteException);
    }
  }
  
  private void b(View paramView)
  {
    ViewGroup.LayoutParams localLayoutParams = new ViewGroup.LayoutParams(-2, -2);
    this.c.a.addView(paramView, localLayoutParams);
  }
  
  private void b(boolean paramBoolean)
  {
    if (this.c.j == null) {
      mi.e("Ad state was null when trying to ping impression URLs.");
    }
    do
    {
      return;
      mi.a("Pinging Impression URLs.");
      this.c.l.a();
      if (this.c.j.e != null) {
        lo.a(this.c.c, this.c.e.c, this.c.j.e);
      }
      if ((this.c.j.o != null) && (this.c.j.o.d != null)) {
        dr.a(this.c.c, this.c.e.c, this.c.j, this.c.b, paramBoolean, this.c.j.o.d);
      }
    } while ((this.c.j.l == null) || (this.c.j.l.f == null));
    dr.a(this.c.c, this.c.e.c, this.c.j, this.c.b, paramBoolean, this.c.j.l.f);
  }
  
  /* Error */
  private boolean b(kw paramKw)
  {
    // Byte code:
    //   0: aload_1
    //   1: getfield 321	com/google/android/gms/internal/kw:k	Z
    //   4: ifeq +184 -> 188
    //   7: aload_1
    //   8: getfield 325	com/google/android/gms/internal/kw:m	Lcom/google/android/gms/internal/dx;
    //   11: invokeinterface 330 1 0
    //   16: invokestatic 335	com/google/android/gms/a/f:a	(Lcom/google/android/gms/a/c;)Ljava/lang/Object;
    //   19: checkcast 337	android/view/View
    //   22: astore_1
    //   23: aload_0
    //   24: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   27: getfield 137	com/google/android/gms/internal/sp:a	Lcom/google/android/gms/internal/so;
    //   30: invokevirtual 341	com/google/android/gms/internal/so:getNextView	()Landroid/view/View;
    //   33: astore_2
    //   34: aload_2
    //   35: ifnull +14 -> 49
    //   38: aload_0
    //   39: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   42: getfield 137	com/google/android/gms/internal/sp:a	Lcom/google/android/gms/internal/so;
    //   45: aload_2
    //   46: invokevirtual 344	com/google/android/gms/internal/so:removeView	(Landroid/view/View;)V
    //   49: aload_0
    //   50: aload_1
    //   51: invokespecial 346	com/google/android/gms/internal/sk:b	(Landroid/view/View;)V
    //   54: aload_0
    //   55: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   58: getfield 137	com/google/android/gms/internal/sp:a	Lcom/google/android/gms/internal/so;
    //   61: invokevirtual 349	com/google/android/gms/internal/so:getChildCount	()I
    //   64: iconst_1
    //   65: if_icmple +13 -> 78
    //   68: aload_0
    //   69: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   72: getfield 137	com/google/android/gms/internal/sp:a	Lcom/google/android/gms/internal/so;
    //   75: invokevirtual 352	com/google/android/gms/internal/so:showNext	()V
    //   78: aload_0
    //   79: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   82: getfield 276	com/google/android/gms/internal/sp:j	Lcom/google/android/gms/internal/kw;
    //   85: ifnull +70 -> 155
    //   88: aload_0
    //   89: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   92: getfield 137	com/google/android/gms/internal/sp:a	Lcom/google/android/gms/internal/so;
    //   95: invokevirtual 341	com/google/android/gms/internal/so:getNextView	()Landroid/view/View;
    //   98: astore_1
    //   99: aload_1
    //   100: instanceof 354
    //   103: ifeq +158 -> 261
    //   106: aload_1
    //   107: checkcast 354	com/google/android/gms/internal/mm
    //   110: aload_0
    //   111: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   114: getfield 78	com/google/android/gms/internal/sp:c	Landroid/content/Context;
    //   117: aload_0
    //   118: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   121: getfield 130	com/google/android/gms/internal/sp:i	Lcom/google/android/gms/internal/ay;
    //   124: invokevirtual 357	com/google/android/gms/internal/mm:a	(Landroid/content/Context;Lcom/google/android/gms/internal/ay;)V
    //   127: aload_0
    //   128: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   131: getfield 276	com/google/android/gms/internal/sp:j	Lcom/google/android/gms/internal/kw;
    //   134: getfield 325	com/google/android/gms/internal/kw:m	Lcom/google/android/gms/internal/dx;
    //   137: ifnull +18 -> 155
    //   140: aload_0
    //   141: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   144: getfield 276	com/google/android/gms/internal/sp:j	Lcom/google/android/gms/internal/kw;
    //   147: getfield 325	com/google/android/gms/internal/kw:m	Lcom/google/android/gms/internal/dx;
    //   150: invokeinterface 359 1 0
    //   155: aload_0
    //   156: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   159: getfield 137	com/google/android/gms/internal/sp:a	Lcom/google/android/gms/internal/so;
    //   162: iconst_0
    //   163: invokevirtual 362	com/google/android/gms/internal/so:setVisibility	(I)V
    //   166: iconst_1
    //   167: ireturn
    //   168: astore_1
    //   169: ldc_w 364
    //   172: aload_1
    //   173: invokestatic 261	com/google/android/gms/internal/mi:c	(Ljava/lang/String;Ljava/lang/Throwable;)V
    //   176: iconst_0
    //   177: ireturn
    //   178: astore_1
    //   179: ldc_w 366
    //   182: aload_1
    //   183: invokestatic 261	com/google/android/gms/internal/mi:c	(Ljava/lang/String;Ljava/lang/Throwable;)V
    //   186: iconst_0
    //   187: ireturn
    //   188: aload_1
    //   189: getfield 369	com/google/android/gms/internal/kw:r	Lcom/google/android/gms/internal/ay;
    //   192: ifnull -138 -> 54
    //   195: aload_1
    //   196: getfield 372	com/google/android/gms/internal/kw:b	Lcom/google/android/gms/internal/mm;
    //   199: aload_1
    //   200: getfield 369	com/google/android/gms/internal/kw:r	Lcom/google/android/gms/internal/ay;
    //   203: invokevirtual 375	com/google/android/gms/internal/mm:a	(Lcom/google/android/gms/internal/ay;)V
    //   206: aload_0
    //   207: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   210: getfield 137	com/google/android/gms/internal/sp:a	Lcom/google/android/gms/internal/so;
    //   213: invokevirtual 378	com/google/android/gms/internal/so:removeAllViews	()V
    //   216: aload_0
    //   217: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   220: getfield 137	com/google/android/gms/internal/sp:a	Lcom/google/android/gms/internal/so;
    //   223: aload_1
    //   224: getfield 369	com/google/android/gms/internal/kw:r	Lcom/google/android/gms/internal/ay;
    //   227: getfield 381	com/google/android/gms/internal/ay:h	I
    //   230: invokevirtual 384	com/google/android/gms/internal/so:setMinimumWidth	(I)V
    //   233: aload_0
    //   234: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   237: getfield 137	com/google/android/gms/internal/sp:a	Lcom/google/android/gms/internal/so;
    //   240: aload_1
    //   241: getfield 369	com/google/android/gms/internal/kw:r	Lcom/google/android/gms/internal/ay;
    //   244: getfield 386	com/google/android/gms/internal/ay:e	I
    //   247: invokevirtual 389	com/google/android/gms/internal/so:setMinimumHeight	(I)V
    //   250: aload_0
    //   251: aload_1
    //   252: getfield 372	com/google/android/gms/internal/kw:b	Lcom/google/android/gms/internal/mm;
    //   255: invokespecial 346	com/google/android/gms/internal/sk:b	(Landroid/view/View;)V
    //   258: goto -204 -> 54
    //   261: aload_1
    //   262: ifnull -135 -> 127
    //   265: aload_0
    //   266: getfield 63	com/google/android/gms/internal/sk:c	Lcom/google/android/gms/internal/sp;
    //   269: getfield 137	com/google/android/gms/internal/sp:a	Lcom/google/android/gms/internal/so;
    //   272: aload_1
    //   273: invokevirtual 344	com/google/android/gms/internal/so:removeView	(Landroid/view/View;)V
    //   276: goto -149 -> 127
    //   279: astore_1
    //   280: ldc_w 391
    //   283: invokestatic 249	com/google/android/gms/internal/mi:e	(Ljava/lang/String;)V
    //   286: goto -131 -> 155
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	289	0	this	sk
    //   0	289	1	paramKw	kw
    //   33	13	2	localView	View
    // Exception table:
    //   from	to	target	type
    //   7	23	168	android/os/RemoteException
    //   49	54	178	java/lang/Throwable
    //   140	155	279	android/os/RemoteException
  }
  
  private void v()
  {
    mi.c("Ad finished loading.");
    if (this.c.f != null) {}
    try
    {
      this.c.f.c();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      mi.c("Could not call AdListener.onAdLoaded().", localRemoteException);
    }
  }
  
  private void w()
  {
    if (this.c.j != null)
    {
      if (this.c.x == 0) {
        this.c.j.b.destroy();
      }
      this.c.j = null;
      this.c.y = false;
    }
  }
  
  public final void a()
  {
    if (this.c.j == null) {
      mi.e("Ad state was null when trying to ping click URLs.");
    }
    do
    {
      return;
      mi.a("Pinging click URLs.");
      this.c.l.b();
      if (this.c.j.c != null) {
        lo.a(this.c.c, this.c.e.c, this.c.j.c);
      }
    } while ((this.c.j.o == null) || (this.c.j.o.c == null));
    dr.a(this.c.c, this.c.e.c, this.c.j, this.c.b, false, this.c.j.o.c);
  }
  
  public final void a(View paramView)
  {
    this.c.w = paramView;
    a(new kw(this.c.k, null));
  }
  
  public final void a(ax paramAx)
  {
    ag.b("setAdListener must be called on the main UI thread.");
    this.c.f = paramAx;
  }
  
  public final void a(ay paramAy)
  {
    ag.b("setAdSize must be called on the main UI thread.");
    this.c.i = paramAy;
    if ((this.c.j != null) && (this.c.x == 0)) {
      this.c.j.b.a(paramAy);
    }
    if (this.c.a.getChildCount() > 1) {
      this.c.a.removeView(this.c.a.getNextView());
    }
    this.c.a.setMinimumWidth(paramAy.h);
    this.c.a.setMinimumHeight(paramAy.e);
    this.c.a.requestLayout();
  }
  
  public final void a(bi paramBi)
  {
    ag.b("setAppEventListener must be called on the main UI thread.");
    this.c.m = paramBi;
  }
  
  public final void a(gk paramGk)
  {
    ag.b("setInAppPurchaseListener must be called on the main UI thread.");
    this.c.o = paramGk;
  }
  
  public final void a(gx paramGx, String paramString)
  {
    ag.b("setPlayStorePurchaseParams must be called on the main UI thread.");
    this.c.u = new gf(paramString);
    this.c.n = paramGx;
    if ((!lb.d()) && (paramGx != null)) {
      new fv(this.c.c, this.c.n, this.c.u).e();
    }
  }
  
  public final void a(hr paramHr)
  {
    ag.b("setRawHtmlPublisherAdViewListener must be called on the main UI thread.");
    this.c.p = paramHr;
  }
  
  public final void a(hv paramHv)
  {
    ag.b("setRawHtmlPublisherInterstitialAdListener must be called on the main UI thread.");
    this.c.q = paramHv;
  }
  
  public final void a(kw paramKw)
  {
    this.c.h = null;
    if (paramKw.w != null) {}
    for (boolean bool1 = true;; bool1 = false)
    {
      if ((paramKw.d != -2) && (paramKw.d != 3)) {
        lb.a(this.c.a());
      }
      if (paramKw.d != -1) {
        break;
      }
      return;
    }
    Object localObject;
    boolean bool2;
    if (this.a != null)
    {
      localObject = this.a;
      this.a = null;
      bool2 = false;
      if (!this.c.i.f) {
        break label247;
      }
      if (this.c.x == 0) {
        lo.a(paramKw.b);
      }
    }
    for (;;)
    {
      if (this.d.d()) {
        mi.a("Ad refresh scheduled.");
      }
      if ((paramKw.d == 3) && (paramKw.o != null) && (paramKw.o.e != null))
      {
        mi.a("Pinging no fill URLs.");
        dr.a(this.c.c, this.c.e.c, paramKw, this.c.b, false, paramKw.o.e);
      }
      if (paramKw.d == -2) {
        break label354;
      }
      a(paramKw.d);
      return;
      localObject = paramKw.a;
      if (((av)localObject).d != null)
      {
        bool2 = ((av)localObject).d.getBoolean("_noRefresh", false);
        break;
      }
      bool2 = false;
      break;
      label247:
      if ((!(bool2 | bool1)) && (this.c.x == 0)) {
        if (paramKw.h > 0L) {
          this.d.a((av)localObject, paramKw.h);
        } else if ((paramKw.o != null) && (paramKw.o.g > 0L)) {
          this.d.a((av)localObject, paramKw.o.g);
        } else if ((!paramKw.k) && (paramKw.d == 2)) {
          this.d.a((av)localObject);
        }
      }
    }
    label354:
    if ((!this.c.i.f) && (!bool1) && (this.c.x == 0))
    {
      if (!b(paramKw))
      {
        a(0);
        return;
      }
      if (this.c.a != null) {
        so.a(this.c.a).a(paramKw.v);
      }
    }
    if ((this.c.j != null) && (this.c.j.p != null)) {
      this.c.j.p.a(null);
    }
    if (paramKw.p != null) {
      paramKw.p.a(this);
    }
    this.e.a(this.c.j);
    this.c.j = paramKw;
    this.c.l.a(paramKw.t);
    this.c.l.b(paramKw.u);
    this.c.l.a(this.c.i.f);
    this.c.l.b(paramKw.k);
    if ((!this.c.i.f) && (!bool1) && (this.c.x == 0)) {
      b(false);
    }
    if (this.c.v == null) {
      this.c.v = new le(this.c.b);
    }
    int j;
    int i;
    if (paramKw.o != null)
    {
      j = paramKw.o.h;
      i = paramKw.o.i;
    }
    for (;;)
    {
      this.c.v.a(j, i);
      if (this.c.x == 0)
      {
        if ((!this.c.i.f) && (paramKw.b != null) && ((paramKw.b.f().b()) || (paramKw.j != null)))
        {
          localObject = this.e.a(this.c.i, this.c.j);
          if ((paramKw.b.f().b()) && (localObject != null)) {
            ((h)localObject).a(new sv(paramKw.b));
          }
        }
        if (this.c.j.b != null)
        {
          this.c.j.b.a();
          this.c.j.b.f().c();
        }
        if (bool1)
        {
          paramKw = paramKw.w;
          if ((!(paramKw instanceof bv)) || (this.c.s == null)) {
            break label894;
          }
        }
        for (;;)
        {
          try
          {
            if (((this.c.j.w instanceof bv)) && (this.c.s != null))
            {
              paramKw = this.c.s;
              paramKw = this.c.j.w;
            }
            v();
            return;
          }
          catch (RemoteException paramKw)
          {
            mi.c("Could not call OnContentAdLoadedListener.onContentAdLoaded().", paramKw);
            continue;
          }
          label894:
          if ((!(paramKw instanceof bu)) || (this.c.r == null)) {
            break;
          }
          try
          {
            if (((this.c.j.w instanceof bu)) && (this.c.r != null))
            {
              paramKw = this.c.r;
              paramKw = this.c.j.w;
            }
          }
          catch (RemoteException paramKw)
          {
            mi.c("Could not call OnAppInstallAdLoadedListener.onAppInstallAdLoaded().", paramKw);
          }
        }
        mi.e("No matching listener for retrieved native ad template.");
        a(0);
        return;
      }
      if ((this.c.w == null) || (paramKw.j == null)) {
        break;
      }
      this.e.a(this.c.c, this.c.i, this.c.j, this.c.w, this.c.e);
      return;
      i = 0;
      j = 0;
    }
  }
  
  public final void a(kx paramKx)
  {
    this.c.g = null;
    this.c.k = paramKx;
    ag.b("setNativeTemplates must be called on the main UI thread.");
    this.c.t = null;
    Object localObject1 = null;
    if (!paramKx.b.u)
    {
      localObject3 = new sq();
      if (this.c.i.f)
      {
        localObject1 = mm.a(this.c.c, this.c.i, false, false, this.c.d, this.c.e);
        ((mm)localObject1).f().a(this, this, this, this, this, (sq)localObject3);
        ((sq)localObject3).a(new ss(paramKx, (mm)localObject1));
        ((mm)localObject1).setOnTouchListener(new sm(this, (sq)localObject3));
        ((mm)localObject1).setOnClickListener(new sn(this, (sq)localObject3));
      }
    }
    else
    {
      if (paramKx.d != null) {
        this.c.i = paramKx.d;
      }
      if (paramKx.e == -2) {
        break label328;
      }
      a(new kw(paramKx, (mm)localObject1));
      return;
    }
    localObject1 = this.c.a.getNextView();
    if ((localObject1 instanceof mm))
    {
      localObject1 = (mm)localObject1;
      ((mm)localObject1).a(this.c.c, this.c.i);
    }
    Object localObject2;
    for (;;)
    {
      ((mm)localObject1).f().a(this, this, this, this, false, this, (sq)localObject3);
      break;
      if (localObject1 != null) {
        this.c.a.removeView((View)localObject1);
      }
      localObject2 = mm.a(this.c.c, this.c.i, false, false, this.c.d, this.c.e);
      localObject1 = localObject2;
      if (this.c.i.i == null)
      {
        b((View)localObject2);
        localObject1 = localObject2;
      }
    }
    label328:
    if ((!paramKx.b.i) && (paramKx.b.t))
    {
      localObject2 = null;
      if (paramKx.b.c != null) {
        localObject2 = Uri.parse(paramKx.b.c).buildUpon().query(null).build().toString();
      }
      localObject3 = new hl(this, (String)localObject2, paramKx.b.d);
      try
      {
        if ((this.c.p != null) && (!this.c.i.f) && (this.c.p.a((String)localObject2, paramKx.b.d)))
        {
          this.c.x = 1;
          this.c.p.a((hn)localObject3);
          return;
        }
      }
      catch (RemoteException localRemoteException2)
      {
        mi.c("Could not call the rawHtmlPublisherAdViewListener.", localRemoteException2);
        try
        {
          if ((this.c.q != null) && (this.c.i.f) && (this.c.q.a((String)localObject2, paramKx.b.d)))
          {
            this.c.x = 1;
            this.c.q.a((hn)localObject3);
            return;
          }
        }
        catch (RemoteException localRemoteException1)
        {
          mi.c("Could not call the RawHtmlPublisherInterstitialAdListener.", localRemoteException1);
        }
      }
    }
    this.c.x = 0;
    sp localSp = this.c;
    Object localObject3 = this.c.c;
    dt localDt = this.b;
    if (paramKx.b.u) {}
    for (paramKx = new kc((Context)localObject3, this, new s(), paramKx, this);; paramKx = new jg((Context)localObject3, paramKx, (mm)localObject1, localDt, this))
    {
      paramKx.e();
      localSp.h = paramKx;
      return;
    }
  }
  
  public final void a(String paramString1, String paramString2)
  {
    if (this.c.m != null) {}
    try
    {
      this.c.m.a(paramString1, paramString2);
      return;
    }
    catch (RemoteException paramString1)
    {
      mi.c("Could not call the AppEventListener.", paramString1);
    }
  }
  
  public final void a(String paramString, ArrayList<String> paramArrayList)
  {
    paramArrayList = new fx(paramString, paramArrayList, this.c.c, this.c.e.c);
    if (this.c.o == null)
    {
      mi.e("InAppPurchaseListener is not set. Try to launch default purchase flow.");
      if (com.google.android.gms.common.g.a(this.c.c) != 0) {
        mi.e("Google Play Service unavailable, cannot launch default purchase flow.");
      }
      for (;;)
      {
        return;
        if (this.c.n == null)
        {
          mi.e("PlayStorePurchaseListener is not set.");
          return;
        }
        if (this.c.u == null)
        {
          mi.e("PlayStorePurchaseVerifier is not initialized.");
          return;
        }
        try
        {
          boolean bool = this.c.n.a(paramString);
          if (!bool) {}
        }
        catch (RemoteException paramString)
        {
          for (;;)
          {
            mi.e("Could not start In-App purchase.");
          }
        }
      }
      fy.a(this.c.c, this.c.e.f, new dv(paramArrayList, this.c.n, this.c.u, this.c.c));
      return;
    }
    try
    {
      this.c.o.a(paramArrayList);
      return;
    }
    catch (RemoteException paramString)
    {
      mi.e("Could not start In-App purchase.");
    }
  }
  
  public final void a(HashSet<kz> paramHashSet)
  {
    this.c.a(paramHashSet);
  }
  
  public final void a(boolean paramBoolean)
  {
    this.c.y = paramBoolean;
  }
  
  public final boolean a(av paramAv)
  {
    ag.b("loadAd must be called on the main UI thread.");
    if ((this.c.g != null) || (this.c.h != null))
    {
      if (this.a != null) {
        mi.e("Aborting last ad request since another ad request is already in progress. The current request object will still be cached for future refreshes.");
      }
      this.a = paramAv;
      return false;
    }
    if ((this.c.i.f) && (this.c.j != null))
    {
      mi.e("An interstitial is already loading. Aborting.");
      return false;
    }
    if (!lo.a(this.c.c.getPackageManager(), this.c.c.getPackageName(), "android.permission.INTERNET")) {
      if (!this.c.i.f) {
        mg.a(this.c.a, this.c.i, "Missing internet permission in AndroidManifest.xml.", "Missing internet permission in AndroidManifest.xml. You must have the following declaration: <uses-permission android:name=\"android.permission.INTERNET\" />");
      }
    }
    for (int i = 0;; i = 1)
    {
      if (!lo.a(this.c.c))
      {
        if (!this.c.i.f) {
          mg.a(this.c.a, this.c.i, "Missing AdActivity with android:configChanges in AndroidManifest.xml.", "Missing AdActivity with android:configChanges in AndroidManifest.xml. You must have the following declaration within the <application> element: <activity android:name=\"com.google.android.gms.ads.AdActivity\" android:configChanges=\"keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize\" />");
        }
        i = 0;
      }
      if ((i == 0) && (!this.c.i.f)) {
        this.c.a.setVisibility(0);
      }
      if (i == 0) {
        break;
      }
      mi.c("Starting ad request.");
      if (!paramAv.g) {
        mi.c("Use AdRequest.Builder.addTestDevice(\"" + mg.a(this.c.c) + "\") to get test ads on this device.");
      }
      Object localObject1 = lb.a().a(this.c.c);
      Object localObject2;
      if (localObject1 != null)
      {
        if (((ad)localObject1).d()) {
          ((ad)localObject1).c();
        }
        localObject2 = ((ad)localObject1).b();
        if (localObject2 == null) {
          break label438;
        }
        localObject1 = ((aa)localObject2).b();
        mi.a("In AdManger: loadAd, " + ((aa)localObject2).toString());
      }
      for (;;)
      {
        if (localObject1 != null)
        {
          localObject2 = new Bundle(1);
          ((Bundle)localObject2).putString("fingerprint", (String)localObject1);
        }
        for (localObject1 = localObject2;; localObject1 = null)
        {
          this.d.a();
          this.c.x = 0;
          localObject1 = a(paramAv, (Bundle)localObject1);
          paramAv = this.c;
          localObject1 = new iv(this.c.c, (jw)localObject1, this.c.d, this);
          ((iv)localObject1).e();
          paramAv.g = ((lh)localObject1);
          return true;
        }
        label438:
        localObject1 = null;
      }
    }
  }
  
  public final void b()
  {
    b(false);
  }
  
  public final void b(av paramAv)
  {
    ViewParent localViewParent = this.c.a.getParent();
    if (((localViewParent instanceof View)) && (((View)localViewParent).isShown()) && (lo.a()) && (!this.f))
    {
      a(paramAv);
      return;
    }
    mi.c("Ad is not visible. Not refreshing ad.");
    this.d.a(paramAv);
  }
  
  public final c c()
  {
    ag.b("getAdFrame must be called on the main UI thread.");
    return f.a(this.c.a);
  }
  
  public final void d()
  {
    ag.b("destroy must be called on the main UI thread.");
    if ((Build.VERSION.SDK_INT >= 14) && (this.c != null) && (this.c.c != null)) {
      this.c.c.unregisterComponentCallbacks(this.g);
    }
    this.c.f = null;
    this.c.m = null;
    this.c.n = null;
    this.c.o = null;
    this.c.p = null;
    this.c.q = null;
    this.d.a();
    this.e.a();
    i();
    if (this.c.a != null) {
      this.c.a.removeAllViews();
    }
    if ((this.c.j != null) && (this.c.j.b != null)) {
      this.c.j.b.destroy();
    }
    if ((this.c.j != null) && (this.c.j.m != null)) {}
    try
    {
      this.c.j.m.c();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      mi.e("Could not destroy mediation adapter.");
    }
  }
  
  public final boolean e()
  {
    ag.b("isLoaded must be called on the main UI thread.");
    return (this.c.g == null) && (this.c.h == null) && (this.c.j != null);
  }
  
  public final void f()
  {
    ag.b("pause must be called on the main UI thread.");
    if ((this.c.j != null) && (this.c.x == 0)) {
      lo.a(this.c.j.b);
    }
    if ((this.c.j != null) && (this.c.j.m != null)) {}
    try
    {
      this.c.j.m.d();
      this.e.b();
      this.d.b();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      for (;;)
      {
        mi.e("Could not pause mediation adapter.");
      }
    }
  }
  
  public final void g()
  {
    ag.b("resume must be called on the main UI thread.");
    if ((this.c.j != null) && (this.c.x == 0)) {
      lo.b(this.c.j.b);
    }
    if ((this.c.j != null) && (this.c.j.m != null)) {}
    try
    {
      this.c.j.m.e();
      this.d.c();
      this.e.c();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      for (;;)
      {
        mi.e("Could not resume mediation adapter.");
      }
    }
  }
  
  public final void h()
  {
    ag.b("showInterstitial must be called on the main UI thread.");
    if (!this.c.i.f) {
      mi.e("Cannot call showInterstitial on a banner ad.");
    }
    do
    {
      return;
      if (this.c.j == null)
      {
        mi.e("The interstitial has not loaded.");
        return;
      }
    } while (this.c.x == 1);
    if (this.c.j.b.j())
    {
      mi.e("The interstitial is already showing.");
      return;
    }
    this.c.j.b.a(true);
    if ((this.c.j.b.f().b()) || (this.c.j.j != null))
    {
      h localH = this.e.a(this.c.i, this.c.j);
      if ((this.c.j.b.f().b()) && (localH != null)) {
        localH.a(new sv(this.c.j.b));
      }
    }
    if (this.c.j.k) {
      try
      {
        this.c.j.m.b();
        return;
      }
      catch (RemoteException localRemoteException)
      {
        mi.c("Could not show interstitial.", localRemoteException);
        w();
        return;
      }
    }
    x localX = new x(this.c.y, false);
    Object localObject = localX;
    boolean bool2;
    if ((this.c.c instanceof Activity))
    {
      localObject = ((Activity)this.c.c).getWindow();
      Rect localRect1 = new Rect();
      Rect localRect2 = new Rect();
      ((Window)localObject).getDecorView().getGlobalVisibleRect(localRect1);
      ((Window)localObject).getDecorView().getWindowVisibleDisplayFrame(localRect2);
      localObject = localX;
      if (localRect1.bottom != 0)
      {
        localObject = localX;
        if (localRect2.bottom != 0)
        {
          bool2 = this.c.y;
          if (localRect1.top != localRect2.top) {
            break label431;
          }
        }
      }
    }
    label431:
    for (boolean bool1 = true;; bool1 = false)
    {
      localObject = new x(bool2, bool1);
      localObject = new dm(this, this, this, this.c.j.b, this.c.j.g, this.c.e, this.c.j.v, (x)localObject);
      ex.a(this.c.c, (dm)localObject);
      return;
    }
  }
  
  public final void i()
  {
    ag.b("stopLoading must be called on the main UI thread.");
    if ((this.c.j != null) && (this.c.x == 0))
    {
      this.c.j.b.stopLoading();
      this.c.j = null;
    }
    if (this.c.g != null) {
      this.c.g.f();
    }
    if (this.c.h != null) {
      this.c.h.f();
    }
  }
  
  public final void j()
  {
    ag.b("recordManualImpression must be called on the main UI thread.");
    if (this.c.j == null) {
      mi.e("Ad state was null when trying to ping manual tracking URLs.");
    }
    do
    {
      return;
      mi.a("Pinging manual tracking URLs.");
    } while (this.c.j.f == null);
    lo.a(this.c.c, this.c.e.c, this.c.j.f);
  }
  
  public final ay k()
  {
    ag.b("getAdSize must be called on the main UI thread.");
    return this.c.i;
  }
  
  public final String l()
  {
    if (this.c.j != null) {
      return this.c.j.n;
    }
    return null;
  }
  
  public final void m()
  {
    a();
  }
  
  public final void n()
  {
    r();
  }
  
  public final void o()
  {
    t();
  }
  
  public final void p()
  {
    s();
  }
  
  public final void q()
  {
    if (this.c.j != null) {
      mi.e("Mediation adapter " + this.c.j.n + " refreshed, but mediation adapters should never refresh.");
    }
    b(true);
    v();
  }
  
  public final void r()
  {
    this.e.a(this.c.j);
    if (this.c.i.f) {
      w();
    }
    this.f = false;
    mi.c("Ad closing.");
    if (this.c.f != null) {}
    try
    {
      this.c.f.a();
      this.c.l.c();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      for (;;)
      {
        mi.c("Could not call AdListener.onAdClosed().", localRemoteException);
      }
    }
  }
  
  public final void s()
  {
    if (this.c.i.f) {
      b(false);
    }
    this.f = true;
    mi.c("Ad opening.");
    if (this.c.f != null) {}
    try
    {
      this.c.f.d();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      mi.c("Could not call AdListener.onAdOpened().", localRemoteException);
    }
  }
  
  public final void t()
  {
    mi.c("Ad leaving application.");
    if (this.c.f != null) {}
    try
    {
      this.c.f.b();
      return;
    }
    catch (RemoteException localRemoteException)
    {
      mi.c("Could not call AdListener.onAdLeftApplication().", localRemoteException);
    }
  }
  
  public final void u()
  {
    a();
  }
}
