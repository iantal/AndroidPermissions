package com.google.android.gms.b;

import android.content.Context;
import com.google.android.gms.common.api.n;
import com.google.android.gms.common.internal.aq;
import com.google.android.gms.tagmanager.p;
import java.util.HashSet;
import java.util.Set;

public class vr
{
  private static vr a;
  private vp b;
  private final Set<vt> c = new HashSet();
  private p d = null;
  private boolean e;
  private Context f;
  
  private vr(Context paramContext, p paramP)
  {
    this.f = paramContext;
    this.d = paramP;
  }
  
  public static vr a(Context paramContext)
  {
    aq.a(paramContext);
    if (a == null) {}
    try
    {
      if (a == null) {
        a = new vr(paramContext, p.a(paramContext.getApplicationContext()));
      }
      return a;
    }
    finally {}
  }
  
  public final vp a()
  {
    try
    {
      vp localVp = this.b;
      return localVp;
    }
    finally
    {
      localObject = finally;
      throw localObject;
    }
  }
  
  public final void a(vp paramVp)
  {
    try
    {
      if (this.e) {
        throw new IllegalStateException("Settings can't be changed after TagManager has been started");
      }
    }
    finally {}
    this.b = paramVp;
  }
  
  public final void a(vt paramVt)
  {
    try
    {
      this.c.add(paramVt);
      return;
    }
    finally
    {
      paramVt = finally;
      throw paramVt;
    }
  }
  
  public final void b()
  {
    try
    {
      if (this.e) {
        throw new IllegalStateException("Method start() has already been called");
      }
    }
    finally {}
    if (this.b == null) {
      throw new IllegalStateException("No settings configured");
    }
    this.e = true;
    this.d.a(this.b.a(), "admob").a(new vs(this));
  }
}
