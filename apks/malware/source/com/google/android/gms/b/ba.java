package com.google.android.gms.b;

import android.content.Context;
import android.view.View;
import com.google.android.gms.ads.internal.client.AdSizeParcel;
import com.google.android.gms.ads.internal.util.client.VersionInfoParcel;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.Map.Entry;
import java.util.Set;
import java.util.WeakHashMap;

public final class ba
  implements bn
{
  private final Object a = new Object();
  private final WeakHashMap<ml, bb> b = new WeakHashMap();
  private final ArrayList<bb> c = new ArrayList();
  private final Context d;
  private final VersionInfoParcel e;
  private final gc f;
  
  public ba(Context paramContext, VersionInfoParcel paramVersionInfoParcel, gc paramGc)
  {
    this.d = paramContext.getApplicationContext();
    this.e = paramVersionInfoParcel;
    this.f = paramGc;
  }
  
  private boolean e(ml paramMl)
  {
    synchronized (this.a)
    {
      paramMl = (bb)this.b.get(paramMl);
      if ((paramMl != null) && (paramMl.e()))
      {
        bool = true;
        return bool;
      }
      boolean bool = false;
    }
  }
  
  public final bb a(AdSizeParcel paramAdSizeParcel, ml paramMl)
  {
    return a(paramAdSizeParcel, paramMl, paramMl.b.a());
  }
  
  public final bb a(AdSizeParcel paramAdSizeParcel, ml paramMl, View paramView)
  {
    synchronized (this.a)
    {
      if (e(paramMl))
      {
        paramAdSizeParcel = (bb)this.b.get(paramMl);
        return paramAdSizeParcel;
      }
      paramAdSizeParcel = new bb(paramAdSizeParcel, paramMl, this.e, paramView, this.f);
      paramAdSizeParcel.a(this);
      this.b.put(paramMl, paramAdSizeParcel);
      this.c.add(paramAdSizeParcel);
      return paramAdSizeParcel;
    }
  }
  
  public final void a(bb paramBb)
  {
    synchronized (this.a)
    {
      if (!paramBb.e())
      {
        this.c.remove(paramBb);
        Iterator localIterator = this.b.entrySet().iterator();
        while (localIterator.hasNext()) {
          if (((Map.Entry)localIterator.next()).getValue() == paramBb) {
            localIterator.remove();
          }
        }
      }
    }
  }
  
  public final void a(ml paramMl)
  {
    synchronized (this.a)
    {
      paramMl = (bb)this.b.get(paramMl);
      if (paramMl != null) {
        paramMl.c();
      }
      return;
    }
  }
  
  public final void b(ml paramMl)
  {
    synchronized (this.a)
    {
      paramMl = (bb)this.b.get(paramMl);
      if (paramMl != null) {
        paramMl.f();
      }
      return;
    }
  }
  
  public final void c(ml paramMl)
  {
    synchronized (this.a)
    {
      paramMl = (bb)this.b.get(paramMl);
      if (paramMl != null) {
        paramMl.g();
      }
      return;
    }
  }
  
  public final void d(ml paramMl)
  {
    synchronized (this.a)
    {
      paramMl = (bb)this.b.get(paramMl);
      if (paramMl != null) {
        paramMl.h();
      }
      return;
    }
  }
}
