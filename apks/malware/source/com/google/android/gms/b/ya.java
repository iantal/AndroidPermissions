package com.google.android.gms.b;

import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.Iterator;
import java.util.Map;
import java.util.Map.Entry;
import java.util.Set;

final class ya
{
  public long a;
  public String b;
  public String c;
  public long d;
  public long e;
  public long f;
  public long g;
  public Map<String, String> h;
  
  private ya() {}
  
  public ya(String paramString, bm paramBm)
  {
    this.b = paramString;
    this.a = paramBm.a.length;
    this.c = paramBm.b;
    this.d = paramBm.c;
    this.e = paramBm.d;
    this.f = paramBm.e;
    this.g = paramBm.f;
    this.h = paramBm.g;
  }
  
  public static ya a(InputStream paramInputStream)
  {
    ya localYa = new ya();
    if (xz.a(paramInputStream) != 538247942) {
      throw new IOException();
    }
    localYa.b = xz.c(paramInputStream);
    localYa.c = xz.c(paramInputStream);
    if (localYa.c.equals("")) {
      localYa.c = null;
    }
    localYa.d = xz.b(paramInputStream);
    localYa.e = xz.b(paramInputStream);
    localYa.f = xz.b(paramInputStream);
    localYa.g = xz.b(paramInputStream);
    localYa.h = xz.d(paramInputStream);
    return localYa;
  }
  
  public final boolean a(OutputStream paramOutputStream)
  {
    for (;;)
    {
      try
      {
        xz.a(paramOutputStream, 538247942);
        xz.a(paramOutputStream, this.b);
        if (this.c == null)
        {
          localObject = "";
          xz.a(paramOutputStream, (String)localObject);
          xz.a(paramOutputStream, this.d);
          xz.a(paramOutputStream, this.e);
          xz.a(paramOutputStream, this.f);
          xz.a(paramOutputStream, this.g);
          localObject = this.h;
          if (localObject == null) {
            break;
          }
          xz.a(paramOutputStream, ((Map)localObject).size());
          localObject = ((Map)localObject).entrySet().iterator();
          if (!((Iterator)localObject).hasNext()) {
            break label172;
          }
          Map.Entry localEntry = (Map.Entry)((Iterator)localObject).next();
          xz.a(paramOutputStream, (String)localEntry.getKey());
          xz.a(paramOutputStream, (String)localEntry.getValue());
          continue;
        }
        Object localObject = this.c;
      }
      catch (IOException paramOutputStream)
      {
        xt.b("%s", new Object[] { paramOutputStream.toString() });
        return false;
      }
    }
    xz.a(paramOutputStream, 0);
    label172:
    paramOutputStream.flush();
    return true;
  }
}
