package com.google.android.gms.b;

import android.content.Context;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.common.internal.aq;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Map;

public final class vx
{
  Map<String, wb<wm>> a = new HashMap();
  private final Context b;
  private final ws c;
  private final rd d;
  private String e = null;
  private final Map<String, xd> f;
  
  public vx(Context paramContext)
  {
    this(paramContext, new HashMap(), new ws(paramContext), re.c());
  }
  
  private vx(Context paramContext, Map<String, xd> paramMap, ws paramWs, rd paramRd)
  {
    this.b = paramContext;
    this.d = paramRd;
    this.c = paramWs;
    this.f = paramMap;
  }
  
  final void a(vu paramVu, vz paramVz)
  {
    this.c.a(paramVu.d(), paramVu.b(), wd.a, new vy(this, paramVu, paramVz));
  }
  
  final void a(wh paramWh)
  {
    Object localObject = paramWh.d().a();
    Status localStatus = paramWh.a();
    paramWh = paramWh.e();
    if (this.a.containsKey(localObject))
    {
      localObject = (wb)this.a.get(localObject);
      ((wb)localObject).a(this.d.a());
      if (localStatus == Status.a)
      {
        ((wb)localObject).a(localStatus);
        ((wb)localObject).a(paramWh);
      }
      return;
    }
    this.a.put(localObject, new wb(localStatus, paramWh, this.d.a()));
  }
  
  public final void a(String paramString)
  {
    this.e = paramString;
  }
  
  public final void a(String paramString1, Integer paramInteger, String paramString2, vz paramVz)
  {
    boolean bool = true;
    paramString2 = new wf().a(new vu(paramString1, paramInteger, paramString2));
    wa localWa = new wa(this, paramString2, wd.a, paramVz);
    paramString1 = paramString2.a().iterator();
    int i = 0;
    long l;
    if (paramString1.hasNext())
    {
      paramInteger = (vu)paramString1.next();
      wb localWb = (wb)this.a.get(paramInteger.a());
      if (localWb != null)
      {
        l = localWb.a();
        label102:
        if (l + 900000L >= this.d.a()) {
          break label271;
        }
        i = 1;
      }
    }
    label213:
    label271:
    for (;;)
    {
      break;
      l = this.c.a(paramInteger.a());
      break label102;
      if (i != 0)
      {
        paramInteger = (xd)this.f.get(paramString2.b());
        paramString1 = paramInteger;
        if (paramInteger == null) {
          if (this.e != null) {
            break label213;
          }
        }
        for (paramString1 = new xd();; paramString1 = new xd(this.e))
        {
          this.f.put(paramString2.b(), paramString1);
          paramString1.a(this.b, paramString2, localWa);
          return;
        }
      }
      paramString1 = paramString2.a();
      if (paramString1.size() == 1) {}
      for (;;)
      {
        aq.b(bool);
        a((vu)paramString1.get(0), paramVz);
        return;
        bool = false;
      }
    }
  }
}
