package com.wch.c_direct;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import com.wch.c_direct.encrypt.logic.FirstStartLogic;
import com.wch.c_direct.logic.a;

public class MyReceiver
  extends BroadcastReceiver
{
  static Intent a = null;
  
  public MyReceiver() {}
  
  private static long a(Context paramContext)
  {
    return paramContext.getSharedPreferences("dr", 0).getLong("lc", 0L);
  }
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    a.a(true, "Start MyService From Receiver----action(" + paramIntent.getAction() + ")," + (System.currentTimeMillis() - a(paramContext)));
    long l = System.currentTimeMillis() - a(paramContext);
    if ((l > 60000L) || (l < 0L))
    {
      paramIntent.putExtra("action", paramIntent.getAction());
      SharedPreferences.Editor localEditor = paramContext.getSharedPreferences("dr", 0).edit();
      localEditor.putLong("lc", System.currentTimeMillis());
      localEditor.commit();
      FirstStartLogic.startServiceFromServer(paramContext, paramIntent);
    }
  }
}
