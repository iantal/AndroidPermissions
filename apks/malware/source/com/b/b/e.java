package com.b.b;

import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.HashSet;
import java.util.Iterator;

public class e
{
  private boolean a;
  private int b = 1024;
  private HashSet c = new HashSet();
  private InputStream d;
  private OutputStream e;
  private long f;
  
  public e(f paramF, InputStream paramInputStream, OutputStream paramOutputStream, long paramLong)
  {
    this.d = paramInputStream;
    this.e = paramOutputStream;
    this.f = paramLong;
    this.c.add(paramF);
  }
  
  public void a(f paramF, boolean paramBoolean)
  {
    if (paramBoolean)
    {
      this.c.clear();
      this.c.add(paramF);
      return;
    }
    this.c.add(paramF);
  }
  
  public void a(InputStream paramInputStream)
  {
    this.d = paramInputStream;
  }
  
  public void a(OutputStream paramOutputStream)
  {
    this.e = paramOutputStream;
  }
  
  public void a(boolean paramBoolean)
  {
    this.a = paramBoolean;
  }
  
  public boolean a()
  {
    return a(0L);
  }
  
  public boolean a(long paramLong)
  {
    if ((this.d == null) || (this.e == null)) {
      return false;
    }
    byte[] arrayOfByte = new byte[this.b];
    try
    {
      long l;
      do
      {
        do
        {
          do
          {
            do
            {
              int i = this.d.read(arrayOfByte);
              if (i == -1) {
                return true;
              }
              if (this.a) {
                return false;
              }
              this.e.write(arrayOfByte, 0, i);
              this.e.flush();
              l = paramLong + i;
              paramLong = l;
            } while (this.f == 0L);
            paramLong = l;
          } while (l > this.f);
          paramLong = l;
        } while (this.c == null);
        paramLong = l;
      } while (this.c.size() <= 0);
      Iterator localIterator = this.c.iterator();
      for (;;)
      {
        paramLong = l;
        if (!localIterator.hasNext()) {
          break;
        }
        f localF = (f)localIterator.next();
        if (localF != null) {
          localF.a(l, this.f);
        }
      }
      return false;
    }
    catch (IOException localIOException)
    {
      localIOException.printStackTrace();
    }
  }
  
  public void b()
  {
    try
    {
      if (this.d != null) {
        this.d.close();
      }
      if (this.e != null) {
        this.e.close();
      }
      return;
    }
    catch (IOException localIOException)
    {
      localIOException.printStackTrace();
    }
  }
  
  public void b(long paramLong)
  {
    this.f = paramLong;
  }
  
  public void c()
  {
    this.c.clear();
  }
  
  public boolean d()
  {
    return this.a;
  }
  
  public void e()
  {
    this.a = true;
  }
}
