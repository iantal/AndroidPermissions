package com.baidu.location;

import android.content.Context;
import android.location.GpsSatellite;
import android.location.GpsStatus;
import android.location.GpsStatus.Listener;
import android.location.GpsStatus.NmeaListener;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import android.text.TextUtils;
import java.io.File;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Locale;
import java.util.Map.Entry;
import java.util.Set;

class v
  implements au, l
{
  private static final int fA = 10000;
  private static final int fD = 5;
  private static v fE = null;
  private static File fF = new File(f.H, fP);
  private static final int fM = 290000;
  private static String fP;
  private static StringBuilder fg;
  private static final double fh = 1.0E-5D;
  private static final int fj = 3000;
  private static String fl;
  private static int fs = 0;
  private static final int ft = 1;
  private static String fv = null;
  private static final int fy = 3;
  private GpsStatus e7;
  private int e8;
  private Handler e9 = null;
  private long fB;
  private b fC = null;
  private boolean fG = false;
  private c fH = null;
  private String fI = null;
  private Location fJ;
  private final int fK = 1;
  private long fL = 0L;
  private long fN;
  private int fO;
  private long fQ;
  private final int fa = 2;
  private LocationManager fb = null;
  private boolean fc = false;
  private Location fd;
  private a fe = null;
  private final int ff = 4;
  private HashMap fi;
  private long fk = 0L;
  private Location fm;
  private long fn = 0L;
  private long fo;
  private Location fp;
  private Context fq;
  private long fr = 0L;
  private final long fu = 1000L;
  private final int fw = 3;
  private Location fx;
  private boolean fz = false;
  
  static
  {
    fP = "Temp_in.dat";
  }
  
  private v() {}
  
  private boolean aD()
  {
    return false;
  }
  
  private static String aK()
  {
    if (fg != null)
    {
      if (!TextUtils.isEmpty(fg.toString())) {
        fg.insert(0, "&snls=");
      }
      if (!TextUtils.isEmpty(fl)) {
        fg.append("&pogr=").append(fl);
      }
      return fg.toString();
    }
    return null;
  }
  
  public static v aR()
  {
    if (fE == null) {
      fE = new v();
    }
    return fE;
  }
  
  public static String jdMethod_byte(Location paramLocation)
  {
    String str = jdMethod_case(paramLocation);
    paramLocation = str;
    if (str != null) {
      paramLocation = str + "&g_tp=0";
    }
    return paramLocation;
  }
  
  public static String jdMethod_case(Location paramLocation)
  {
    if (paramLocation == null) {
      return null;
    }
    float f2 = (float)(paramLocation.getSpeed() * 3.6D);
    float f1;
    int i;
    if (paramLocation.hasAccuracy())
    {
      f1 = paramLocation.getAccuracy();
      i = (int)f1;
      if (!paramLocation.hasAltitude()) {
        break label145;
      }
    }
    label145:
    for (double d = paramLocation.getAltitude();; d = 555.0D)
    {
      return String.format(Locale.CHINA, "&ll=%.5f|%.5f&s=%.1f&d=%.1f&ll_r=%d&ll_n=%d&ll_h=%.2f&ll_t=%d", new Object[] { Double.valueOf(paramLocation.getLongitude()), Double.valueOf(paramLocation.getLatitude()), Float.valueOf(f2), Float.valueOf(paramLocation.getBearing()), Integer.valueOf(i), Integer.valueOf(fs), Double.valueOf(d), Long.valueOf(paramLocation.getTime() / 1000L) });
      f1 = -1.0F;
      break;
    }
  }
  
  private double[] jdMethod_do(double paramDouble1, double paramDouble2)
  {
    return new double[] { Math.sin(Math.toRadians(paramDouble2)) * paramDouble1, Math.cos(Math.toRadians(paramDouble2)) * paramDouble1 };
  }
  
  private void jdMethod_for(Location paramLocation)
  {
    this.fJ = paramLocation;
    if (this.fJ == null) {
      this.fI = null;
    }
    try
    {
      u.ax().jdMethod_do(this.fJ);
      if (aE())
      {
        i.m().jdMethod_try(aC());
        if ((fs > 2) && (o.jdMethod_if(this.fJ, true)))
        {
          ao.bC().bJ();
          o.jdMethod_do(r.aa().X(), ao.bC().by(), this.fJ, i.m().l());
        }
      }
      return;
      l = System.currentTimeMillis();
      this.fJ.setTime(l);
      f = (float)(this.fJ.getSpeed() * 3.6D);
      j = fs;
      i = j;
      if (j != 0) {}
    }
    catch (Exception paramLocation)
    {
      try
      {
        for (;;)
        {
          long l;
          float f;
          i = this.fJ.getExtras().getInt("satellites");
          this.fI = String.format(Locale.CHINA, "&ll=%.5f|%.5f&s=%.1f&d=%.1f&ll_n=%d&ll_t=%d", new Object[] { Double.valueOf(this.fJ.getLongitude()), Double.valueOf(this.fJ.getLatitude()), Float.valueOf(f), Float.valueOf(this.fJ.getBearing()), Integer.valueOf(i), Long.valueOf(l) });
          jdMethod_if(this.fJ.getLongitude(), this.fJ.getLatitude(), f);
        }
        paramLocation = paramLocation;
      }
      catch (Exception paramLocation)
      {
        for (;;)
        {
          int j;
          int i = j;
        }
      }
    }
  }
  
  private double[] jdMethod_for(double paramDouble1, double paramDouble2)
  {
    double d = 0.0D;
    if (paramDouble2 == 0.0D) {
      if (paramDouble1 > 0.0D) {
        d = 90.0D;
      }
    }
    for (;;)
    {
      return new double[] { Math.sqrt(paramDouble1 * paramDouble1 + paramDouble2 * paramDouble2), d };
      if (paramDouble1 < 0.0D)
      {
        d = 270.0D;
        continue;
        d = Math.toDegrees(Math.atan(paramDouble1 / paramDouble2));
      }
    }
  }
  
  private int jdMethod_if(aq paramAq, int paramInt)
  {
    if (fs >= c.V) {}
    do
    {
      double d;
      do
      {
        do
        {
          return 1;
          if (fs <= c.aG) {
            return 4;
          }
          d = paramAq.cE();
        } while (d <= c.ad);
        if (d >= c.aP) {
          return 4;
        }
        d = paramAq.cH();
      } while (d <= c.af);
      if (d >= c.aR) {
        return 4;
      }
    } while (paramInt >= c.W);
    if (paramInt <= c.aH) {
      return 4;
    }
    if (this.fi != null) {
      return jdMethod_if(this.fi);
    }
    return 3;
  }
  
  private int jdMethod_if(HashMap paramHashMap)
  {
    Object localObject1;
    ArrayList localArrayList;
    int i;
    Object localObject2;
    int j;
    if (this.fO > 4)
    {
      localObject1 = new ArrayList();
      localArrayList = new ArrayList();
      paramHashMap = paramHashMap.entrySet().iterator();
      i = 0;
      if (paramHashMap.hasNext())
      {
        localObject2 = (List)((Map.Entry)paramHashMap.next()).getValue();
        if (localObject2 == null) {
          break label368;
        }
        localObject2 = jdMethod_if((List)localObject2);
        if (localObject2 == null) {
          break label368;
        }
        ((List)localObject1).add(localObject2);
        j = i + 1;
        localArrayList.add(Integer.valueOf(i));
        i = j;
      }
    }
    label368:
    for (;;)
    {
      break;
      if (!((List)localObject1).isEmpty())
      {
        paramHashMap = new double[2];
        j = ((List)localObject1).size();
        i = 0;
        while (i < j)
        {
          localObject2 = (double[])((List)localObject1).get(i);
          int k = ((Integer)localArrayList.get(i)).intValue();
          localObject2[0] *= k;
          localObject2[1] *= k;
          paramHashMap[0] += localObject2[0];
          paramHashMap[1] += localObject2[1];
          i += 1;
        }
        paramHashMap[0] /= j;
        paramHashMap[1] /= j;
        localObject1 = jdMethod_for(paramHashMap[0], paramHashMap[1]);
        fl = String.format(Locale.CHINA, "%d,%d,%d,%d", new Object[] { Long.valueOf(Math.round(paramHashMap[0] * 100.0D)), Long.valueOf(Math.round(paramHashMap[1] * 100.0D)), Long.valueOf(Math.round(localObject1[0] * 100.0D)), Long.valueOf(Math.round(localObject1[1] * 100.0D)) });
        if (localObject1[0] <= c.aw) {
          return 1;
        }
        if (localObject1[0] >= c.a2) {
          return 4;
        }
      }
      return 3;
    }
  }
  
  private String jdMethod_if(GpsSatellite paramGpsSatellite, HashMap paramHashMap)
  {
    int k = (int)Math.floor(paramGpsSatellite.getAzimuth() / 30.0F);
    float f1 = paramGpsSatellite.getElevation();
    int j = (int)Math.floor(f1 / 15.0F);
    float f2 = paramGpsSatellite.getSnr();
    int m = Math.round(f2 / 5.0F);
    if ((f2 >= 10.0F) && (f1 >= 1.0F))
    {
      List localList = (List)paramHashMap.get(Integer.valueOf(m));
      Object localObject = localList;
      if (localList == null) {
        localObject = new ArrayList();
      }
      ((List)localObject).add(paramGpsSatellite);
      paramHashMap.put(Integer.valueOf(m), localObject);
      this.fO += 1;
    }
    int i = k;
    if (k >= 12) {
      i = 11;
    }
    if (j >= 6) {
      j = 5;
    }
    for (;;)
    {
      return String.format(Locale.CHINA, "%02d%d", new Object[] { Integer.valueOf(j + i * 6 + 1), Integer.valueOf(m) });
    }
  }
  
  private void jdMethod_if(double paramDouble1, double paramDouble2, float paramFloat)
  {
    int j = 0;
    if (!w.fS) {}
    for (;;)
    {
      return;
      int i = j;
      if (paramDouble1 >= 73.146973D)
      {
        i = j;
        if (paramDouble1 <= 135.252686D)
        {
          i = j;
          if (paramDouble2 <= 54.258807D)
          {
            i = j;
            if (paramDouble2 >= 14.604847D)
            {
              if (paramFloat <= 18.0F) {
                break label85;
              }
              i = j;
            }
          }
        }
      }
      while (c.aj != i)
      {
        c.aj = i;
        return;
        label85:
        double d1 = c.aF;
        double d2 = c.ab;
        i = (int)((paramDouble1 - d1) * 1000.0D);
        int k = (int)((d2 - paramDouble2) * 1000.0D);
        if ((i > 0) && (i < 50) && (k > 0) && (k < 50))
        {
          k = i + k * 50;
          i = j;
          if (c.aq) {
            i = c.aA[(k >> 2)] >> (k & 0x3) * 2 & 0x3;
          }
        }
        else
        {
          String str = String.format(Locale.CHINA, "&ll=%.5f|%.5f", new Object[] { Double.valueOf(paramDouble1), Double.valueOf(paramDouble2) });
          str = str + "&im=" + aw.b6().b3();
          c.a7 = paramDouble1;
          c.am = paramDouble2;
          w.aU().l(str);
          i = j;
        }
      }
    }
  }
  
  private void jdMethod_if(String paramString, Location paramLocation)
  {
    paramString = paramString + i.m().l();
    o.jdMethod_do(r.aa().X(), ao.bC().by(), paramLocation, paramString);
  }
  
  public static boolean jdMethod_if(Location paramLocation1, Location paramLocation2, boolean paramBoolean)
  {
    boolean bool2 = true;
    boolean bool1;
    if (paramLocation1 == paramLocation2) {
      bool1 = false;
    }
    float f2;
    do
    {
      do
      {
        float f1;
        do
        {
          do
          {
            do
            {
              do
              {
                return bool1;
                bool1 = bool2;
              } while (paramLocation1 == null);
              bool1 = bool2;
            } while (paramLocation2 == null);
            f1 = paramLocation2.getSpeed();
            if ((!paramBoolean) || (c.aj != 3)) {
              break;
            }
            bool1 = bool2;
          } while (f1 < 5.0F);
          f2 = paramLocation2.distanceTo(paramLocation1);
          if (f1 <= c.a9) {
            break;
          }
          bool1 = bool2;
        } while (f2 > c.aY);
        return false;
        if (f1 <= c.bc) {
          break;
        }
        bool1 = bool2;
      } while (f2 > c.ao);
      return false;
      bool1 = bool2;
    } while (f2 > 5.0F);
    return false;
  }
  
  private double[] jdMethod_if(List paramList)
  {
    if ((paramList == null) || (paramList.isEmpty())) {
      return null;
    }
    double[] arrayOfDouble = new double[2];
    Iterator localIterator = paramList.iterator();
    while (localIterator.hasNext())
    {
      Object localObject = (GpsSatellite)localIterator.next();
      if (localObject != null)
      {
        localObject = jdMethod_do(90.0F - ((GpsSatellite)localObject).getElevation(), ((GpsSatellite)localObject).getAzimuth());
        arrayOfDouble[0] += localObject[0];
        arrayOfDouble[1] += localObject[1];
      }
    }
    int i = paramList.size();
    arrayOfDouble[0] /= i;
    arrayOfDouble[1] /= i;
    return arrayOfDouble;
  }
  
  private void jdMethod_int(Location paramLocation)
  {
    paramLocation = this.e9.obtainMessage(1, paramLocation);
    this.e9.sendMessage(paramLocation);
  }
  
  public static String jdMethod_new(Location paramLocation)
  {
    Object localObject = jdMethod_case(paramLocation);
    paramLocation = (Location)localObject;
    if (localObject != null) {
      paramLocation = (String)localObject + fv;
    }
    String str = aK();
    localObject = paramLocation;
    if (!TextUtils.isEmpty(str)) {
      localObject = paramLocation + str;
    }
    return localObject;
  }
  
  private void jdMethod_new(boolean paramBoolean)
  {
    this.fG = paramBoolean;
    if ((paramBoolean) && (!aE())) {}
  }
  
  private void jdMethod_try(Location paramLocation)
  {
    long l = System.currentTimeMillis();
    this.fx = paramLocation;
    this.fN = l;
    if ((this.fB == 0L) || (l - this.fB >= 290000L) || (this.fp == null))
    {
      if (this.fd != null) {
        break label82;
      }
      this.fd = paramLocation;
      this.fm = this.fd;
      this.fB = l;
      this.fQ = this.fB;
      this.fp = null;
    }
    label82:
    while (l - this.fB < 10000L) {
      return;
    }
    this.fp = paramLocation;
    String str = String.format("&dt=%.6f|%.6f|%s|%s|%s", new Object[] { Double.valueOf(this.fp.getLongitude() - this.fd.getLongitude()), Double.valueOf(this.fp.getLatitude() - this.fd.getLatitude()), Float.valueOf(this.fp.getSpeed()), Float.valueOf(this.fp.getBearing()), Long.valueOf(l - this.fB) });
    paramLocation = o.jdMethod_if(r.aa().X(), ao.bC().by(), paramLocation, i.m().l(), str);
    if (!TextUtils.isEmpty(paramLocation))
    {
      paramLocation = Jni.h(paramLocation);
      o.u().jdMethod_goto(paramLocation);
    }
    this.fd = null;
  }
  
  public String aC()
  {
    String str = null;
    if (this.fJ != null)
    {
      str = "{\"result\":{\"time\":\"" + c.jdMethod_int() + "\",\"error\":\"61\"},\"content\":{\"point\":{\"x\":" + "\"%f\",\"y\":\"%f\"},\"radius\":\"%d\",\"d\":\"%f\"," + "\"s\":\"%f\",\"n\":\"%d\"}}";
      if (!this.fJ.hasAccuracy()) {
        break label218;
      }
    }
    label218:
    for (float f = this.fJ.getAccuracy();; f = 10.0F)
    {
      int i = (int)f;
      f = (float)(this.fJ.getSpeed() * 3.6D);
      double[] arrayOfDouble = Jni.jdMethod_if(this.fJ.getLongitude(), this.fJ.getLatitude(), "gps2gcj");
      if ((arrayOfDouble[0] <= 0.0D) && (arrayOfDouble[1] <= 0.0D))
      {
        arrayOfDouble[0] = this.fJ.getLongitude();
        arrayOfDouble[1] = this.fJ.getLatitude();
      }
      str = String.format(Locale.CHINA, str, new Object[] { Double.valueOf(arrayOfDouble[0]), Double.valueOf(arrayOfDouble[1]), Integer.valueOf(i), Float.valueOf(this.fJ.getBearing()), Float.valueOf(f), Integer.valueOf(fs) });
      return str;
    }
  }
  
  public boolean aE()
  {
    if (!aG()) {}
    while (System.currentTimeMillis() - this.fr > 10000L) {
      return false;
    }
    long l = System.currentTimeMillis();
    if ((this.fc) && (l - this.fk < 3000L)) {
      return true;
    }
    return this.fG;
  }
  
  public Location aF()
  {
    return this.fJ;
  }
  
  public boolean aG()
  {
    return (this.fJ != null) && (this.fJ.getLatitude() != 0.0D) && (this.fJ.getLongitude() != 0.0D);
  }
  
  /* Error */
  public void aH()
  {
    // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: getstatic 727	com/baidu/location/f:isServing	Z
    //   5: istore_1
    //   6: iload_1
    //   7: ifne +6 -> 13
    //   10: aload_0
    //   11: monitorexit
    //   12: return
    //   13: aload_0
    //   14: invokestatic 731	com/baidu/location/f:getServiceContext	()Landroid/content/Context;
    //   17: putfield 733	com/baidu/location/v:fq	Landroid/content/Context;
    //   20: aload_0
    //   21: aload_0
    //   22: getfield 733	com/baidu/location/v:fq	Landroid/content/Context;
    //   25: ldc_w 735
    //   28: invokevirtual 741	android/content/Context:getSystemService	(Ljava/lang/String;)Ljava/lang/Object;
    //   31: checkcast 743	android/location/LocationManager
    //   34: putfield 123	com/baidu/location/v:fb	Landroid/location/LocationManager;
    //   37: aload_0
    //   38: new 10	com/baidu/location/v$a
    //   41: dup
    //   42: aload_0
    //   43: aconst_null
    //   44: invokespecial 746	com/baidu/location/v$a:<init>	(Lcom/baidu/location/v;Lcom/baidu/location/v$1;)V
    //   47: putfield 129	com/baidu/location/v:fe	Lcom/baidu/location/v$a;
    //   50: aload_0
    //   51: getfield 123	com/baidu/location/v:fb	Landroid/location/LocationManager;
    //   54: aload_0
    //   55: getfield 129	com/baidu/location/v:fe	Lcom/baidu/location/v$a;
    //   58: invokevirtual 750	android/location/LocationManager:addGpsStatusListener	(Landroid/location/GpsStatus$Listener;)Z
    //   61: pop
    //   62: aload_0
    //   63: new 16	com/baidu/location/v$c
    //   66: dup
    //   67: aload_0
    //   68: aconst_null
    //   69: invokespecial 751	com/baidu/location/v$c:<init>	(Lcom/baidu/location/v;Lcom/baidu/location/v$1;)V
    //   72: putfield 127	com/baidu/location/v:fH	Lcom/baidu/location/v$c;
    //   75: aload_0
    //   76: getfield 123	com/baidu/location/v:fb	Landroid/location/LocationManager;
    //   79: ldc_w 753
    //   82: ldc2_w 118
    //   85: fconst_0
    //   86: aload_0
    //   87: getfield 127	com/baidu/location/v:fH	Lcom/baidu/location/v$c;
    //   90: invokevirtual 757	android/location/LocationManager:requestLocationUpdates	(Ljava/lang/String;JFLandroid/location/LocationListener;)V
    //   93: aload_0
    //   94: new 759	com/baidu/location/v$1
    //   97: dup
    //   98: aload_0
    //   99: invokespecial 762	com/baidu/location/v$1:<init>	(Lcom/baidu/location/v;)V
    //   102: putfield 147	com/baidu/location/v:e9	Landroid/os/Handler;
    //   105: goto -95 -> 10
    //   108: astore_2
    //   109: aload_0
    //   110: monitorexit
    //   111: aload_2
    //   112: athrow
    //   113: astore_2
    //   114: goto -21 -> 93
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	117	0	this	v
    //   5	2	1	bool	boolean
    //   108	4	2	localObject	Object
    //   113	1	2	localException	Exception
    // Exception table:
    //   from	to	target	type
    //   2	6	108	finally
    //   13	20	108	finally
    //   20	93	108	finally
    //   93	105	108	finally
    //   20	93	113	java/lang/Exception
  }
  
  public String aI()
  {
    return this.fI;
  }
  
  public void aJ()
  {
    for (;;)
    {
      try
      {
        aQ();
        LocationManager localLocationManager = this.fb;
        if (localLocationManager == null) {
          return;
        }
      }
      finally {}
      try
      {
        if (this.fe != null) {
          this.fb.removeGpsStatusListener(this.fe);
        }
        this.fb.removeUpdates(this.fH);
      }
      catch (Exception localException)
      {
        continue;
      }
      this.fe = null;
      this.fb = null;
    }
  }
  
  public String aL()
  {
    if ((aE()) && (this.fJ != null)) {
      return jdMethod_case(this.fJ);
    }
    return null;
  }
  
  public void aN()
  {
    try
    {
      if ((this.fx != null) || (this.fm != null))
      {
        String str = String.format(Locale.CHINA, "&dt=%.6f|%.6f|%s|%s|%s", new Object[] { Double.valueOf(this.fx.getLongitude() - this.fm.getLongitude()), Double.valueOf(this.fx.getLatitude() - this.fm.getLatitude()), Float.valueOf(this.fx.getSpeed()), Float.valueOf(this.fx.getBearing()), Long.valueOf(this.fN - this.fQ) });
        str = o.jdMethod_if(r.aa().X(), ao.bC().by(), this.fx, i.m().l(), str);
        if (!TextUtils.isEmpty(str))
        {
          str = Jni.h(str);
          o.u().jdMethod_goto(str);
        }
      }
      return;
    }
    catch (Exception localException) {}
  }
  
  public boolean aO()
  {
    if (this.fb != null) {
      return this.fb.isProviderEnabled("gps");
    }
    return false;
  }
  
  public void aP()
  {
    if (this.fz) {
      return;
    }
    try
    {
      this.fC = new b(null);
      this.fb.requestLocationUpdates("gps", 1000L, 0.0F, this.fC);
      this.fb.addNmeaListener(this.fe);
      this.fz = true;
      return;
    }
    catch (Exception localException) {}
  }
  
  public void aQ()
  {
    if (!this.fz) {
      return;
    }
    if (this.fb != null) {}
    try
    {
      if (this.fC != null) {
        this.fb.removeUpdates(this.fC);
      }
      if (this.fe != null) {
        this.fb.removeNmeaListener(this.fe);
      }
    }
    catch (Exception localException)
    {
      for (;;) {}
    }
    c.ak = 0;
    c.aj = 0;
    this.fC = null;
    this.fz = false;
    jdMethod_new(false);
  }
  
  public void jdMethod_int(boolean paramBoolean)
  {
    if (paramBoolean)
    {
      aP();
      return;
    }
    aQ();
  }
  
  private class a
    implements GpsStatus.Listener, GpsStatus.NmeaListener
  {
    private long a = 0L;
    private boolean jdField_byte = false;
    private List jdField_case = new ArrayList();
    private final int jdField_char = 400;
    private String jdField_do = null;
    private String jdField_for = null;
    long jdField_if = 0L;
    private String jdField_new = null;
    private boolean jdField_try = true;
    
    private a() {}
    
    public void a(String paramString)
    {
      if ((System.currentTimeMillis() - this.a > 400L) && (this.jdField_byte) && (this.jdField_case.size() > 0)) {}
      try
      {
        aq localAq = new aq(this.jdField_case, this.jdField_for, this.jdField_new, this.jdField_do);
        if (localAq.cG())
        {
          c.ak = v.jdMethod_if(v.this, localAq, v.jdMethod_try(v.this));
          if (c.ak > 0) {
            v.k(String.format(Locale.CHINA, "&nmea=%.1f|%.1f&g_tp=%d", new Object[] { Double.valueOf(localAq.cE()), Double.valueOf(localAq.cH()), Integer.valueOf(c.ak) }));
          }
        }
        for (;;)
        {
          this.jdField_case.clear();
          this.jdField_do = null;
          this.jdField_new = null;
          this.jdField_for = null;
          this.jdField_byte = false;
          if (!paramString.startsWith("$GPGGA")) {
            break;
          }
          this.jdField_byte = true;
          this.jdField_for = paramString.trim();
          this.a = System.currentTimeMillis();
          return;
          c.ak = 0;
        }
      }
      catch (Exception localException)
      {
        for (;;)
        {
          c.ak = 0;
          continue;
          if (paramString.startsWith("$GPGSV")) {
            this.jdField_case.add(paramString.trim());
          } else if (paramString.startsWith("$GPGSA")) {
            this.jdField_do = paramString.trim();
          }
        }
      }
    }
    
    public void onGpsStatusChanged(int paramInt)
    {
      if (v.jdMethod_if(v.this) == null) {}
      long l;
      do
      {
        do
        {
          int k;
          int i;
          do
          {
            do
            {
              return;
              switch (paramInt)
              {
              case 3: 
              default: 
                return;
              case 2: 
                v.jdMethod_if(v.this, null);
                v.jdMethod_if(v.this, false);
                v.jdMethod_int(0);
                return;
              }
            } while ((!v.jdMethod_case(v.this)) && (System.currentTimeMillis() - this.jdField_if < 10000L));
            if (v.jdMethod_do(v.this) == null) {
              v.jdMethod_if(v.this, v.jdMethod_if(v.this).getGpsStatus(null));
            }
            for (;;)
            {
              localObject = v.jdMethod_do(v.this).getSatellites().iterator();
              v.jdMethod_if(new StringBuilder());
              v.jdMethod_do(v.this, 0);
              v.jdMethod_if(v.this, 0);
              v.jdMethod_do(v.this, new HashMap());
              paramInt = 0;
              k = 0;
              int j;
              for (i = 0; ((Iterator)localObject).hasNext(); i = j)
              {
                GpsSatellite localGpsSatellite = (GpsSatellite)((Iterator)localObject).next();
                k += 1;
                j = i;
                if (localGpsSatellite.usedInFix()) {
                  j = i + 1;
                }
                i = paramInt;
                if (localGpsSatellite.getSnr() > 0.0F) {
                  i = paramInt + 1;
                }
                if (localGpsSatellite.getSnr() >= c.Z) {
                  v.jdMethod_int(v.this);
                }
                v.aM().append(v.jdMethod_if(v.this, localGpsSatellite, v.jdMethod_new(v.this)));
                paramInt = i;
              }
              v.jdMethod_if(v.this).getGpsStatus(v.jdMethod_do(v.this));
            }
            v.jdMethod_int(paramInt);
            v.jdMethod_if(v.this, v.jdMethod_new(v.this));
          } while ((v.jdMethod_case(v.this)) || (System.currentTimeMillis() - v.jdMethod_char(v.this) < 60000L) || ((i <= 3) && (k <= 15)));
          localObject = v.jdMethod_if(v.this).getLastKnownLocation("gps");
        } while (localObject == null);
        this.jdField_if = System.currentTimeMillis();
        l = System.currentTimeMillis() + d.jdMethod_long().bm - ((Location)localObject).getTime();
      } while ((l >= 3500L) || (l <= -200L) || (!o.jdMethod_if((Location)localObject, false)));
      Object localObject = v.jdMethod_byte(v.this).obtainMessage(3, localObject);
      v.jdMethod_byte(v.this).sendMessage((Message)localObject);
    }
    
    public void onNmeaReceived(long paramLong, String paramString)
    {
      if (!v.jdMethod_case(v.this)) {}
      do
      {
        return;
        if (!w.fW)
        {
          c.ak = 0;
          return;
        }
      } while ((paramString == null) || (paramString.equals("")) || (paramString.length() < 9) || (paramString.length() > 150) || (!v.this.aE()));
      v.jdMethod_byte(v.this).sendMessage(v.jdMethod_byte(v.this).obtainMessage(2, paramString));
    }
  }
  
  private class b
    implements LocationListener
  {
    private b() {}
    
    public void onLocationChanged(Location paramLocation)
    {
      v.jdMethod_do(v.this, System.currentTimeMillis());
      v.jdMethod_if(v.this, true);
      v.jdMethod_if(v.this, paramLocation);
      v.jdMethod_do(v.this, false);
    }
    
    public void onProviderDisabled(String paramString)
    {
      v.jdMethod_if(v.this, null);
      v.jdMethod_if(v.this, false);
    }
    
    public void onProviderEnabled(String paramString) {}
    
    public void onStatusChanged(String paramString, int paramInt, Bundle paramBundle)
    {
      switch (paramInt)
      {
      default: 
        return;
      case 0: 
        v.jdMethod_if(v.this, null);
        v.jdMethod_if(v.this, false);
        return;
      case 1: 
        v.jdMethod_if(v.this, System.currentTimeMillis());
        v.jdMethod_do(v.this, true);
        v.jdMethod_if(v.this, false);
        return;
      }
      v.jdMethod_do(v.this, false);
    }
  }
  
  private class c
    implements LocationListener
  {
    private long jdField_if = 0L;
    
    private c() {}
    
    public void onLocationChanged(Location paramLocation)
    {
      if (v.jdMethod_case(v.this)) {}
      do
      {
        do
        {
          return;
        } while ((paramLocation == null) || (paramLocation.getProvider() != "gps"));
        v.jdMethod_for(v.this, System.currentTimeMillis());
      } while ((System.currentTimeMillis() - this.jdField_if < 10000L) || (!o.jdMethod_if(paramLocation, false)));
      this.jdField_if = System.currentTimeMillis();
      paramLocation = v.jdMethod_byte(v.this).obtainMessage(4, paramLocation);
      v.jdMethod_byte(v.this).sendMessage(paramLocation);
    }
    
    public void onProviderDisabled(String paramString) {}
    
    public void onProviderEnabled(String paramString) {}
    
    public void onStatusChanged(String paramString, int paramInt, Bundle paramBundle) {}
  }
}
