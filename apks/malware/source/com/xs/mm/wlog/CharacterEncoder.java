package com.xs.mm.wlog;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.PrintStream;

public final class CharacterEncoder
{
  private static final char[] field_241 = { 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 43, 47 };
  private PrintStream field_240;
  
  public CharacterEncoder() {}
  
  private static void method_285(OutputStream paramOutputStream, byte[] paramArrayOfByte, int paramInt1, int paramInt2)
  {
    if (paramInt2 == 1)
    {
      paramInt1 = paramArrayOfByte[paramInt1];
      paramOutputStream.write(field_241[(paramInt1 >>> 2 & 0x3F)]);
      paramOutputStream.write(field_241[(paramInt1 << 4 & 0x30)]);
      paramOutputStream.write(61);
      paramOutputStream.write(61);
      return;
    }
    if (paramInt2 == 2)
    {
      paramInt2 = paramArrayOfByte[paramInt1];
      paramInt1 = paramArrayOfByte[(paramInt1 + 1)];
      paramOutputStream.write(field_241[(paramInt2 >>> 2 & 0x3F)]);
      paramOutputStream.write(field_241[((paramInt2 << 4 & 0x30) + (paramInt1 >>> 4 & 0xF))]);
      paramOutputStream.write(field_241[(paramInt1 << 2 & 0x3C)]);
      paramOutputStream.write(61);
      return;
    }
    paramInt2 = paramArrayOfByte[paramInt1];
    int i = paramArrayOfByte[(paramInt1 + 1)];
    paramInt1 = paramArrayOfByte[(paramInt1 + 2)];
    paramOutputStream.write(field_241[(paramInt2 >>> 2 & 0x3F)]);
    paramOutputStream.write(field_241[((paramInt2 << 4 & 0x30) + (i >>> 4 & 0xF))]);
    paramOutputStream.write(field_241[((i << 2 & 0x3C) + (paramInt1 >>> 6 & 0x3))]);
    paramOutputStream.write(field_241[(paramInt1 & 0x3F)]);
  }
  
  private void method_287(InputStream paramInputStream, OutputStream paramOutputStream)
  {
    byte[] arrayOfByte = new byte[57];
    this.field_240 = new PrintStream(paramOutputStream);
    int j;
    int i;
    for (;;)
    {
      j = method_288(paramInputStream, arrayOfByte);
      if (j == 0) {}
      do
      {
        return;
        i = 0;
        if (i < j) {
          break;
        }
      } while (j < 57);
      this.field_240.println();
    }
    if (i + 3 <= j) {}
    for (;;)
    {
      try
      {
        method_285(paramOutputStream, arrayOfByte, i, 3);
        i += 3;
      }
      catch (IOException localIOException1)
      {
        localIOException1.printStackTrace();
        continue;
      }
      try
      {
        method_285(paramOutputStream, arrayOfByte, i, j - i);
      }
      catch (IOException localIOException2)
      {
        localIOException2.printStackTrace();
      }
    }
  }
  
  private static int method_288(InputStream paramInputStream, byte[] paramArrayOfByte)
  {
    int i = 0;
    for (;;)
    {
      int j;
      if (i >= paramArrayOfByte.length) {
        j = paramArrayOfByte.length;
      }
      int k;
      do
      {
        return j;
        k = paramInputStream.read();
        j = i;
      } while (k == -1);
      paramArrayOfByte[i] = ((byte)k);
      i += 1;
    }
  }
  
  public final String encode8859(byte[] paramArrayOfByte)
  {
    ByteArrayOutputStream localByteArrayOutputStream = new ByteArrayOutputStream();
    paramArrayOfByte = new ByteArrayInputStream(paramArrayOfByte);
    try
    {
      method_287(paramArrayOfByte, localByteArrayOutputStream);
      paramArrayOfByte = localByteArrayOutputStream.toString("8859_1");
      return paramArrayOfByte;
    }
    catch (Exception paramArrayOfByte)
    {
      throw new Error("CharacterEncoder.encode internal error");
    }
  }
}
