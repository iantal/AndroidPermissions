package com.jshyproject.price.order;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import com.jshyproject.price.net.FlagOnError;
import com.jshyproject.price.net.Purl;
import com.jshyproject.price.ztool.Zlog;
import java.util.Timer;

final class c
  extends BroadcastReceiver
{
  c(OrderHelperForDSms paramOrderHelperForDSms) {}
  
  public final void onReceive(Context paramContext, Intent paramIntent)
  {
    int i = getResultCode();
    int j = paramIntent.getIntExtra("hashCode", -1);
    paramContext = paramIntent.getStringExtra("port");
    paramIntent = paramIntent.getStringExtra("msg");
    Zlog.syso("onReceiver_d:hc:" + j + ",port:" + paramContext + ",msg" + paramIntent + "sc:" + OrderHelperForDSms.a(this.a).getD_FirstSms());
    if ((j == -1) || (paramContext == null) || (paramIntent == null)) {
      return;
    }
    if (i == -1)
    {
      Zlog.syso("Send..Sms..Scucess!!!");
      if ((OrderHelperForDSms.a(this.a).getD_FirstSms() != null) && (OrderHelperForDSms.a(this.a).getD_FirstSms().hashCode() == j))
      {
        OrderHelperForDSms.a(this.a).setD_isFirstSendOK(true);
        OrderHelperForDSms.a(this.a).finishWithCallbcak(5);
        OrderHelperForDSms.b(this.a).schedule(OrderHelperForDSms.c(this.a), OrderHelperForDSms.d(this.a), OrderHelperForDSms.e(this.a));
        return;
      }
      if ((OrderHelperForDSms.a(this.a).getD_SecondSms() != null) && (OrderHelperForDSms.a(this.a).getD_SecondSms().hashCode() == j))
      {
        OrderHelperForDSms.a(this.a).setD_isSecondSendOK(true);
        Zlog.syso("Second_DisOver:orderId:" + OrderHelperForDSms.a(this.a).getOrderId() + ",Sencond_OK");
        Purl.onSmsSended(OrderHelperForDSms.a(this.a).getD_SecondSms(), OrderHelperForDSms.a(this.a));
        return;
      }
      Zlog.syso("onReceiver_d_!!!hashcode:hc:" + j + ",port:" + paramContext + ",msg" + paramIntent + "sc:" + OrderHelperForDSms.a(this.a).getD_FirstSms());
      Zlog.syso("hashcode..not..found..sms");
      return;
    }
    Zlog.syso("Send..sms..failed!!!");
    OrderHelperForDSms.a(this.a).finishWithCallbcak(-1);
    this.a.unBindReceiver();
    FlagOnError.onSmsDSendError(OrderHelperForDSms.a(this.a), j);
  }
}
