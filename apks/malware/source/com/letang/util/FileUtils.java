package com.letang.util;

import android.content.Context;
import java.io.BufferedInputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;

public class FileUtils
{
  public FileUtils() {}
  
  public static void createDir(String paramString)
  {
    if (paramString.indexOf("/") != -1)
    {
      paramString = new File(paramString.substring(0, paramString.lastIndexOf("/")));
      if (!paramString.exists()) {
        paramString.mkdirs();
      }
    }
  }
  
  public static void writeFile(InputStream paramInputStream, String paramString)
    throws IOException
  {
    createDir(paramString);
    BufferedInputStream localBufferedInputStream = new BufferedInputStream(paramInputStream);
    paramString = new FileOutputStream(paramString, false);
    byte[] arrayOfByte = new byte['Ѐ'];
    for (;;)
    {
      int i = localBufferedInputStream.read(arrayOfByte);
      if (i == -1)
      {
        paramString.flush();
        localBufferedInputStream.close();
        paramInputStream.close();
        paramString.close();
        return;
      }
      paramString.write(arrayOfByte, 0, i);
    }
  }
  
  public static void writeFileToPhone(Context paramContext, InputStream paramInputStream, String paramString)
    throws IOException
  {
    BufferedInputStream localBufferedInputStream = new BufferedInputStream(paramInputStream);
    paramContext = paramContext.openFileOutput(paramString, 2);
    paramString = new byte['Ѐ'];
    for (;;)
    {
      int i = localBufferedInputStream.read(paramString);
      if (i == -1)
      {
        paramContext.flush();
        localBufferedInputStream.close();
        paramInputStream.close();
        paramContext.close();
        return;
      }
      paramContext.write(paramString, 0, i);
    }
  }
}
