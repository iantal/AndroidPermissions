package com.letang.util;

import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.net.URL;
import java.net.URLConnection;

public class DownloadUtils
{
  public DownloadUtils() {}
  
  public static void downloadFile(String paramString1, String paramString2)
    throws IOException
  {
    Object localObject = new URL(paramString1).openConnection();
    ((URLConnection)localObject).connect();
    paramString1 = ((URLConnection)localObject).getInputStream();
    int i = ((URLConnection)localObject).getContentLength();
    LogUtils.Debug("DownloadUtils", "length = " + i);
    if (i <= 0) {
      throw new RuntimeException("无法获知文件大小 ");
    }
    if (paramString1 == null) {
      throw new RuntimeException("stream is null");
    }
    paramString2 = new FileOutputStream(new File(paramString2));
    localObject = new byte['Ѐ'];
    for (;;)
    {
      i = paramString1.read((byte[])localObject);
      if (i == -1) {}
      try
      {
        paramString1.close();
        LogUtils.Debug("DownloadUtils", "下载成功！");
        return;
        paramString2.write((byte[])localObject, 0, i);
      }
      catch (Exception paramString1)
      {
        for (;;)
        {
          paramString1.printStackTrace();
        }
      }
    }
  }
}
