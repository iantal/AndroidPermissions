package com.chartboost.sdk.impl;

import java.io.IOException;
import java.net.CacheRequest;
import java.net.Socket;

public final class cy
{
  private static final byte[] g = { 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 97, 98, 99, 100, 101, 102 };
  private static final byte[] h = { 48, 13, 10, 13, 10 };
  private final ce a;
  private final cd b;
  private final dr c;
  private final dq d;
  private int e = 0;
  private int f = 0;
  
  public cy(ce paramCe, cd paramCd, dr paramDr, dq paramDq)
  {
    this.a = paramCe;
    this.b = paramCd;
    this.c = paramDr;
    this.d = paramDq;
  }
  
  public ed a(long paramLong)
  {
    if (this.e != 1) {
      throw new IllegalStateException("state: " + this.e);
    }
    this.e = 2;
    return new cy.d(this, paramLong, null);
  }
  
  public ee a(CacheRequest paramCacheRequest)
  {
    if (this.e != 4) {
      throw new IllegalStateException("state: " + this.e);
    }
    this.e = 5;
    return new cy.f(this, paramCacheRequest);
  }
  
  public ee a(CacheRequest paramCacheRequest, long paramLong)
  {
    if (this.e != 4) {
      throw new IllegalStateException("state: " + this.e);
    }
    this.e = 5;
    return new cy.e(this, paramCacheRequest, paramLong);
  }
  
  public ee a(CacheRequest paramCacheRequest, da paramDa)
  {
    if (this.e != 4) {
      throw new IllegalStateException("state: " + this.e);
    }
    this.e = 5;
    return new cy.c(this, paramCacheRequest, paramDa);
  }
  
  public void a()
  {
    this.f = 1;
    if (this.e == 0)
    {
      this.f = 0;
      this.a.a(this.b);
    }
  }
  
  public void a(cw.a paramA)
  {
    for (;;)
    {
      String str = this.c.a(true);
      if (str.length() == 0) {
        break;
      }
      paramA.a(str);
    }
  }
  
  public void a(cw paramCw, String paramString)
  {
    if (this.e != 0) {
      throw new IllegalStateException("state: " + this.e);
    }
    this.d.a(paramString).a("\r\n");
    int i = 0;
    while (i < paramCw.a())
    {
      this.d.a(paramCw.a(i)).a(": ").a(paramCw.b(i)).a("\r\n");
      i += 1;
    }
    this.d.a("\r\n");
    this.e = 1;
  }
  
  public void a(dk paramDk)
  {
    if (this.e != 1) {
      throw new IllegalStateException("state: " + this.e);
    }
    this.e = 3;
    paramDk.a(this.d);
  }
  
  public boolean a(ee paramEe, int paramInt)
  {
    Socket localSocket = this.b.c();
    try
    {
      int i = localSocket.getSoTimeout();
      localSocket.setSoTimeout(paramInt);
      try
      {
        boolean bool = cs.a(paramEe, paramInt);
        return bool;
      }
      finally
      {
        localSocket.setSoTimeout(i);
      }
      return false;
    }
    catch (IOException paramEe) {}
  }
  
  public void b()
  {
    this.f = 2;
    if (this.e == 0)
    {
      this.e = 6;
      this.b.close();
    }
  }
  
  public boolean c()
  {
    return this.e == 6;
  }
  
  public void d()
  {
    this.d.a();
  }
  
  public di.b e()
  {
    if ((this.e != 1) && (this.e != 3)) {
      throw new IllegalStateException("state: " + this.e);
    }
    dn localDn;
    di.b localB;
    do
    {
      localDn = new dn(this.c.a(true));
      localB = new di.b().a(localDn).a(df.e, cj.c.d.a());
      cw.a localA = new cw.a();
      a(localA);
      localB.a(localA.a());
    } while (localDn.c() == 100);
    this.e = 4;
    return localB;
  }
  
  public ed f()
  {
    if (this.e != 1) {
      throw new IllegalStateException("state: " + this.e);
    }
    this.e = 2;
    return new cy.b(this, null);
  }
  
  public void g()
  {
    a(null, 0L);
  }
}
