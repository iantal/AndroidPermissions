package com.chartboost.sdk.impl;

import java.io.Serializable;
import java.util.Collection;
import java.util.Collections;
import java.util.Map;
import java.util.Set;
import java.util.concurrent.ConcurrentMap;
import java.util.concurrent.locks.Lock;
import java.util.concurrent.locks.ReentrantLock;

abstract class fx
  implements Serializable, ConcurrentMap
{
  private volatile Map a = (Map)fy.a("delegate", a((Map)fy.a("map", paramMap)));
  private final transient Lock b = new ReentrantLock();
  private final fx.h c;
  
  protected fx(Map paramMap, fx.h.a paramA)
  {
    this.c = ((fx.h.a)fy.a("viewType", paramA)).a(this);
  }
  
  private boolean a(Object paramObject1, Object paramObject2)
  {
    if (paramObject1 == null) {
      return paramObject2 == null;
    }
    return paramObject1.equals(paramObject2);
  }
  
  protected Map a()
  {
    this.b.lock();
    try
    {
      Map localMap = a(this.a);
      return localMap;
    }
    finally
    {
      this.b.unlock();
    }
  }
  
  abstract Map a(Map paramMap);
  
  protected void b(Map paramMap)
  {
    this.a = paramMap;
  }
  
  public final void clear()
  {
    this.b.lock();
    try
    {
      b(a(Collections.emptyMap()));
      return;
    }
    finally
    {
      this.b.unlock();
    }
  }
  
  public final boolean containsKey(Object paramObject)
  {
    return this.a.containsKey(paramObject);
  }
  
  public final boolean containsValue(Object paramObject)
  {
    return this.a.containsValue(paramObject);
  }
  
  public final Set entrySet()
  {
    return this.c.b();
  }
  
  public final boolean equals(Object paramObject)
  {
    return this.a.equals(paramObject);
  }
  
  public final Object get(Object paramObject)
  {
    return this.a.get(paramObject);
  }
  
  public final int hashCode()
  {
    return this.a.hashCode();
  }
  
  public final boolean isEmpty()
  {
    return this.a.isEmpty();
  }
  
  public final Set keySet()
  {
    return this.c.a();
  }
  
  /* Error */
  public final Object put(Object paramObject1, Object paramObject2)
  {
    // Byte code:
    //   0: aload_0
    //   1: getfield 24	com/chartboost/sdk/impl/fx:b	Ljava/util/concurrent/locks/Lock;
    //   4: invokeinterface 63 1 0
    //   9: aload_0
    //   10: invokevirtual 106	com/chartboost/sdk/impl/fx:a	()Ljava/util/Map;
    //   13: astore_3
    //   14: aload_3
    //   15: aload_1
    //   16: aload_2
    //   17: invokeinterface 108 3 0
    //   22: astore_1
    //   23: aload_0
    //   24: aload_3
    //   25: invokevirtual 75	com/chartboost/sdk/impl/fx:b	(Ljava/util/Map;)V
    //   28: aload_0
    //   29: getfield 24	com/chartboost/sdk/impl/fx:b	Ljava/util/concurrent/locks/Lock;
    //   32: invokeinterface 66 1 0
    //   37: aload_1
    //   38: areturn
    //   39: astore_1
    //   40: aload_0
    //   41: aload_3
    //   42: invokevirtual 75	com/chartboost/sdk/impl/fx:b	(Ljava/util/Map;)V
    //   45: aload_1
    //   46: athrow
    //   47: astore_1
    //   48: aload_0
    //   49: getfield 24	com/chartboost/sdk/impl/fx:b	Ljava/util/concurrent/locks/Lock;
    //   52: invokeinterface 66 1 0
    //   57: aload_1
    //   58: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	59	0	this	fx
    //   0	59	1	paramObject1	Object
    //   0	59	2	paramObject2	Object
    //   13	29	3	localMap	Map
    // Exception table:
    //   from	to	target	type
    //   14	23	39	finally
    //   9	14	47	finally
    //   23	28	47	finally
    //   40	47	47	finally
  }
  
  public final void putAll(Map paramMap)
  {
    this.b.lock();
    try
    {
      Map localMap = a();
      localMap.putAll(paramMap);
      b(localMap);
      return;
    }
    finally
    {
      this.b.unlock();
    }
  }
  
  public Object putIfAbsent(Object paramObject1, Object paramObject2)
  {
    this.b.lock();
    try
    {
      if (!this.a.containsKey(paramObject1))
      {
        Map localMap = a();
        try
        {
          paramObject1 = localMap.put(paramObject1, paramObject2);
          b(localMap);
          return paramObject1;
        }
        finally
        {
          b(localMap);
        }
      }
      paramObject1 = this.a.get(paramObject1);
    }
    finally
    {
      this.b.unlock();
    }
    this.b.unlock();
    return paramObject1;
  }
  
  /* Error */
  public final Object remove(Object paramObject)
  {
    // Byte code:
    //   0: aload_0
    //   1: getfield 24	com/chartboost/sdk/impl/fx:b	Ljava/util/concurrent/locks/Lock;
    //   4: invokeinterface 63 1 0
    //   9: aload_0
    //   10: getfield 40	com/chartboost/sdk/impl/fx:a	Ljava/util/Map;
    //   13: aload_1
    //   14: invokeinterface 78 2 0
    //   19: istore_2
    //   20: iload_2
    //   21: ifne +14 -> 35
    //   24: aload_0
    //   25: getfield 24	com/chartboost/sdk/impl/fx:b	Ljava/util/concurrent/locks/Lock;
    //   28: invokeinterface 66 1 0
    //   33: aconst_null
    //   34: areturn
    //   35: aload_0
    //   36: invokevirtual 106	com/chartboost/sdk/impl/fx:a	()Ljava/util/Map;
    //   39: astore_3
    //   40: aload_3
    //   41: aload_1
    //   42: invokeinterface 115 2 0
    //   47: astore_1
    //   48: aload_0
    //   49: aload_3
    //   50: invokevirtual 75	com/chartboost/sdk/impl/fx:b	(Ljava/util/Map;)V
    //   53: aload_0
    //   54: getfield 24	com/chartboost/sdk/impl/fx:b	Ljava/util/concurrent/locks/Lock;
    //   57: invokeinterface 66 1 0
    //   62: aload_1
    //   63: areturn
    //   64: astore_1
    //   65: aload_0
    //   66: aload_3
    //   67: invokevirtual 75	com/chartboost/sdk/impl/fx:b	(Ljava/util/Map;)V
    //   70: aload_1
    //   71: athrow
    //   72: astore_1
    //   73: aload_0
    //   74: getfield 24	com/chartboost/sdk/impl/fx:b	Ljava/util/concurrent/locks/Lock;
    //   77: invokeinterface 66 1 0
    //   82: aload_1
    //   83: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	84	0	this	fx
    //   0	84	1	paramObject	Object
    //   19	2	2	bool	boolean
    //   39	28	3	localMap	Map
    // Exception table:
    //   from	to	target	type
    //   40	48	64	finally
    //   9	20	72	finally
    //   35	40	72	finally
    //   48	53	72	finally
    //   65	72	72	finally
  }
  
  public boolean remove(Object paramObject1, Object paramObject2)
  {
    this.b.lock();
    try
    {
      if ((this.a.containsKey(paramObject1)) && (a(paramObject2, this.a.get(paramObject1))))
      {
        paramObject2 = a();
        paramObject2.remove(paramObject1);
        b(paramObject2);
        return true;
      }
      return false;
    }
    finally
    {
      this.b.unlock();
    }
  }
  
  /* Error */
  public Object replace(Object paramObject1, Object paramObject2)
  {
    // Byte code:
    //   0: aload_0
    //   1: getfield 24	com/chartboost/sdk/impl/fx:b	Ljava/util/concurrent/locks/Lock;
    //   4: invokeinterface 63 1 0
    //   9: aload_0
    //   10: getfield 40	com/chartboost/sdk/impl/fx:a	Ljava/util/Map;
    //   13: aload_1
    //   14: invokeinterface 78 2 0
    //   19: istore_3
    //   20: iload_3
    //   21: ifne +14 -> 35
    //   24: aload_0
    //   25: getfield 24	com/chartboost/sdk/impl/fx:b	Ljava/util/concurrent/locks/Lock;
    //   28: invokeinterface 66 1 0
    //   33: aconst_null
    //   34: areturn
    //   35: aload_0
    //   36: invokevirtual 106	com/chartboost/sdk/impl/fx:a	()Ljava/util/Map;
    //   39: astore 4
    //   41: aload 4
    //   43: aload_1
    //   44: aload_2
    //   45: invokeinterface 108 3 0
    //   50: astore_1
    //   51: aload_0
    //   52: aload 4
    //   54: invokevirtual 75	com/chartboost/sdk/impl/fx:b	(Ljava/util/Map;)V
    //   57: aload_0
    //   58: getfield 24	com/chartboost/sdk/impl/fx:b	Ljava/util/concurrent/locks/Lock;
    //   61: invokeinterface 66 1 0
    //   66: aload_1
    //   67: areturn
    //   68: astore_1
    //   69: aload_0
    //   70: aload 4
    //   72: invokevirtual 75	com/chartboost/sdk/impl/fx:b	(Ljava/util/Map;)V
    //   75: aload_1
    //   76: athrow
    //   77: astore_1
    //   78: aload_0
    //   79: getfield 24	com/chartboost/sdk/impl/fx:b	Ljava/util/concurrent/locks/Lock;
    //   82: invokeinterface 66 1 0
    //   87: aload_1
    //   88: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	89	0	this	fx
    //   0	89	1	paramObject1	Object
    //   0	89	2	paramObject2	Object
    //   19	2	3	bool	boolean
    //   39	32	4	localMap	Map
    // Exception table:
    //   from	to	target	type
    //   41	51	68	finally
    //   9	20	77	finally
    //   35	41	77	finally
    //   51	57	77	finally
    //   69	77	77	finally
  }
  
  public boolean replace(Object paramObject1, Object paramObject2, Object paramObject3)
  {
    this.b.lock();
    try
    {
      if (this.a.containsKey(paramObject1))
      {
        boolean bool = a(paramObject2, this.a.get(paramObject1));
        if (bool) {}
      }
      else
      {
        return false;
      }
      paramObject2 = a();
      paramObject2.put(paramObject1, paramObject3);
      b(paramObject2);
      return true;
    }
    finally
    {
      this.b.unlock();
    }
  }
  
  public final int size()
  {
    return this.a.size();
  }
  
  public String toString()
  {
    return this.a.toString();
  }
  
  public final Collection values()
  {
    return this.c.c();
  }
}
