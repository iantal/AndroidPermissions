package com.flurry.android;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.Bitmap.Config;
import android.graphics.BitmapFactory;
import android.graphics.BlurMaskFilter;
import android.graphics.BlurMaskFilter.Blur;
import android.graphics.Canvas;
import android.graphics.MaskFilter;
import android.graphics.NinePatch;
import android.graphics.Paint;
import android.graphics.PorterDuff.Mode;
import android.graphics.PorterDuffXfermode;
import android.graphics.Rect;
import android.graphics.RectF;
import android.graphics.Typeface;
import android.graphics.drawable.BitmapDrawable;
import android.graphics.drawable.NinePatchDrawable;
import android.os.Build.VERSION;
import android.view.View;
import android.view.ViewGroup.LayoutParams;
import android.widget.ImageView;
import android.widget.ImageView.ScaleType;
import android.widget.RelativeLayout;
import android.widget.RelativeLayout.LayoutParams;
import android.widget.TextView;

final class v
  extends RelativeLayout
{
  private q a;
  private ag b;
  private String c;
  private int d;
  
  public v(Context paramContext, q paramQ, ag paramAg, f paramF, int paramInt, boolean paramBoolean)
  {
    super(paramContext);
    this.a = paramQ;
    this.b = paramAg;
    paramQ = paramAg.b;
    this.d = paramInt;
    switch (this.d)
    {
    }
    for (;;)
    {
      setFocusable(true);
      return;
      if (paramBoolean) {
        a(paramContext, paramF, paramQ, false);
      }
      for (;;)
      {
        if (!paramBoolean) {
          break label101;
        }
        a(paramContext, paramF, paramQ, false);
        break;
        a(paramContext, paramF, paramQ, true);
      }
      label101:
      a(paramContext, paramF, paramQ, true);
    }
  }
  
  private void a(Context paramContext, f paramF, s paramS, boolean paramBoolean)
  {
    setLayoutParams(new RelativeLayout.LayoutParams(-1, -1));
    d localD = paramF.d;
    ImageView localImageView = new ImageView(paramContext);
    localImageView.setId(1);
    paramF = paramS.h;
    Object localObject1;
    if (paramF != null)
    {
      paramF = paramF.e;
      localObject1 = BitmapFactory.decodeByteArray(paramF, 0, paramF.length);
      paramF = Bitmap.createBitmap(((Bitmap)localObject1).getWidth(), ((Bitmap)localObject1).getHeight(), Bitmap.Config.ARGB_8888);
      Object localObject2 = new Canvas(paramF);
      Paint localPaint = new Paint();
      Rect localRect = new Rect(0, 0, ((Bitmap)localObject1).getWidth(), ((Bitmap)localObject1).getHeight());
      RectF localRectF = new RectF(localRect);
      float f = i.a(paramContext, 8);
      localPaint.setAntiAlias(true);
      ((Canvas)localObject2).drawARGB(0, 0, 0, 0);
      localPaint.setColor(-16777216);
      ((Canvas)localObject2).drawRoundRect(localRectF, f, f, localPaint);
      localPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));
      ((Canvas)localObject2).drawBitmap((Bitmap)localObject1, localRect, localRect, localPaint);
      if (Integer.parseInt(Build.VERSION.SDK) <= 4) {
        break label877;
      }
      localObject2 = new BlurMaskFilter(3.0F, BlurMaskFilter.Blur.OUTER);
      localObject1 = new Paint();
      ((Paint)localObject1).setMaskFilter((MaskFilter)localObject2);
      localObject2 = new int[2];
      localObject1 = paramF.extractAlpha((Paint)localObject1, (int[])localObject2).copy(Bitmap.Config.ARGB_8888, true);
      new Canvas((Bitmap)localObject1).drawBitmap(paramF, -localObject2[0], -localObject2[1], null);
      paramF = (f)localObject1;
    }
    label779:
    label877:
    for (;;)
    {
      localImageView.setImageBitmap(paramF);
      i.a(paramContext, localImageView, i.a(paramContext, localD.m), i.a(paramContext, localD.n));
      localImageView.setScaleType(ImageView.ScaleType.FIT_XY);
      paramF = this.a.a(localD.c);
      if (paramF != null)
      {
        paramF = paramF.e;
        paramF = BitmapFactory.decodeByteArray(paramF, 0, paramF.length);
        if (NinePatch.isNinePatchChunk(paramF.getNinePatchChunk()))
        {
          paramF = new NinePatchDrawable(paramF, paramF.getNinePatchChunk(), new Rect(0, 0, 0, 0), null);
          setBackgroundDrawable(paramF);
        }
      }
      else
      {
        paramF = new TextView(paramContext);
        paramF.setId(5);
        paramF.setPadding(0, 0, 0, 0);
        localObject1 = new TextView(paramContext);
        ((TextView)localObject1).setId(3);
        ((TextView)localObject1).setPadding(0, 0, 0, 0);
        if (!paramBoolean) {
          break label779;
        }
        paramF.setTextColor(localD.f);
        paramF.setTextSize(localD.e);
        paramF.setText(new String("â€¢ " + localD.b));
        paramF.setTypeface(Typeface.create(localD.d, 0));
        ((TextView)localObject1).setTextColor(localD.i);
        ((TextView)localObject1).setTextSize(localD.h);
        ((TextView)localObject1).setTypeface(Typeface.create(localD.g, 0));
        ((TextView)localObject1).setText(paramS.d);
      }
      for (;;)
      {
        setLayoutParams(new ViewGroup.LayoutParams(-2, -2));
        paramS = new RelativeLayout.LayoutParams(-1, -2);
        addView(new ImageView(paramContext), paramS);
        int i = localD.q;
        int j = localD.o;
        int k = localD.m;
        paramContext = new RelativeLayout.LayoutParams(-2, -2);
        paramContext.addRule(9);
        paramContext.setMargins(localD.o, localD.p, i - (j << 1) - k, 0);
        addView(localImageView, paramContext);
        paramContext = new RelativeLayout.LayoutParams(-2, -2);
        paramContext.addRule(6, localImageView.getId());
        paramContext.addRule(1, localImageView.getId());
        paramContext.setMargins(0, 0, 0, 0);
        addView(paramF, paramContext);
        paramContext = new RelativeLayout.LayoutParams(-2, -2);
        paramContext.addRule(1, localImageView.getId());
        paramContext.addRule(3, paramF.getId());
        paramContext.setMargins(0, -2, 0, 0);
        addView((View)localObject1, paramContext);
        return;
        paramF = new BitmapDrawable(paramF);
        break;
        paramF.setId(3);
        paramF.setText(paramS.d);
        paramF.setTextColor(localD.i);
        paramF.setTextSize(localD.h);
        paramF.setTypeface(Typeface.create(localD.g, 0));
        ((TextView)localObject1).setId(4);
        ((TextView)localObject1).setText(paramS.c);
        ((TextView)localObject1).setTextColor(localD.l);
        ((TextView)localObject1).setTextSize(localD.k);
        ((TextView)localObject1).setTypeface(Typeface.create(localD.j, 0));
      }
    }
  }
  
  final ag a()
  {
    return this.b;
  }
  
  final void a(String paramString)
  {
    this.c = paramString;
  }
  
  final String b(String paramString)
  {
    return paramString + this.c + System.currentTimeMillis();
  }
}
