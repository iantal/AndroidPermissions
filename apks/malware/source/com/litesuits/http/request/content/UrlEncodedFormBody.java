package com.litesuits.http.request.content;

import com.litesuits.http.data.NameValuePair;
import java.io.UnsupportedEncodingException;
import java.net.URLEncoder;
import java.util.Iterator;
import java.util.List;

public class UrlEncodedFormBody
  extends StringBody
{
  public UrlEncodedFormBody(List<NameValuePair> paramList)
  {
    super(handleString(paramList, "UTF-8"), "application/x-www-form-urlencoded", "UTF-8");
  }
  
  public UrlEncodedFormBody(List<NameValuePair> paramList, String paramString)
  {
    super(handleString(paramList, paramString), "application/x-www-form-urlencoded", paramString);
  }
  
  private static String handleString(List<NameValuePair> paramList, String paramString)
  {
    if (paramList == null) {
      return "";
    }
    StringBuilder localStringBuilder = new StringBuilder();
    paramList = paramList.iterator();
    int i = 1;
    if (paramList.hasNext())
    {
      NameValuePair localNameValuePair = (NameValuePair)paramList.next();
      if (i == 0) {
        localStringBuilder.append("&");
      }
      for (;;)
      {
        try
        {
          localStringBuilder.append(URLEncoder.encode(localNameValuePair.getName(), paramString)).append("=").append(URLEncoder.encode(localNameValuePair.getValue(), paramString));
        }
        catch (UnsupportedEncodingException localUnsupportedEncodingException)
        {
          localUnsupportedEncodingException.printStackTrace();
        }
        break;
        i = 0;
      }
    }
    return localStringBuilder.toString();
  }
  
  public String toString()
  {
    return "StringEntity{string='" + this.string + '\'' + ", charset='" + this.charset + '\'' + ", contentType='" + this.contentType + '\'' + '}';
  }
}
