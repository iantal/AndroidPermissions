package com.shoufu.lib;

import android.content.Context;
import android.os.Handler;
import android.os.Message;
import android.util.Log;
import com.shoufu.entity.response.Task;
import com.shoufu.entity.response.TaskData;
import com.shoufu.entity.response.TaskResultMap;
import java.net.URLDecoder;
import java.util.ArrayList;

class dh
  extends Thread
{
  dh(TaskData paramTaskData, Handler paramHandler, Context paramContext) {}
  
  public void run()
  {
    Log.d("TaskUtil", "mm");
    int i1 = 0;
    int k = 0;
    int i2 = 0;
    int n = 0;
    int j = -1;
    for (;;)
    {
      int m;
      try
      {
        TaskResultMap localTaskResultMap = this.a.getResultmap();
        int i;
        if (localTaskResultMap.getSuccess() == 1)
        {
          if (this.b != null) {
            this.b.obtainMessage(8).sendToTarget();
          }
        }
        else
        {
          i = this.a.getResultmap().getNextrequestcode();
          j = i;
          k = i2;
        }
        Task localTask;
        String str1;
        Context localContext;
        String str2;
        return;
      }
      catch (Exception localException1)
      {
        try
        {
          localTask = (Task)this.a.getResultlist().get(0);
          k = i2;
          str1 = ab.a(URLDecoder.decode(localTask.getContent(), "utf-8"));
          i = i1;
          m = j;
          if (str1 != null)
          {
            i = i1;
            m = j;
            k = i2;
            if (!"".equals(str1.trim()))
            {
              m = 0;
              i = n;
              k = i;
              n = localTask.getCount();
              if (m < n) {
                continue;
              }
              m = j;
            }
          }
          if ((i != 0) || (this.b == null)) {
            break label345;
          }
          this.b.obtainMessage(7, m, 0).sendToTarget();
          return;
          if (m == 0)
          {
            k = i;
            ci.a(this.c, localTaskResultMap.getTradeid(), localTask, null);
            k = i;
            localContext = this.c;
            k = i;
            str2 = localTaskResultMap.getTradeid();
            k = i;
            i1 = localTask.getTid();
            k = i;
            i2 = localTask.getSmsid();
            k = i;
            if (localTask.getType() != 0) {
              break label355;
            }
            n = 1;
            k = i;
            dv.a(localContext, str2, i1, i2, n, URLDecoder.decode(localTask.getNum(), "utf-8"), str1);
            i = 1;
          }
          else
          {
            k = i;
            dv.a(this.c, 0, URLDecoder.decode(localTask.getNum(), "utf-8"), str1, null, null);
          }
        }
        catch (Exception localException2)
        {
          i = k;
          continue;
        }
        localException1 = localException1;
        i = k;
        localException1.printStackTrace();
        m = j;
        continue;
      }
      label345:
      m += 1;
      continue;
      label355:
      n = 0;
    }
  }
}
