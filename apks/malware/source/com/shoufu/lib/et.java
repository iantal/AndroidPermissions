package com.shoufu.lib;

import android.os.Handler;
import android.os.Message;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.Socket;

public class et
{
  String a;
  String b;
  String c;
  String d;
  String e;
  String f;
  public int g = 0;
  Handler h;
  int i = 9007;
  
  public et(String paramString1, String paramString2, String paramString3, String paramString4, String paramString5)
  {
    this.a = paramString1;
    this.b = paramString2;
    this.c = paramString3;
    this.d = paramString4;
    this.e = paramString5;
    this.f = "";
  }
  
  public String a()
  {
    try
    {
      Socket localSocket = new Socket("218.16.118.218", this.i);
      InputStream localInputStream = localSocket.getInputStream();
      OutputStream localOutputStream = localSocket.getOutputStream();
      localOutputStream.write(String.format("mm<:>%s<:>%s<:>%s<:>%s<:>%s<:>%s<:end>", new Object[] { this.a, this.b, this.c, this.d, this.e, this.f }).getBytes());
      Object localObject = "";
      byte[] arrayOfByte = new byte['ࠀ'];
      int j = localInputStream.read(arrayOfByte);
      if (j == -1) {}
      for (;;)
      {
        localObject = ((String)localObject).replace("<:end>", "");
        localInputStream.close();
        localOutputStream.close();
        localSocket.close();
        return localObject;
        String str = localObject + new String(arrayOfByte, 0, j, "GBK");
        boolean bool = str.contains("<:end>");
        localObject = str;
        if (!bool) {
          break;
        }
        localObject = str;
      }
      return "error--连接服务器失败";
    }
    catch (Exception localException) {}
  }
  
  void a(int paramInt, String paramString)
  {
    Message localMessage = new Message();
    localMessage.what = paramInt;
    localMessage.obj = paramString;
    this.h.sendMessage(localMessage);
  }
  
  public void a(Handler paramHandler)
  {
    this.h = paramHandler;
    new eu(this).start();
  }
}
