package com.android.apps.util;

import android.content.Context;
import android.content.res.AssetManager;
import android.content.res.Resources;
import com.android.apps.bean.AdAdvertisement;
import com.android.apps.bean.AdInfo;
import com.google.gson.Gson;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.util.List;
import org.json.JSONArray;

public class JsonUtil
{
  static List<AdAdvertisement> listAd;
  public static Context mContext;
  
  public JsonUtil() {}
  
  public static List<AdAdvertisement> initAd()
  {
    Object localObject;
    try
    {
      InputStream localInputStream = mContext.getResources().getAssets().open("ad.json");
      localObject = new StringBuffer();
      BufferedReader localBufferedReader = new BufferedReader(new InputStreamReader(localInputStream, "UTF-8"));
      for (;;)
      {
        String str = localBufferedReader.readLine();
        if (str == null) {
          break;
        }
        ((StringBuffer)localObject).append(str).append("\n");
      }
      return listAd;
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
    }
    for (;;)
    {
      localException.close();
      AdInfo localAdInfo = (AdInfo)new Gson().fromJson(((StringBuffer)localObject).toString(), AdInfo.class);
      localObject = localAdInfo.getShowType();
      listAd = localAdInfo.getAds();
      AdManager.mercuryViewType = (String)localObject;
      AdManager.mercuryActivationMsg = localAdInfo.getActivationMsg();
    }
  }
  
  public static JSONArray initInedAd()
  {
    Object localObject;
    try
    {
      FileInputStream localFileInputStream = new FileInputStream(new File(Config.GAME_BASE_PATH + File.separator, "inedAd.txt"));
      localObject = new StringBuffer();
      BufferedReader localBufferedReader = new BufferedReader(new InputStreamReader(localFileInputStream, "UTF-8"));
      for (;;)
      {
        String str = localBufferedReader.readLine();
        if (str == null) {
          break;
        }
        ((StringBuffer)localObject).append(str).append("\n");
      }
      localObject = new JSONArray(((StringBuffer)localObject).toString());
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
      return null;
    }
    localException.close();
    return localObject;
  }
}
