package com.abarakat.webview;

import android.annotation.SuppressLint;
import android.app.Activity;
import android.content.Context;
import android.content.res.Configuration;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.os.Bundle;
import android.webkit.WebSettings;
import android.webkit.WebView;
import android.widget.TextView;
import com.appbrain.AdService;
import com.appbrain.AppBrain;
import com.ironsource.mobilcore.MobileCore;
import com.ironsource.mobilcore.MobileCore.AD_UNITS;
import com.ironsource.mobilcore.MobileCore.LOG_TYPE;
import com.ironsource.mobilcore.OnReadyListener;

public class WebViewActivity
  extends Activity
{
  protected int MIN_URL_LENGTH = 10;
  private Activity mActivity;
  private TextView textview;
  private WebView webview;
  
  public WebViewActivity() {}
  
  public void onBackPressed()
  {
    if ((this.webview.isFocused()) && (this.webview.canGoBack()))
    {
      this.webview.goBack();
      MobileCore.showOfferWall(this, null);
      MobileCore.showStickee(this.mActivity);
      return;
    }
    super.onBackPressed();
    MobileCore.showOfferWall(this, null);
    AppBrain.getAds().showInterstitial(this);
    finish();
  }
  
  public void onConfigurationChanged(Configuration paramConfiguration)
  {
    super.onConfigurationChanged(paramConfiguration);
  }
  
  @SuppressLint({"SetJavaScriptEnabled"})
  public void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    setContentView(R.layout.main);
    AppBrain.init(this);
    this.webview = ((WebView)findViewById(R.id.webView));
    this.mActivity = this;
    MobileCore.init(this.mActivity, getString(R.string.mob_core), MobileCore.LOG_TYPE.DEBUG, new MobileCore.AD_UNITS[] { MobileCore.AD_UNITS.ALL_UNITS });
    MobileCore.setStickeezReadyListener(new OnReadyListener()
    {
      public void onReady(MobileCore.AD_UNITS paramAnonymousAD_UNITS)
      {
        if (paramAnonymousAD_UNITS.equals(MobileCore.AD_UNITS.STICKEEZ)) {
          MobileCore.showStickee(WebViewActivity.this.mActivity);
        }
      }
    });
    MobileCore.showOfferWall(this, null);
    this.textview = ((TextView)findViewById(R.id.textview));
    paramBundle = getString(R.string.app_url);
    this.webview.setInitialScale(1);
    this.webview.getSettings().setBuiltInZoomControls(true);
    this.webview.getSettings().setUseWideViewPort(true);
    this.webview.getSettings().setUserAgentString(getApplicationContext().getPackageName() + " gogo");
    ConnectivityManager localConnectivityManager = (ConnectivityManager)getSystemService("connectivity");
    if ((!localConnectivityManager.getNetworkInfo(0).isConnected()) && (!localConnectivityManager.getNetworkInfo(1).isConnected())) {}
    for (int i = 0; i == 0; i = 1)
    {
      this.textview.setText(getString(R.string.offline));
      return;
    }
    if ((paramBundle == null) || (paramBundle.trim().length() < this.MIN_URL_LENGTH))
    {
      this.textview.setText(getString(R.string.no_url));
      return;
    }
    this.webview.getSettings().setJavaScriptEnabled(true);
    this.webview.setWebViewClient(new IntentWebViewClient(getApplicationContext()));
    this.webview.loadUrl(paramBundle);
    this.textview.setVisibility(8);
    this.webview.setVisibility(0);
  }
}
