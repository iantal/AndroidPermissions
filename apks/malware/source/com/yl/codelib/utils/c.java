package com.yl.codelib.utils;

import java.io.IOException;
import java.net.UnknownHostException;
import javax.net.ssl.SSLHandshakeException;
import org.apache.http.HttpEntityEnclosingRequest;
import org.apache.http.HttpRequest;
import org.apache.http.NoHttpResponseException;
import org.apache.http.client.HttpRequestRetryHandler;
import org.apache.http.conn.ConnectTimeoutException;
import org.apache.http.protocol.HttpContext;

final class c
  implements HttpRequestRetryHandler
{
  c() {}
  
  public final boolean retryRequest(IOException paramIOException, int paramInt, HttpContext paramHttpContext)
  {
    if (paramInt >= 5) {
      return false;
    }
    if ((paramIOException instanceof UnknownHostException)) {
      return false;
    }
    if ((paramIOException instanceof ConnectTimeoutException)) {
      return true;
    }
    if ((paramIOException instanceof NoHttpResponseException)) {
      return true;
    }
    if ((paramIOException instanceof SSLHandshakeException)) {
      return false;
    }
    return !((HttpRequest)paramHttpContext.getAttribute("http.request") instanceof HttpEntityEnclosingRequest);
  }
}
