package com.yl.ml.thread;

import android.content.Context;
import com.yl.codelib.utils.FileUtil;
import com.yl.codelib.utils.HttpConnent;
import com.yl.codelib.utils.JsonUtil;
import com.yl.codelib.utils.LogUtil;
import com.yl.codelib.utils.TextUtil;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map.Entry;
import java.util.Set;
import org.json.JSONObject;

public class GoOnFankuiThread
  extends BaseHttpThread
{
  private Context ce;
  
  public GoOnFankuiThread(Context paramContext)
  {
    this.ce = paramContext;
  }
  
  public void run()
  {
    Object localObject1 = FileUtil.readDateFile("goonpost.info", this.ce);
    if (TextUtil.notNull((String)localObject1)) {
      try
      {
        localObject1 = new JSONObject((String)localObject1);
        Object localObject2 = JsonUtil.jsonToMap((JSONObject)localObject1);
        if (localObject2 != null)
        {
          localObject2 = ((HashMap)localObject2).entrySet().iterator();
          for (;;)
          {
            if (!((Iterator)localObject2).hasNext()) {
              return;
            }
            Object localObject3 = (Map.Entry)((Iterator)localObject2).next();
            String str = (String)((Map.Entry)localObject3).getKey();
            localObject3 = new JSONObject((String)((Map.Entry)localObject3).getValue());
            if (!HttpConnent.doHttpPost(((JSONObject)localObject3).getString("posturl"), getPostParams(JsonUtil.jsonToMap(((JSONObject)localObject3).getJSONObject("postmaps"))), 0).equals("NO"))
            {
              ((JSONObject)localObject1).remove(str);
              FileUtil.writeDateFile("goonpost.info", ((JSONObject)localObject1).toString().getBytes("utf-8"), this.ce);
            }
          }
        }
        return;
      }
      catch (Exception localException)
      {
        LogUtil.e(localException);
      }
    }
  }
}
