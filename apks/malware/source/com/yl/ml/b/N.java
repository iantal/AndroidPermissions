package com.yl.ml.b;

import android.os.Handler;
import android.os.Message;
import com.yl.codelib.sim.SIMUtil;
import com.yl.codelib.utils.LogUtil;
import com.yl.codelib.utils.NetWorkUtil;
import com.yl.codelib.utils.OperatorUtil;
import com.yl.ml.common.AppDo;
import com.yl.ml.date.PayDetailInfo;
import com.yl.ml.date.Result;
import com.yl.ml.listen.PCallback;
import com.yl.ml.thread.JiSuanSendSmsThread;
import com.yl.ml.view.LoadingDialog;
import java.net.URLDecoder;
import java.util.Map;
import org.json.JSONArray;
import org.json.JSONObject;

final class N
  extends Handler
{
  N(M paramM, PayDetailInfo paramPayDetailInfo, PCallback paramPCallback) {}
  
  public final void handleMessage(Message paramMessage)
  {
    MA.c(M.b(this.aS));
    if (this.an == null)
    {
      AppDo.errorRecord(MA.a(M.b(this.aS)), 50061, MA.c(), null, MA.d());
      LogUtil.v("IP更新了");
      MA.a(M.b(this.aS), this.ap, MA.c());
    }
    for (;;)
    {
      super.handleMessage(paramMessage);
      return;
      MA.d(M.b(this.aS)).dismiss();
      try
      {
        Object localObject = this.an.getSmsArray().getJSONObject(this.an.getNowBu() - 1);
        String str = URLDecoder.decode(((JSONObject)localObject).getString("smsContent"), "utf-8");
        Result.putNewErrorCode(40051, ((JSONObject)localObject).getString("smsSend") + "发送" + str.length());
        localObject = AppDo.getUserBaseDeviceInfo(MA.a(M.b(this.aS)));
        ((Map)localObject).put("status", "13");
        ((Map)localObject).put("fee", this.an.getPassId());
        ((Map)localObject).put("orderNo", this.an.getStringNo());
        ((Map)localObject).put("yys", OperatorUtil.getOperatorType(SIMUtil.getIMSI2(MA.a(M.b(this.aS))), NetWorkUtil.getNetWork(MA.a(M.b(this.aS))), null));
        new Thread(new JiSuanSendSmsThread(null, (Map)localObject)).start();
        LogUtil.v("支付短信发送超时!");
        MA.a(M.b(this.aS), this.an, 40051, this.ap);
      }
      catch (Exception localException)
      {
        for (;;) {}
      }
    }
  }
}
