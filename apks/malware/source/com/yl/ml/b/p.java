package com.yl.ml.b;

import android.os.Handler;
import android.os.Message;
import com.yl.codelib.utils.HttpConnent;
import com.yl.codelib.utils.LogUtil;
import com.yl.codelib.utils.TextUtil;

final class p
  implements Runnable
{
  p(MA paramMA, String paramString, Handler paramHandler) {}
  
  public final void run()
  {
    Message localMessage = new Message();
    String str1 = HttpConnent.doHttpPost(this.az, 0);
    if (str1.equals("NO"))
    {
      localMessage.what = -1;
      this.G.sendMessage(localMessage);
      return;
    }
    LogUtil.v(str1);
    try
    {
      if (!str1.contains("<ResultCode>200</ResultCode>")) {
        break label225;
      }
      str1 = str1.substring(str1.indexOf("<SubmitUrl>") + 11, str1.indexOf("</SubmitUrl>")).replace("amp;", "");
      LogUtil.v(str1);
      if (!TextUtil.notNull(str1)) {
        break label209;
      }
      str1 = HttpConnent.doHttpPost(str1, 0);
      LogUtil.v(str1);
      if (str1.equals("NO"))
      {
        localMessage.what = -4;
        this.G.sendMessage(localMessage);
        return;
      }
    }
    catch (Exception localException)
    {
      localMessage.what = -6;
      this.G.sendMessage(localMessage);
      return;
    }
    if (localException.contains("<ResultCode>200</ResultCode>"))
    {
      localMessage.what = 1;
      this.G.sendMessage(localMessage);
      return;
    }
    String str2 = localException.substring(localException.indexOf("<ResultCode>") + 12, localException.indexOf("</ResultCode>"));
    localMessage.what = -5;
    localMessage.obj = str2;
    this.G.sendMessage(localMessage);
    return;
    label209:
    localMessage.what = -3;
    this.G.sendMessage(localMessage);
    return;
    label225:
    localMessage.what = -2;
    this.G.sendMessage(localMessage);
  }
}
