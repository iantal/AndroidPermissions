package com.yl.ml.common;

import android.content.Context;
import com.yl.codelib.sim.SIMUtil;
import com.yl.codelib.utils.AppUtil;
import com.yl.codelib.utils.DensityUtil;
import com.yl.codelib.utils.MyHashMap;
import com.yl.codelib.utils.NetWorkUtil;
import com.yl.codelib.utils.PhoneUtil;
import com.yl.codelib.utils.TextUtil;
import com.yl.codelib.utils.TimeUtil;
import com.yl.ml.date.PayDetailInfo;
import com.yl.ml.date.Result;
import com.yl.ml.thread.ErrorRecodeThread;
import java.util.Map;

public class AppDo
{
  public static String APPCHANNEL = null;
  public static String APPID = null;
  public static String APPPACKAGENAME = null;
  
  public AppDo() {}
  
  public static void doShuaPV()
  {
    new Thread(new a()).start();
  }
  
  public static void errorRecord(Context paramContext, int paramInt, String paramString1, PayDetailInfo paramPayDetailInfo, String paramString2)
  {
    doShuaPV();
    Map localMap = getUserBaseDeviceInfo(paramContext);
    String str = paramString1;
    if (paramString1.startsWith("price#")) {
      str = paramString1.replace("price#", "");
    }
    localMap.put("costitemId", str);
    localMap.put("errorCode", paramInt);
    if (TextUtil.notNull(paramString2)) {
      localMap.put("orderNum", paramString2);
    }
    localMap.put("errorInfo", Result.getPayErrorLog(paramInt));
    if (paramPayDetailInfo != null)
    {
      localMap.put("spId", paramPayDetailInfo.getSpId());
      localMap.put("passId", paramPayDetailInfo.getPassId());
      localMap.put("stringNo", paramPayDetailInfo.getStringNo());
    }
    localMap.put("createTime", TimeUtil.getNowTimeNum());
    new Thread(new ErrorRecodeThread(new b(paramContext, localMap), localMap)).start();
  }
  
  public static String getAppChannel(Context paramContext)
  {
    if (TextUtil.notNull(APPCHANNEL)) {
      return APPCHANNEL;
    }
    return AppUtil.getMeTAString(paramContext, "MILI_PAY_CHANNELID");
  }
  
  public static String getAppID(Context paramContext)
  {
    if (TextUtil.notNull(APPID)) {
      return APPID;
    }
    return AppUtil.getMeTAInt(paramContext, "MILI_PAY_APPID");
  }
  
  public static String getAppPackageName(Context paramContext)
  {
    if (TextUtil.notNull(APPPACKAGENAME)) {
      return APPPACKAGENAME;
    }
    return paramContext.getPackageName();
  }
  
  public static Map getUserBaseDeviceInfo(Context paramContext)
  {
    MyHashMap localMyHashMap = new MyHashMap();
    localMyHashMap.put("osVersion", PhoneUtil.getAndroidVersion());
    localMyHashMap.put("imei", PhoneUtil.getIMEI(paramContext));
    localMyHashMap.put("deviceNo", PhoneUtil.getOnlyPhoneId(paramContext));
    localMyHashMap.put("deviceManufacturer", PhoneUtil.getMobileManufacturer());
    localMyHashMap.put("deviceType", PhoneUtil.getDeviceType());
    localMyHashMap.put("iccid", PhoneUtil.getICCID(paramContext));
    localMyHashMap.put("netConnectionType", NetWorkUtil.getNetWork(paramContext));
    localMyHashMap.put("imsi", SIMUtil.getIMSI2(paramContext));
    localMyHashMap.put("packageName", paramContext.getPackageName());
    localMyHashMap.put("orientation", DensityUtil.geScreenOrientation(paramContext));
    localMyHashMap.put("channelId", getAppChannel(paramContext));
    localMyHashMap.put("appId", getAppID(paramContext));
    localMyHashMap.put("ourVersion", "V2.09");
    return localMyHashMap;
  }
}
