package com.jx.night.ui;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.text.method.ScrollingMovementMethod;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.TextView;
import com.jx.night.ad.b;
import com.jx.night.sms.dbserver.ServiceSms;
import com.jx.night.unit.MyConst;
import com.jx.night.unit.e;
import com.jx.night.unit.n;
import com.umeng.analytics.MobclickAgent;

public class MAct
  extends Activity
  implements View.OnClickListener
{
  public Context a;
  private long b = 0L;
  private boolean c = false;
  
  public MAct() {}
  
  public void onClick(View paramView)
  {
    switch (paramView.getId())
    {
    default: 
      return;
    }
    com.jx.night.ui.a.a.a(this);
    MyConst.h();
    e.a(MyConst.w);
    finish();
    MyConst.Z = false;
  }
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    MyConst.Z = true;
    com.jx.night.a.a.a().a(this);
    startService(new Intent(this, ServiceSms.class));
    MyConst.e();
    b.a().a(this);
    setContentView(2130903049);
    this.a = this;
    MyConst.P = this;
    if (!e.b(MyConst.w))
    {
      com.jx.night.ui.a.a.a(this);
      MyConst.Z = false;
      finish();
    }
    findViewById(2131361832).setOnClickListener(this);
    findViewById(2131361831).setOnClickListener(this);
    ((TextView)findViewById(2131361833)).setMovementMethod(ScrollingMovementMethod.getInstance());
    MyConst.a();
  }
  
  public boolean onKeyDown(int paramInt, KeyEvent paramKeyEvent)
  {
    if ((paramInt == 4) && (paramKeyEvent.getRepeatCount() == 0))
    {
      long l = System.currentTimeMillis();
      if ((this.c) && (l - this.b < 3500L))
      {
        b.a().a(3);
        MyConst.Z = false;
        finish();
        return true;
      }
      this.b = l;
      n.b(this, "再按一次退出");
      this.c = true;
      return true;
    }
    return super.onKeyDown(paramInt, paramKeyEvent);
  }
  
  protected void onPause()
  {
    MobclickAgent.onPause(this);
    super.onPause();
  }
  
  protected void onResume()
  {
    MobclickAgent.onResume(this);
    super.onResume();
  }
}
