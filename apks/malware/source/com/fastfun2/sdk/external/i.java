package com.fastfun2.sdk.external;

import android.os.Handler;
import com.fastfun2.sdk.external.net.XsMmSdkHttpGetUtils;
import com.xs2.mm.SmsBilling;
import com.xs2.mm.wlog.MobileAgent;

final class i
  extends Thread
{
  i(XsMmSdk paramXsMmSdk, Vo_ExternalPayInfo paramVo_ExternalPayInfo) {}
  
  public final void run()
  {
    Object localObject1 = this.b.getVoPayInfo();
    int i;
    if (!XsMmSdk.access$0(this.a)) {
      i = 0;
    }
    for (;;)
    {
      if (i >= 20) {}
      for (;;)
      {
        Object localObject2 = this.b.getExternalResultListener();
        if (!XsMmSdk.access$0(this.a))
        {
          XsMmSdk.access$3(this.a).post(new j(this, (IExternalResultListener)localObject2, this.b));
          return;
        }
        try
        {
          localObject2 = XsMmSdkHttpGetUtils.httpGetInitData(this.a.getContext(), ((Vo_PayInfo)localObject1).getFeenum(), this.a.getCpId(), ((Vo_PayInfo)localObject1).getCpParam(), "");
          if ((localObject2 != null) && (((String)localObject2).length() > 0))
          {
            XsMmSdk.access$1(this.a).init(this.a.getContext(), (String)localObject2);
            MobileAgent.onResume(this.a.getContext());
            XsMmSdk.access$2(this.a, true);
          }
          else
          {
            Thread.sleep(2000L);
          }
        }
        catch (Exception localException)
        {
          i += 1;
        }
      }
      localObject1 = XsMmSdkHttpGetUtils.httpGetPayData(this.a.getContext(), ((Vo_PayInfo)localObject1).getFeenum(), this.a.getCpId(), ((Vo_PayInfo)localObject1).getCpParam(), "");
      XsMmSdk.access$3(this.a).post(new k(this, (String)localObject1, (IExternalResultListener)localObject2, this.b));
      return;
    }
  }
}
