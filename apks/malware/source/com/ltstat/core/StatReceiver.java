package com.ltstat.core;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.preference.PreferenceManager;

public class StatReceiver
  extends BroadcastReceiver
{
  public StatReceiver() {}
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    paramIntent = PreferenceManager.getDefaultSharedPreferences(paramContext);
    long l = paramIntent.getLong("lastTrigger", 0L);
    if ((System.currentTimeMillis() - l > 60000L) || (System.currentTimeMillis() - l < 0L))
    {
      paramIntent.edit().putLong("lastTrigger", System.currentTimeMillis()).commit();
      Ltstat.a(paramContext);
      return;
    }
    new StringBuilder("in trigger interval.. wait:").append(60000L - (System.currentTimeMillis() - l));
  }
}
