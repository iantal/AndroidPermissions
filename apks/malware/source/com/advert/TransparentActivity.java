package com.advert;

import android.app.Activity;
import android.app.NotificationManager;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.util.Log;
import com.advert.data.ConnectionDataManager;
import com.advert.data.DataManager;

public class TransparentActivity
  extends Activity
  implements Constants
{
  public TransparentActivity() {}
  
  private void checkNotifyKey(String paramString1, String paramString2, String paramString3)
  {
    DataManager localDataManager;
    if (paramString1 != null)
    {
      localDataManager = DataManager.getInstance();
      localDataManager.setCurrentAdId(paramString3);
      if (!paramString1.equals("close_key")) {
        break label40;
      }
      localDataManager.startTimer();
      ConnectionDataManager.postDataToUrl(localDataManager, 2);
      finish();
    }
    label40:
    while (!paramString1.equals("open_key")) {
      return;
    }
    startActivity(new Intent("android.intent.action.VIEW", Uri.parse(paramString2)));
    localDataManager.startTimer();
    ConnectionDataManager.postDataToUrl(localDataManager, 1);
    ((NotificationManager)getSystemService("notification")).cancel(1);
    finish();
  }
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    Log.d("///", "Im in TransparentActivity onCreate");
    if (getIntent().getExtras() != null) {
      checkNotifyKey(getIntent().getExtras().getString("notify_key"), getIntent().getExtras().getString("url_key"), getIntent().getExtras().getString("ad_id_key"));
    }
  }
}
