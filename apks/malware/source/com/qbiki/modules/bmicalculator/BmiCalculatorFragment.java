package com.qbiki.modules.bmicalculator;

import android.os.Bundle;
import android.support.v4.app.FragmentActivity;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.view.inputmethod.InputMethodManager;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.RadioGroup;
import android.widget.RadioGroup.OnCheckedChangeListener;
import android.widget.TextView;
import com.qbiki.seattleclouds.App;
import com.qbiki.seattleclouds.SCFragment;
import com.qbiki.util.DialogUtil;
import com.qbiki.util.StringUtil;
import com.qbiki.util.StyleUtil;

public class BmiCalculatorFragment
  extends SCFragment
{
  private boolean ftinVisible = true;
  private String healthyImgName;
  private String healthyPageName;
  private String healthyString;
  private boolean lbsVisible = true;
  private String overweightImgName;
  private String overweightPageName;
  private String overweightString;
  LinearLayout rootView;
  private String selPageName;
  private Bundle style;
  private String tooThinImgName;
  private String tooThinPageName;
  private String tooThinString;
  
  public BmiCalculatorFragment() {}
  
  private void initPage()
  {
    Object localObject1 = getArguments();
    if (localObject1 != null)
    {
      this.style = ((Bundle)localObject1).getBundle("PAGE_STYLE");
      StyleUtil.setBackground(this.rootView, this.style);
      this.tooThinString = ((Bundle)localObject1).getString("message1");
      this.healthyString = ((Bundle)localObject1).getString("message2");
      this.overweightString = ((Bundle)localObject1).getString("message3");
      this.tooThinImgName = ((Bundle)localObject1).getString("imageName1");
      this.healthyImgName = ((Bundle)localObject1).getString("imageName2");
      this.overweightImgName = ((Bundle)localObject1).getString("imageName3");
      this.tooThinPageName = ((Bundle)localObject1).getString("pageName1");
      this.healthyPageName = ((Bundle)localObject1).getString("pageName2");
      this.overweightPageName = ((Bundle)localObject1).getString("pageName3");
    }
    localObject1 = (EditText)this.rootView.findViewById(2131099755);
    final TextView localTextView1 = (TextView)this.rootView.findViewById(2131099756);
    final EditText localEditText1 = (EditText)this.rootView.findViewById(2131099747);
    final EditText localEditText2 = (EditText)this.rootView.findViewById(2131099742);
    final EditText localEditText3 = (EditText)this.rootView.findViewById(2131099744);
    final EditText localEditText4 = (EditText)this.rootView.findViewById(2131099753);
    final TextView localTextView2 = (TextView)this.rootView.findViewById(2131099754);
    final TextView localTextView3 = (TextView)this.rootView.findViewById(2131099758);
    final TextView localTextView4 = (TextView)this.rootView.findViewById(2131099759);
    final ImageView localImageView = (ImageView)this.rootView.findViewById(2131099760);
    Object localObject2 = (LinearLayout)this.rootView.findViewById(2131099741);
    final LinearLayout localLinearLayout = (LinearLayout)this.rootView.findViewById(2131099746);
    Object localObject3 = new View.OnClickListener()
    {
      public void onClick(View paramAnonymousView)
      {
        if (!StringUtil.isEmpty(BmiCalculatorFragment.this.selPageName)) {
          App.showPageWithId(BmiCalculatorFragment.this.selPageName, BmiCalculatorFragment.this);
        }
      }
    };
    localTextView3.setOnClickListener((View.OnClickListener)localObject3);
    localTextView4.setOnClickListener((View.OnClickListener)localObject3);
    localImageView.setOnClickListener((View.OnClickListener)localObject3);
    localObject3 = (RadioGroup)this.rootView.findViewById(2131099740);
    ((RadioGroup)localObject3).check(2131099749);
    ((RadioGroup)localObject3).setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()
    {
      public void onCheckedChanged(RadioGroup paramAnonymousRadioGroup, int paramAnonymousInt)
      {
        if (paramAnonymousInt == this.val$group1.findViewById(2131099749).getId())
        {
          this.val$ftinLayout.setVisibility(0);
          localLinearLayout.setVisibility(8);
          BmiCalculatorFragment.access$102(BmiCalculatorFragment.this, true);
          localEditText2.requestFocus();
          return;
        }
        this.val$ftinLayout.setVisibility(8);
        localLinearLayout.setVisibility(0);
        BmiCalculatorFragment.access$102(BmiCalculatorFragment.this, false);
        localEditText1.requestFocus();
      }
    });
    localObject2 = (RadioGroup)this.rootView.findViewById(2131099752);
    ((RadioGroup)localObject2).check(2131099749);
    ((RadioGroup)localObject2).setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()
    {
      public void onCheckedChanged(RadioGroup paramAnonymousRadioGroup, int paramAnonymousInt)
      {
        if (paramAnonymousInt == this.val$group2.findViewById(2131099749).getId())
        {
          localEditText4.setVisibility(0);
          localTextView2.setVisibility(0);
          this.val$kgEditText.setVisibility(8);
          localTextView1.setVisibility(8);
          BmiCalculatorFragment.access$202(BmiCalculatorFragment.this, true);
          localEditText4.requestFocus();
          return;
        }
        localEditText4.setVisibility(8);
        localTextView2.setVisibility(8);
        this.val$kgEditText.setVisibility(0);
        localTextView1.setVisibility(0);
        BmiCalculatorFragment.access$202(BmiCalculatorFragment.this, false);
        this.val$kgEditText.requestFocus();
      }
    });
    ((Button)this.rootView.findViewById(2131099757)).setOnClickListener(new View.OnClickListener()
    {
      public void onClick(View paramAnonymousView)
      {
        BmiCalculatorFragment.this.hideSoftKeyboard();
        float f4;
        label51:
        float f5;
        label76:
        float f3;
        label101:
        float f1;
        if (StringUtil.isEmpty(localEditText2.getText().toString()))
        {
          paramAnonymousView = "0";
          f4 = Float.parseFloat(paramAnonymousView);
          if (!StringUtil.isEmpty(localEditText3.getText().toString())) {
            break label284;
          }
          paramAnonymousView = "0";
          f5 = Float.parseFloat(paramAnonymousView);
          if (!StringUtil.isEmpty(localEditText4.getText().toString())) {
            break label298;
          }
          paramAnonymousView = "0";
          f3 = Float.parseFloat(paramAnonymousView);
          if (!StringUtil.isEmpty(localEditText1.getText().toString())) {
            break label312;
          }
          paramAnonymousView = "0";
          f1 = Float.parseFloat(paramAnonymousView);
          if (!StringUtil.isEmpty(this.val$kgEditText.getText().toString())) {
            break label326;
          }
        }
        label284:
        label298:
        label312:
        label326:
        for (paramAnonymousView = "0";; paramAnonymousView = this.val$kgEditText.getText().toString())
        {
          float f2 = Float.parseFloat(paramAnonymousView);
          if (BmiCalculatorFragment.this.ftinVisible) {
            f1 = (12.0F * f4 + f5) * 2.54F;
          }
          if (BmiCalculatorFragment.this.lbsVisible) {
            f2 = f3 * 0.453592F;
          }
          f1 = f2 / (f1 / 100.0F * f1 / 100.0F);
          localTextView3.setText(String.format("%.2f", new Object[] { Float.valueOf(f1) }));
          BmiCalculatorFragment.access$002(BmiCalculatorFragment.this, null);
          if (f1 >= 18.5D) {
            break label340;
          }
          localTextView4.setText(BmiCalculatorFragment.this.tooThinString);
          paramAnonymousView = App.getDrawableResource(BmiCalculatorFragment.this.tooThinImgName);
          localImageView.setImageDrawable(paramAnonymousView);
          BmiCalculatorFragment.access$002(BmiCalculatorFragment.this, BmiCalculatorFragment.this.tooThinPageName);
          return;
          paramAnonymousView = localEditText2.getText().toString();
          break;
          paramAnonymousView = localEditText3.getText().toString();
          break label51;
          paramAnonymousView = localEditText4.getText().toString();
          break label76;
          paramAnonymousView = localEditText1.getText().toString();
          break label101;
        }
        label340:
        if ((f1 >= 18.5D) && (f1 < 25.0F))
        {
          localTextView4.setText(BmiCalculatorFragment.this.healthyString);
          paramAnonymousView = App.getDrawableResource(BmiCalculatorFragment.this.healthyImgName);
          localImageView.setImageDrawable(paramAnonymousView);
          BmiCalculatorFragment.access$002(BmiCalculatorFragment.this, BmiCalculatorFragment.this.healthyPageName);
          return;
        }
        if (f1 >= 25.0F)
        {
          localTextView4.setText(BmiCalculatorFragment.this.overweightString);
          paramAnonymousView = App.getDrawableResource(BmiCalculatorFragment.this.overweightImgName);
          localImageView.setImageDrawable(paramAnonymousView);
          BmiCalculatorFragment.access$002(BmiCalculatorFragment.this, BmiCalculatorFragment.this.overweightPageName);
          return;
        }
        localTextView3.setText("0.0");
        DialogUtil.showAlert(BmiCalculatorFragment.this.getActivity(), BmiCalculatorFragment.this.getString(2131361915), BmiCalculatorFragment.this.getString(2131362433));
      }
    });
    ((Button)this.rootView.findViewById(2131099761)).setOnClickListener(new View.OnClickListener()
    {
      public void onClick(View paramAnonymousView)
      {
        localEditText2.setText("");
        localEditText2.clearFocus();
        localEditText3.setText("");
        localEditText3.clearFocus();
        localEditText4.setText("");
        localEditText4.clearFocus();
        localEditText1.setText("");
        localEditText1.clearFocus();
        this.val$kgEditText.setText("");
        this.val$kgEditText.clearFocus();
        localTextView3.setText("0.0");
        BmiCalculatorFragment.access$002(BmiCalculatorFragment.this, null);
      }
    });
  }
  
  public void hideSoftKeyboard()
  {
    if (getActivity().getCurrentFocus() != null) {
      ((InputMethodManager)getActivity().getSystemService("input_method")).hideSoftInputFromWindow(getActivity().getCurrentFocus().getWindowToken(), 0);
    }
  }
  
  public void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
  }
  
  public View onCreateView(LayoutInflater paramLayoutInflater, ViewGroup paramViewGroup, Bundle paramBundle)
  {
    super.onCreateView(paramLayoutInflater, paramViewGroup, paramBundle);
    this.rootView = ((LinearLayout)paramLayoutInflater.inflate(2130903071, paramViewGroup, false));
    initPage();
    return this.rootView;
  }
}
