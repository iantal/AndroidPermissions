package com.qbiki.modules.calendar;

import android.os.AsyncTask;
import com.qbiki.util.AsyncTaskListener;

public class EventsSyncAsyncTask
  extends AsyncTask<String, Void, Void>
{
  private static final boolean DEBUG = false;
  private static final String TAG = EventsSyncAsyncTask.class.getSimpleName();
  private AsyncTaskListener listener = null;
  private DatabaseHelper mDbHelper;
  private String mSyncedEventsResourceName;
  
  public EventsSyncAsyncTask(DatabaseHelper paramDatabaseHelper, String paramString)
  {
    this.mDbHelper = paramDatabaseHelper;
    this.mSyncedEventsResourceName = paramString;
  }
  
  /* Error */
  protected Void doInBackground(String... paramVarArgs)
  {
    // Byte code:
    //   0: aload_0
    //   1: getfield 34	com/qbiki/modules/calendar/EventsSyncAsyncTask:mDbHelper	Lcom/qbiki/modules/calendar/DatabaseHelper;
    //   4: invokevirtual 53	com/qbiki/modules/calendar/DatabaseHelper:deleteAllSyncedEvents	()Z
    //   7: pop
    //   8: aload_0
    //   9: getfield 36	com/qbiki/modules/calendar/EventsSyncAsyncTask:mSyncedEventsResourceName	Ljava/lang/String;
    //   12: invokestatic 59	com/qbiki/seattleclouds/App:getResourceStream	(Ljava/lang/String;)Ljava/io/InputStream;
    //   15: astore_1
    //   16: aload_1
    //   17: ifnonnull +14 -> 31
    //   20: getstatic 25	com/qbiki/modules/calendar/EventsSyncAsyncTask:TAG	Ljava/lang/String;
    //   23: ldc 61
    //   25: invokestatic 67	android/util/Log:v	(Ljava/lang/String;Ljava/lang/String;)I
    //   28: pop
    //   29: aconst_null
    //   30: areturn
    //   31: new 69	org/json/JSONObject
    //   34: dup
    //   35: aload_1
    //   36: invokestatic 75	com/qbiki/util/DataUtil:readString	(Ljava/io/InputStream;)Ljava/lang/String;
    //   39: invokespecial 78	org/json/JSONObject:<init>	(Ljava/lang/String;)V
    //   42: ldc 80
    //   44: invokevirtual 84	org/json/JSONObject:getJSONArray	(Ljava/lang/String;)Lorg/json/JSONArray;
    //   47: astore 5
    //   49: iconst_0
    //   50: istore_2
    //   51: aload 5
    //   53: invokevirtual 90	org/json/JSONArray:length	()I
    //   56: istore_3
    //   57: iload_2
    //   58: iload_3
    //   59: if_icmpge +220 -> 279
    //   62: aload 5
    //   64: iload_2
    //   65: invokevirtual 94	org/json/JSONArray:getJSONObject	(I)Lorg/json/JSONObject;
    //   68: astore 6
    //   70: aload 6
    //   72: ldc 96
    //   74: invokevirtual 100	org/json/JSONObject:getString	(Ljava/lang/String;)Ljava/lang/String;
    //   77: astore 4
    //   79: aload 4
    //   81: astore_1
    //   82: aload 4
    //   84: ifnull +18 -> 102
    //   87: aload 4
    //   89: astore_1
    //   90: aload 4
    //   92: ldc 102
    //   94: invokevirtual 108	java/lang/String:equals	(Ljava/lang/Object;)Z
    //   97: ifeq +5 -> 102
    //   100: aconst_null
    //   101: astore_1
    //   102: aload 6
    //   104: ldc 110
    //   106: invokevirtual 114	org/json/JSONObject:getBoolean	(Ljava/lang/String;)Z
    //   109: ifeq +90 -> 199
    //   112: aload_0
    //   113: getfield 34	com/qbiki/modules/calendar/EventsSyncAsyncTask:mDbHelper	Lcom/qbiki/modules/calendar/DatabaseHelper;
    //   116: aload_1
    //   117: aload 6
    //   119: ldc 116
    //   121: invokevirtual 100	org/json/JSONObject:getString	(Ljava/lang/String;)Ljava/lang/String;
    //   124: aload 6
    //   126: ldc 118
    //   128: invokevirtual 100	org/json/JSONObject:getString	(Ljava/lang/String;)Ljava/lang/String;
    //   131: aload 6
    //   133: ldc 120
    //   135: invokevirtual 100	org/json/JSONObject:getString	(Ljava/lang/String;)Ljava/lang/String;
    //   138: new 122	java/util/Date
    //   141: dup
    //   142: aload 6
    //   144: ldc 124
    //   146: invokevirtual 128	org/json/JSONObject:getLong	(Ljava/lang/String;)J
    //   149: invokespecial 131	java/util/Date:<init>	(J)V
    //   152: new 122	java/util/Date
    //   155: dup
    //   156: aload 6
    //   158: ldc -123
    //   160: invokevirtual 128	org/json/JSONObject:getLong	(Ljava/lang/String;)J
    //   163: invokespecial 131	java/util/Date:<init>	(J)V
    //   166: aload 6
    //   168: ldc -121
    //   170: invokevirtual 114	org/json/JSONObject:getBoolean	(Ljava/lang/String;)Z
    //   173: aload 6
    //   175: ldc -119
    //   177: invokevirtual 100	org/json/JSONObject:getString	(Ljava/lang/String;)Ljava/lang/String;
    //   180: aload 6
    //   182: ldc -117
    //   184: invokevirtual 100	org/json/JSONObject:getString	(Ljava/lang/String;)Ljava/lang/String;
    //   187: iconst_1
    //   188: aload 6
    //   190: ldc -115
    //   192: invokevirtual 100	org/json/JSONObject:getString	(Ljava/lang/String;)Ljava/lang/String;
    //   195: invokevirtual 145	com/qbiki/modules/calendar/DatabaseHelper:insertEvent	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/util/Date;Ljava/util/Date;ZLjava/lang/String;Ljava/lang/String;ZLjava/lang/String;)J
    //   198: pop2
    //   199: iload_2
    //   200: iconst_1
    //   201: iadd
    //   202: istore_2
    //   203: goto -152 -> 51
    //   206: astore_1
    //   207: getstatic 25	com/qbiki/modules/calendar/EventsSyncAsyncTask:TAG	Ljava/lang/String;
    //   210: new 147	java/lang/StringBuilder
    //   213: dup
    //   214: invokespecial 148	java/lang/StringBuilder:<init>	()V
    //   217: ldc -106
    //   219: invokevirtual 154	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   222: iload_2
    //   223: invokevirtual 157	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   226: ldc -97
    //   228: invokevirtual 154	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   231: aload_1
    //   232: invokevirtual 162	org/json/JSONException:toString	()Ljava/lang/String;
    //   235: invokevirtual 154	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   238: invokevirtual 163	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   241: invokestatic 166	android/util/Log:i	(Ljava/lang/String;Ljava/lang/String;)I
    //   244: pop
    //   245: goto -46 -> 199
    //   248: astore_1
    //   249: getstatic 25	com/qbiki/modules/calendar/EventsSyncAsyncTask:TAG	Ljava/lang/String;
    //   252: new 147	java/lang/StringBuilder
    //   255: dup
    //   256: invokespecial 148	java/lang/StringBuilder:<init>	()V
    //   259: ldc -88
    //   261: invokevirtual 154	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   264: aload_1
    //   265: invokevirtual 169	java/io/IOException:toString	()Ljava/lang/String;
    //   268: invokevirtual 154	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   271: invokevirtual 163	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   274: aload_1
    //   275: invokestatic 173	android/util/Log:w	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
    //   278: pop
    //   279: aconst_null
    //   280: areturn
    //   281: astore_1
    //   282: getstatic 25	com/qbiki/modules/calendar/EventsSyncAsyncTask:TAG	Ljava/lang/String;
    //   285: new 147	java/lang/StringBuilder
    //   288: dup
    //   289: invokespecial 148	java/lang/StringBuilder:<init>	()V
    //   292: ldc -88
    //   294: invokevirtual 154	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   297: aload_1
    //   298: invokevirtual 162	org/json/JSONException:toString	()Ljava/lang/String;
    //   301: invokevirtual 154	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   304: invokevirtual 163	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   307: aload_1
    //   308: invokestatic 173	android/util/Log:w	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
    //   311: pop
    //   312: goto -33 -> 279
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	315	0	this	EventsSyncAsyncTask
    //   0	315	1	paramVarArgs	String[]
    //   50	173	2	i	int
    //   56	4	3	j	int
    //   77	14	4	str	String
    //   47	16	5	localJSONArray	org.json.JSONArray
    //   68	121	6	localJSONObject	org.json.JSONObject
    // Exception table:
    //   from	to	target	type
    //   62	79	206	org/json/JSONException
    //   90	100	206	org/json/JSONException
    //   102	199	206	org/json/JSONException
    //   8	16	248	java/io/IOException
    //   20	29	248	java/io/IOException
    //   31	49	248	java/io/IOException
    //   51	57	248	java/io/IOException
    //   62	79	248	java/io/IOException
    //   90	100	248	java/io/IOException
    //   102	199	248	java/io/IOException
    //   207	245	248	java/io/IOException
    //   8	16	281	org/json/JSONException
    //   20	29	281	org/json/JSONException
    //   31	49	281	org/json/JSONException
    //   51	57	281	org/json/JSONException
    //   207	245	281	org/json/JSONException
  }
  
  protected void onPostExecute(Void paramVoid)
  {
    super.onPostExecute(paramVoid);
    if (this.listener != null) {
      this.listener.asyncTaskFinished(null);
    }
  }
  
  public void setAsyncTaskListener(AsyncTaskListener paramAsyncTaskListener)
  {
    this.listener = paramAsyncTaskListener;
  }
}
