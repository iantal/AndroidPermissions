package com.qbiki.modules.calendar;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;
import com.qbiki.util.DeviceUtil;
import java.util.ArrayList;
import java.util.Map;

public class EventCategoryListAdapter
  extends BaseAdapter
{
  private ArrayList<String> mCategories;
  private Map<String, Integer> mCategoryColors;
  private int mDefaultCategoryColor;
  private LayoutInflater mInflater;
  private CategoryMarkerFactory mMarkerFactory;
  
  public EventCategoryListAdapter(Context paramContext, ArrayList<String> paramArrayList, Map<String, Integer> paramMap, int paramInt)
  {
    this.mInflater = LayoutInflater.from(paramContext);
    this.mMarkerFactory = new CategoryMarkerFactory(paramContext);
    this.mCategories = paramArrayList;
    this.mCategoryColors = paramMap;
    this.mDefaultCategoryColor = paramInt;
  }
  
  public int getCount()
  {
    return this.mCategories.size();
  }
  
  public Object getItem(int paramInt)
  {
    return Integer.valueOf(paramInt);
  }
  
  public long getItemId(int paramInt)
  {
    return paramInt;
  }
  
  public View getView(int paramInt, View paramView, ViewGroup paramViewGroup)
  {
    if (paramView == null)
    {
      paramViewGroup = this.mInflater.inflate(2130903073, paramViewGroup, false);
      paramView = new ViewHolder(null);
      paramView.category = ((TextView)paramViewGroup.findViewById(2131099766));
      paramView.categoryMarker = paramViewGroup.findViewById(2131099765);
      paramViewGroup.setTag(paramView);
    }
    for (;;)
    {
      Object localObject = (String)this.mCategories.get(paramInt);
      paramView.category.setText((CharSequence)localObject);
      Integer localInteger = (Integer)this.mCategoryColors.get(localObject);
      localObject = localInteger;
      if (localInteger == null) {
        localObject = Integer.valueOf(this.mDefaultCategoryColor);
      }
      DeviceUtil.setBackground(paramView.categoryMarker, this.mMarkerFactory.getCategoryMarker(((Integer)localObject).intValue()));
      return paramViewGroup;
      paramViewGroup = paramView;
      paramView = (ViewHolder)paramViewGroup.getTag();
    }
  }
  
  private static class ViewHolder
  {
    public TextView category;
    public View categoryMarker;
    
    private ViewHolder() {}
  }
}
