package com.qbiki.geofencing;

import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import org.json.JSONException;
import org.json.JSONObject;

public class SCGeofence
{
  public static final String ACTION_MESSAGE = "message";
  private String action;
  private Map<String, Object> actionParameters;
  private String id;
  private double latitude;
  private double longitude;
  private String message;
  private float radius;
  private String title;
  
  public SCGeofence() {}
  
  public static SCGeofence fromJson(JSONObject paramJSONObject)
    throws JSONException
  {
    SCGeofence localSCGeofence = new SCGeofence();
    localSCGeofence.id = paramJSONObject.getString("id");
    localSCGeofence.title = paramJSONObject.getString("title");
    Object localObject = paramJSONObject.getJSONObject("region");
    localSCGeofence.latitude = ((JSONObject)localObject).getDouble("latitude");
    localSCGeofence.longitude = ((JSONObject)localObject).getDouble("longitude");
    localSCGeofence.radius = ((float)((JSONObject)localObject).getDouble("radius"));
    paramJSONObject = paramJSONObject.getJSONObject("action");
    localSCGeofence.action = paramJSONObject.getString("type");
    if (paramJSONObject.has("message")) {
      localSCGeofence.message = paramJSONObject.getString("message");
    }
    localSCGeofence.actionParameters = new HashMap();
    if (paramJSONObject.has("parameters"))
    {
      paramJSONObject = paramJSONObject.getJSONObject("parameters");
      localObject = paramJSONObject.keys();
      while (((Iterator)localObject).hasNext())
      {
        String str = (String)((Iterator)localObject).next();
        localSCGeofence.actionParameters.put(str, paramJSONObject.get(str));
      }
    }
    if (localSCGeofence.message != null) {
      localSCGeofence.actionParameters.put("message", localSCGeofence.message);
    }
    return localSCGeofence;
  }
  
  public String getAction()
  {
    return this.action;
  }
  
  public Map<String, Object> getActionParameters()
  {
    return this.actionParameters;
  }
  
  public String getId()
  {
    return this.id;
  }
  
  public double getLatitude()
  {
    return this.latitude;
  }
  
  public double getLongitude()
  {
    return this.longitude;
  }
  
  public String getMessage()
  {
    return this.message;
  }
  
  public float getRadius()
  {
    return this.radius;
  }
  
  public String getTitle()
  {
    return this.title;
  }
  
  public boolean isValid()
  {
    if ((this.latitude > 90.0D) || (this.latitude < -90.0D)) {}
    while ((this.longitude > 180.0D) || (this.longitude < -180.0D) || (this.radius < 1.0F) || (this.id == null) || (this.id.trim().length() == 0)) {
      return false;
    }
    return true;
  }
  
  public void setAction(String paramString)
  {
    this.action = paramString;
  }
  
  public void setActionParameters(Map<String, Object> paramMap)
  {
    this.actionParameters = paramMap;
  }
  
  public void setId(String paramString)
  {
    this.id = paramString;
  }
  
  public void setLatitude(double paramDouble)
  {
    this.latitude = paramDouble;
  }
  
  public void setLongitude(double paramDouble)
  {
    this.longitude = paramDouble;
  }
  
  public void setMessage(String paramString)
  {
    this.message = paramString;
  }
  
  public void setRadius(float paramFloat)
  {
    this.radius = paramFloat;
  }
  
  public void setTitle(String paramString)
  {
    this.title = paramString;
  }
  
  public String toString()
  {
    return "SCGeofence [id=" + this.id + ", title=" + this.title + ", latitude=" + this.latitude + ", longitude=" + this.longitude + ", radius=" + this.radius + "]";
  }
}
