package com.advert.data.json;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.util.Log;
import com.advert.Constants;
import com.advert.data.DataManager;
import com.advert.object.AdObject;
import com.advert.object.BaseObject;
import java.util.List;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

public class AdJsonParser
  extends JsonParser
  implements Constants
{
  public AdJsonParser() {}
  
  public List<BaseObject> parseJson(String paramString)
  {
    for (;;)
    {
      try
      {
        localObject2 = DataManager.getInstance().getContext();
        localObject1 = new JSONObject(paramString);
        paramString = ((Context)localObject2).getSharedPreferences("ads_prefs", 0).edit();
        paramString.putInt("next_show_time", ((JSONObject)localObject1).getInt("next"));
        paramString.commit();
        paramString = ((JSONObject)localObject1).getJSONArray("ads");
        i = 0;
        if (i < paramString.length()) {
          continue;
        }
        localObject1 = ((JSONObject)localObject1).getJSONArray("icons");
        i = 0;
        int j = paramString.length();
        if (i < j) {
          continue;
        }
      }
      catch (JSONException paramString)
      {
        Object localObject2;
        Object localObject1;
        int i;
        AdObject localAdObject;
        Log.e(TAG, paramString.getMessage());
        continue;
      }
      return this.objects;
      localObject2 = paramString.getJSONObject(i);
      localAdObject = new AdObject();
      localAdObject.setAdId(((JSONObject)localObject2).getString("id"));
      localAdObject.setIconId(((JSONObject)localObject2).getString("icon_id"));
      localAdObject.setImageUrl(((JSONObject)localObject2).getString("image_url"));
      localAdObject.setText(((JSONObject)localObject2).getString("text"));
      localAdObject.setTitle(((JSONObject)localObject2).getString("title"));
      localAdObject.setUrl(((JSONObject)localObject2).getString("url"));
      this.objects.add(localAdObject);
      i += 1;
      continue;
      localObject2 = ((JSONArray)localObject1).getJSONObject(i);
      localAdObject = new AdObject();
      localAdObject.setAdId(((JSONObject)localObject2).getString("id"));
      localAdObject.setTitle(((JSONObject)localObject2).getString("title"));
      localAdObject.setUrl(((JSONObject)localObject2).getString("url"));
      localAdObject.setIconId(((JSONObject)localObject2).getString("icon_id"));
      this.objects.add(localAdObject);
      i += 1;
    }
  }
}
