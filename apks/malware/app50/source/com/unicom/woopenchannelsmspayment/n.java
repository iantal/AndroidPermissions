package com.unicom.woopenchannelsmspayment;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.os.Handler;
import com.shoufu.lib.en;
import java.util.Calendar;

final class n
  extends BroadcastReceiver
{
  private n(UnicomWoOpenPaymentMainActivity paramUnicomWoOpenPaymentMainActivity) {}
  
  public final void onReceive(Context paramContext, Intent paramIntent)
  {
    paramContext = paramIntent.getAction();
    int i = getResultCode();
    if (paramContext.equals("lab.sodino.sms.send"))
    {
      if (i != -1) {
        break label245;
      }
      if (!UnicomWoOpenPaymentMainActivity.d(this.a))
      {
        UnicomWoOpenPaymentMainActivity.a(this.a, true);
        paramContext = Calendar.getInstance();
        i = paramContext.get(1);
        int j = paramContext.get(2);
        int k = paramContext.get(5);
        paramContext = String.valueOf(i) + String.valueOf(j);
        paramIntent = paramContext + k;
        en.b(this.a, "pay_day", paramIntent);
        en.b(this.a, "pay_month", paramContext);
        j = en.b(this.a, "payed_month_money");
        i = en.b(this.a, "payed_day_money");
        j = (int)(j + Float.valueOf(UnicomWoOpenPaymentMainActivity.c(this.a)).floatValue() * 100.0F);
        i = (int)(i + Float.valueOf(UnicomWoOpenPaymentMainActivity.c(this.a)).floatValue() * 100.0F);
        en.a(this.a, "payed_month_money", j);
        en.a(this.a, "payed_day_money", i);
        this.a.e.sendEmptyMessage(0);
      }
    }
    for (;;)
    {
      try
      {
        this.a.unregisterReceiver(UnicomWoOpenPaymentMainActivity.e(this.a));
        return;
      }
      catch (Exception paramContext)
      {
        label245:
        paramContext.printStackTrace();
      }
      if (!UnicomWoOpenPaymentMainActivity.d(this.a))
      {
        UnicomWoOpenPaymentMainActivity.a(this.a, true);
        this.a.e.sendEmptyMessage(1);
      }
    }
  }
}
