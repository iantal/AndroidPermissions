package com.baidu.location;

import android.location.Location;

class h
  implements au, b
{
  private static h kx = null;
  long kA = 0L;
  double kB = 0.0D;
  double kt = 0.0D;
  double ku = 0.0D;
  boolean kv = false;
  volatile int kw = -1;
  double ky = 0.0D;
  int kz = -1;
  
  private h() {}
  
  public static h cK()
  {
    if (kx == null) {
      kx = new h();
    }
    return kx;
  }
  
  public void jdMethod_byte(BDLocation paramBDLocation)
  {
    if (!this.kv) {}
    while ((System.currentTimeMillis() - this.kA > 4000L) || (paramBDLocation == null) || (paramBDLocation.getLocType() != 161) || ((!"wf".equals(paramBDLocation.getNetworkLocationType())) && (paramBDLocation.getRadius() >= 300.0F))) {
      return;
    }
    this.kt = paramBDLocation.getLongitude();
    this.ku = paramBDLocation.getLatitude();
    paramBDLocation = new float[1];
    Location.distanceBetween(this.ky, this.kB, this.ku, this.kt, paramBDLocation);
    this.kw = ((int)paramBDLocation[0]);
    this.kv = false;
  }
  
  public String cJ()
  {
    int j = 1;
    if ((this.kz < 0) && (this.kw < 0)) {
      return null;
    }
    StringBuffer localStringBuffer = new StringBuffer(128);
    int i = 0;
    if (this.kz >= 0)
    {
      localStringBuffer.append("&osr=");
      localStringBuffer.append(this.kz);
      this.kz = -1;
      i = 1;
    }
    if (this.kw >= 0)
    {
      localStringBuffer.append("&oac=");
      localStringBuffer.append(this.kw);
      this.kw = -2;
      i = j;
    }
    for (;;)
    {
      if (i != 0) {
        return localStringBuffer.toString();
      }
      return null;
    }
  }
  
  public void jdMethod_if(boolean paramBoolean1, boolean paramBoolean2, double paramDouble1, double paramDouble2)
  {
    if (this.kz < 0) {
      this.kz = 0;
    }
    if (paramBoolean1) {
      this.kz |= 0x1;
    }
    if (paramBoolean2)
    {
      this.kz |= 0x2;
      this.kB = paramDouble1;
      this.ky = paramDouble2;
      this.kv = true;
      this.kA = System.currentTimeMillis();
    }
  }
}
