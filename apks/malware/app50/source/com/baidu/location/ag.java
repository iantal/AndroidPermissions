package com.baidu.location;

import android.content.Context;
import android.hardware.Sensor;
import android.hardware.SensorEventListener;
import android.hardware.SensorManager;
import java.util.Timer;

public class ag
  implements l, au
{
  public static final float g0 = 0.01F;
  private static final int g9 = 6;
  private static final int hb = 20;
  private static final float hg = 0.8F;
  public static final float hh = 4.0F;
  private int g1 = 0;
  private double g2 = 1.6D;
  private double[] g3 = new double[6];
  public SensorEventListener g4 = new ag.1(this);
  private int g5 = 0;
  private long g6 = 0L;
  Timer g7;
  private int g8;
  private int gV;
  private int gW = 440;
  private int gX = 1;
  private final long gY = 30L;
  private float[] gZ = new float[3];
  private Sensor ha;
  private float[] hc = { 0.0F, 0.0F, 0.0F };
  private volatile int hd = 0;
  private int he = 31;
  private double[] hf = new double[this.he];
  private int hi = 0;
  private SensorManager hj;
  private boolean hk;
  
  public ag(Context paramContext)
  {
    this(paramContext, 0);
  }
  
  private ag(Context paramContext, int paramInt)
  {
    try
    {
      this.hj = ((SensorManager)paramContext.getSystemService("sensor"));
      this.g8 = paramInt;
      this.ha = this.hj.getDefaultSensor(1);
      return;
    }
    catch (Exception paramContext) {}
  }
  
  private void bm()
  {
    if (this.gV < 20) {}
    for (;;)
    {
      return;
      long l = System.currentTimeMillis();
      float[] arrayOfFloat = new float[3];
      System.arraycopy(this.hc, 0, arrayOfFloat, 0, 3);
      float f1 = arrayOfFloat[0];
      float f2 = arrayOfFloat[0];
      float f3 = arrayOfFloat[1];
      float f4 = arrayOfFloat[1];
      float f5 = arrayOfFloat[2];
      double d = Math.sqrt(arrayOfFloat[2] * f5 + (f1 * f2 + f3 * f4));
      this.hf[this.hi] = d;
      jdMethod_do(d);
      this.hi += 1;
      if (this.hi == this.he)
      {
        this.hi = 0;
        d = jdMethod_if(this.hf);
        if ((this.hd != 0) || (d >= 0.3D)) {
          break label203;
        }
        jdMethod_case(0);
      }
      for (this.hd = 0; (l - this.g6 > this.gW) && (jdMethod_if(this.g2)); this.hd = 1)
      {
        this.g1 += 1;
        this.g6 = l;
        return;
        label203:
        jdMethod_case(1);
      }
    }
  }
  
  private void jdMethod_case(int paramInt)
  {
    try
    {
      this.gX |= paramInt;
      return;
    }
    finally
    {
      localObject = finally;
      throw localObject;
    }
  }
  
  private void jdMethod_do(double paramDouble)
  {
    this.g3[(this.g5 % 6)] = paramDouble;
    this.g5 += 1;
    this.g5 %= 6;
  }
  
  private double jdMethod_if(double[] paramArrayOfDouble)
  {
    int j = 0;
    double d2 = 0.0D;
    int k = paramArrayOfDouble.length;
    int i = 0;
    double d1 = 0.0D;
    while (i < k)
    {
      d1 += paramArrayOfDouble[i];
      i += 1;
    }
    double d3 = d1 / k;
    d1 = d2;
    i = j;
    while (i < k)
    {
      d1 += (paramArrayOfDouble[i] - d3) * (paramArrayOfDouble[i] - d3);
      i += 1;
    }
    return d1 / (k - 1);
  }
  
  private boolean jdMethod_if(double paramDouble)
  {
    int i = 1;
    while (i <= 5)
    {
      if (this.g3[((this.g5 - 1 - i + 6 + 6) % 6)] - this.g3[((this.g5 - 1 + 6) % 6)] > paramDouble) {
        return true;
      }
      i += 1;
    }
    return false;
  }
  
  private float[] jdMethod_if(float paramFloat1, float paramFloat2, float paramFloat3)
  {
    this.gZ[0] = (this.gZ[0] * 0.8F + 0.19999999F * paramFloat1);
    this.gZ[1] = (this.gZ[1] * 0.8F + 0.19999999F * paramFloat2);
    this.gZ[2] = (this.gZ[2] * 0.8F + 0.19999999F * paramFloat3);
    return new float[] { paramFloat1 - this.gZ[0], paramFloat2 - this.gZ[1], paramFloat3 - this.gZ[2] };
  }
  
  /* Error */
  public int bj()
  {
    // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_0
    //   3: getfield 123	com/baidu/location/ag:gV	I
    //   6: istore_1
    //   7: iload_1
    //   8: bipush 20
    //   10: if_icmpge +9 -> 19
    //   13: iconst_m1
    //   14: istore_1
    //   15: aload_0
    //   16: monitorexit
    //   17: iload_1
    //   18: ireturn
    //   19: aload_0
    //   20: getfield 87	com/baidu/location/ag:g1	I
    //   23: istore_1
    //   24: goto -9 -> 15
    //   27: astore_2
    //   28: aload_0
    //   29: monitorexit
    //   30: aload_2
    //   31: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	32	0	this	ag
    //   6	18	1	i	int
    //   27	4	2	localObject	Object
    // Exception table:
    //   from	to	target	type
    //   2	7	27	finally
    //   19	24	27	finally
  }
  
  public void bk()
  {
    try
    {
      this.gX = 0;
      return;
    }
    finally
    {
      localObject = finally;
      throw localObject;
    }
  }
  
  /* Error */
  public int bl()
  {
    // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_0
    //   3: getfield 123	com/baidu/location/ag:gV	I
    //   6: istore_1
    //   7: iload_1
    //   8: bipush 20
    //   10: if_icmpge +9 -> 19
    //   13: iconst_1
    //   14: istore_1
    //   15: aload_0
    //   16: monitorexit
    //   17: iload_1
    //   18: ireturn
    //   19: aload_0
    //   20: getfield 69	com/baidu/location/ag:gX	I
    //   23: istore_1
    //   24: goto -9 -> 15
    //   27: astore_2
    //   28: aload_0
    //   29: monitorexit
    //   30: aload_2
    //   31: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	32	0	this	ag
    //   6	18	1	i	int
    //   27	4	2	localObject	Object
    // Exception table:
    //   from	to	target	type
    //   2	7	27	finally
    //   19	24	27	finally
  }
  
  public void bn()
  {
    if ((!this.hk) && (this.ha != null)) {}
    try
    {
      this.hj.registerListener(this.g4, this.ha, this.g8);
      this.g7 = new Timer("UpdateData", false);
      ag.2 local2 = new ag.2(this);
      this.g7.schedule(local2, 500L, 30L);
      this.hk = true;
      return;
    }
    catch (Exception localException)
    {
      for (;;) {}
    }
  }
  
  public void bo()
  {
    if (this.hk == true) {}
    try
    {
      this.hj.unregisterListener(this.g4);
      this.g7.cancel();
      this.g7.purge();
      this.g7 = null;
      this.hk = false;
      return;
    }
    catch (Exception localException)
    {
      for (;;) {}
    }
  }
}
