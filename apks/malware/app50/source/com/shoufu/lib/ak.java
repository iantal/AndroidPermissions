package com.shoufu.lib;

import android.app.Notification;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.graphics.Bitmap;
import android.widget.RemoteViews;
import java.lang.reflect.Field;

public class ak
{
  private NotificationManager a;
  private Context b;
  private int c;
  private Notification d;
  private PendingIntent e;
  
  public ak(Context paramContext, int paramInt1, int paramInt2, String paramString, int paramInt3, Intent paramIntent)
  {
    this.b = paramContext;
    this.c = paramInt1;
    this.a = ((NotificationManager)paramContext.getSystemService("notification"));
    this.d = new Notification(paramInt2, paramString, System.currentTimeMillis());
    a(paramInt3, paramIntent);
  }
  
  private PendingIntent a(Context paramContext, int paramInt1, int paramInt2, Intent paramIntent)
  {
    switch (paramInt2)
    {
    default: 
      return PendingIntent.getActivity(paramContext, paramInt1, paramIntent, 268435456);
    case 1: 
      return PendingIntent.getService(paramContext, paramInt1, paramIntent, 268435456);
    }
    return PendingIntent.getBroadcast(paramContext, paramInt1, paramIntent, 268435456);
  }
  
  private void a(Bitmap paramBitmap)
  {
    int i = 0;
    try
    {
      Class localClass = Class.forName("com.android.internal.R$id");
      Field localField = localClass.getField("icon");
      localField.setAccessible(true);
      int j = localField.getInt(localClass);
      i = j;
    }
    catch (Exception localException)
    {
      for (;;)
      {
        localException.printStackTrace();
      }
    }
    if (this.d.contentView != null) {
      this.d.contentView.setImageViewBitmap(i, paramBitmap);
    }
  }
  
  public void a()
  {
    this.a.cancel(this.c);
  }
  
  public void a(int paramInt, Intent paramIntent)
  {
    this.e = a(this.b, this.c, paramInt, paramIntent);
    this.d.contentIntent = this.e;
  }
  
  public void a(Bitmap paramBitmap, String paramString1, String paramString2, int paramInt)
  {
    if (paramInt == 0) {
      this.d.flags = 6;
    }
    for (;;)
    {
      this.d.setLatestEventInfo(this.b, paramString1, paramString2, this.e);
      a(paramBitmap);
      this.a.notify(this.c, this.d);
      return;
      this.d.flags = 16;
      this.d.defaults = 1;
    }
  }
  
  public void a(String paramString1, String paramString2, int paramInt)
  {
    if (paramInt == 0) {
      this.d.flags = 6;
    }
    for (;;)
    {
      this.d.setLatestEventInfo(this.b, paramString1, paramString2, this.e);
      this.a.notify(this.c, this.d);
      return;
      this.d.flags = 16;
      this.d.defaults = 1;
    }
  }
}
