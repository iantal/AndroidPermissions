package com.shoufu.lib;

import android.content.Context;
import android.content.res.AssetManager;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.Matrix;
import android.util.Log;
import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;

public class cc
{
  public static float a;
  private static String b = "ViewHelper";
  private static HashMap<String, Bitmap> c;
  private static ArrayList<String> d;
  
  static
  {
    a = 1.0F;
    c = new HashMap();
    d = new ArrayList();
    a();
  }
  
  public static Bitmap a(float paramFloat1, float paramFloat2, Bitmap paramBitmap)
  {
    Matrix localMatrix = new Matrix();
    int i = paramBitmap.getHeight();
    int j = paramBitmap.getWidth();
    Bitmap localBitmap;
    if ((i > 1) && (j > 1))
    {
      localMatrix.postScale(paramFloat1, paramFloat2);
      localBitmap = Bitmap.createBitmap(paramBitmap, 0, 0, j, i, localMatrix, true);
    }
    do
    {
      return localBitmap;
      if (i <= 1)
      {
        localMatrix.postScale(paramFloat1, 1.0F);
        return Bitmap.createBitmap(paramBitmap, 0, 0, j, i, localMatrix, true);
      }
      localBitmap = paramBitmap;
    } while (j > 1);
    localMatrix.postScale(1.0F, paramFloat2);
    return Bitmap.createBitmap(paramBitmap, 0, 0, j, i, localMatrix, true);
  }
  
  public static Bitmap a(Context paramContext, String paramString)
  {
    Bitmap localBitmap = (Bitmap)c.get(paramString);
    if (localBitmap != null) {
      return localBitmap;
    }
    try
    {
      paramContext = BitmapFactory.decodeStream(paramContext.getAssets().open(paramString));
      if (a(paramString))
      {
        localBitmap = a(paramContext);
        if (localBitmap != paramContext) {
          paramContext.recycle();
        }
        c.put(paramString, localBitmap);
        return localBitmap;
      }
    }
    catch (IOException paramContext)
    {
      Log.d(b, "read image fail.......");
      paramContext.printStackTrace();
      return null;
    }
    c.put(paramString, paramContext);
    return paramContext;
  }
  
  public static Bitmap a(Bitmap paramBitmap)
  {
    Bitmap localBitmap = paramBitmap;
    if (a != 1.0F)
    {
      float f = a / 100.0F;
      localBitmap = a(f, f, paramBitmap);
    }
    return localBitmap;
  }
  
  public static void a()
  {
    if (d.size() != 0) {
      d.clear();
    }
    d.add("firstpay/resources/title_bg.png");
    d.add("firstpay/resources/back_normal.png");
    d.add("firstpay/resources/back_pressed.png");
  }
  
  private static boolean a(String paramString)
  {
    return d.contains(paramString);
  }
}
