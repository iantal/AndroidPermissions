package com.shoufu.lib;

import android.util.Base64;
import android.util.Log;
import java.util.LinkedList;
import org.apache.http.client.utils.URLEncodedUtils;
import org.apache.http.message.BasicNameValuePair;
import org.json.JSONObject;

public class ap
{
  private int a = 0;
  private String b = null;
  private String c = null;
  private String d = null;
  
  public ap(int paramInt, String paramString1, String paramString2, String paramString3)
  {
    this.a = paramInt;
    this.b = paramString1;
    this.c = paramString2;
    this.d = paramString3;
  }
  
  public static void a(String paramString1, String paramString2, int paramInt, String paramString3, String paramString4)
  {
    LinkedList localLinkedList = new LinkedList();
    localLinkedList.add(new BasicNameValuePair("operation", "105"));
    localLinkedList.add(new BasicNameValuePair("telecom", av.i()));
    localLinkedList.add(new BasicNameValuePair("imsi", av.a()));
    localLinkedList.add(new BasicNameValuePair("imei", av.b()));
    localLinkedList.add(new BasicNameValuePair("model", av.d()));
    localLinkedList.add(new BasicNameValuePair("phoneos", "android"));
    localLinkedList.add(new BasicNameValuePair("wifimac", av.f()));
    localLinkedList.add(new BasicNameValuePair("sdk", av.c()));
    localLinkedList.add(new BasicNameValuePair("release", av.e()));
    localLinkedList.add(new BasicNameValuePair("channel_id", av.g()));
    localLinkedList.add(new BasicNameValuePair("sdk_version", "3.3.8"));
    localLinkedList.add(new BasicNameValuePair("sid", paramString2));
    localLinkedList.add(new BasicNameValuePair("app_id", av.h()));
    localLinkedList.add(new BasicNameValuePair("screen_width", String.valueOf(av.m())));
    localLinkedList.add(new BasicNameValuePair("screen_height", String.valueOf(av.n())));
    localLinkedList.add(new BasicNameValuePair("lac", String.valueOf(av.o())));
    localLinkedList.add(new BasicNameValuePair("cid", String.valueOf(av.p())));
    paramString2 = URLEncodedUtils.format(localLinkedList, "UTF-8");
    paramString3 = new ap(paramInt, paramString3, paramString4, Base64.encodeToString(paramString2.getBytes(), 0)).b();
    paramString4 = new LinkedList();
    paramString4.add(new BasicNameValuePair("operation", "105"));
    paramString4 = URLEncodedUtils.format(paramString4, "UTF-8");
    paramString1 = paramString1 + "?" + paramString4;
    if (av.l())
    {
      Log.d("IAP", "105 operation:" + paramString1);
      Log.d("IAP", "105 operation data:" + paramString3);
      Log.d("IAP", "105 params:" + paramString2);
    }
    be.a(paramString1, paramString3);
  }
  
  public JSONObject a()
  {
    do
    {
      try
      {
        localJSONObject1 = new JSONObject();
        JSONObject localJSONObject2;
        Log.d("IAP", "getJSON error:" + localException1.getMessage());
      }
      catch (Exception localException1)
      {
        try
        {
          localJSONObject1.put("status", this.a);
          localJSONObject1.put("body", this.b);
          localJSONObject1.put("operation", this.c);
          localJSONObject1.put("params", this.d);
          localJSONObject2 = localJSONObject1;
          return localJSONObject2;
        }
        catch (Exception localException2)
        {
          JSONObject localJSONObject1;
          JSONObject localJSONObject3;
          for (;;) {}
        }
        localException1 = localException1;
        localJSONObject1 = null;
      }
      localJSONObject3 = localJSONObject1;
    } while (!av.l());
    Log.d("IAP", "getJSON m_status:" + this.a);
    Log.d("IAP", "getJSON m_body:" + this.b);
    Log.d("IAP", "getJSON m_operation:" + this.c);
    return localJSONObject1;
  }
  
  public String b()
  {
    JSONObject localJSONObject = a();
    if (localJSONObject != null) {
      return localJSONObject.toString();
    }
    return "";
  }
}
