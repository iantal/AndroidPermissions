package com.shoufu.lib;

import android.os.Handler;
import android.os.Message;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.Socket;

public class er
{
  String a;
  String b;
  String c;
  String d;
  String e;
  String f;
  String g;
  public int h = 0;
  Handler i;
  int j = 9007;
  
  public er(String paramString1, String paramString2, String paramString3, String paramString4, String paramString5)
  {
    this.a = paramString1;
    this.b = paramString2;
    this.c = paramString3;
    this.d = paramString4;
    this.f = paramString5;
    this.g = "N";
  }
  
  public String a(int paramInt)
  {
    try
    {
      Socket localSocket = new Socket("218.16.118.218", this.j);
      InputStream localInputStream = localSocket.getInputStream();
      OutputStream localOutputStream = localSocket.getOutputStream();
      Object localObject;
      byte[] arrayOfByte;
      if (paramInt == 1)
      {
        localObject = String.format("one<:>%s<:>%s<:>%s<:>%s<:>%s<:>%s<:end>", new Object[] { this.a, this.b, this.c, this.d, this.f, this.g });
        localOutputStream.write(((String)localObject).getBytes());
        localObject = "";
        arrayOfByte = new byte['ࠀ'];
        label106:
        paramInt = localInputStream.read(arrayOfByte);
        if (paramInt != -1) {
          break label170;
        }
      }
      for (;;)
      {
        localInputStream.close();
        localOutputStream.close();
        localSocket.close();
        return localObject;
        localObject = String.format("two<:>%s<:>%s<:>%s<:end>", new Object[] { this.e, this.c, this.f });
        break;
        label170:
        String str = localObject + new String(arrayOfByte, 0, paramInt, "GBK");
        boolean bool = str.contains("<:end>");
        localObject = str;
        if (!bool) {
          break label106;
        }
        localObject = str;
      }
      return "error--连接服务器失败";
    }
    catch (Exception localException) {}
  }
  
  void a(int paramInt, String paramString)
  {
    Message localMessage = new Message();
    localMessage.what = paramInt;
    localMessage.obj = paramString;
    this.i.sendMessage(localMessage);
  }
  
  public void a(Handler paramHandler)
  {
    this.i = paramHandler;
    new es(this).start();
  }
}
