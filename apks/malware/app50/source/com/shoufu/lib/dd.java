package com.shoufu.lib;

import android.app.Activity;
import android.content.Intent;
import android.os.Handler;
import android.os.Message;
import android.util.Log;
import com.shoufu.WoSdkActivity;
import com.shoufu.entity.response.Task;
import com.shoufu.entity.response.TaskData;
import com.shoufu.entity.response.TaskResultMap;
import com.shoufu.entity.response.WoSdkPramData;
import java.io.Serializable;
import java.net.URLDecoder;
import java.util.ArrayList;
import org.json.JSONObject;

class dd
  extends Thread
{
  dd(TaskData paramTaskData, Handler paramHandler, Activity paramActivity, String paramString) {}
  
  public void run()
  {
    Log.d("TaskUtil", "wo+Sdk");
    int i = -1;
    int k = i;
    try
    {
      Object localObject1 = this.a.getResultmap();
      k = i;
      if (((TaskResultMap)localObject1).getSuccess() == 1)
      {
        k = i;
        if (this.b == null) {
          return;
        }
        k = i;
        this.b.obtainMessage(8).sendToTarget();
        return;
      }
      k = i;
      j = ((TaskResultMap)localObject1).getNextrequestcode();
      k = j;
      localObject1 = ab.a(URLDecoder.decode(((Task)this.a.getResultlist().get(0)).getContent(), "utf-8"));
      i = j;
      if (localObject1 == null) {
        break label277;
      }
      k = j;
      i = j;
      if ("".equals(((String)localObject1).trim())) {
        break label277;
      }
      k = j;
      Object localObject2 = new JSONObject((String)localObject1);
      k = j;
      localObject1 = new WoSdkPramData();
      k = j;
      z.a(localObject1, (JSONObject)localObject2);
      k = j;
      i = j;
      if (!"0".equals(((WoSdkPramData)localObject1).getSuccess())) {
        break label277;
      }
      k = j;
      localObject2 = new Intent(this.c, WoSdkActivity.class);
      k = j;
      ((Intent)localObject2).putExtra("productName", this.d);
      k = j;
      ((Intent)localObject2).putExtra("woSdkPramData", (Serializable)localObject1);
      k = j;
      ((Intent)localObject2).putExtra("taskdata", this.a);
      k = j;
      this.c.startActivity((Intent)localObject2);
      k = 1;
      i = j;
      j = k;
    }
    catch (Exception localException)
    {
      for (;;)
      {
        localException.printStackTrace();
        i = k;
        int j = 0;
      }
    }
    if ((j == 0) && (this.b != null))
    {
      this.b.obtainMessage(7, i, 0).sendToTarget();
      return;
    }
    label277:
  }
}
