package com.shoufu.lib;

import android.content.Context;
import android.os.Handler;
import android.os.Message;
import android.util.Log;
import com.shoufu.entity.response.Task;
import com.shoufu.entity.response.TaskData;
import com.shoufu.entity.response.TaskResultMap;
import java.net.URLDecoder;
import java.util.ArrayList;

class dk
  extends Thread
{
  dk(TaskData paramTaskData, Handler paramHandler, Context paramContext, boolean paramBoolean) {}
  
  public void run()
  {
    Log.d("TaskUtil", "zyCMCC");
    if (!cx.i())
    {
      String str1;
      String str2;
      String str3;
      try
      {
        Object localObject = this.a.getResultmap();
        if (((TaskResultMap)localObject).getSuccess() == 1)
        {
          if (this.b == null) {
            return;
          }
          this.b.obtainMessage(8).sendToTarget();
          return;
        }
        cx.a(true);
        cx.c = this.b;
        cx.a(this.c);
        cx.a(this.a.getResultmap().getTradeid());
        cx.b = ((TaskResultMap)localObject).getNextrequestcode();
        localObject = (Task)this.a.getResultlist().get(0);
        cx.a((Task)localObject);
        cx.b(URLDecoder.decode(((Task)localObject).getContent(), "utf-8"));
        if ((cx.j() == null) || ("".equals(cx.j().trim()))) {
          break label280;
        }
        str1 = ai.b(this.c);
        str2 = ai.a(this.c);
        str3 = ((Task)this.a.getResultlist().get(0)).getPrice() / 100;
        if (!this.d) {
          break label255;
        }
        new et(str1, str2, str3, ((Task)localObject).getCppram(), cx.j()).a(cx.a);
        return;
      }
      catch (Exception localException)
      {
        localException.printStackTrace();
        cx.a(false);
        if (this.b == null) {
          return;
        }
      }
      this.b.obtainMessage(7, cx.b, 0).sendToTarget();
      return;
      label255:
      new er(str1, str2, str3, localException.getCppram(), cx.j()).a(cx.a);
      return;
      label280:
      cx.a(false);
      if (this.b != null) {
        this.b.obtainMessage(7, cx.b, 0).sendToTarget();
      }
    }
    else if (this.b != null)
    {
      this.b.obtainMessage(7, cx.b, 0).sendToTarget();
    }
  }
}
