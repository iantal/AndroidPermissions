package com.shoufu.lib;

import android.content.Context;
import android.telephony.TelephonyManager;
import java.lang.reflect.Field;
import java.lang.reflect.Method;

public class ah
{
  private String a = null;
  private String b = null;
  private String c = null;
  private int d = 0;
  private String e = null;
  private String f = null;
  private int g = 0;
  
  public ah() {}
  
  public static int a(String paramString)
  {
    Object localObject2 = null;
    Object localObject1 = localObject2;
    if (paramString != null)
    {
      localObject1 = localObject2;
      if (paramString.length() > 5) {
        localObject1 = paramString.substring(0, 5);
      }
    }
    if (localObject1 == null) {
      return 0;
    }
    if ((((String)localObject1).equals("46000")) || (((String)localObject1).equals("46002")) || (((String)localObject1).equals("46007"))) {
      return 1;
    }
    if ((((String)localObject1).equals("46001")) || (((String)localObject1).equals("46006"))) {
      return 2;
    }
    if ((((String)localObject1).equals("46003")) || (((String)localObject1).equals("46005"))) {
      return 3;
    }
    return 4;
  }
  
  public static ah a(Context paramContext)
  {
    ah localAh2 = f(paramContext);
    ah localAh1 = localAh2;
    if (localAh2.a() == null)
    {
      localAh2 = c(paramContext);
      localAh1 = localAh2;
      if (localAh2.a() == null)
      {
        localAh2 = d(paramContext);
        localAh1 = localAh2;
        if (localAh2.a() == null)
        {
          localAh2 = e(paramContext);
          localAh1 = localAh2;
          if (localAh2.a() == null) {
            localAh1 = b(paramContext);
          }
        }
      }
    }
    if (localAh1.a() != null)
    {
      localAh1.d = a(localAh1.b);
      localAh1.g = a(localAh1.e);
    }
    return localAh1;
  }
  
  public static ah b(Context paramContext)
  {
    ah localAh = new ah();
    try
    {
      paramContext = (TelephonyManager)paramContext.getSystemService("phone");
      localAh.b = paramContext.getSubscriberId();
      localAh.c = paramContext.getDeviceId();
      if (localAh.b == null)
      {
        localAh.a = null;
        return localAh;
      }
      localAh.a = "single";
      return localAh;
    }
    catch (Exception paramContext)
    {
      localAh.a = null;
    }
    return localAh;
  }
  
  private static ah c(Context paramContext)
  {
    ah localAh = new ah();
    try
    {
      paramContext = (TelephonyManager)paramContext.getSystemService("phone");
      Object localObject2 = Class.forName("com.android.internal.telephony.Phone");
      Object localObject1 = ((Class)localObject2).getField("GEMINI_SIM_1");
      ((Field)localObject1).setAccessible(true);
      localObject1 = (Integer)((Field)localObject1).get(null);
      localObject2 = ((Class)localObject2).getField("GEMINI_SIM_2");
      ((Field)localObject2).setAccessible(true);
      localObject2 = (Integer)((Field)localObject2).get(null);
      Method localMethod = TelephonyManager.class.getDeclaredMethod("getSubscriberIdGemini", new Class[] { Integer.TYPE });
      localAh.b = ((String)localMethod.invoke(paramContext, new Object[] { localObject1 }));
      localAh.e = ((String)localMethod.invoke(paramContext, new Object[] { localObject2 }));
      localAh.c = paramContext.getDeviceId();
      localAh.f = paramContext.getDeviceId();
      localAh.a = "MTK";
      return localAh;
    }
    catch (Exception paramContext)
    {
      localAh.a = null;
    }
    return localAh;
  }
  
  private static ah d(Context paramContext)
  {
    ah localAh = new ah();
    try
    {
      paramContext = (TelephonyManager)paramContext.getSystemService("phone");
      Object localObject2 = Class.forName("com.android.internal.telephony.Phone");
      Object localObject1 = ((Class)localObject2).getField("GEMINI_SIM_1");
      ((Field)localObject1).setAccessible(true);
      localObject1 = (Integer)((Field)localObject1).get(null);
      localObject2 = ((Class)localObject2).getField("GEMINI_SIM_2");
      ((Field)localObject2).setAccessible(true);
      localObject2 = (Integer)((Field)localObject2).get(null);
      Method localMethod = TelephonyManager.class.getMethod("getDefault", new Class[] { Integer.TYPE });
      localObject1 = (TelephonyManager)localMethod.invoke(paramContext, new Object[] { localObject1 });
      localObject2 = (TelephonyManager)localMethod.invoke(paramContext, new Object[] { localObject2 });
      localAh.b = ((TelephonyManager)localObject1).getSubscriberId();
      localAh.e = ((TelephonyManager)localObject2).getSubscriberId();
      localAh.c = paramContext.getDeviceId();
      localAh.f = paramContext.getDeviceId();
      if ((localAh.b == null) && (localAh.e == null))
      {
        localAh.a = null;
        return localAh;
      }
      localAh.a = "MTK";
      return localAh;
    }
    catch (Exception paramContext)
    {
      localAh.a = null;
    }
    return localAh;
  }
  
  private static ah e(Context paramContext)
  {
    ah localAh = new ah();
    try
    {
      Object localObject = Class.forName("com.android.internal.telephony.PhoneFactory");
      localObject = (String)((Class)localObject).getMethod("getServiceName", new Class[] { String.class, Integer.TYPE }).invoke(localObject, new Object[] { "phone", Integer.valueOf(1) });
      TelephonyManager localTelephonyManager = (TelephonyManager)paramContext.getSystemService("phone");
      localAh.b = localTelephonyManager.getSubscriberId();
      localAh.c = localTelephonyManager.getDeviceId();
      localAh.e = ((TelephonyManager)paramContext.getSystemService((String)localObject)).getSubscriberId();
      localAh.f = localTelephonyManager.getDeviceId();
      localAh.a = "spread";
      return localAh;
    }
    catch (Exception paramContext)
    {
      localAh.a = null;
    }
    return localAh;
  }
  
  private static ah f(Context paramContext)
  {
    ah localAh = new ah();
    try
    {
      Object localObject2 = Class.forName("android.telephony.MSimTelephonyManager");
      Object localObject1 = paramContext.getSystemService("phone_msim");
      paramContext = (TelephonyManager)paramContext.getSystemService("phone");
      localObject2 = ((Class)localObject2).getMethod("getSubscriberId", new Class[] { Integer.TYPE });
      localAh.b = ((String)((Method)localObject2).invoke(localObject1, new Object[] { Integer.valueOf(0) }));
      localAh.e = ((String)((Method)localObject2).invoke(localObject1, new Object[] { Integer.valueOf(1) }));
      localAh.c = paramContext.getDeviceId();
      localAh.f = paramContext.getDeviceId();
      if ((localAh.b == null) && (localAh.e == null))
      {
        localAh.a = null;
        return localAh;
      }
      localAh.a = "Qualcomm";
      return localAh;
    }
    catch (Exception paramContext)
    {
      localAh.a = null;
    }
    return localAh;
  }
  
  public String a()
  {
    return this.a;
  }
  
  public String b()
  {
    return this.b;
  }
  
  public String c()
  {
    return this.e;
  }
  
  public String toString()
  {
    return "IMSInfo [m_chipname=" + this.a + ", m_imsi1=" + this.b + ", m_imei1=" + this.c + ", m_operid1=" + this.d + ", m_imsi2=" + this.e + ", m_imei2=" + this.f + ", m_operid2=" + this.g + "]";
  }
}
