package com.shoufu;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import com.shoufu.entity.response.Task;
import com.shoufu.entity.response.TaskData;
import com.shoufu.entity.response.TaskResultMap;
import com.shoufu.entity.response.WoSdkPramData;
import com.shoufu.lib.ci;
import com.shoufu.lib.cu;
import com.shoufu.lib.dn;
import com.shoufu.lib.dv;
import com.shoufu.lib.en;
import com.unicom.woopenchannelsmspayment.UnicomWoOpenPaymentMainActivity;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

public class WoSdkActivity
  extends Activity
{
  private int a = -1;
  private String b = "";
  private TaskData c = null;
  
  public WoSdkActivity() {}
  
  protected void onActivityResult(int paramInt1, int paramInt2, Intent paramIntent)
  {
    super.onActivityResult(paramInt1, paramInt2, paramIntent);
    Iterator localIterator;
    a localA;
    if (paramInt1 == en.a)
    {
      localIterator = a.a.iterator();
      if (localIterator.hasNext()) {
        break label148;
      }
      localA = null;
      label37:
      if (paramIntent.getIntExtra("resultCode", 1) != 0) {
        break label191;
      }
      if (this.c != null)
      {
        ci.a(this, this.c.getResultmap().getTradeid(), (Task)this.c.getResultlist().get(0), null);
        dn.a(this, this.c.getResultmap().getTradeid(), ((Task)this.c.getResultlist().get(0)).getSmsid(), 0, 0, ((Task)this.c.getResultlist().get(0)).getTid());
      }
      if (localA != null) {
        localA.a();
      }
    }
    for (;;)
    {
      finish();
      return;
      label148:
      localA = (a)localIterator.next();
      if (("".equals(localA.c())) || (!localA.c().equals(this.b))) {
        break;
      }
      break label37;
      label191:
      if (localA != null)
      {
        localA.b(this.a);
        localA.d();
      }
    }
  }
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    paramBundle = getIntent();
    String str1 = paramBundle.getStringExtra("productName");
    WoSdkPramData localWoSdkPramData;
    if (str1 != null)
    {
      localWoSdkPramData = (WoSdkPramData)paramBundle.getSerializableExtra("woSdkPramData");
      this.c = ((TaskData)paramBundle.getSerializableExtra("taskdata"));
      localObject = null;
      if (this.c != null)
      {
        this.b = this.c.getResultmap().getTradeid();
        this.a = this.c.getResultmap().getNextrequestcode();
        localObject = (Task)this.c.getResultlist().get(0);
      }
      paramBundle = com.shoufu.lib.a.a(this);
      if (paramBundle != null) {
        break label356;
      }
      paramBundle = "";
      if (localObject != null) {
        break label366;
      }
    }
    label356:
    label366:
    for (Object localObject = dv.a(str1, 12);; localObject = ((Task)localObject).getPrice() / 100 + dv.a(str1, 10))
    {
      str1 = localWoSdkPramData.getCompany();
      String str2 = localWoSdkPramData.getChannelid();
      String str3 = localWoSdkPramData.getOrderid();
      String str4 = localWoSdkPramData.getNumber();
      String str5 = localWoSdkPramData.getFee() / 100;
      Intent localIntent = new Intent(this, UnicomWoOpenPaymentMainActivity.class);
      Bundle localBundle = new Bundle();
      localBundle.putString("appName", paramBundle);
      localBundle.putString("appType", "1");
      localBundle.putString("productName", (String)localObject);
      localBundle.putString("money", str5);
      localBundle.putString("company", str1);
      localBundle.putString("channelId", str2);
      localBundle.putString("spProductType", "1");
      localBundle.putString("chlOrderId", str3);
      localBundle.putString("developerServicePhone", str4);
      localBundle.putString("sign", cu.a(paramBundle + "1" + (String)localObject + str5 + str1 + str2 + "1" + str3 + str4 + localWoSdkPramData.getSecretkey()));
      localIntent.putExtras(localBundle);
      startActivityForResult(localIntent, en.a);
      return;
      paramBundle = dv.a(paramBundle, 12);
      break;
    }
  }
}
