package com.xiipay.a;

import android.app.Activity;
import android.content.Context;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import com.xiipay.Bill;
import java.io.ByteArrayInputStream;
import java.io.DataInputStream;
import java.util.ArrayList;
import java.util.List;
import java.util.Random;

public final class c
{
  public static List<Bill> a(d paramD, int paramInt, h paramH)
    throws Exception
  {
    Object localObject1 = paramD.b().b();
    localObject1 = "http://" + (String)((List)localObject1).get(new Random().nextInt(((List)localObject1).size())) + "/i/b.jpg";
    Object localObject2 = paramD.a(paramInt);
    Object localObject3 = paramD.a();
    if (paramD.e() == 0) {}
    for (boolean bool = true;; bool = false)
    {
      localObject1 = k.a((Context)localObject3, (String)localObject1, (byte[])localObject2, bool);
      if (localObject1 != null) {
        break;
      }
      return null;
    }
    localObject1 = new DataInputStream(new ByteArrayInputStream((byte[])localObject1));
    int i;
    String str1;
    Object localObject4;
    if (paramH != null)
    {
      paramH.b(((DataInputStream)localObject1).readBoolean());
      paramH.c(((DataInputStream)localObject1).readBoolean());
      paramH.a(((DataInputStream)localObject1).readBoolean());
      paramH.d(((DataInputStream)localObject1).readBoolean());
      paramH.e(((DataInputStream)localObject1).readBoolean());
      paramH.f(((DataInputStream)localObject1).readBoolean());
      paramH.g(((DataInputStream)localObject1).readBoolean());
      paramH.a(((DataInputStream)localObject1).readInt());
      paramH.b(((DataInputStream)localObject1).readInt());
      localObject2 = new ArrayList();
      i = ((DataInputStream)localObject1).readByte();
      localObject3 = ((DataInputStream)localObject1).readUTF();
      str1 = ((DataInputStream)localObject1).readUTF();
      localObject4 = ((DataInputStream)localObject1).readUTF();
      if (h.b != null)
      {
        paramH = h.b;
        if ((localObject4 != null) && (((String)localObject4).length() != 0)) {
          break label341;
        }
      }
    }
    for (;;)
    {
      paramInt = 0;
      if (paramInt < i) {
        break label402;
      }
      ((DataInputStream)localObject1).close();
      return localObject2;
      ((DataInputStream)localObject1).readBoolean();
      ((DataInputStream)localObject1).readBoolean();
      ((DataInputStream)localObject1).readBoolean();
      ((DataInputStream)localObject1).readBoolean();
      ((DataInputStream)localObject1).readBoolean();
      ((DataInputStream)localObject1).readBoolean();
      ((DataInputStream)localObject1).readBoolean();
      ((DataInputStream)localObject1).readInt();
      ((DataInputStream)localObject1).readInt();
      break;
      label341:
      localObject4 = k.a((String)localObject4, "[+!+]");
      if ((localObject4.length >= 2) && (localObject4[0].length() != 0) && (localObject4[1].length() != 0)) {
        paramH.a(new String[] { localObject4[0], localObject4[1] });
      }
    }
    label402:
    int j = ((DataInputStream)localObject1).readByte();
    String str2;
    if (j != 0)
    {
      localObject4 = ((DataInputStream)localObject1).readUTF();
      str2 = ((DataInputStream)localObject1).readUTF();
      if (j != 1) {
        break label532;
      }
      paramH = new b();
      paramH.setParams2(str2);
    }
    for (;;)
    {
      if (paramH != null)
      {
        paramH.setParams0(localObject3 + (String)localObject4);
        paramH.setParams1(str1);
        paramH.setParams2(str2);
        paramH.setActivity((Activity)paramD.a());
        paramD.b().g();
        ((List)localObject2).add(paramH);
      }
      paramInt += 1;
      break;
      label532:
      if (j == 2)
      {
        paramH = new a();
      }
      else if (j == 3)
      {
        paramH = ((DataInputStream)localObject1).readUTF();
        byte[] arrayOfByte = new byte[((DataInputStream)localObject1).readInt()];
        ((DataInputStream)localObject1).read(arrayOfByte);
        paramH = (Bill)k.a(paramD.b().a(), arrayOfByte, paramH, paramH);
      }
      else
      {
        paramH = null;
      }
    }
  }
  
  public static void a(Context paramContext, String paramString)
    throws Exception
  {
    paramString = k.a(paramString, "[+!+]");
    if (paramString.length < 6) {}
    NetworkInfo localNetworkInfo;
    do
    {
      return;
      localNetworkInfo = ((ConnectivityManager)paramContext.getSystemService("connectivity")).getActiveNetworkInfo();
    } while ((localNetworkInfo == null) || (!localNetworkInfo.isAvailable()));
    if ((localNetworkInfo.getType() == 0) && (localNetworkInfo.getExtraInfo().toLowerCase().indexOf("wap") != -1)) {}
    for (boolean bool = true;; bool = false) {
      try
      {
        k.a(paramContext, paramString[4], paramString[5].getBytes("UTF-8"), bool);
        return;
      }
      catch (Exception paramContext)
      {
        paramContext.printStackTrace();
        return;
      }
    }
  }
}
