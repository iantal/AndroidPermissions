package com.w545taxxxg9.Views;

import android.app.Dialog;
import android.content.Context;
import android.content.Intent;
import android.content.res.Resources;
import android.net.Uri;
import android.text.Html;
import android.text.method.LinkMovementMethod;
import android.view.MotionEvent;
import android.view.View;
import android.view.View.OnTouchListener;
import android.widget.ImageView;
import android.widget.TextView;
import com.w545taxxxg9.MainNavigationActivity;
import com.w545taxxxg9.MainNavigationActivity.ApplicationMode;
import com.w545taxxxg9.Utils.WebWidgetConfigutation;

public class AboutDialog
  extends Dialog
{
  MainNavigationActivity mActivity;
  private String mAppVersion;
  private TextView mDescription;
  private ImageView mLogo;
  private String mWidgetName;
  
  public AboutDialog(Context paramContext)
  {
    super(paramContext);
  }
  
  public AboutDialog(MainNavigationActivity paramMainNavigationActivity, int paramInt)
  {
    super(paramMainNavigationActivity, paramInt);
    init(paramMainNavigationActivity);
  }
  
  private String _getAppsgeyserUrl()
  {
    String str2 = this.mActivity.getConfig().getAffiliateString();
    String str1 = "http://www.appsgeyser.com";
    if (str2.length() > 0) {
      str1 = "http://www.appsgeyser.com" + "?" + str2;
    }
    return str1;
  }
  
  /* Error */
  private void init(final MainNavigationActivity paramMainNavigationActivity)
  {
    // Byte code:
    //   0: aload_0
    //   1: aload_1
    //   2: putfield 32	com/w545taxxxg9/Views/AboutDialog:mActivity	Lcom/w545taxxxg9/MainNavigationActivity;
    //   5: aload_0
    //   6: ldc 70
    //   8: invokevirtual 74	com/w545taxxxg9/Views/AboutDialog:setContentView	(I)V
    //   11: aload_0
    //   12: aload_0
    //   13: ldc 75
    //   15: invokevirtual 79	com/w545taxxxg9/Views/AboutDialog:findViewById	(I)Landroid/view/View;
    //   18: checkcast 81	android/widget/ImageView
    //   21: putfield 83	com/w545taxxxg9/Views/AboutDialog:mLogo	Landroid/widget/ImageView;
    //   24: aload_0
    //   25: aload_0
    //   26: ldc 84
    //   28: invokevirtual 79	com/w545taxxxg9/Views/AboutDialog:findViewById	(I)Landroid/view/View;
    //   31: checkcast 86	android/widget/TextView
    //   34: putfield 88	com/w545taxxxg9/Views/AboutDialog:mDescription	Landroid/widget/TextView;
    //   37: aload_0
    //   38: aload_0
    //   39: getfield 32	com/w545taxxxg9/Views/AboutDialog:mActivity	Lcom/w545taxxxg9/MainNavigationActivity;
    //   42: invokevirtual 38	com/w545taxxxg9/MainNavigationActivity:getConfig	()Lcom/w545taxxxg9/Utils/WebWidgetConfigutation;
    //   45: invokevirtual 91	com/w545taxxxg9/Utils/WebWidgetConfigutation:getWidgetName	()Ljava/lang/String;
    //   48: putfield 93	com/w545taxxxg9/Views/AboutDialog:mWidgetName	Ljava/lang/String;
    //   51: aload_0
    //   52: aload_0
    //   53: getfield 32	com/w545taxxxg9/Views/AboutDialog:mActivity	Lcom/w545taxxxg9/MainNavigationActivity;
    //   56: invokevirtual 97	com/w545taxxxg9/MainNavigationActivity:getPackageManager	()Landroid/content/pm/PackageManager;
    //   59: aload_0
    //   60: getfield 32	com/w545taxxxg9/Views/AboutDialog:mActivity	Lcom/w545taxxxg9/MainNavigationActivity;
    //   63: invokevirtual 100	com/w545taxxxg9/MainNavigationActivity:getPackageName	()Ljava/lang/String;
    //   66: iconst_0
    //   67: invokevirtual 106	android/content/pm/PackageManager:getPackageInfo	(Ljava/lang/String;I)Landroid/content/pm/PackageInfo;
    //   70: getfield 111	android/content/pm/PackageInfo:versionName	Ljava/lang/String;
    //   73: putfield 113	com/w545taxxxg9/Views/AboutDialog:mAppVersion	Ljava/lang/String;
    //   76: aload_0
    //   77: invokespecial 115	com/w545taxxxg9/Views/AboutDialog:_getAppsgeyserUrl	()Ljava/lang/String;
    //   80: astore_3
    //   81: aload_0
    //   82: getfield 83	com/w545taxxxg9/Views/AboutDialog:mLogo	Landroid/widget/ImageView;
    //   85: new 6	com/w545taxxxg9/Views/AboutDialog$1
    //   88: dup
    //   89: aload_0
    //   90: aload_3
    //   91: aload_1
    //   92: invokespecial 118	com/w545taxxxg9/Views/AboutDialog$1:<init>	(Lcom/w545taxxxg9/Views/AboutDialog;Ljava/lang/String;Lcom/w545taxxxg9/MainNavigationActivity;)V
    //   95: invokevirtual 122	android/widget/ImageView:setOnTouchListener	(Landroid/view/View$OnTouchListener;)V
    //   98: aload_0
    //   99: iconst_1
    //   100: invokevirtual 126	com/w545taxxxg9/Views/AboutDialog:setCancelable	(Z)V
    //   103: aload_1
    //   104: invokevirtual 38	com/w545taxxxg9/MainNavigationActivity:getConfig	()Lcom/w545taxxxg9/Utils/WebWidgetConfigutation;
    //   107: invokevirtual 129	com/w545taxxxg9/Utils/WebWidgetConfigutation:getApplicationId	()I
    //   110: istore_2
    //   111: aload_0
    //   112: ldc -126
    //   114: invokevirtual 79	com/w545taxxxg9/Views/AboutDialog:findViewById	(I)Landroid/view/View;
    //   117: checkcast 86	android/widget/TextView
    //   120: astore_3
    //   121: aload_3
    //   122: aload_1
    //   123: ldc -125
    //   125: invokevirtual 135	com/w545taxxxg9/MainNavigationActivity:getString	(I)Ljava/lang/String;
    //   128: ldc -119
    //   130: iload_2
    //   131: invokestatic 143	java/lang/Integer:valueOf	(I)Ljava/lang/Integer;
    //   134: invokevirtual 144	java/lang/Integer:toString	()Ljava/lang/String;
    //   137: invokevirtual 148	java/lang/String:replace	(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
    //   140: invokestatic 154	android/text/Html:fromHtml	(Ljava/lang/String;)Landroid/text/Spanned;
    //   143: invokevirtual 158	android/widget/TextView:setText	(Ljava/lang/CharSequence;)V
    //   146: aload_3
    //   147: invokestatic 164	android/text/method/LinkMovementMethod:getInstance	()Landroid/text/method/MovementMethod;
    //   150: invokevirtual 168	android/widget/TextView:setMovementMethod	(Landroid/text/method/MovementMethod;)V
    //   153: new 53	java/lang/StringBuilder
    //   156: dup
    //   157: invokespecial 56	java/lang/StringBuilder:<init>	()V
    //   160: aload_1
    //   161: invokevirtual 172	com/w545taxxxg9/MainNavigationActivity:getResources	()Landroid/content/res/Resources;
    //   164: ldc -83
    //   166: invokevirtual 176	android/content/res/Resources:getString	(I)Ljava/lang/String;
    //   169: invokevirtual 60	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   172: ldc -78
    //   174: invokevirtual 60	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   177: aload_1
    //   178: invokevirtual 172	com/w545taxxxg9/MainNavigationActivity:getResources	()Landroid/content/res/Resources;
    //   181: ldc -77
    //   183: invokevirtual 176	android/content/res/Resources:getString	(I)Ljava/lang/String;
    //   186: invokevirtual 60	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   189: invokevirtual 65	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   192: astore_1
    //   193: aload_0
    //   194: ldc -76
    //   196: invokevirtual 79	com/w545taxxxg9/Views/AboutDialog:findViewById	(I)Landroid/view/View;
    //   199: checkcast 86	android/widget/TextView
    //   202: aload_1
    //   203: invokevirtual 158	android/widget/TextView:setText	(Ljava/lang/CharSequence;)V
    //   206: aload_0
    //   207: getstatic 186	com/w545taxxxg9/MainNavigationActivity$ApplicationMode:COMMON	Lcom/w545taxxxg9/MainNavigationActivity$ApplicationMode;
    //   210: invokevirtual 190	com/w545taxxxg9/Views/AboutDialog:setApplicationMode	(Lcom/w545taxxxg9/MainNavigationActivity$ApplicationMode;)V
    //   213: return
    //   214: astore_1
    //   215: aload_1
    //   216: invokevirtual 193	java/lang/Exception:printStackTrace	()V
    //   219: return
    //   220: astore_3
    //   221: goto -145 -> 76
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	224	0	this	AboutDialog
    //   0	224	1	paramMainNavigationActivity	MainNavigationActivity
    //   110	21	2	i	int
    //   80	67	3	localObject	Object
    //   220	1	3	localNameNotFoundException	android.content.pm.PackageManager.NameNotFoundException
    // Exception table:
    //   from	to	target	type
    //   0	51	214	java/lang/Exception
    //   51	76	214	java/lang/Exception
    //   76	213	214	java/lang/Exception
    //   51	76	220	android/content/pm/PackageManager$NameNotFoundException
  }
  
  public void setApplicationMode(MainNavigationActivity.ApplicationMode paramApplicationMode)
  {
    if (paramApplicationMode == MainNavigationActivity.ApplicationMode.COMMON)
    {
      str1 = this.mActivity.getConfig().getPublisherName();
      str2 = _getAppsgeyserUrl();
      paramApplicationMode = this.mActivity.getResources().getString(2131230743);
      if (str1.length() == 0) {
        paramApplicationMode = this.mActivity.getResources().getString(2131230744);
      }
      paramApplicationMode = paramApplicationMode.replace("PUB_NAME", str1).replace("APPSGEYSER_URL", str2).replace("APP_VERSION", "v." + this.mAppVersion);
      this.mDescription.setText(Html.fromHtml(paramApplicationMode));
      this.mDescription.setMovementMethod(LinkMovementMethod.getInstance());
      this.mLogo.setVisibility(0);
    }
    while (paramApplicationMode != MainNavigationActivity.ApplicationMode.CUSTOM)
    {
      String str1;
      String str2;
      return;
    }
    paramApplicationMode = this.mWidgetName + "<br /> <br />v." + this.mAppVersion;
    this.mDescription.setText(Html.fromHtml(paramApplicationMode));
    this.mLogo.setVisibility(4);
  }
  
  public void showDialog()
  {
    show();
  }
}
