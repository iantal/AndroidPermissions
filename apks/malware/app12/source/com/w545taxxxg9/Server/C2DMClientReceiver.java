package com.w545taxxxg9.Server;

import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import com.google.android.c2dm.C2DMBaseReceiver;
import com.w545taxxxg9.Factory.Factory;
import com.w545taxxxg9.Utils.AppNotificationManager;

public class C2DMClientReceiver
  extends C2DMBaseReceiver
{
  public C2DMClientReceiver(Context paramContext) {}
  
  public void onError(Context paramContext, String paramString) {}
  
  public void onMessage(Context paramContext, Intent paramIntent)
  {
    Object localObject = paramIntent.getExtras();
    if (localObject != null)
    {
      paramIntent = ((Bundle)localObject).getString("url");
      String str = ((Bundle)localObject).getString("message");
      localObject = ((Bundle)localObject).getString("title");
      AppNotificationManager.generateNotification(paramContext, str, (String)localObject, AppNotificationManager.getLaunchIntent(paramContext, (String)localObject, paramIntent));
    }
  }
  
  public void onRegistered(Context paramContext, String paramString)
  {
    new PushServerClient(Factory.getInstance().getMainNavigationActivity()).sendRegisteredId(paramString);
  }
  
  public void onUnregistered(Context paramContext, String paramString)
  {
    new PushServerClient(Factory.getInstance().getMainNavigationActivity()).sendUnregisteredId(paramString);
  }
}
