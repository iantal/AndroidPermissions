package cn.domob.android.ads;

import android.content.Context;
import java.util.HashMap;

class h
  implements l.a
{
  private static final String A = "pb[name]";
  private static final String B = "pb[version]";
  private static final String C = "d[coord_timestamp]";
  private static final String D = "d[coord]";
  private static final String E = "d[coord_acc]";
  private static final String F = "d[coord_status]";
  private static final String G = "d[pc]";
  private static final String H = "d[dob]";
  private static final String I = "d[gender]";
  private static final String J = "spot";
  private static final String K = "apn";
  private static final String L = "network";
  private static final String M = "lpkg";
  protected static final int a = 1;
  private static H b = new H(h.class.getSimpleName());
  private static final String f = "sdk";
  private static final String g = "rt";
  private static final String h = "pt";
  private static final String i = "ts";
  private static final String j = "ua";
  private static final String k = "ipb";
  private static final String l = "idv";
  private static final String m = "v";
  private static final String n = "sv";
  private static final String o = "l";
  private static final String p = "f";
  private static final String q = "e";
  private static final String r = "cid";
  private static final String s = "dim";
  private static final String t = "so";
  private static final String u = "sw";
  private static final String v = "sh";
  private static final String w = "sd";
  private static final String x = "c";
  private static final String y = "k";
  private static final String z = "pb[identifier]";
  private l c;
  private f d;
  private Context e;
  
  public h(f paramF)
  {
    b.b("New instance of DomobAdRequest.");
    this.d = paramF;
    this.e = paramF.r();
  }
  
  private String b()
  {
    HashMap localHashMap = new HashMap();
    localHashMap.put("sdk", String.valueOf(1));
    localHashMap.put("rt", String.valueOf(1));
    localHashMap.put("ts", String.valueOf(System.currentTimeMillis()));
    localHashMap.put("ua", n.f(this.e));
    localHashMap.put("ipb", this.d.j());
    localHashMap.put("idv", n.g(this.e));
    localHashMap.put("v", String.format("%s-%s-%s", new Object[] { "20120611", "android", "20120321" }));
    localHashMap.put("sv", "030003");
    localHashMap.put("l", "zh");
    localHashMap.put("f", "jsonp");
    localHashMap.put("e", "UTF-8");
    localHashMap.put("cid", g.a().b(this.e));
    if (this.d.k() != 0) {
      localHashMap.put("pt", String.valueOf(this.d.k()));
    }
    if (this.d.l() != null) {
      localHashMap.put("dim", this.d.l());
    }
    localHashMap.put("so", n.s(this.e));
    localHashMap.put("sw", String.valueOf(n.v(this.e)));
    localHashMap.put("sh", String.valueOf(n.w(this.e)));
    localHashMap.put("sd", String.valueOf(n.u(this.e)));
    localHashMap.put("c", String.format("%s,%s,%s,%s,%s,%s,%s", new Object[] { "gif", "ltx", "la", "hv", "expd", "iad", "spi" }));
    localHashMap.put("pb[identifier]", n.a(this.e));
    localHashMap.put("pb[name]", n.d(this.e));
    localHashMap.put("pb[version]", n.c(this.e));
    localHashMap.put("apn", n.z(this.e));
    localHashMap.put("network", n.p(this.e));
    if (this.d.m() != null) {
      localHashMap.put("k", this.d.m());
    }
    String str = n.B(this.e);
    if (str != null)
    {
      localHashMap.put("d[coord_timestamp]", String.valueOf(n.e()));
      localHashMap.put("d[coord]", str);
      localHashMap.put("d[coord_acc]", String.valueOf(n.c()));
    }
    for (;;)
    {
      if (this.d.n() != null) {
        localHashMap.put("d[pc]", this.d.n());
      }
      if (this.d.p() != null) {
        localHashMap.put("d[dob]", this.d.p());
      }
      if (this.d.o() != null) {
        localHashMap.put("d[gender]", this.d.o());
      }
      if (this.d.q() != null) {
        localHashMap.put("spot", this.d.q());
      }
      if (g.a().d() != null)
      {
        localHashMap.put("lpkg", g.a().d());
        g.a().d(null);
      }
      return A.a(localHashMap);
      localHashMap.put("d[coord_status]", String.valueOf(n.d()));
    }
  }
  
  protected void a()
  {
    b.b("Start to request ad.");
    String str = b();
    b.a("Ad req string:" + str);
    this.c = new l(this.e, g.a().b(), "", null, "POST", str, 20000, this);
    this.c.b();
  }
  
  public void a(l paramL)
  {
    String str = paramL.e();
    i localI = null;
    if ((str != null) && (str.length() != 0))
    {
      b.a("Ad resp string:" + str);
      localI = i.a(str);
    }
    for (;;)
    {
      this.d.a(localI, paramL.f());
      return;
      b.e("Ad respStr is null.");
    }
  }
  
  static abstract interface a
  {
    public abstract void a(i paramI, int paramInt);
  }
}
