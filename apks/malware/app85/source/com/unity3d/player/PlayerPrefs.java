package com.unity3d.player;

import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import java.util.concurrent.atomic.AtomicBoolean;

class PlayerPrefs
{
  private SharedPreferences a;
  private SharedPreferences.Editor b;
  private AtomicBoolean c = new AtomicBoolean(false);
  
  PlayerPrefs(SharedPreferences paramSharedPreferences)
  {
    this.a = paramSharedPreferences;
    this.b = this.a.edit();
    InitPlayerPrefs();
  }
  
  private void DeleteAll()
  {
    this.b.clear();
    this.c.set(true);
  }
  
  private void DeleteKey(String paramString)
  {
    this.b.remove(paramString);
    this.c.set(true);
  }
  
  private float GetFloat(String paramString, float paramFloat)
  {
    Sync();
    return this.a.getFloat(paramString, paramFloat);
  }
  
  private int GetInt(String paramString, int paramInt)
  {
    Sync();
    return this.a.getInt(paramString, paramInt);
  }
  
  private String GetString(String paramString1, String paramString2)
  {
    Sync();
    return this.a.getString(paramString1, paramString2);
  }
  
  private boolean HasKey(String paramString)
  {
    Sync();
    return this.a.contains(paramString);
  }
  
  private final native void InitPlayerPrefs();
  
  private boolean SetFloat(String paramString, float paramFloat)
  {
    this.b.putFloat(paramString, paramFloat);
    this.c.set(true);
    return true;
  }
  
  private boolean SetInt(String paramString, int paramInt)
  {
    this.b.putInt(paramString, paramInt);
    this.c.set(true);
    return true;
  }
  
  private boolean SetString(String paramString1, String paramString2)
  {
    this.b.putString(paramString1, paramString2);
    this.c.set(true);
    return true;
  }
  
  private void Sync()
  {
    if (!this.c.getAndSet(false)) {
      return;
    }
    this.b.commit();
  }
}
