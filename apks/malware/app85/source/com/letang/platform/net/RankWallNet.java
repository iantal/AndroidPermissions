package com.letang.platform.net;

import android.content.Context;
import android.telephony.TelephonyManager;
import com.letang.platform.util.HttpClientUtil;
import java.util.ArrayList;
import java.util.List;
import java.util.Locale;
import org.apache.http.message.BasicNameValuePair;

public class RankWallNet
{
  private static String RANK_WALL_URL = "http://rank.mobappbox.com/rank/list?";
  private static String SUBMIT_SCORE_URL = "http://rank.mobappbox.com/submit/score";
  private Context mContext;
  
  public RankWallNet(Context paramContext)
  {
    this.mContext = paramContext;
  }
  
  public String getRankUrl(String paramString)
  {
    TelephonyManager localTelephonyManager = (TelephonyManager)this.mContext.getSystemService("phone");
    StringBuffer localStringBuffer = new StringBuffer(RANK_WALL_URL);
    localStringBuffer.append("country=" + Locale.getDefault().getCountry());
    localStringBuffer.append("&lang=" + Locale.getDefault().getLanguage());
    localStringBuffer.append("&IMEI=" + localTelephonyManager.getDeviceId());
    localStringBuffer.append("&appsign=" + paramString);
    return localStringBuffer.toString();
  }
  
  public void showRank() {}
  
  public void submitScore(String paramString1, String paramString2, long paramLong)
    throws Exception
  {
    TelephonyManager localTelephonyManager = (TelephonyManager)this.mContext.getSystemService("phone");
    ArrayList localArrayList = new ArrayList();
    localArrayList.add(new BasicNameValuePair("country", Locale.getDefault().getCountry()));
    localArrayList.add(new BasicNameValuePair("lang", Locale.getDefault().getLanguage()));
    localArrayList.add(new BasicNameValuePair("IMEI", localTelephonyManager.getDeviceId()));
    localArrayList.add(new BasicNameValuePair("nick", paramString2));
    localArrayList.add(new BasicNameValuePair("score", String.valueOf(paramLong)));
    localArrayList.add(new BasicNameValuePair("appsign", paramString1));
    HttpClientUtil.post(SUBMIT_SCORE_URL, localArrayList);
  }
}
