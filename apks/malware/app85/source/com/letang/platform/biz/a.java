package com.letang.platform.biz;

import android.content.Context;
import android.content.res.AssetManager;
import com.letang.platform.util.g;
import java.io.BufferedInputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.InputStream;

public final class a
{
  private Context a;
  
  public a(Context paramContext)
  {
    this.a = paramContext;
  }
  
  private void d()
  {
    try
    {
      InputStream localInputStream = this.a.getAssets().open("game_wall.zip");
      Object localObject = this.a;
      BufferedInputStream localBufferedInputStream = new BufferedInputStream(localInputStream);
      localObject = ((Context)localObject).openFileOutput("game_wall.zip", 2);
      byte[] arrayOfByte = new byte['Ð€'];
      for (;;)
      {
        int i = localBufferedInputStream.read(arrayOfByte);
        if (i == -1)
        {
          ((FileOutputStream)localObject).flush();
          localBufferedInputStream.close();
          localInputStream.close();
          ((FileOutputStream)localObject).close();
          return;
        }
        ((FileOutputStream)localObject).write(arrayOfByte, 0, i);
      }
      return;
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
    }
  }
  
  /* Error */
  public final void a()
  {
    // Byte code:
    //   0: new 65	java/lang/StringBuilder
    //   3: dup
    //   4: getstatic 71	com/letang/platform/a/a:b	Ljava/lang/String;
    //   7: invokestatic 77	java/lang/String:valueOf	(Ljava/lang/Object;)Ljava/lang/String;
    //   10: invokespecial 80	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   13: aload_0
    //   14: getfield 13	com/letang/platform/biz/a:a	Landroid/content/Context;
    //   17: invokevirtual 84	android/content/Context:getPackageName	()Ljava/lang/String;
    //   20: invokevirtual 88	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   23: ldc 90
    //   25: invokevirtual 88	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   28: invokevirtual 93	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   31: astore_1
    //   32: new 95	java/io/FileInputStream
    //   35: dup
    //   36: new 97	java/io/File
    //   39: dup
    //   40: new 65	java/lang/StringBuilder
    //   43: dup
    //   44: getstatic 71	com/letang/platform/a/a:b	Ljava/lang/String;
    //   47: invokestatic 77	java/lang/String:valueOf	(Ljava/lang/Object;)Ljava/lang/String;
    //   50: invokespecial 80	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   53: aload_0
    //   54: getfield 13	com/letang/platform/biz/a:a	Landroid/content/Context;
    //   57: invokevirtual 84	android/content/Context:getPackageName	()Ljava/lang/String;
    //   60: invokevirtual 88	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   63: ldc 99
    //   65: invokevirtual 88	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   68: invokevirtual 93	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   71: invokespecial 100	java/io/File:<init>	(Ljava/lang/String;)V
    //   74: invokespecial 103	java/io/FileInputStream:<init>	(Ljava/io/File;)V
    //   77: astore_2
    //   78: new 105	java/util/Properties
    //   81: dup
    //   82: invokespecial 106	java/util/Properties:<init>	()V
    //   85: astore_3
    //   86: aload_3
    //   87: aload_2
    //   88: invokevirtual 109	java/util/Properties:load	(Ljava/io/InputStream;)V
    //   91: new 65	java/lang/StringBuilder
    //   94: dup
    //   95: ldc 111
    //   97: invokespecial 80	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   100: aload_3
    //   101: ldc 113
    //   103: invokevirtual 117	java/util/Properties:getProperty	(Ljava/lang/String;)Ljava/lang/String;
    //   106: invokevirtual 88	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   109: ldc 119
    //   111: invokevirtual 88	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   114: invokestatic 125	java/util/Locale:getDefault	()Ljava/util/Locale;
    //   117: invokevirtual 128	java/util/Locale:getLanguage	()Ljava/lang/String;
    //   120: invokevirtual 88	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   123: invokevirtual 93	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   126: astore_3
    //   127: new 97	java/io/File
    //   130: dup
    //   131: aload_1
    //   132: invokespecial 100	java/io/File:<init>	(Ljava/lang/String;)V
    //   135: astore_2
    //   136: aload_3
    //   137: aload_1
    //   138: invokestatic 133	com/letang/platform/util/a:a	(Ljava/lang/String;Ljava/lang/String;)V
    //   141: return
    //   142: astore_1
    //   143: aconst_null
    //   144: astore_2
    //   145: aload_1
    //   146: invokevirtual 63	java/lang/Exception:printStackTrace	()V
    //   149: aload_2
    //   150: ifnull -9 -> 141
    //   153: aload_2
    //   154: invokevirtual 137	java/io/File:exists	()Z
    //   157: ifeq -16 -> 141
    //   160: aload_2
    //   161: invokevirtual 140	java/io/File:delete	()Z
    //   164: pop
    //   165: return
    //   166: astore_1
    //   167: goto -22 -> 145
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	170	0	this	a
    //   31	107	1	str	String
    //   142	4	1	localException1	Exception
    //   166	1	1	localException2	Exception
    //   77	84	2	localObject1	Object
    //   85	52	3	localObject2	Object
    // Exception table:
    //   from	to	target	type
    //   0	136	142	java/lang/Exception
    //   136	141	166	java/lang/Exception
  }
  
  public final void b()
  {
    try
    {
      String str = com.letang.platform.a.a.b + this.a.getPackageName() + "/files/game_wall/";
      this.a.getPackageName();
      File localFile1 = new File(str);
      File localFile2 = new File(str + "index.html");
      if ((!localFile1.exists()) || (!localFile2.exists())) {
        d();
      }
      localFile1 = new File(com.letang.platform.a.a.b + this.a.getPackageName() + "/files/game_wall.zip");
      if (localFile1.exists())
      {
        g.a(localFile1, str);
        localFile1.delete();
      }
      return;
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
    }
  }
  
  public final String c()
  {
    return "file://" + com.letang.platform.a.a.b + this.a.getPackageName() + "/files/game_wall/index.html";
  }
}
