package com.letang.platform.util;

import android.content.res.AssetManager;
import android.content.res.Resources;
import java.io.InputStream;
import java.util.Locale;
import java.util.Properties;

public class LocalUtil
{
  public static final String COUNTRY = Locale.getDefault().getCountry();
  public static final String LANGUAGE = Locale.getDefault().getLanguage();
  public static final String STRINGS = "strings";
  public static final String STRINGS_DEFAULT_FILE_NAME = "strings.language";
  public static final String STRINGS_FILE_NAME = "strings." + LANGUAGE + "-" + COUNTRY + ".language";
  private static Resources mResource = null;
  
  public LocalUtil() {}
  
  public static String getLocalString(Resources paramResources, String paramString)
  {
    try
    {
      if (mResource == null) {
        mResource = paramResources;
      }
      paramResources = getProperties(mResource);
      if (paramResources != null)
      {
        paramResources = paramResources.getProperty(paramString);
        return paramResources;
      }
    }
    catch (Exception paramResources)
    {
      paramResources.printStackTrace();
    }
    return null;
  }
  
  private static Properties getProperties(Resources paramResources)
  {
    try
    {
      localObject = paramResources.getAssets().open(STRINGS_FILE_NAME);
      paramResources = (Resources)localObject;
    }
    catch (Exception localException)
    {
      for (;;)
      {
        try
        {
          Object localObject = new Properties();
          ((Properties)localObject).load(paramResources);
          paramResources.close();
          return localObject;
        }
        catch (Exception paramResources)
        {
          paramResources.printStackTrace();
        }
        localException = localException;
        localException.printStackTrace();
        paramResources = paramResources.getAssets().open("strings.language");
      }
    }
    if (paramResources != null) {}
    return null;
  }
}
