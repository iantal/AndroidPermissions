package org.cocos2dx.chameleon;

import android.app.Activity;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import android.util.Log;
import java.io.File;
import java.lang.reflect.Method;

final class d
  implements Runnable
{
  d(c paramC, File paramFile) {}
  
  public final void run()
  {
    Object localObject = e.a(this.a.c.b, this.b);
    Thread.currentThread().setContextClassLoader((ClassLoader)localObject);
    try
    {
      localObject = ((ClassLoader)localObject).loadClass(GameProxy.d());
      GameProxy.a = (Class)localObject;
      ((Class)localObject).getMethod("init", new Class[] { Activity.class, String.class, String.class, Boolean.TYPE, IInitCallBack.class }).invoke(GameProxy.a, new Object[] { this.a.c.b, this.a.c.a, this.a.b, Boolean.valueOf(this.a.c.c), new d.1(this) });
      return;
    }
    catch (Exception localException)
    {
      if (GameProxy.DEBUG) {
        Log.e("GameProxy", "[initInstance] exception:", localException);
      }
      Bundle localBundle = new Bundle();
      Message localMessage = new Message();
      localBundle.putString("ret", "0");
      localMessage.setData(localBundle);
      this.a.c.d.sendMessage(localMessage);
      b.a(this.a.c.b, "LoadDex", "LoadDex fail");
      b.a(this.a.c.b, localException.getMessage());
    }
  }
}
