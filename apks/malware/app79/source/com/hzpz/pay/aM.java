package com.hzpz.pay;

import android.content.Context;
import com.ffcs.crypt.CryptSign;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;
import org.json.JSONObject;

public final class aM
{
  private static CryptSign a = new CryptSign();
  
  public static int a(Context paramContext, String paramString1, String paramString2, String paramString3)
  {
    int i = 1;
    paramString3 = "trade_id=" + paramString2 + "&verifyCode=" + paramString3 + "&timestamp=" + a();
    paramContext = a.signAuth(paramContext, paramString3, paramString1);
    paramString1 = new HashMap();
    paramString1.put("trade_id", paramString2);
    paramString1.put("sign", paramContext);
    paramString1.put("auth", "0");
    paramContext = a("http://118.85.194.4:8083/iapSms/ws/v3.0.1/sp/billing", paramString1);
    if (paramContext != null) {
      i = paramContext.optInt("res_code", 1);
    }
    return i;
  }
  
  private static String a()
  {
    return new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").format(new Date(System.currentTimeMillis()));
  }
  
  public static String a(Context paramContext, String paramString1, String paramString2, String paramString3, String paramString4)
  {
    paramString3 = "app_id=" + paramString1 + "&pay_code=" + paramString3 + "&timestamp=" + a() + "&state=hkajsd" + "&phone=" + paramString4;
    paramContext = a.authSign(paramContext, paramString3, paramString2);
    paramString2 = new HashMap();
    paramString2.put("state", "hkajsd");
    paramString2.put("sign", paramContext);
    paramString2.put("app_id", paramString1);
    paramString2 = a("http://118.85.194.4:8083/iapSms/ws/v3.0.1/sp/validate", paramString2);
    paramString1 = "";
    paramContext = paramString1;
    if (paramString2 != null)
    {
      aP.b("TAG", "EMP-codeJson" + paramString2.toString());
      paramContext = paramString1;
      if (paramString2.optInt("res_code", 1) == 0) {
        paramContext = paramString2.optString("trade_id");
      }
    }
    return paramContext;
  }
  
  /* Error */
  private static String a(java.io.InputStream paramInputStream)
  {
    // Byte code:
    //   0: new 19	java/lang/StringBuilder
    //   3: dup
    //   4: invokespecial 133	java/lang/StringBuilder:<init>	()V
    //   7: astore_1
    //   8: new 135	java/io/BufferedReader
    //   11: dup
    //   12: new 137	java/io/InputStreamReader
    //   15: dup
    //   16: aload_0
    //   17: ldc -117
    //   19: invokespecial 142	java/io/InputStreamReader:<init>	(Ljava/io/InputStream;Ljava/lang/String;)V
    //   22: sipush 8192
    //   25: invokespecial 145	java/io/BufferedReader:<init>	(Ljava/io/Reader;I)V
    //   28: astore_2
    //   29: aload_2
    //   30: invokevirtual 148	java/io/BufferedReader:readLine	()Ljava/lang/String;
    //   33: astore_3
    //   34: aload_3
    //   35: ifnonnull +12 -> 47
    //   38: aload_0
    //   39: invokevirtual 153	java/io/InputStream:close	()V
    //   42: aload_1
    //   43: invokevirtual 38	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   46: areturn
    //   47: aload_1
    //   48: new 19	java/lang/StringBuilder
    //   51: dup
    //   52: aload_3
    //   53: invokestatic 159	java/lang/String:valueOf	(Ljava/lang/Object;)Ljava/lang/String;
    //   56: invokespecial 24	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   59: ldc -95
    //   61: invokevirtual 28	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   64: invokevirtual 38	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   67: invokevirtual 28	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   70: pop
    //   71: goto -42 -> 29
    //   74: astore_2
    //   75: aload_1
    //   76: iconst_0
    //   77: aload_1
    //   78: invokevirtual 165	java/lang/StringBuilder:length	()I
    //   81: invokevirtual 169	java/lang/StringBuilder:delete	(II)Ljava/lang/StringBuilder;
    //   84: pop
    //   85: aload_0
    //   86: invokevirtual 153	java/io/InputStream:close	()V
    //   89: goto -47 -> 42
    //   92: astore_0
    //   93: goto -51 -> 42
    //   96: astore_1
    //   97: aload_0
    //   98: invokevirtual 153	java/io/InputStream:close	()V
    //   101: aload_1
    //   102: athrow
    //   103: astore_0
    //   104: goto -3 -> 101
    //   107: astore_0
    //   108: goto -66 -> 42
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	111	0	paramInputStream	java.io.InputStream
    //   7	71	1	localStringBuilder	StringBuilder
    //   96	6	1	localObject	Object
    //   28	2	2	localBufferedReader	java.io.BufferedReader
    //   74	1	2	localIOException	java.io.IOException
    //   33	20	3	str	String
    // Exception table:
    //   from	to	target	type
    //   8	29	74	java/io/IOException
    //   29	34	74	java/io/IOException
    //   47	71	74	java/io/IOException
    //   85	89	92	java/io/IOException
    //   8	29	96	finally
    //   29	34	96	finally
    //   47	71	96	finally
    //   75	85	96	finally
    //   97	101	103	java/io/IOException
    //   38	42	107	java/io/IOException
  }
  
  /* Error */
  private static JSONObject a(String paramString, Map paramMap)
  {
    // Byte code:
    //   0: new 173	org/apache/http/impl/client/DefaultHttpClient
    //   3: dup
    //   4: invokespecial 174	org/apache/http/impl/client/DefaultHttpClient:<init>	()V
    //   7: astore_2
    //   8: new 176	org/apache/http/client/methods/HttpPost
    //   11: dup
    //   12: aload_0
    //   13: invokespecial 177	org/apache/http/client/methods/HttpPost:<init>	(Ljava/lang/String;)V
    //   16: astore_3
    //   17: aload_3
    //   18: ldc -77
    //   20: ldc -75
    //   22: invokevirtual 184	org/apache/http/client/methods/HttpPost:setHeader	(Ljava/lang/String;Ljava/lang/String;)V
    //   25: aload_3
    //   26: ldc -70
    //   28: ldc -68
    //   30: invokevirtual 184	org/apache/http/client/methods/HttpPost:setHeader	(Ljava/lang/String;Ljava/lang/String;)V
    //   33: new 190	java/util/ArrayList
    //   36: dup
    //   37: invokespecial 191	java/util/ArrayList:<init>	()V
    //   40: astore_0
    //   41: aload_1
    //   42: invokeinterface 195 1 0
    //   47: invokeinterface 201 1 0
    //   52: astore_1
    //   53: aload_1
    //   54: invokeinterface 207 1 0
    //   59: ifne +94 -> 153
    //   62: aload_3
    //   63: new 209	org/apache/http/entity/StringEntity
    //   66: dup
    //   67: ldc -45
    //   69: ldc -117
    //   71: invokespecial 213	org/apache/http/entity/StringEntity:<init>	(Ljava/lang/String;Ljava/lang/String;)V
    //   74: invokevirtual 217	org/apache/http/client/methods/HttpPost:setEntity	(Lorg/apache/http/HttpEntity;)V
    //   77: aload_3
    //   78: new 219	org/apache/http/client/entity/UrlEncodedFormEntity
    //   81: dup
    //   82: aload_0
    //   83: ldc -117
    //   85: invokespecial 222	org/apache/http/client/entity/UrlEncodedFormEntity:<init>	(Ljava/util/List;Ljava/lang/String;)V
    //   88: invokevirtual 217	org/apache/http/client/methods/HttpPost:setEntity	(Lorg/apache/http/HttpEntity;)V
    //   91: aload_2
    //   92: aload_3
    //   93: invokeinterface 228 2 0
    //   98: astore_0
    //   99: aload_0
    //   100: invokeinterface 234 1 0
    //   105: invokeinterface 239 1 0
    //   110: sipush 200
    //   113: if_icmpne +130 -> 243
    //   116: aload_0
    //   117: invokeinterface 243 1 0
    //   122: invokeinterface 249 1 0
    //   127: invokestatic 251	com/hzpz/pay/aM:a	(Ljava/io/InputStream;)Ljava/lang/String;
    //   130: astore_0
    //   131: aload_2
    //   132: invokeinterface 255 1 0
    //   137: invokeinterface 260 1 0
    //   142: new 68	org/json/JSONObject
    //   145: dup
    //   146: aload_0
    //   147: invokespecial 261	org/json/JSONObject:<init>	(Ljava/lang/String;)V
    //   150: astore_0
    //   151: aload_0
    //   152: areturn
    //   153: aload_1
    //   154: invokeinterface 265 1 0
    //   159: checkcast 267	java/util/Map$Entry
    //   162: astore 4
    //   164: aload_0
    //   165: new 269	org/apache/http/message/BasicNameValuePair
    //   168: dup
    //   169: aload 4
    //   171: invokeinterface 272 1 0
    //   176: checkcast 155	java/lang/String
    //   179: aload 4
    //   181: invokeinterface 275 1 0
    //   186: checkcast 155	java/lang/String
    //   189: invokespecial 276	org/apache/http/message/BasicNameValuePair:<init>	(Ljava/lang/String;Ljava/lang/String;)V
    //   192: invokeinterface 282 2 0
    //   197: pop
    //   198: goto -145 -> 53
    //   201: astore_0
    //   202: aload_3
    //   203: invokevirtual 285	org/apache/http/client/methods/HttpPost:abort	()V
    //   206: aload_2
    //   207: invokeinterface 255 1 0
    //   212: invokeinterface 260 1 0
    //   217: aconst_null
    //   218: areturn
    //   219: astore_0
    //   220: aload_2
    //   221: astore_0
    //   222: aload_0
    //   223: ifnull +14 -> 237
    //   226: aload_0
    //   227: invokeinterface 255 1 0
    //   232: invokeinterface 260 1 0
    //   237: aload_3
    //   238: invokevirtual 285	org/apache/http/client/methods/HttpPost:abort	()V
    //   241: aconst_null
    //   242: areturn
    //   243: aload_2
    //   244: invokeinterface 255 1 0
    //   249: invokeinterface 260 1 0
    //   254: aconst_null
    //   255: areturn
    //   256: astore_0
    //   257: aconst_null
    //   258: astore_0
    //   259: goto -37 -> 222
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	262	0	paramString	String
    //   0	262	1	paramMap	Map
    //   7	237	2	localDefaultHttpClient	org.apache.http.impl.client.DefaultHttpClient
    //   16	222	3	localHttpPost	org.apache.http.client.methods.HttpPost
    //   162	18	4	localEntry	java.util.Map.Entry
    // Exception table:
    //   from	to	target	type
    //   33	53	201	java/lang/Exception
    //   53	99	201	java/lang/Exception
    //   153	198	201	java/lang/Exception
    //   116	142	219	java/lang/Exception
    //   142	151	256	java/lang/Exception
  }
}
