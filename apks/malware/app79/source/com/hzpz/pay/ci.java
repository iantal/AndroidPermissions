package com.hzpz.pay;

import android.os.Bundle;
import com.unicom.wounipaysms.delegate.RequestDelegate;
import com.unicom.wounipaysms.duandai.SendSMS;
import com.unicom.wounipaysms.tools.DateUtil;
import java.util.Date;

final class ci
  implements ak.a
{
  ci(PzPay paramPzPay, String[] paramArrayOfString, U paramU, boolean paramBoolean) {}
  
  public final void a(String paramString, boolean paramBoolean)
  {
    aP.a("TAG", "orderid:" + paramString);
    if ((!PzPay.1.1.d(paramString)) && (!paramBoolean))
    {
      localBundle = new Bundle();
      if (this.b.length >= 7)
      {
        localBundle.putString("itfType", "1");
        localBundle.putString("command", "2");
        localBundle.putString("feetype", "1");
        localBundle.putString("cpId", this.b[0]);
        localBundle.putString("serviceId", this.c.d);
        localBundle.putString("channelId", this.b[1]);
        localBundle.putString("appId", this.b[2]);
        localBundle.putString("myId", this.b[3]);
        localBundle.putString("time", DateUtil.Date2StringHHmmss(new Date()));
        localBundle.putString("cpcustom", "321");
        localBundle.putString("cporderId", paramString);
        localBundle.putString("tradeName", this.b[4]);
        localBundle.putString("price", this.c.e + "元");
        localBundle.putString("servicePhone", this.b[5]);
        localBundle.putString("key", this.b[6]);
        localBundle.putBoolean("showDialog", false);
        localBa = ba.a(this.a.l);
        paramString = new cj(this, paramString, this.d);
        localBa.b = localBundle;
        localBa.a = paramString;
        localBa.e = new aY(localBa.b, paramString, ba.c);
        localBa.d = true;
        paramString = ba.a(this.a.l);
        if ((paramString.d) && (paramString.e != null))
        {
          paramString.d = false;
          paramString = paramString.e;
          if (paramString.c != null) {
            paramString.c.sendVerifySMSToServer();
          }
        }
      }
    }
    while (!this.d)
    {
      do
      {
        Bundle localBundle;
        ba localBa;
        do
        {
          return;
        } while (paramString.b == null);
        paramString.b.requestFailed(2238, "验证短信发送异常");
        return;
      } while (paramString.a == null);
      paramString.a.requestFailed(2236, "订购短信尚未发送，不能发送验证短信");
      return;
      if (this.d)
      {
        PzPay.a(this.a, 21);
        PzPay.a(this.a, PzPay.f(this.a), false, this.a.l, 21);
        return;
      }
    }
    PzPay.a(this.a, PzPay.f(this.a), false, this.a.l, 20);
    PzPay.a(this.a, 20);
  }
}
