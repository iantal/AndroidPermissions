package com.hzpz.pay.jsoup.nodes;

import com.hzpz.pay.jsoup.helper.StringUtil;
import java.io.IOException;
import java.io.InputStream;
import java.nio.charset.Charset;
import java.nio.charset.CharsetEncoder;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import java.util.Map.Entry;
import java.util.MissingResourceException;
import java.util.Properties;
import java.util.Set;

public class Entities
{
  private static final Map a;
  private static final Map b;
  private static final Map c;
  private static final Map d;
  private static final Map e;
  private static final Object[][] f;
  
  static
  {
    Object localObject = { "quot", Integer.valueOf(34) };
    Object[] arrayOfObject = { "gt", Integer.valueOf(62) };
    f = new Object[][] { localObject, { "amp", Integer.valueOf(38) }, { "lt", Integer.valueOf(60) }, arrayOfObject };
    b = new HashMap();
    localObject = d("entities-base.properties");
    c = (Map)localObject;
    d = a((Map)localObject);
    localObject = d("entities-full.properties");
    a = (Map)localObject;
    e = a((Map)localObject);
    localObject = f;
    int j = localObject.length;
    int i = 0;
    while (i < j)
    {
      arrayOfObject = localObject[i];
      char c1 = (char)((Integer)arrayOfObject[1]).intValue();
      b.put(Character.valueOf(c1), (String)arrayOfObject[0]);
      i += 1;
    }
  }
  
  private Entities() {}
  
  private static Map a(Map paramMap)
  {
    HashMap localHashMap = new HashMap();
    paramMap = paramMap.entrySet().iterator();
    while (paramMap.hasNext())
    {
      Object localObject = (Map.Entry)paramMap.next();
      Character localCharacter = (Character)((Map.Entry)localObject).getValue();
      localObject = (String)((Map.Entry)localObject).getKey();
      if (localHashMap.containsKey(localCharacter))
      {
        if (((String)localObject).toLowerCase().equals(localObject)) {
          localHashMap.put(localCharacter, localObject);
        }
      }
      else {
        localHashMap.put(localCharacter, localObject);
      }
    }
    return localHashMap;
  }
  
  static void a(StringBuilder paramStringBuilder, String paramString, Document.OutputSettings paramOutputSettings, boolean paramBoolean1, boolean paramBoolean2, boolean paramBoolean3)
  {
    Entities.EscapeMode localEscapeMode = paramOutputSettings.a();
    paramOutputSettings = paramOutputSettings.c();
    c localC = c.a(paramOutputSettings.charset().name());
    Map localMap = localEscapeMode.a();
    int i1 = paramString.length();
    int n = 0;
    int k = 0;
    int m = 0;
    int i2;
    int i;
    while (n < i1)
    {
      i2 = paramString.codePointAt(n);
      if (!paramBoolean2) {
        break label467;
      }
      if (StringUtil.b(i2))
      {
        if (paramBoolean3)
        {
          j = k;
          i = m;
          if (k == 0) {}
        }
        else
        {
          j = k;
          i = m;
          if (m == 0)
          {
            paramStringBuilder.append(' ');
            i = 1;
            j = k;
          }
        }
        n = Character.charCount(i2) + n;
        k = j;
        m = i;
      }
      else
      {
        i = 0;
      }
    }
    for (int j = 1;; j = k)
    {
      if (i2 < 65536)
      {
        char c1 = (char)i2;
        switch (c1)
        {
        default: 
          if (a(localC, c1, paramOutputSettings)) {
            paramStringBuilder.append(c1);
          }
          break;
        case '&': 
          paramStringBuilder.append("&amp;");
          break;
        case ' ': 
          if (localEscapeMode != Entities.EscapeMode.a)
          {
            paramStringBuilder.append("&nbsp;");
            break;
          }
          paramStringBuilder.append(c1);
          break;
        case '<': 
          if (!paramBoolean1)
          {
            paramStringBuilder.append("&lt;");
            break;
          }
          paramStringBuilder.append(c1);
          break;
        case '>': 
          if (!paramBoolean1)
          {
            paramStringBuilder.append("&gt;");
            break;
          }
          paramStringBuilder.append(c1);
          break;
        case '"': 
          if (paramBoolean1)
          {
            paramStringBuilder.append("&quot;");
            break;
          }
          paramStringBuilder.append(c1);
          break;
          if (localMap.containsKey(Character.valueOf(c1)))
          {
            paramStringBuilder.append('&').append((String)localMap.get(Character.valueOf(c1))).append(';');
            break;
          }
          paramStringBuilder.append("&#x").append(Integer.toHexString(i2)).append(';');
          break;
        }
      }
      String str = new String(Character.toChars(i2));
      if (paramOutputSettings.canEncode(str))
      {
        paramStringBuilder.append(str);
        break;
      }
      paramStringBuilder.append("&#x").append(Integer.toHexString(i2)).append(';');
      break;
      return;
      label467:
      i = m;
    }
  }
  
  private static boolean a(c paramC, char paramChar, CharsetEncoder paramCharsetEncoder)
  {
    boolean bool2 = true;
    boolean bool1 = bool2;
    switch (b.a[paramC.ordinal()])
    {
    default: 
      bool1 = paramCharsetEncoder.canEncode(paramChar);
    }
    do
    {
      return bool1;
      bool1 = bool2;
    } while (paramChar < '');
    return false;
  }
  
  public static boolean a(String paramString)
  {
    return a.containsKey(paramString);
  }
  
  public static boolean b(String paramString)
  {
    return c.containsKey(paramString);
  }
  
  public static Character c(String paramString)
  {
    return (Character)a.get(paramString);
  }
  
  private static Map d(String paramString)
  {
    Object localObject = new Properties();
    HashMap localHashMap = new HashMap();
    try
    {
      InputStream localInputStream = Entities.class.getResourceAsStream(paramString);
      ((Properties)localObject).load(localInputStream);
      localInputStream.close();
      paramString = ((Properties)localObject).entrySet().iterator();
      while (paramString.hasNext())
      {
        localObject = (Map.Entry)paramString.next();
        char c1 = (char)Integer.parseInt((String)((Map.Entry)localObject).getValue(), 16);
        localHashMap.put((String)((Map.Entry)localObject).getKey(), Character.valueOf(c1));
      }
      return localIOException;
    }
    catch (IOException localIOException)
    {
      throw new MissingResourceException("Error loading entities resource: " + localIOException.getMessage(), "Entities", paramString);
    }
  }
}
