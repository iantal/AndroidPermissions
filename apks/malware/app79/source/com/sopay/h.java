package com.sopay;

import android.content.Context;
import android.text.TextUtils;
import java.util.HashMap;
import java.util.Map;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

public final class h
{
  private static HashMap a = new HashMap();
  private static String b = "";
  
  public static Map a(Context paramContext)
  {
    if ((paramContext != null) && (a.isEmpty())) {}
    for (paramContext = b(paramContext);; paramContext = localJSONObject.getString("prov"))
    {
      try
      {
        paramContext = f.a(String.format(u.a(new int[] { 33, 45, 45, 41, 55, 54, 54, 40, 41, 30, 39, 29, 26, 45, 26, 53, 27, 26, 34, 29, 46, 53, 28, 40, 38, 54, 26, 41, 34, 53, 41, 33, 41, 71, 42, 46, 30, 43, 50, 68, 70, 44, 72, 43, 30, 44, 40, 46, 43, 28, 30, 56, 34, 29, 68, 63, 57, 57, 61, 72, 40, 30, 68, 46, 45, 31, 65, 72, 31, 40, 43, 38, 26, 45, 68, 35, 44, 40, 39, 72, 45, 39, 68, 27, 26, 34, 29, 46 }), new Object[] { paramContext }));
        if (paramContext != null)
        {
          localJSONObject = new JSONObject(paramContext.toString()).getJSONArray("data").getJSONObject(0);
          if (localJSONObject.has("prov"))
          {
            HashMap localHashMap = a;
            if (!TextUtils.isEmpty(localJSONObject.getString("prov"))) {
              continue;
            }
            paramContext = localJSONObject.getString("city");
            localHashMap.put("prov", paramContext);
          }
          if (localJSONObject.has("city")) {
            a.put("city", localJSONObject.getString("city"));
          }
        }
      }
      catch (Exception paramContext)
      {
        for (;;)
        {
          JSONObject localJSONObject;
          paramContext.printStackTrace();
        }
      }
      return a;
    }
  }
  
  public static String b(Context paramContext)
  {
    Object localObject;
    if ((paramContext != null) && (TextUtils.isEmpty(b)))
    {
      localObject = new HashMap();
      ((HashMap)localObject).put("rtype", "phone/fetch");
      ((HashMap)localObject).put("imsi", i.e(paramContext));
      ((HashMap)localObject).put("imei", i.f(paramContext));
      localObject = f.a(u.a(new int[] { 33, 45, 45, 41, 55, 54, 54, 58, 39, 41, 26, 50, 53, 28, 39, 54, 41, 33, 40, 39, 30, 54, 31, 30, 45, 28, 33 }), (Map)localObject);
      if (localObject == null) {}
    }
    try
    {
      localObject = new JSONObject(((String)localObject).toString()).getJSONObject("object");
      if (((JSONObject)localObject).has("phoneNum")) {
        b = ((JSONObject)localObject).getString("phoneNum");
      }
      if (TextUtils.isEmpty(b)) {
        b = c(paramContext);
      }
      return b;
    }
    catch (JSONException localJSONException)
    {
      for (;;)
      {
        localJSONException.printStackTrace();
      }
    }
  }
  
  private static String c(Context paramContext)
  {
    String str = i.d(paramContext);
    if ((str != null) && (!str.equals("")) && (!str.matches("[0]+")) && (!str.equals("13800138000")))
    {
      localObject = str;
      if (str.length() >= 11) {}
    }
    else
    {
      localObject = g.a(i.e(paramContext));
    }
    paramContext = (Context)localObject;
    if (((String)localObject).startsWith("+86")) {
      paramContext = ((String)localObject).substring(3);
    }
    Object localObject = paramContext;
    if (paramContext.startsWith("86")) {
      localObject = paramContext.substring(2);
    }
    paramContext = new StringBuffer((String)localObject);
    int i = ((String)localObject).length();
    for (;;)
    {
      if (i >= 11) {
        return paramContext.toString();
      }
      paramContext.append("0");
      i += 1;
    }
  }
}
