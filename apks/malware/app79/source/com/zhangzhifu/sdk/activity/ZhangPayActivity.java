package com.zhangzhifu.sdk.activity;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.os.Handler;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.FrameLayout;
import com.zhangzhifu.sdk.a.e;
import com.zhangzhifu.sdk.util.j;
import com.zhangzhifu.sdk.util.n;
import java.io.PrintStream;
import java.util.HashMap;

public class ZhangPayActivity
  extends Activity
  implements View.OnClickListener
{
  public Context a;
  private FrameLayout b;
  private com.zhangzhifu.sdk.e.a c;
  private boolean d = false;
  private Handler e = new a(this);
  private com.zhangzhifu.sdk.e.c f;
  private int g;
  
  public ZhangPayActivity() {}
  
  private void a()
  {
    this.b.removeAllViews();
    this.f = new com.zhangzhifu.sdk.e.c(this, null);
    this.f.setLoadingText("    正在进行数据处理，请您耐\n   心等候...");
    this.b.addView(this.f);
  }
  
  private void b()
  {
    this.b.invalidate();
    j.d(this);
    this.c.a();
    this.c.setVisibility(0);
    this.b.invalidate();
  }
  
  private void c()
  {
    this.b.removeAllViews();
    this.c = new com.zhangzhifu.sdk.e.a(this, null);
    this.c.setVisibility(8);
    this.c.setBtnClick(new c(this));
    this.b.addView(this.c);
  }
  
  private void d()
  {
    n.b("ZhangPayActivity", "关闭界面");
    if (!this.d)
    {
      n.b("ZhangPayActivity", "未计费，付费结果写入sharedPreferences中！");
      e.a().e(this, 1002);
    }
    finish();
  }
  
  public void onClick(View paramView) {}
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    requestWindowFeature(1);
    this.a = this;
    this.b = new FrameLayout(this);
    setContentView(this.b);
    this.g = getIntent().getIntExtra("enterType", 0);
    if (this.g == 1111)
    {
      c();
      b();
    }
    for (;;)
    {
      paramBundle = System.out;
      StringBuilder localStringBuilder = new StringBuilder("总共发了多少条短信");
      e.a();
      paramBundle.println(e.z(this));
      return;
      a();
      try
      {
        new Thread(new b(this, (HashMap)getIntent().getSerializableExtra("map"))).start();
      }
      catch (Exception paramBundle)
      {
        n.e("zhangPay_log", "map is null? or map is not HashMap?");
      }
    }
  }
  
  public boolean onKeyDown(int paramInt, KeyEvent paramKeyEvent)
  {
    if (paramInt == 4)
    {
      n.b("ZhangPayActivity", "是否正在计费中？" + this.d);
      if (!this.d) {
        com.zhangzhifu.sdk.b.a().a(this);
      }
      return false;
    }
    return super.onKeyDown(paramInt, paramKeyEvent);
  }
  
  public boolean onKeyUp(int paramInt, KeyEvent paramKeyEvent)
  {
    return super.onKeyUp(paramInt, paramKeyEvent);
  }
}
