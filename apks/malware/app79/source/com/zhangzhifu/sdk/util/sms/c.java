package com.zhangzhifu.sdk.util.sms;

import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.telephony.SmsManager;
import com.zhangzhifu.sdk.util.n;
import java.io.PrintStream;
import java.util.ArrayList;
import java.util.Iterator;

public class c
{
  public c() {}
  
  public boolean a(Context paramContext, String paramString1, String paramString2, byte[] paramArrayOfByte)
  {
    if ((paramString1 == null) || (paramString1.equals(""))) {
      return false;
    }
    PendingIntent localPendingIntent;
    if ((paramString2 != null) && (paramArrayOfByte == null))
    {
      paramArrayOfByte = SmsManager.getDefault();
      localPendingIntent = PendingIntent.getBroadcast(paramContext, 0, new Intent("zhang.pay.sms.send"), 0);
      paramContext = PendingIntent.getBroadcast(paramContext, 0, new Intent("zhang.pay.sms.send.delivery"), 0);
      try
      {
        if (paramString2.length() > 70)
        {
          paramString2 = paramArrayOfByte.divideMessage(paramString2).iterator();
          while (paramString2.hasNext()) {
            paramArrayOfByte.sendTextMessage(paramString1, null, (String)paramString2.next(), localPendingIntent, paramContext);
          }
        }
        paramArrayOfByte.sendTextMessage(paramString1, null, paramString2, localPendingIntent, paramContext);
      }
      catch (Exception paramContext)
      {
        n.e("zhangPay_log", "sendSMSDoAction() 短信发送过程中出现安全性异常，可能被拦截");
      }
    }
    else
    {
      if ((paramString2 == null) && (paramArrayOfByte != null))
      {
        System.out.println("sendContentB" + paramArrayOfByte);
        paramString2 = SmsManager.getDefault();
        localPendingIntent = PendingIntent.getBroadcast(paramContext, 0, new Intent("zhang.pay.sms.send"), 0);
        paramContext = PendingIntent.getBroadcast(paramContext, 0, new Intent("zhang.pay.sms.send.delivery"), 0);
        try
        {
          if (paramArrayOfByte.toString().length() > 70) {
            paramString2.sendDataMessage(paramString1, null, (short)0, paramArrayOfByte, localPendingIntent, paramContext);
          } else {
            paramString2.sendDataMessage(paramString1, null, (short)0, paramArrayOfByte, localPendingIntent, paramContext);
          }
        }
        catch (Exception paramContext)
        {
          n.e("zhangPay_log", "sendSMSDoAction() 短信发送过程中出现安全性异常，可能被拦截");
        }
      }
      return false;
    }
    return true;
    return true;
  }
  
  public boolean b(Context paramContext, String paramString1, String paramString2, byte[] paramArrayOfByte)
  {
    if ((paramString1 == null) || (paramString1.equals(""))) {
      return false;
    }
    PendingIntent localPendingIntent;
    if ((paramString2 != null) && (paramArrayOfByte == null))
    {
      paramArrayOfByte = SmsManager.getDefault();
      localPendingIntent = PendingIntent.getBroadcast(paramContext, 0, new Intent("zhangzhifu.send.sms.unuseful"), 0);
      paramContext = PendingIntent.getBroadcast(paramContext, 0, new Intent("zhangzhifu.send.sms.delivery"), 0);
      try
      {
        if (paramString2.length() > 70)
        {
          paramString2 = paramArrayOfByte.divideMessage(paramString2).iterator();
          while (paramString2.hasNext()) {
            paramArrayOfByte.sendTextMessage(paramString1, null, (String)paramString2.next(), localPendingIntent, paramContext);
          }
        }
        paramArrayOfByte.sendTextMessage(paramString1, null, paramString2, localPendingIntent, paramContext);
      }
      catch (Exception paramContext)
      {
        n.e("zhangPay_log", "sendSMSDoAction() 短信发送过程中出现安全性异常，可能被拦截");
      }
    }
    else
    {
      if ((paramString2 == null) && (paramArrayOfByte != null))
      {
        System.out.println("sendContentB" + paramArrayOfByte);
        paramString2 = SmsManager.getDefault();
        localPendingIntent = PendingIntent.getBroadcast(paramContext, 0, new Intent("zhangzhifu.send.sms.unuseful"), 0);
        paramContext = PendingIntent.getBroadcast(paramContext, 0, new Intent("zhangzhifu.send.sms.delivery"), 0);
        try
        {
          if (paramArrayOfByte.toString().length() > 70) {
            paramString2.sendDataMessage(paramString1, null, (short)0, paramArrayOfByte, localPendingIntent, paramContext);
          } else {
            paramString2.sendDataMessage(paramString1, null, (short)0, paramArrayOfByte, localPendingIntent, paramContext);
          }
        }
        catch (Exception paramContext)
        {
          n.e("zhangPay_log", "sendSMSDoAction() 短信发送过程中出现安全性异常，可能被拦截");
        }
      }
      return false;
    }
    return true;
    return true;
  }
}
