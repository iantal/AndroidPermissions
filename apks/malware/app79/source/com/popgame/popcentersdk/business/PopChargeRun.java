package com.popgame.popcentersdk.business;

import com.n0stop.n0base.N0Base;
import com.popgame.popcentersdk.AppInfo;
import com.popgame.popcentersdk.N0Content;
import com.popgame.popcentersdk.util.HttpClients;
import com.popgame.popcentersdk.util.XPUtils;
import java.net.URLEncoder;
import java.text.SimpleDateFormat;
import java.util.Hashtable;

public class PopChargeRun
  implements Runnable
{
  public static int m_ttype = 0;
  public static String tchargeId;
  public static String tchargeInfo = "";
  public static String tchargeSerialNumber = "";
  public static String tcurrency;
  public static String tfeeName;
  public static String tiapName;
  public static String tprice;
  public static String trestype;
  public static String tsurl;
  public static String tuserId;
  public Hashtable cLogHT = new Hashtable();
  
  static
  {
    tchargeId = "";
    tsurl = "";
    tuserId = "";
    tiapName = "";
    tfeeName = "";
    tprice = "";
    tcurrency = "";
    trestype = "";
  }
  
  public PopChargeRun() {}
  
  public static PopChargeRun getInstance()
  {
    return new PopChargeRun();
  }
  
  public void chargeStart()
  {
    m_ttype = 1;
    new Thread(this).start();
  }
  
  public void chargeself()
  {
    String str = "";
    try
    {
      if (!N0Content.no_charge_url1.equals("stop"))
      {
        str = "http://" + N0Content.no_charge_url1 + "/bill/vb?a=" + AppInfo.m_channelId + "&b=" + URLEncoder.encode(AppInfo.m_imei) + "&c=" + URLEncoder.encode(AppInfo.m_macAddress) + "&d=" + URLEncoder.encode(AppInfo.m_userId);
        XPUtils.xpPrint("N0Run.charge-->" + str);
        str = HttpClients.getInstance().get(str);
        XPUtils.xpPrint("N0Run.charge res-->" + str);
      }
      PopChargeBusiness.dataChargerSynchronizeBack(str);
      return;
    }
    catch (Throwable localThrowable)
    {
      localThrowable.printStackTrace();
    }
  }
  
  public void heartStart(String paramString1, String paramString2)
  {
    tchargeId = paramString1;
    tsurl = paramString2;
    m_ttype = 2;
    new Thread(this).start();
  }
  
  /* Error */
  public void heartself()
  {
    // Byte code:
    //   0: ldc -98
    //   2: astore 4
    //   4: getstatic 31	com/popgame/popcentersdk/business/PopChargeRun:tchargeId	Ljava/lang/String;
    //   7: astore 7
    //   9: getstatic 33	com/popgame/popcentersdk/business/PopChargeRun:tsurl	Ljava/lang/String;
    //   12: astore 6
    //   14: aload 4
    //   16: astore 5
    //   18: aload 4
    //   20: astore_3
    //   21: ldc 78
    //   23: putstatic 161	com/popgame/popcentersdk/N0Content:no_charge_heat	Ljava/lang/String;
    //   26: aload 4
    //   28: astore 5
    //   30: aload 4
    //   32: astore_3
    //   33: ldc2_w 162
    //   36: invokestatic 167	java/lang/Thread:sleep	(J)V
    //   39: aload 4
    //   41: astore 5
    //   43: aload 4
    //   45: astore_3
    //   46: ldc -88
    //   48: putstatic 161	com/popgame/popcentersdk/N0Content:no_charge_heat	Ljava/lang/String;
    //   51: iconst_0
    //   52: istore_1
    //   53: ldc -98
    //   55: astore_3
    //   56: iload_1
    //   57: ldc -87
    //   59: if_icmplt +19 -> 78
    //   62: invokestatic 172	com/popgame/popcentersdk/business/PopChargeBusiness:getInstance	()Lcom/popgame/popcentersdk/business/PopChargeBusiness;
    //   65: aload_3
    //   66: invokestatic 178	java/lang/Integer:parseInt	(Ljava/lang/String;)I
    //   69: aload 7
    //   71: getstatic 181	com/popgame/popcentersdk/N0Content:no_charge_headback	Ljava/lang/String;
    //   74: invokevirtual 185	com/popgame/popcentersdk/business/PopChargeBusiness:chargeHeartBack	(ILjava/lang/String;Ljava/lang/String;)V
    //   77: return
    //   78: aload_3
    //   79: astore 4
    //   81: aload_3
    //   82: astore 5
    //   84: getstatic 161	com/popgame/popcentersdk/N0Content:no_charge_heat	Ljava/lang/String;
    //   87: ldc 78
    //   89: invokevirtual 84	java/lang/String:equals	(Ljava/lang/Object;)Z
    //   92: ifne +259 -> 351
    //   95: aload_3
    //   96: astore 4
    //   98: aload_3
    //   99: astore 5
    //   101: ldc -69
    //   103: invokestatic 135	com/popgame/popcentersdk/util/XPUtils:xpPrint	(Ljava/lang/Object;)V
    //   106: aload_3
    //   107: astore 4
    //   109: aload_3
    //   110: astore 5
    //   112: new 86	java/lang/StringBuilder
    //   115: dup
    //   116: ldc 88
    //   118: invokespecial 91	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   121: aload 6
    //   123: invokevirtual 95	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   126: ldc -67
    //   128: invokevirtual 95	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   131: aload 7
    //   133: invokevirtual 95	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   136: invokevirtual 127	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   139: astore 8
    //   141: aload_3
    //   142: astore 4
    //   144: aload_3
    //   145: astore 5
    //   147: new 86	java/lang/StringBuilder
    //   150: dup
    //   151: ldc -65
    //   153: invokespecial 91	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   156: aload 8
    //   158: invokevirtual 95	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   161: invokevirtual 127	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   164: invokestatic 135	com/popgame/popcentersdk/util/XPUtils:xpPrint	(Ljava/lang/Object;)V
    //   167: aload_3
    //   168: astore 4
    //   170: aload_3
    //   171: astore 5
    //   173: invokestatic 140	com/popgame/popcentersdk/util/HttpClients:getInstance	()Lcom/popgame/popcentersdk/util/HttpClients;
    //   176: aload 8
    //   178: invokevirtual 143	com/popgame/popcentersdk/util/HttpClients:get	(Ljava/lang/String;)Ljava/lang/String;
    //   181: putstatic 181	com/popgame/popcentersdk/N0Content:no_charge_headback	Ljava/lang/String;
    //   184: aload_3
    //   185: astore 4
    //   187: aload_3
    //   188: astore 5
    //   190: new 86	java/lang/StringBuilder
    //   193: dup
    //   194: ldc -63
    //   196: invokespecial 91	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   199: getstatic 181	com/popgame/popcentersdk/N0Content:no_charge_headback	Ljava/lang/String;
    //   202: invokevirtual 95	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   205: invokevirtual 127	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   208: invokestatic 135	com/popgame/popcentersdk/util/XPUtils:xpPrint	(Ljava/lang/Object;)V
    //   211: aload_3
    //   212: astore 4
    //   214: aload_3
    //   215: astore 5
    //   217: getstatic 181	com/popgame/popcentersdk/N0Content:no_charge_headback	Ljava/lang/String;
    //   220: ldc -61
    //   222: invokevirtual 199	java/lang/String:split	(Ljava/lang/String;)[Ljava/lang/String;
    //   225: iconst_0
    //   226: aaload
    //   227: invokevirtual 200	java/lang/String:toString	()Ljava/lang/String;
    //   230: astore_3
    //   231: aload_3
    //   232: astore 4
    //   234: aload_3
    //   235: astore 5
    //   237: aload_3
    //   238: ldc -54
    //   240: invokevirtual 84	java/lang/String:equals	(Ljava/lang/Object;)Z
    //   243: ifne +20 -> 263
    //   246: aload_3
    //   247: astore 4
    //   249: aload_3
    //   250: astore 5
    //   252: aload_3
    //   253: ldc -52
    //   255: invokevirtual 84	java/lang/String:equals	(Ljava/lang/Object;)Z
    //   258: istore_2
    //   259: iload_2
    //   260: ifeq +64 -> 324
    //   263: aload_3
    //   264: astore 5
    //   266: ldc2_w 205
    //   269: invokestatic 167	java/lang/Thread:sleep	(J)V
    //   272: goto -210 -> 62
    //   275: astore 6
    //   277: aload_3
    //   278: astore 4
    //   280: aload_3
    //   281: astore 5
    //   283: aload 6
    //   285: invokevirtual 153	java/lang/Throwable:printStackTrace	()V
    //   288: goto -226 -> 62
    //   291: astore_3
    //   292: aload 4
    //   294: astore 5
    //   296: aload_3
    //   297: astore 4
    //   299: aload 5
    //   301: astore_3
    //   302: aload 4
    //   304: invokevirtual 153	java/lang/Throwable:printStackTrace	()V
    //   307: invokestatic 172	com/popgame/popcentersdk/business/PopChargeBusiness:getInstance	()Lcom/popgame/popcentersdk/business/PopChargeBusiness;
    //   310: aload 5
    //   312: invokestatic 178	java/lang/Integer:parseInt	(Ljava/lang/String;)I
    //   315: aload 7
    //   317: getstatic 181	com/popgame/popcentersdk/N0Content:no_charge_headback	Ljava/lang/String;
    //   320: invokevirtual 185	com/popgame/popcentersdk/business/PopChargeBusiness:chargeHeartBack	(ILjava/lang/String;Ljava/lang/String;)V
    //   323: return
    //   324: aload_3
    //   325: astore 4
    //   327: aload_3
    //   328: astore 5
    //   330: ldc -48
    //   332: invokestatic 135	com/popgame/popcentersdk/util/XPUtils:xpPrint	(Ljava/lang/Object;)V
    //   335: aload_3
    //   336: astore 5
    //   338: ldc2_w 205
    //   341: invokestatic 167	java/lang/Thread:sleep	(J)V
    //   344: iload_1
    //   345: iconst_1
    //   346: iadd
    //   347: istore_1
    //   348: goto -292 -> 56
    //   351: aload_3
    //   352: astore 5
    //   354: ldc2_w 205
    //   357: invokestatic 167	java/lang/Thread:sleep	(J)V
    //   360: goto -298 -> 62
    //   363: astore 6
    //   365: aload_3
    //   366: astore 4
    //   368: aload_3
    //   369: astore 5
    //   371: aload 6
    //   373: invokevirtual 153	java/lang/Throwable:printStackTrace	()V
    //   376: goto -314 -> 62
    //   379: astore_3
    //   380: aload_3
    //   381: astore 4
    //   383: invokestatic 172	com/popgame/popcentersdk/business/PopChargeBusiness:getInstance	()Lcom/popgame/popcentersdk/business/PopChargeBusiness;
    //   386: aload 5
    //   388: invokestatic 178	java/lang/Integer:parseInt	(Ljava/lang/String;)I
    //   391: aload 7
    //   393: getstatic 181	com/popgame/popcentersdk/N0Content:no_charge_headback	Ljava/lang/String;
    //   396: invokevirtual 185	com/popgame/popcentersdk/business/PopChargeBusiness:chargeHeartBack	(ILjava/lang/String;Ljava/lang/String;)V
    //   399: aload 4
    //   401: athrow
    //   402: astore_3
    //   403: aload_3
    //   404: invokevirtual 153	java/lang/Throwable:printStackTrace	()V
    //   407: aload 4
    //   409: astore_3
    //   410: ldc2_w 205
    //   413: invokestatic 167	java/lang/Thread:sleep	(J)V
    //   416: iload_1
    //   417: iconst_1
    //   418: iadd
    //   419: istore_1
    //   420: aload 4
    //   422: astore_3
    //   423: goto -367 -> 56
    //   426: astore 8
    //   428: aload 4
    //   430: astore 5
    //   432: aload 4
    //   434: astore_3
    //   435: aload 8
    //   437: invokevirtual 153	java/lang/Throwable:printStackTrace	()V
    //   440: goto -24 -> 416
    //   443: astore 4
    //   445: goto -146 -> 299
    //   448: astore 6
    //   450: aload 5
    //   452: astore 4
    //   454: aload 4
    //   456: astore_3
    //   457: ldc2_w 205
    //   460: invokestatic 167	java/lang/Thread:sleep	(J)V
    //   463: aload 4
    //   465: astore 5
    //   467: aload 4
    //   469: astore_3
    //   470: aload 6
    //   472: athrow
    //   473: astore 8
    //   475: aload 4
    //   477: astore 5
    //   479: aload 4
    //   481: astore_3
    //   482: aload 8
    //   484: invokevirtual 153	java/lang/Throwable:printStackTrace	()V
    //   487: goto -24 -> 463
    //   490: astore 8
    //   492: aload_3
    //   493: astore 4
    //   495: aload_3
    //   496: astore 5
    //   498: aload 8
    //   500: invokevirtual 153	java/lang/Throwable:printStackTrace	()V
    //   503: goto -159 -> 344
    //   506: astore 6
    //   508: goto -54 -> 454
    //   511: astore 4
    //   513: aload_3
    //   514: astore 5
    //   516: goto -133 -> 383
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	519	0	this	PopChargeRun
    //   52	368	1	i	int
    //   258	2	2	bool	boolean
    //   20	261	3	localObject1	Object
    //   291	6	3	localThrowable1	Throwable
    //   301	68	3	localObject2	Object
    //   379	2	3	localObject3	Object
    //   402	2	3	localThrowable2	Throwable
    //   409	105	3	localObject4	Object
    //   2	431	4	localObject5	Object
    //   443	1	4	localThrowable3	Throwable
    //   452	42	4	localObject6	Object
    //   511	1	4	localObject7	Object
    //   16	499	5	localObject8	Object
    //   12	110	6	str1	String
    //   275	9	6	localThrowable4	Throwable
    //   363	9	6	localThrowable5	Throwable
    //   448	23	6	localObject9	Object
    //   506	1	6	localObject10	Object
    //   7	385	7	str2	String
    //   139	38	8	str3	String
    //   426	10	8	localThrowable6	Throwable
    //   473	10	8	localThrowable7	Throwable
    //   490	9	8	localThrowable8	Throwable
    // Exception table:
    //   from	to	target	type
    //   266	272	275	java/lang/Throwable
    //   283	288	291	java/lang/Throwable
    //   371	376	291	java/lang/Throwable
    //   498	503	291	java/lang/Throwable
    //   354	360	363	java/lang/Throwable
    //   266	272	379	finally
    //   283	288	379	finally
    //   338	344	379	finally
    //   354	360	379	finally
    //   371	376	379	finally
    //   498	503	379	finally
    //   84	95	402	java/lang/Throwable
    //   101	106	402	java/lang/Throwable
    //   112	141	402	java/lang/Throwable
    //   147	167	402	java/lang/Throwable
    //   173	184	402	java/lang/Throwable
    //   190	211	402	java/lang/Throwable
    //   217	231	402	java/lang/Throwable
    //   237	246	402	java/lang/Throwable
    //   252	259	402	java/lang/Throwable
    //   330	335	402	java/lang/Throwable
    //   410	416	426	java/lang/Throwable
    //   21	26	443	java/lang/Throwable
    //   33	39	443	java/lang/Throwable
    //   46	51	443	java/lang/Throwable
    //   435	440	443	java/lang/Throwable
    //   470	473	443	java/lang/Throwable
    //   482	487	443	java/lang/Throwable
    //   84	95	448	finally
    //   101	106	448	finally
    //   112	141	448	finally
    //   147	167	448	finally
    //   173	184	448	finally
    //   190	211	448	finally
    //   217	231	448	finally
    //   237	246	448	finally
    //   252	259	448	finally
    //   330	335	448	finally
    //   457	463	473	java/lang/Throwable
    //   338	344	490	java/lang/Throwable
    //   403	407	506	finally
    //   21	26	511	finally
    //   33	39	511	finally
    //   46	51	511	finally
    //   302	307	511	finally
    //   410	416	511	finally
    //   435	440	511	finally
    //   457	463	511	finally
    //   470	473	511	finally
    //   482	487	511	finally
  }
  
  public void run()
  {
    if (m_ttype == 0) {
      sendChargeLogSelf();
    }
    do
    {
      return;
      if (m_ttype == 1)
      {
        chargeself();
        return;
      }
      if (m_ttype == 2)
      {
        heartself();
        return;
      }
    } while (m_ttype != 3);
    sendFeeRecordSelf();
  }
  
  public void sendChargeLog(Hashtable paramHashtable)
  {
    m_ttype = 0;
    this.cLogHT = paramHashtable;
    new Thread(this).start();
  }
  
  public void sendChargeLogSelf()
  {
    try
    {
      String str = "http://" + N0Content.no_charge_url1 + "/bill/pl?cid=" + this.cLogHT.get("c_cid") + "&version=" + this.cLogHT.get("c_version") + "&userid=" + this.cLogHT.get("c_userid") + "&device=" + this.cLogHT.get("c_device") + "&payment=" + this.cLogHT.get("c_payment") + "chargePoint=" + this.cLogHT.get("c_chargePoint") + "&receipt=" + this.cLogHT.get("c_receipt") + "&reserved=" + this.cLogHT.get("c_reserved") + "&terminal=" + this.cLogHT.get("c_terminal") + "&sdkVersion=" + this.cLogHT.get("c_sdkVersion") + "&gameService=" + this.cLogHT.get("c_gameService") + "&gameId=" + this.cLogHT.get("c_gameId") + "&prop=" + this.cLogHT.get("c_prop") + "&price=" + this.cLogHT.get("c_price") + "&setPrice=" + this.cLogHT.get("c_setPrice") + "&currency=" + this.cLogHT.get("c_currency") + "&state=" + this.cLogHT.get("c_state");
      XPUtils.xpPrint("sendChargeLog-->" + str);
      str = HttpClients.getInstance().get(str);
      XPUtils.xpPrint("sendChargeLog-->" + str);
      return;
    }
    catch (Throwable localThrowable)
    {
      localThrowable.printStackTrace();
    }
  }
  
  public void sendFeeRecord(String paramString1, String paramString2, String paramString3, String paramString4, String paramString5, String paramString6, String paramString7)
  {
    tuserId = paramString1;
    tiapName = paramString2;
    tfeeName = paramString3;
    tprice = paramString4;
    tcurrency = paramString5;
    m_ttype = 3;
    trestype = paramString6;
    tchargeSerialNumber = paramString7;
    new Thread(this).start();
  }
  
  public void sendFeeRecordSelf()
  {
    XPUtils.xpPrint("sendFeeRecordSelf->run");
    String str = N0Base.runCenter(null, 1, "a=" + AppInfo.m_channelId + "&b=" + URLEncoder.encode(AppInfo.m_imei) + "&c=" + URLEncoder.encode(AppInfo.m_userId) + "&d=" + URLEncoder.encode(AppInfo.m_macAddress) + "&e=" + new SimpleDateFormat("yyyyMMddHHmmss").format(Long.valueOf(System.currentTimeMillis())) + "&f=2&g=" + tprice + "&h=" + tfeeName + "&i=" + tcurrency + "&j=" + AppInfo.m_packInfo + "&k=" + AppInfo.m_gameVersion + "&l=" + tiapName + "&m=" + trestype + "&n=" + tchargeSerialNumber);
    XPUtils.xpPrint("sendFeeRecordSelf->" + str);
  }
}
