package com.popgame.popcentersdk;

import android.app.Activity;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import com.n0stop.n0base.N0Base;
import com.popgame.popcentersdk.business.PopSdkListener;
import com.popgame.popcentersdk.util.XPUtils;
import org.json.JSONObject;

public class MainActivity
  extends Activity
  implements View.OnClickListener, PopSdkListener
{
  public static String userId = null;
  
  public MainActivity() {}
  
  public void CenterResult(String paramString)
  {
    XPUtils.xpPrint("CenterResult-->" + paramString);
  }
  
  public void initUI()
  {
    try
    {
      N0Run.setCenterListener(this);
      XPUtils.xpPrint("test1之前");
      XPUtils.xpPrint("R.test1的值： 2131230721");
      Button localButton = (Button)findViewById(2131230721);
      XPUtils.xpPrint("test1之后" + localButton);
      localButton.setOnClickListener(this);
      ((Button)findViewById(2131230722)).setOnClickListener(this);
      ((Button)findViewById(2131230723)).setOnClickListener(this);
      findViewById(2131230727);
      ((Button)findViewById(2131230726)).setOnClickListener(this);
      ((Button)findViewById(2131230724)).setOnClickListener(this);
      ((Button)findViewById(2131230725)).setOnClickListener(this);
      return;
    }
    catch (Throwable localThrowable)
    {
      localThrowable.printStackTrace();
    }
  }
  
  public void onClick(View paramView)
  {
    if (paramView.getId() == 2131230721) {
      onClickTest1(paramView);
    }
    for (;;)
    {
      if (paramView.getId() == 2131230723) {
        onClickTest3(paramView);
      }
      if (paramView.getId() == 2131230727) {
        onClickLogout(paramView);
      }
      if (paramView.getId() == 2131230726) {
        onClickChargebutton(paramView);
      }
      if (paramView.getId() == 2131230724) {
        onClickUbutton(paramView);
      }
      if (paramView.getId() == 2131230725) {
        onClickQLbutton(paramView);
      }
      return;
      if (paramView.getId() == 2131230722) {
        onClickTest2(paramView);
      }
    }
  }
  
  public void onClickChargebutton(View paramView)
  {
    paramView = new JSONObject();
    try
    {
      paramView.put("userid", "123456");
      paramView.put("price", "1");
      paramView.put("currency", "CNY");
      paramView.put("iapname", "com.lequworld.superwarriors.iap_1");
      paramView.put("reserved", "DB$$$0$$$956");
      paramView.put("amount", "100");
      paramView.put("roleid", "956");
      paramView.put("rolename", "孙悟空");
      paramView.put("zonename", "游戏一区-逍遥谷");
      paramView.put("rolelevel", "99");
      paramView.put("type", "test");
      paramView.put("appname", "武道大会");
      paramView.put("pname", "钻石");
      paramView.put("pinfo", "游戏内钻石是用来购买物品的交易币");
      N0Run.charge(this, "0", paramView.toString(), true);
      return;
    }
    catch (Throwable localThrowable)
    {
      for (;;)
      {
        localThrowable.printStackTrace();
      }
    }
  }
  
  public void onClickLogout(View paramView)
  {
    N0Run.UserLogout(this);
  }
  
  public void onClickQLbutton(View paramView) {}
  
  public void onClickTest1(View paramView)
  {
    paramView = new Intent("android.intent.action.ACTION_SCREEN_ON");
    paramView.putExtra("msg", "hello receiver.");
    sendBroadcast(paramView);
  }
  
  public void onClickTest2(View paramView)
  {
    startActivity(new Intent("android.intent.action.CALL", Uri.parse("tel:10010")));
  }
  
  public void onClickTest3(View paramView)
  {
    paramView = new JSONObject();
    try
    {
      paramView.put("roleid", "R0010");
      paramView.put("rolename", "令狐一冲");
      paramView.put("rolelevel", "99");
      paramView.put("zoneid", "192825");
      paramView.put("zonename", "游戏一区-逍遥谷");
      paramView.put("appname", "武道大会");
      paramView.put("pname", "钻石");
      paramView.put("pinfo", "游戏内钻石是用来购买物品的交易币");
      N0Run.SdkSubmitExtendData(paramView.toString(), this);
      return;
    }
    catch (Throwable localThrowable)
    {
      for (;;)
      {
        localThrowable.printStackTrace();
      }
    }
  }
  
  public void onClickUbutton(View paramView)
  {
    N0Run.UserCenter(this, true);
  }
  
  public void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    setContentView(2130903040);
    N0Run.ngamerun(this, "6017382672-4614167288");
    initUI();
    N0Run.setScreenOrientation(this, false);
  }
  
  protected void onDestroy()
  {
    XPUtils.xpPrint("my activity");
    N0Run.SDKDestroy(this);
    super.onDestroy();
  }
  
  public void spjifei(View paramView)
  {
    startMMPay(paramView);
  }
  
  public void startAndPay(View paramView)
  {
    paramView = "0778761903-0778837366" + "##" + "3";
    paramView = "payctrl:pay?args=" + paramView + "&delayTime=1";
    Log.i("chargeInfo", paramView);
    N0Base.runCharge(null, paramView);
  }
  
  public void startMMPay(View paramView)
  {
    paramView = "0778761903-0778837366" + "##" + "3";
    paramView = "payctrl:pay?args=" + paramView + "&delayTime=1";
    Log.i("chargeInfo", paramView);
    N0Base.runCharge(getBaseContext(), paramView);
  }
}
