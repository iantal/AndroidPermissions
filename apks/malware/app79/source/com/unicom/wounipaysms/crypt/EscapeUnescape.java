package com.unicom.wounipaysms.crypt;

public class EscapeUnescape
{
  public EscapeUnescape() {}
  
  public static String escape(String paramString)
  {
    StringBuffer localStringBuffer = new StringBuffer();
    localStringBuffer.ensureCapacity(paramString.length() * 6);
    int i = 0;
    if (i >= paramString.length()) {
      return localStringBuffer.toString();
    }
    char c = paramString.charAt(i);
    if ((Character.isDigit(c)) || (Character.isLowerCase(c)) || (Character.isUpperCase(c))) {
      localStringBuffer.append(c);
    }
    for (;;)
    {
      i += 1;
      break;
      if (c < 'Ä€')
      {
        localStringBuffer.append("%");
        if (c < '\020') {
          localStringBuffer.append("0");
        }
        localStringBuffer.append(Integer.toString(c, 16));
      }
      else
      {
        localStringBuffer.append("%u");
        localStringBuffer.append(Integer.toString(c, 16));
      }
    }
  }
  
  public static String unescape(String paramString)
  {
    StringBuffer localStringBuffer = new StringBuffer();
    localStringBuffer.ensureCapacity(paramString.length());
    int i = 0;
    for (;;)
    {
      if (i >= paramString.length()) {
        return localStringBuffer.toString();
      }
      int j = paramString.indexOf("%", i);
      if (j == i)
      {
        if (paramString.charAt(j + 1) == 'u')
        {
          localStringBuffer.append((char)Integer.parseInt(paramString.substring(j + 2, j + 6), 16));
          i = j + 6;
        }
        else
        {
          localStringBuffer.append((char)Integer.parseInt(paramString.substring(j + 1, j + 3), 16));
          i = j + 3;
        }
      }
      else if (j == -1)
      {
        localStringBuffer.append(paramString.substring(i));
        i = paramString.length();
      }
      else
      {
        localStringBuffer.append(paramString.substring(i, j));
        i = j;
      }
    }
  }
}
