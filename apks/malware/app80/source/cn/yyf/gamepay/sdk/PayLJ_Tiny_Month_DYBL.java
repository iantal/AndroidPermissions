package cn.yyf.gamepay.sdk;

import android.app.Activity;
import android.content.Context;
import android.os.Handler;
import android.os.Message;
import com.ffcs.inapppaylib.PayHelper;
import org.json.JSONException;
import org.json.JSONObject;

public class PayLJ_Tiny_Month_DYBL
{
  private String TAG = PayLJ_Tiny_Month_DYBL.class.getName();
  private String apName = "游戏公司名称";
  private String appName = "游戏名称";
  private String appid = "287232640000043752";
  private String appsecret = "0072837b2828730cd5c161bb8413abb4";
  private String channel = "1233";
  private String chargeName = "道具名称";
  private String exdata = "hkaksd";
  private String orderId = "123132131";
  private String payCode = "90009792";
  private String price = "1";
  private int priceType = 1;
  private String product = "1243";
  
  public PayLJ_Tiny_Month_DYBL() {}
  
  public void pay(Context paramContext, String paramString, Handler paramHandler)
  {
    try
    {
      paramString = new JSONObject(paramString);
      this.price = String.valueOf(paramString.optInt("spprice", 0));
      this.appid = paramString.optString("spappid", "");
      this.appsecret = paramString.optString("spappsecret", "");
      this.exdata = paramString.optString("spexdata", "");
      this.payCode = paramString.optString("sppaycode", "");
      this.apName = paramString.optString("comname", "");
      this.appName = paramString.optString("appname", "");
      this.channel = paramString.optString("channel", "");
      this.chargeName = paramString.optString("chargename", "");
      this.orderId = paramString.optString("orderid", "");
      this.product = paramString.optString("spproductcode", "");
      paramString = PayHelper.getInstance(paramContext);
      paramString.init(this.appid, this.appsecret);
      paramString.settimeout(20000);
      if ((paramContext instanceof Activity))
      {
        paramHandler = new PayLJ_Tiny_Month_DYBL.1(this, paramHandler);
        paramString.pay((Activity)paramContext, this.payCode, paramHandler, this.exdata, this.apName, this.appName, this.channel, this.chargeName, this.orderId, this.price, this.priceType, this.product);
        return;
      }
    }
    catch (JSONException paramString)
    {
      do
      {
        for (;;)
        {
          paramString.printStackTrace();
        }
      } while (paramHandler == null);
      paramHandler.obtainMessage(1, "context isn't instanceof Activity !!!").sendToTarget();
    }
  }
}
