package com.telecom.sdk_auth_ui;

import android.app.Dialog;
import android.app.ProgressDialog;
import android.os.AsyncTask;
import android.os.Bundle;
import android.widget.Toast;
import com.telecom.sdk_auth_ui.d.d;
import com.telecom.sdk_auth_ui.f.b;
import com.telecom.sdk_auth_ui.f.c;

class j
  extends AsyncTask
{
  private final String b = j.class.getSimpleName();
  private ProgressDialog c;
  
  j(a paramA) {}
  
  protected Bundle a(Bundle... paramVarArgs)
  {
    paramVarArgs = paramVarArgs[0];
    try
    {
      String str = new d().b(a.c(this.a), a.d(this.a), a.e(this.a), a.f(this.a), a.g(this.a), paramVarArgs.getString("accountNo"), paramVarArgs.getString("newPassword"), paramVarArgs.getString("checkNo"));
      c.b("Send resetPassword result : " + str);
      paramVarArgs.putAll(com.telecom.sdk_auth_ui.a.a.a().a(str));
      return paramVarArgs;
    }
    catch (b localB)
    {
      paramVarArgs.putInt("code", localB.a());
      paramVarArgs.putString("msg", localB.getMessage());
    }
    return paramVarArgs;
  }
  
  protected void a(Bundle paramBundle)
  {
    super.onPostExecute(paramBundle);
    if (this.c != null) {
      this.c.cancel();
    }
    if (paramBundle.getInt("code") == 0)
    {
      Toast.makeText(a.c(this.a), "密码重置成功！", 0).show();
      if (a.h(this.a) != null) {
        a.h(this.a).cancel();
      }
      this.a.a(a.c(this.a), a.d(this.a), a.e(this.a), a.f(this.a), a.g(this.a), a.i(this.a));
      return;
    }
    Toast.makeText(a.c(this.a), paramBundle.getString("msg") + "(" + paramBundle.getInt("code") + ")", 0).show();
  }
  
  protected void onCancelled()
  {
    if (this.c != null) {
      this.c.cancel();
    }
    super.onCancelled();
  }
  
  protected void onPreExecute()
  {
    super.onPreExecute();
    this.c = new ProgressDialog(a.c(this.a));
    this.c.setMessage("正在为您重置密码，请稍候...");
    this.c.show();
  }
}
