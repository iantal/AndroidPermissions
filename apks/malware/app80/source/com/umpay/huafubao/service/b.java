package com.umpay.huafubao.service;

import android.app.Notification;
import android.app.NotificationManager;
import android.os.Handler;
import android.os.Message;
import android.widget.RemoteViews;
import com.umpay.huafubao.d.a;
import java.io.File;

final class b
  implements d
{
  int a = 0;
  
  b(AppUpgradeService paramAppUpgradeService) {}
  
  public final void a()
  {
    AppUpgradeService.c(this.b).contentView.setViewVisibility(a.c(this.b.getApplicationContext(), "app_upgrade_progressblock"), 8);
    AppUpgradeService.c(this.b).defaults = 1;
    AppUpgradeService.c(this.b).contentIntent = AppUpgradeService.d(this.b);
    AppUpgradeService.c(this.b).contentView.setTextViewText(a.c(this.b.getApplicationContext(), "app_upgrade_progresstext"), "下载完成。");
    AppUpgradeService.b(this.b).notify(100, AppUpgradeService.c(this.b));
    if ((AppUpgradeService.a(this.b).exists()) && (AppUpgradeService.a(this.b).isFile()) && (this.b.a(AppUpgradeService.a(this.b).getPath())))
    {
      Message localMessage = AppUpgradeService.e(this.b).obtainMessage();
      localMessage.what = 0;
      AppUpgradeService.e(this.b).sendMessage(localMessage);
    }
    AppUpgradeService.b(this.b).cancel(100);
  }
  
  public final void a(int paramInt)
  {
    if (paramInt - this.a > 1)
    {
      this.a = paramInt;
      AppUpgradeService.c(this.b).contentView.setProgressBar(a.c(this.b.getApplicationContext(), "app_upgrade_progressbar"), 100, paramInt, false);
      AppUpgradeService.c(this.b).contentView.setTextViewText(a.c(this.b.getApplicationContext(), "app_upgrade_progresstext"), paramInt + "%");
      AppUpgradeService.b(this.b).notify(100, AppUpgradeService.c(this.b));
    }
  }
}
