package com.wimipay.util;

import android.app.Activity;
import com.security.Service.WmService;
import java.util.concurrent.CountDownLatch;
import java.util.concurrent.TimeUnit;

public class Wimipay
{
  private static final int WAIT_START_SERVICE_SECOND = 60;
  private static final int WIMIPAY_BUY_ERROR_CODE = -1;
  private static CountDownLatch countDownLatch;
  public static IWimipay iWimipay = null;
  
  public Wimipay() {}
  
  public static int WimipayBuy(Activity paramActivity, String paramString1, String paramString2, String paramString3, IWimipay.BuyListener paramBuyListener)
  {
    try
    {
      countDownLatch = new CountDownLatch(1);
      WmService.startService(paramActivity);
      boolean bool = countDownLatch.await(60L, TimeUnit.SECONDS);
      if (bool) {
        break label43;
      }
    }
    catch (InterruptedException localInterruptedException)
    {
      label43:
      do
      {
        localInterruptedException.printStackTrace();
      } while (iWimipay == null);
    }
    return -1;
    return iWimipay.WimipayBuy(paramActivity, paramString1, paramString2, paramString3, paramBuyListener);
  }
  
  public static void notifyStartServiceFinish()
  {
    if (countDownLatch != null) {
      countDownLatch.countDown();
    }
  }
}
