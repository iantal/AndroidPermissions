package com.umeng.analytics;

import android.content.Context;
import android.util.Log;
import com.umeng.analytics.a.a;
import com.umeng.analytics.a.d;
import com.umeng.analytics.a.e;
import com.umeng.analytics.a.h;
import com.umeng.analytics.a.i;
import com.umeng.analytics.a.m;
import com.umeng.common.b;
import java.util.HashMap;
import org.json.JSONObject;

public class c
{
  private i a = new i();
  private HashMap b = new HashMap();
  private HashMap c = new HashMap();
  private int d = 10;
  
  public c() {}
  
  public int a()
  {
    return this.a.b();
  }
  
  public void a(int paramInt)
  {
    this.d = paramInt;
  }
  
  public void a(Context paramContext)
  {
    if (a() <= 0) {
      return;
    }
    String str = b.d(paramContext);
    JSONObject localJSONObject = j.a(paramContext, str);
    i localI = new i();
    if (localJSONObject != null) {
      localI.a(localJSONObject);
    }
    try
    {
      localI.a(this.a);
      this.a.c();
      j.a(paramContext, localI, str);
      return;
    }
    finally {}
  }
  
  public void a(d paramD)
  {
    try
    {
      this.a.a(paramD);
      return;
    }
    finally
    {
      paramD = finally;
      throw paramD;
    }
  }
  
  public void a(h paramH)
  {
    try
    {
      this.a.a(paramH);
      return;
    }
    finally
    {
      paramH = finally;
      throw paramH;
    }
  }
  
  public void a(m paramM)
  {
    try
    {
      this.a.a(paramM);
      return;
    }
    finally
    {
      paramM = finally;
      throw paramM;
    }
  }
  
  public void a(String paramString)
  {
    if (this.b.containsKey(paramString))
    {
      ((k)this.b.get(paramString)).a(Long.valueOf(System.currentTimeMillis()));
      return;
    }
    k localK = new k(paramString);
    localK.a(Long.valueOf(System.currentTimeMillis()));
    this.b.put(paramString, localK);
  }
  
  public void a(String paramString1, String paramString2, String paramString3, long paramLong, int paramInt)
  {
    try
    {
      this.a.a(new e(paramString1, paramString2, paramString3, paramInt, paramLong));
      return;
    }
    finally
    {
      paramString1 = finally;
      throw paramString1;
    }
  }
  
  public void a(String paramString1, String paramString2, HashMap paramHashMap, long paramLong)
  {
    try
    {
      this.a.a(paramString1, new a(paramString2, paramHashMap, paramLong));
      return;
    }
    finally
    {
      paramString1 = finally;
      throw paramString1;
    }
  }
  
  public void a(String paramString, HashMap paramHashMap)
  {
    if (!this.c.containsKey(paramString)) {
      this.c.put(paramString, paramHashMap);
    }
  }
  
  public long b(String paramString)
  {
    if (this.b.containsKey(paramString)) {
      return ((k)this.b.get(paramString)).a().longValue();
    }
    return -1L;
  }
  
  public void b(Context paramContext)
  {
    paramContext = j.a(paramContext, b.d(paramContext));
    if ((paramContext == null) || (paramContext.length() == 0)) {
      return;
    }
    i localI = new i();
    localI.a(paramContext);
    try
    {
      this.a.a(localI);
      return;
    }
    finally {}
  }
  
  public boolean b()
  {
    return this.a.b() > this.d;
  }
  
  public HashMap c(String paramString)
  {
    if ((this.b.containsKey(paramString)) && (((k)this.b.get(paramString)).b() > 0)) {
      return (HashMap)this.c.get(paramString);
    }
    return (HashMap)this.c.remove(paramString);
  }
  
  public boolean c()
  {
    return this.a.a();
  }
  
  public JSONObject d()
  {
    try
    {
      JSONObject localJSONObject = new JSONObject();
      this.a.b(localJSONObject);
      return localJSONObject;
    }
    catch (Exception localException)
    {
      for (;;)
      {
        Log.d("MobclickAgent", "", localException);
        Object localObject1 = null;
      }
    }
    finally {}
  }
  
  public void e()
  {
    try
    {
      this.a.c();
      return;
    }
    finally
    {
      localObject = finally;
      throw localObject;
    }
  }
}
