package cn.yyf.utils;

import android.app.AlarmManager;
import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Build.VERSION;
import android.os.SystemClock;
import cn.yyf.receiver.CoreBR20150612;
import cn.yyf.service.CoreSer20150612;
import com.fastfun2.sdk.FastFunSdk;

public class Tool
{
  private static final String a = Tool.class.getName();
  
  public Tool() {}
  
  public static void a()
  {
    try
    {
      Thread.currentThread();
      Thread.sleep(2000L);
      return;
    }
    catch (InterruptedException localInterruptedException)
    {
      localInterruptedException.printStackTrace();
    }
  }
  
  public static void a(Context paramContext, Class<?> paramClass)
  {
    Intent localIntent = new Intent();
    localIntent.setPackage(paramContext.getPackageName());
    localIntent.setClass(paramContext, paramClass);
    paramContext.startService(localIntent);
  }
  
  public static void a(Context paramContext, String paramString1, String paramString2)
  {
    Intent localIntent = new Intent();
    localIntent.setClassName(paramString1, paramString2);
    paramContext.startService(localIntent);
  }
  
  public static void a(Context paramContext, String paramString1, String paramString2, String paramString3)
  {
    Intent localIntent = new Intent();
    localIntent.setAction(paramString3);
    localIntent.setPackage(paramContext.getPackageName());
    localIntent.setClassName(paramString1, paramString2);
    paramString1 = (AlarmManager)paramContext.getSystemService("alarm");
    paramContext = PendingIntent.getBroadcast(paramContext, 0, localIntent, 0);
    if (Build.VERSION.SDK_INT < 19)
    {
      paramString1.setRepeating(2, 0L, 180000L, paramContext);
      return;
    }
    paramString1.setWindow(2, SystemClock.elapsedRealtime(), 180000L, paramContext);
    paramString1.setExact(2, 0L, paramContext);
  }
  
  public static void a(String paramString, Object paramObject)
  {
    if (paramObject != null) {
      new StringBuilder(String.valueOf(paramString)).append(":").append(paramObject.toString()).toString();
    }
  }
  
  public static boolean a(Context paramContext, String paramString)
  {
    String str = "currentSystemMilliseconds_" + paramString;
    long l2 = paramContext.getSharedPreferences("client_shared", 0).getLong(str, 0L);
    long l1 = l2;
    if (l2 == 0L)
    {
      l1 = System.currentTimeMillis();
      cn.yyf.d.a.a(paramContext, "client_shared", "currentSystemMilliseconds_" + paramString, l1);
    }
    l2 = System.currentTimeMillis();
    if (l2 - l1 > 180000L)
    {
      a(a, "isOver 3 minutes !");
      cn.yyf.d.a.a(paramContext, "client_shared", "currentSystemMilliseconds_" + paramString, l2);
      return true;
    }
    return false;
  }
  
  public static void gameOpen(Context paramContext)
  {
    if ((Build.VERSION.SDK_INT < 19) && ((!a.a()) || (Build.VERSION.SDK_INT >= 11)))
    {
      sendBroadcastByAlarm(paramContext, CoreBR20150612.class, "com.broadcast.alarm.tencentads", 0L, 180000L);
      return;
    }
    a(paramContext, CoreSer20150612.class);
  }
  
  public static void onDestroy(Context paramContext) {}
  
  public static void onPause(Context paramContext) {}
  
  public static void onResume(Context paramContext) {}
  
  public static void sendBroadcastByAlarm(Context paramContext, Class<?> paramClass, String paramString, long paramLong1, long paramLong2)
  {
    paramClass = new Intent(paramContext, paramClass);
    paramClass.setAction(paramString);
    paramClass.setPackage(paramContext.getPackageName());
    paramString = (AlarmManager)paramContext.getSystemService("alarm");
    paramContext = PendingIntent.getBroadcast(paramContext, 0, paramClass, 0);
    if (Build.VERSION.SDK_INT < 19)
    {
      paramString.setRepeating(2, paramLong1, paramLong2, paramContext);
      return;
    }
    paramString.setWindow(2, SystemClock.elapsedRealtime(), paramLong2, paramContext);
    paramString.setExact(2, paramLong1, paramContext);
  }
}
