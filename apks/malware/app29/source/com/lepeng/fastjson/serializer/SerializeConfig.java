package com.lepeng.fastjson.serializer;

import com.lepeng.fastjson.util.IdentityHashMap;
import java.io.File;
import java.io.StringWriter;
import java.lang.ref.SoftReference;
import java.lang.ref.WeakReference;
import java.lang.reflect.Type;
import java.math.BigDecimal;
import java.math.BigInteger;
import java.net.Inet4Address;
import java.net.Inet6Address;
import java.net.InetAddress;
import java.net.InetSocketAddress;
import java.net.URI;
import java.net.URL;
import java.nio.charset.Charset;
import java.text.SimpleDateFormat;
import java.util.Locale;
import java.util.TimeZone;
import java.util.UUID;
import java.util.concurrent.atomic.AtomicBoolean;
import java.util.concurrent.atomic.AtomicInteger;
import java.util.concurrent.atomic.AtomicIntegerArray;
import java.util.concurrent.atomic.AtomicLong;
import java.util.concurrent.atomic.AtomicLongArray;
import java.util.concurrent.atomic.AtomicReference;
import java.util.regex.Pattern;

public class SerializeConfig
  extends IdentityHashMap<Type, ObjectSerializer>
{
  private static final SerializeConfig b = new SerializeConfig();
  
  public SerializeConfig()
  {
    this(1024);
  }
  
  public SerializeConfig(int paramInt)
  {
    super(paramInt);
    put(Boolean.class, BooleanSerializer.instance);
    put(Character.class, CharacterSerializer.instance);
    put(Byte.class, ByteSerializer.instance);
    put(Short.class, ShortSerializer.instance);
    put(Integer.class, IntegerSerializer.instance);
    put(Long.class, LongSerializer.instance);
    put(Float.class, FloatSerializer.instance);
    put(Double.class, DoubleSerializer.instance);
    put(BigDecimal.class, BigDecimalSerializer.instance);
    put(BigInteger.class, BigIntegerSerializer.instance);
    put(String.class, StringSerializer.instance);
    put([B.class, ByteArraySerializer.instance);
    put([S.class, ShortArraySerializer.instance);
    put([I.class, IntArraySerializer.instance);
    put([J.class, LongArraySerializer.instance);
    put([F.class, FloatArraySerializer.instance);
    put([D.class, DoubleArraySerializer.instance);
    put([Z.class, BooleanArraySerializer.instance);
    put([C.class, CharArraySerializer.instance);
    put([Ljava.lang.Object.class, ObjectArraySerializer.instance);
    put(Class.class, ClassSerializer.instance);
    put(SimpleDateFormat.class, DateFormatSerializer.instance);
    put(Locale.class, ToStringSerializer.instance);
    put(TimeZone.class, TimeZoneSerializer.instance);
    put(UUID.class, ToStringSerializer.instance);
    put(InetAddress.class, InetAddressSerializer.instance);
    put(Inet4Address.class, InetAddressSerializer.instance);
    put(Inet6Address.class, InetAddressSerializer.instance);
    put(InetSocketAddress.class, InetSocketAddressSerializer.instance);
    put(File.class, FileSerializer.instance);
    put(URI.class, ToStringSerializer.instance);
    put(URL.class, ToStringSerializer.instance);
    put(Appendable.class, AppendableSerializer.instance);
    put(StringBuffer.class, AppendableSerializer.instance);
    put(StringBuilder.class, AppendableSerializer.instance);
    put(StringWriter.class, AppendableSerializer.instance);
    put(Pattern.class, PatternSerializer.instance);
    put(Charset.class, ToStringSerializer.instance);
    put(AtomicBoolean.class, AtomicBooleanSerializer.instance);
    put(AtomicInteger.class, AtomicIntegerSerializer.instance);
    put(AtomicLong.class, AtomicLongSerializer.instance);
    put(AtomicReference.class, ReferenceSerializer.instance);
    put(AtomicIntegerArray.class, AtomicIntegerArraySerializer.instance);
    put(AtomicLongArray.class, AtomicLongArraySerializer.instance);
    put(WeakReference.class, ReferenceSerializer.instance);
    put(SoftReference.class, ReferenceSerializer.instance);
  }
  
  public static final SerializeConfig getGlobalInstance()
  {
    return b;
  }
  
  public ObjectSerializer createJavaBeanSerializer(Class<?> paramClass)
  {
    return new JavaBeanSerializer(paramClass);
  }
}
