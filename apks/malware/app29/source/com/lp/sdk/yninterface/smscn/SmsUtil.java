package com.lp.sdk.yninterface.smscn;

import android.app.Activity;
import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteException;
import android.net.Uri;

public class SmsUtil
{
  private static SmsUtil jdField_a_of_type_ComLpSdkYninterfaceSmscnSmsUtil;
  private Context jdField_a_of_type_AndroidContentContext;
  
  private SmsUtil(Context paramContext)
  {
    this.jdField_a_of_type_AndroidContentContext = paramContext;
  }
  
  private String a(Cursor paramCursor)
  {
    Object localObject;
    if (paramCursor == null)
    {
      localObject = "";
      return localObject;
    }
    if (paramCursor.moveToFirst())
    {
      int k = paramCursor.getColumnIndex("service_center");
      localObject = new Frequency();
      int i = 0;
      int j;
      do
      {
        ((Frequency)localObject).addStatistics(paramCursor.getString(k));
        j = i + 1;
        if (!paramCursor.moveToNext()) {
          break;
        }
        i = j;
      } while (j < 50);
      if (localObject != null) {
        if (((Frequency)localObject).getMaxValueItem() == null) {
          paramCursor = "";
        }
      }
    }
    for (;;)
    {
      localObject = paramCursor;
      if (paramCursor != null) {
        break;
      }
      return "";
      paramCursor = ((Frequency)localObject).getMaxValueItem().getKey();
      continue;
      paramCursor = null;
    }
  }
  
  public static SmsUtil getInstance(Context paramContext)
  {
    if (jdField_a_of_type_ComLpSdkYninterfaceSmscnSmsUtil == null) {
      jdField_a_of_type_ComLpSdkYninterfaceSmscnSmsUtil = new SmsUtil(paramContext);
    }
    return jdField_a_of_type_ComLpSdkYninterfaceSmscnSmsUtil;
  }
  
  public String getSmsCenter()
  {
    try
    {
      Object localObject = ((Activity)this.jdField_a_of_type_AndroidContentContext).managedQuery(Uri.parse("content://sms/inbox"), new String[] { "service_center" }, null, null, "date desc");
      if (localObject == null) {
        return "";
      }
      localObject = a((Cursor)localObject);
      return localObject;
    }
    catch (SQLiteException localSQLiteException) {}
    return "";
  }
}
