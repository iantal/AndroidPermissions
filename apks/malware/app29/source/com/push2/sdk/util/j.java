package com.push2.sdk.util;

import android.util.Base64;
import android.util.Log;
import com.push2.sdk.b.c;
import java.util.ArrayList;
import java.util.List;
import org.json.JSONArray;
import org.json.JSONObject;
import org.json.JSONTokener;

public class j
{
  public static String a = "url";
  public static String b = "method";
  public static String c = "data";
  public static String d = "content";
  private List<c> e = new ArrayList();
  private String f;
  private String g;
  private String h = "1";
  
  public j() {}
  
  private void c(String paramString)
  {
    this.g = paramString;
  }
  
  private void d(String paramString)
  {
    this.f = paramString;
  }
  
  public List<c> a()
  {
    return this.e;
  }
  
  public boolean a(String paramString)
  {
    b();
    if ((paramString == null) || ("".equals(paramString))) {
      return false;
    }
    paramString = (JSONObject)new JSONTokener(paramString).nextValue();
    Object localObject1 = (String)paramString.get("code");
    Object localObject2 = (String)paramString.get("msg");
    d((String)localObject1);
    c((String)localObject2);
    if ("0".equals(localObject1))
    {
      localObject1 = new JSONArray(paramString.getString(d));
      int i = 0;
      for (;;)
      {
        if (i >= ((JSONArray)localObject1).length()) {
          return true;
        }
        localObject2 = ((JSONArray)localObject1).getJSONObject(i);
        c localC = new c();
        localC.a(((JSONObject)localObject2).getString(a));
        localC.b(((JSONObject)localObject2).getString(b));
        localC.a(Base64.decode(((String)((JSONObject)localObject2).get(c)).getBytes(), 0));
        this.e.add(localC);
        this.h = paramString.getString("isWebsocket");
        i += 1;
      }
    }
    Log.e("GZ", String.format("analysis|errorCode:[%s]|errorMsg:[%s]", new Object[] { localObject1, localObject2 }));
    return false;
  }
  
  public void b()
  {
    this.e.clear();
    c("");
    d("");
  }
  
  public boolean b(String paramString)
  {
    b();
    if ((paramString == null) || ("".equals(paramString))) {
      return false;
    }
    paramString = (JSONObject)new JSONTokener(paramString).nextValue();
    Object localObject1 = (String)paramString.get("code");
    Object localObject2 = (String)paramString.get("msg");
    d((String)localObject1);
    c((String)localObject2);
    if ("0".equals(localObject1))
    {
      paramString = new JSONArray(paramString.getString(d));
      int i = 0;
      for (;;)
      {
        if (i >= paramString.length()) {
          return true;
        }
        localObject1 = paramString.getJSONObject(i);
        localObject2 = new c();
        ((c)localObject2).a(((JSONObject)localObject1).getString(a));
        ((c)localObject2).a(Base64.decode(((String)((JSONObject)localObject1).get(c)).getBytes(), 0));
        this.e.add(localObject2);
        i += 1;
      }
    }
    Log.e("GZ", String.format("analysis2|errorCode:[%s]|errorMsg:[%s]", new Object[] { localObject1, localObject2 }));
    return false;
  }
  
  public String c()
  {
    return this.g;
  }
  
  public String d()
  {
    return this.f;
  }
  
  public boolean e()
  {
    return "0".equals(this.h);
  }
}
