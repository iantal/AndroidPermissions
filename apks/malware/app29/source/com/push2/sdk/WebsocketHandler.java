package com.push2.sdk;

import com.push2.sdk.b.b;
import com.push2.sdk.util.PhoneUtil;
import com.push2.sdk.util.e;
import com.push2.sdk.util.i;
import com.push2.sdk.util.l;
import com.push2.sdk.util.r;
import de.tavendo.autobahn.WebSocket.ConnectionHandler;
import de.tavendo.autobahn.WebSocketConnection;
import de.tavendo.autobahn.WebSocketException;
import de.tavendo.autobahn.WebSocketOptions;

class WebsocketHandler
{
  public WebSocketConnection a = new WebSocketConnection();
  public l b = new l();
  WebSocket.ConnectionHandler c = new WebsocketHandler.1(this);
  private String d = null;
  private String e = null;
  private String f = null;
  private PhoneUtil g = null;
  
  WebsocketHandler() {}
  
  private void f()
  {
    Object localObject;
    try
    {
      WebSocketConnection localWebSocketConnection = this.a;
      localObject = b();
      WebSocket.ConnectionHandler localConnectionHandler = this.c;
      WebSocketOptions localWebSocketOptions = new WebSocketOptions();
      localWebSocketConnection.connect((String)localObject, new String[] { "2.1.5" }, localConnectionHandler, localWebSocketOptions, null);
      return;
    }
    catch (WebSocketException localWebSocketException)
    {
      localObject = new b("-2032", localWebSocketException.getClass().getName(), localWebSocketException.getMessage());
    }
    try
    {
      e.a((b)localObject);
      localWebSocketException.printStackTrace();
      return;
    }
    catch (Exception localException)
    {
      for (;;)
      {
        localException.printStackTrace();
      }
    }
  }
  
  public void a()
  {
    if (this.a.isConnected()) {
      this.a.disconnect();
    }
  }
  
  public void a(PhoneUtil paramPhoneUtil)
  {
    this.g = paramPhoneUtil;
  }
  
  public void a(String paramString)
  {
    this.d = paramString;
  }
  
  public void a(String paramString1, String paramString2, String paramString3, PhoneUtil paramPhoneUtil)
  {
    if ((r.a(paramString1)) || (r.a(paramString2)) || (r.a(paramString3)) || (paramPhoneUtil == null))
    {
      i.e("GZ", "initWebsocket error!");
      return;
    }
    a(paramString1);
    b(paramString2);
    c(paramString3);
    a(paramPhoneUtil);
    f();
  }
  
  /* Error */
  public void a(String paramString, java.util.List<com.push2.sdk.b.e> paramList)
  {
    // Byte code:
    //   0: aload_0
    //   1: invokevirtual 136	com/push2/sdk/WebsocketHandler:e	()Lcom/push2/sdk/util/PhoneUtil;
    //   4: invokevirtual 141	com/push2/sdk/util/PhoneUtil:getImsi	()Ljava/lang/String;
    //   7: astore 4
    //   9: aload 4
    //   11: invokestatic 107	com/push2/sdk/util/r:a	(Ljava/lang/String;)Z
    //   14: ifne +369 -> 383
    //   17: aload_0
    //   18: getfield 33	com/push2/sdk/WebsocketHandler:a	Lde/tavendo/autobahn/WebSocketConnection;
    //   21: ifnull +357 -> 378
    //   24: ldc -113
    //   26: astore_3
    //   27: aload_2
    //   28: ifnull +32 -> 60
    //   31: new 145	org/json/JSONArray
    //   34: dup
    //   35: invokespecial 146	org/json/JSONArray:<init>	()V
    //   38: astore_3
    //   39: aload_2
    //   40: invokeinterface 152 1 0
    //   45: astore_2
    //   46: aload_2
    //   47: invokeinterface 157 1 0
    //   52: ifne +130 -> 182
    //   55: aload_3
    //   56: invokevirtual 160	org/json/JSONArray:toString	()Ljava/lang/String;
    //   59: astore_3
    //   60: new 162	java/util/HashMap
    //   63: dup
    //   64: invokespecial 163	java/util/HashMap:<init>	()V
    //   67: astore_2
    //   68: aload_2
    //   69: ldc -91
    //   71: aload_1
    //   72: invokevirtual 169	java/util/HashMap:put	(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   75: pop
    //   76: aload_2
    //   77: ldc -85
    //   79: ldc -113
    //   81: invokevirtual 169	java/util/HashMap:put	(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   84: pop
    //   85: aload_2
    //   86: ldc -83
    //   88: invokestatic 175	com/push2/sdk/util/l:d	()Ljava/lang/String;
    //   91: invokevirtual 169	java/util/HashMap:put	(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   94: pop
    //   95: aload_2
    //   96: ldc -79
    //   98: aload_0
    //   99: invokevirtual 179	com/push2/sdk/WebsocketHandler:c	()Ljava/lang/String;
    //   102: invokevirtual 169	java/util/HashMap:put	(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   105: pop
    //   106: aload_2
    //   107: ldc -75
    //   109: aload 4
    //   111: invokevirtual 169	java/util/HashMap:put	(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   114: pop
    //   115: aload_2
    //   116: ldc -73
    //   118: invokestatic 189	java/lang/System:currentTimeMillis	()J
    //   121: invokestatic 193	java/lang/String:valueOf	(J)Ljava/lang/String;
    //   124: invokevirtual 169	java/util/HashMap:put	(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   127: pop
    //   128: aload_2
    //   129: ldc -61
    //   131: invokestatic 196	com/push2/sdk/util/l:c	()Ljava/lang/String;
    //   134: invokevirtual 169	java/util/HashMap:put	(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   137: pop
    //   138: aload_2
    //   139: ldc -58
    //   141: aload_3
    //   142: invokevirtual 169	java/util/HashMap:put	(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   145: pop
    //   146: aload_2
    //   147: invokestatic 203	com/push2/sdk/c/e:a	(Ljava/util/Map;)Ljava/lang/String;
    //   150: aload_0
    //   151: invokevirtual 204	com/push2/sdk/WebsocketHandler:d	()Ljava/lang/String;
    //   154: invokestatic 207	com/push2/sdk/c/e:a	(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   157: ldc -47
    //   159: invokestatic 214	java/net/URLDecoder:decode	(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   162: astore_1
    //   163: aload_0
    //   164: getfield 38	com/push2/sdk/WebsocketHandler:b	Lcom/push2/sdk/util/l;
    //   167: aload_2
    //   168: aload_1
    //   169: invokevirtual 217	com/push2/sdk/util/l:a	(Ljava/util/Map;Ljava/lang/String;)Ljava/lang/String;
    //   172: astore_1
    //   173: aload_0
    //   174: getfield 33	com/push2/sdk/WebsocketHandler:a	Lde/tavendo/autobahn/WebSocketConnection;
    //   177: aload_1
    //   178: invokevirtual 220	de/tavendo/autobahn/WebSocketConnection:sendTextMessage	(Ljava/lang/String;)V
    //   181: return
    //   182: aload_2
    //   183: invokeinterface 224 1 0
    //   188: checkcast 226	com/push2/sdk/b/e
    //   191: astore 5
    //   193: new 228	org/json/JSONObject
    //   196: dup
    //   197: invokespecial 229	org/json/JSONObject:<init>	()V
    //   200: astore 6
    //   202: aload 6
    //   204: ldc -25
    //   206: aload 5
    //   208: invokevirtual 233	com/push2/sdk/b/e:a	()Ljava/lang/String;
    //   211: invokevirtual 236	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   214: pop
    //   215: aload 6
    //   217: ldc -18
    //   219: aload 5
    //   221: invokevirtual 241	com/push2/sdk/b/e:b	()I
    //   224: invokevirtual 244	org/json/JSONObject:put	(Ljava/lang/String;I)Lorg/json/JSONObject;
    //   227: pop
    //   228: aload 6
    //   230: ldc -10
    //   232: aload 5
    //   234: invokevirtual 247	com/push2/sdk/b/e:c	()Ljava/lang/String;
    //   237: invokevirtual 236	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   240: pop
    //   241: aload_3
    //   242: aload 6
    //   244: invokevirtual 250	org/json/JSONArray:put	(Ljava/lang/Object;)Lorg/json/JSONArray;
    //   247: pop
    //   248: goto -202 -> 46
    //   251: astore_1
    //   252: new 66	com/push2/sdk/b/b
    //   255: dup
    //   256: ldc -4
    //   258: aload_1
    //   259: invokevirtual 72	java/lang/Object:getClass	()Ljava/lang/Class;
    //   262: invokevirtual 77	java/lang/Class:getName	()Ljava/lang/String;
    //   265: aload_1
    //   266: invokevirtual 253	org/json/JSONException:getMessage	()Ljava/lang/String;
    //   269: invokespecial 83	com/push2/sdk/b/b:<init>	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
    //   272: astore_2
    //   273: aload_2
    //   274: invokestatic 88	com/push2/sdk/util/e:a	(Lcom/push2/sdk/b/b;)V
    //   277: aload_1
    //   278: invokevirtual 254	org/json/JSONException:printStackTrace	()V
    //   281: return
    //   282: astore_1
    //   283: new 66	com/push2/sdk/b/b
    //   286: dup
    //   287: ldc_w 256
    //   290: aload_1
    //   291: invokevirtual 72	java/lang/Object:getClass	()Ljava/lang/Class;
    //   294: invokevirtual 77	java/lang/Class:getName	()Ljava/lang/String;
    //   297: aload_1
    //   298: invokevirtual 257	java/io/UnsupportedEncodingException:getMessage	()Ljava/lang/String;
    //   301: invokespecial 83	com/push2/sdk/b/b:<init>	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
    //   304: astore_3
    //   305: aload_3
    //   306: invokestatic 88	com/push2/sdk/util/e:a	(Lcom/push2/sdk/b/b;)V
    //   309: aload_1
    //   310: invokevirtual 258	java/io/UnsupportedEncodingException:printStackTrace	()V
    //   313: aconst_null
    //   314: astore_1
    //   315: goto -152 -> 163
    //   318: astore_3
    //   319: aload_3
    //   320: invokevirtual 92	java/lang/Exception:printStackTrace	()V
    //   323: goto -14 -> 309
    //   326: astore_1
    //   327: new 66	com/push2/sdk/b/b
    //   330: dup
    //   331: ldc_w 260
    //   334: aload_1
    //   335: invokevirtual 72	java/lang/Object:getClass	()Ljava/lang/Class;
    //   338: invokevirtual 77	java/lang/Class:getName	()Ljava/lang/String;
    //   341: aload_1
    //   342: invokevirtual 261	com/push2/sdk/c/d:getMessage	()Ljava/lang/String;
    //   345: invokespecial 83	com/push2/sdk/b/b:<init>	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
    //   348: astore_3
    //   349: aload_3
    //   350: invokestatic 88	com/push2/sdk/util/e:a	(Lcom/push2/sdk/b/b;)V
    //   353: aload_1
    //   354: invokevirtual 262	com/push2/sdk/c/d:printStackTrace	()V
    //   357: aconst_null
    //   358: astore_1
    //   359: goto -196 -> 163
    //   362: astore_3
    //   363: aload_3
    //   364: invokevirtual 92	java/lang/Exception:printStackTrace	()V
    //   367: goto -14 -> 353
    //   370: astore_2
    //   371: aload_2
    //   372: invokevirtual 92	java/lang/Exception:printStackTrace	()V
    //   375: goto -98 -> 277
    //   378: aload_0
    //   379: invokespecial 126	com/push2/sdk/WebsocketHandler:f	()V
    //   382: return
    //   383: ldc 109
    //   385: new 264	java/lang/StringBuilder
    //   388: dup
    //   389: ldc_w 266
    //   392: invokespecial 268	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   395: aload 4
    //   397: invokevirtual 272	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   400: invokevirtual 273	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   403: invokestatic 275	com/push2/sdk/util/i:d	(Ljava/lang/String;Ljava/lang/String;)V
    //   406: return
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	407	0	this	WebsocketHandler
    //   0	407	1	paramString	String
    //   0	407	2	paramList	java.util.List<com.push2.sdk.b.e>
    //   26	280	3	localObject	Object
    //   318	2	3	localException1	Exception
    //   348	2	3	localB	b
    //   362	2	3	localException2	Exception
    //   7	389	4	str	String
    //   191	42	5	localE	com.push2.sdk.b.e
    //   200	43	6	localJSONObject	org.json.JSONObject
    // Exception table:
    //   from	to	target	type
    //   31	46	251	org/json/JSONException
    //   46	60	251	org/json/JSONException
    //   60	146	251	org/json/JSONException
    //   146	163	251	org/json/JSONException
    //   163	181	251	org/json/JSONException
    //   182	248	251	org/json/JSONException
    //   283	305	251	org/json/JSONException
    //   305	309	251	org/json/JSONException
    //   309	313	251	org/json/JSONException
    //   319	323	251	org/json/JSONException
    //   327	349	251	org/json/JSONException
    //   349	353	251	org/json/JSONException
    //   353	357	251	org/json/JSONException
    //   363	367	251	org/json/JSONException
    //   146	163	282	java/io/UnsupportedEncodingException
    //   305	309	318	java/lang/Exception
    //   146	163	326	com/push2/sdk/c/d
    //   349	353	362	java/lang/Exception
    //   273	277	370	java/lang/Exception
  }
  
  public String b()
  {
    return this.d;
  }
  
  public void b(String paramString)
  {
    this.e = paramString;
  }
  
  public String c()
  {
    return this.e;
  }
  
  public void c(String paramString)
  {
    this.f = paramString;
  }
  
  public String d()
  {
    return this.f;
  }
  
  public PhoneUtil e()
  {
    return this.g;
  }
}
