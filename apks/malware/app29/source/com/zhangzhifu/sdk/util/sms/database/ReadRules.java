package com.zhangzhifu.sdk.util.sms.database;

import android.content.ContentResolver;
import android.content.Context;
import android.database.Cursor;
import android.net.Uri;
import android.provider.ContactsContract.PhoneLookup;
import android.text.TextUtils;

public class ReadRules
{
  private static final String[] dI = { "data1" };
  
  public ReadRules() {}
  
  public static boolean contactExists(Context paramContext, String paramString)
  {
    paramString = Uri.withAppendedPath(ContactsContract.PhoneLookup.CONTENT_FILTER_URI, Uri.encode(paramString));
    paramContext = paramContext.getContentResolver().query(paramString, new String[] { "_id", "number", "display_name" }, null, null, null);
    try
    {
      boolean bool = paramContext.moveToFirst();
      if (bool) {
        return true;
      }
    }
    finally
    {
      if (paramContext != null) {
        paramContext.close();
      }
    }
    if (paramContext != null) {
      paramContext.close();
    }
    return false;
  }
  
  public static String[] getRulesNumbers(DbAdapter paramDbAdapter, String paramString1, String paramString2)
  {
    int j = paramString2.length();
    Cursor localCursor = paramDbAdapter.fetchAllRulesType(paramString1);
    String[] arrayOfString = new String[localCursor.getCount()];
    int i = 0;
    if (localCursor != null) {}
    for (;;)
    {
      if (!localCursor.moveToNext())
      {
        localCursor.close();
        return arrayOfString;
      }
      paramString1 = localCursor.getString(1);
      if (!TextUtils.isEmpty(paramString1))
      {
        paramDbAdapter = paramString1;
        if (paramString1.startsWith(paramString2)) {
          paramDbAdapter = paramString1.substring(j);
        }
        arrayOfString[i] = paramDbAdapter.replaceAll("[^\\d?*]", "");
        i += 1;
      }
    }
  }
  
  public static String[] getRulesStrings(DbAdapter paramDbAdapter, String paramString)
  {
    paramDbAdapter = paramDbAdapter.fetchAllRulesType(paramString);
    paramString = new String[paramDbAdapter.getCount()];
    int i = 0;
    if (paramDbAdapter != null) {}
    for (;;)
    {
      if (!paramDbAdapter.moveToNext())
      {
        paramDbAdapter.close();
        return paramString;
      }
      String str = paramDbAdapter.getString(1);
      if (!TextUtils.isEmpty(str))
      {
        paramString[i] = str;
        i += 1;
      }
    }
  }
}
