package com.yl.ml.b;

import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import com.yl.codelib.utils.HttpConnent;
import com.yl.codelib.utils.TextUtil;
import org.json.JSONException;
import org.json.JSONObject;

final class s
  implements Runnable
{
  s(q paramQ, String paramString, Handler paramHandler) {}
  
  public final void run()
  {
    int i = 0;
    for (;;)
    {
      if ((i >= 10) && ((!TextUtil.notNull(MA.g(q.a(this.aA)))) || (MA.g(q.a(this.aA)).equals("NO")))) {
        break label268;
      }
      try
      {
        localObject2 = new JSONObject(MA.g(q.a(this.aA)));
        Object localObject1 = ((JSONObject)localObject2).getString("code");
        if (((String)localObject1).equals("200"))
        {
          localObject2 = ((JSONObject)localObject2).getString("yzmurl") + this.aB;
          localObject1 = new Message();
          localObject2 = HttpConnent.doHttpPost((String)localObject2, 0);
          if (((String)localObject2).equals("NO"))
          {
            ((Message)localObject1).what = -1;
            this.aC.sendMessage((Message)localObject1);
            return;
            i += 1;
            if (TextUtil.notNull(MA.g(q.a(this.aA)))) {
              continue;
            }
            try
            {
              Thread.sleep(1000L);
            }
            catch (InterruptedException localInterruptedException) {}
            continue;
          }
          localInterruptedException.what = 1;
          localInterruptedException.obj = localObject2;
          this.aC.sendMessage(localInterruptedException);
        }
      }
      catch (JSONException localJSONException)
      {
        localMessage = new Message();
        localMessage.what = 161;
        this.aC.sendMessage(localMessage);
        return;
      }
    }
    Object localObject2 = new Message();
    Bundle localBundle = new Bundle();
    localBundle.putString("code", localMessage);
    ((Message)localObject2).what = 160;
    ((Message)localObject2).setData(localBundle);
    this.aC.sendMessage((Message)localObject2);
    return;
    label268:
    Message localMessage = new Message();
    localMessage.what = 162;
    this.aC.sendMessage(localMessage);
  }
}
