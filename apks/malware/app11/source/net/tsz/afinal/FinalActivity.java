package net.tsz.afinal;

import android.app.Activity;
import android.os.Bundle;
import android.text.TextUtils;
import android.view.View;
import android.view.ViewGroup.LayoutParams;
import android.view.Window;
import android.widget.AbsListView;
import java.lang.reflect.Field;
import net.tsz.afinal.annotation.view.EventListener;
import net.tsz.afinal.annotation.view.Select;
import net.tsz.afinal.annotation.view.ViewInject;

public class FinalActivity
  extends Activity
{
  public FinalActivity() {}
  
  public static void initInjectedView(Activity paramActivity)
  {
    initInjectedView(paramActivity, paramActivity.getWindow().getDecorView());
  }
  
  public static void initInjectedView(Object paramObject, View paramView)
  {
    Field[] arrayOfField = paramObject.getClass().getDeclaredFields();
    int j;
    int i;
    if ((arrayOfField != null) && (arrayOfField.length > 0))
    {
      j = arrayOfField.length;
      i = 0;
    }
    for (;;)
    {
      if (i >= j) {
        return;
      }
      Field localField = arrayOfField[i];
      Object localObject = (ViewInject)localField.getAnnotation(ViewInject.class);
      int k;
      if (localObject != null) {
        k = ((ViewInject)localObject).id();
      }
      try
      {
        localField.setAccessible(true);
        localField.set(paramObject, paramView.findViewById(k));
        String str = ((ViewInject)localObject).click();
        if (!TextUtils.isEmpty(str)) {
          setViewClickListener(paramView, localField, str);
        }
        str = ((ViewInject)localObject).longClick();
        if (!TextUtils.isEmpty(str)) {
          setViewLongClickListener(paramView, localField, str);
        }
        str = ((ViewInject)localObject).itemClick();
        if (!TextUtils.isEmpty(str)) {
          setItemClickListener(paramView, localField, str);
        }
        str = ((ViewInject)localObject).itemLongClick();
        if (!TextUtils.isEmpty(str)) {
          setItemLongClickListener(paramView, localField, str);
        }
        localObject = ((ViewInject)localObject).select();
        if (!TextUtils.isEmpty(((Select)localObject).selected())) {
          setViewSelectListener(paramView, localField, ((Select)localObject).selected(), ((Select)localObject).noSelected());
        }
        i += 1;
      }
      catch (Exception localException)
      {
        for (;;)
        {
          localException.printStackTrace();
        }
      }
    }
  }
  
  private static void setItemClickListener(Object paramObject, Field paramField, String paramString)
  {
    try
    {
      paramField = paramField.get(paramObject);
      if ((paramField instanceof AbsListView)) {
        ((AbsListView)paramField).setOnItemClickListener(new EventListener(paramObject).itemClick(paramString));
      }
      return;
    }
    catch (Exception paramObject)
    {
      paramObject.printStackTrace();
    }
  }
  
  private static void setItemLongClickListener(Object paramObject, Field paramField, String paramString)
  {
    try
    {
      paramField = paramField.get(paramObject);
      if ((paramField instanceof AbsListView)) {
        ((AbsListView)paramField).setOnItemLongClickListener(new EventListener(paramObject).itemLongClick(paramString));
      }
      return;
    }
    catch (Exception paramObject)
    {
      paramObject.printStackTrace();
    }
  }
  
  private static void setViewClickListener(Object paramObject, Field paramField, String paramString)
  {
    try
    {
      paramField = paramField.get(paramObject);
      if ((paramField instanceof View)) {
        ((View)paramField).setOnClickListener(new EventListener(paramObject).click(paramString));
      }
      return;
    }
    catch (Exception paramObject)
    {
      paramObject.printStackTrace();
    }
  }
  
  private static void setViewLongClickListener(Object paramObject, Field paramField, String paramString)
  {
    try
    {
      paramField = paramField.get(paramObject);
      if ((paramField instanceof View)) {
        ((View)paramField).setOnLongClickListener(new EventListener(paramObject).longClick(paramString));
      }
      return;
    }
    catch (Exception paramObject)
    {
      paramObject.printStackTrace();
    }
  }
  
  private static void setViewSelectListener(Object paramObject, Field paramField, String paramString1, String paramString2)
  {
    try
    {
      paramField = paramField.get(paramObject);
      if ((paramField instanceof View)) {
        ((AbsListView)paramField).setOnItemSelectedListener(new EventListener(paramObject).select(paramString1).noSelect(paramString2));
      }
      return;
    }
    catch (Exception paramObject)
    {
      paramObject.printStackTrace();
    }
  }
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
  }
  
  public void setContentView(int paramInt)
  {
    super.setContentView(paramInt);
    initInjectedView(this);
  }
  
  public void setContentView(View paramView)
  {
    super.setContentView(paramView);
    initInjectedView(this);
  }
  
  public void setContentView(View paramView, ViewGroup.LayoutParams paramLayoutParams)
  {
    super.setContentView(paramView, paramLayoutParams);
    initInjectedView(this);
  }
}
