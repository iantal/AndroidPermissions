package com.zdtpay;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import com.zdtpay.a.a;
import com.zdtpay.tools.MyLogPrinter;
import com.zdtpay.tools.c;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

class ab
  extends BroadcastReceiver
{
  ab(ZTbje paramZTbje) {}
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    int i = 1;
    int j = 1;
    if (paramIntent == null) {}
    a localA;
    int k;
    Object localObject;
    HashMap localHashMap;
    String str;
    do
    {
      do
      {
        return;
      } while (!paramIntent.getAction().equals(this.a.o));
      localA = ZTbje.c(this.a);
      k = this.a.d.getInt(c.A, 0);
      localObject = new boolean[k];
      localHashMap = new HashMap();
      str = paramIntent.getStringExtra(c.p);
      paramIntent.getStringExtra(c.p + "tid");
    } while ((str != null) && (str.endsWith("_x")));
    if (com.zdtpay.tools.b.a != null)
    {
      i = j;
      if (str != null)
      {
        this.a.d.edit().putBoolean(str, true).commit();
        i = 1;
        j = 0;
        label164:
        if (j < k) {
          break label364;
        }
        localHashMap.put("order", str);
      }
      localObject = localA.b();
      if (i == 0) {
        break label415;
      }
      paramIntent = "1";
      label197:
      localHashMap.put("isLast", paramIntent);
      localHashMap.put("code", localObject);
      localHashMap.put("err_msg", localA.a());
      localHashMap.put("paymoney", ZTbje.a(this.a).getPrice());
      localHashMap.put("extra", ZTbje.a(this.a).getExtra());
      switch (getResultCode())
      {
      default: 
        MyLogPrinter.a("短信发送失败" + getResultCode());
        localHashMap.put("code", "-4");
        localHashMap.put("err_msg", "短信发送失败");
        com.zdtpay.tools.b.a.onFail(localHashMap);
      }
    }
    while (i != 0)
    {
      this.a.a();
      return;
      label364:
      localObject[j] = this.a.d.getBoolean(((com.zdtpay.a.b)localA.d().get(j)).h(), false);
      i |= localObject[j];
      j += 1;
      break label164;
      label415:
      paramIntent = "0";
      break label197;
      MyLogPrinter.a("短信发送成功");
      com.zdtpay.tools.b.a.onSuccess(localHashMap);
      ZTbje.a(paramContext, "e:" + str);
    }
  }
}
