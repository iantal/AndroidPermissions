package com.lepeng.fastjson;

import com.lepeng.fastjson.serializer.JSONSerializer;
import com.lepeng.fastjson.serializer.SerializeWriter;
import com.lepeng.fastjson.serializer.SerializerFeature;
import java.io.Closeable;
import java.io.Flushable;
import java.io.Writer;

public class JSONWriter
  implements Closeable, Flushable
{
  private JSONStreamContext jdField_a_of_type_ComLepengFastjsonJSONStreamContext;
  private JSONSerializer jdField_a_of_type_ComLepengFastjsonSerializerJSONSerializer;
  private SerializeWriter jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter;
  
  public JSONWriter(Writer paramWriter)
  {
    this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter = new SerializeWriter(paramWriter);
    this.jdField_a_of_type_ComLepengFastjsonSerializerJSONSerializer = new JSONSerializer(this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter);
  }
  
  private void b()
  {
    this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext = this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext.a();
    if (this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext == null) {
      return;
    }
    int i;
    switch (this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext.getState())
    {
    case 1003: 
    default: 
      i = -1;
    }
    while (i != -1)
    {
      this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext.setState(i);
      return;
      i = 1003;
      continue;
      i = 1005;
      continue;
      i = -1;
      continue;
      i = 1002;
    }
  }
  
  private void e()
  {
    int i = this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext.getState();
    switch (i)
    {
    case 1003: 
    default: 
      throw new JSONException("illegal state : " + i);
    case 1002: 
      this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter.write(':');
    case 1001: 
    case 1004: 
      return;
    }
    this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter.write(',');
  }
  
  private void f()
  {
    if (this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext == null) {
      return;
    }
    switch (this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext.getState())
    {
    case 1001: 
    case 1004: 
    default: 
      return;
    case 1002: 
      this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter.write(':');
      return;
    case 1003: 
      this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter.write(',');
      return;
    }
    this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter.write(',');
  }
  
  private void g()
  {
    if (this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext == null) {
      return;
    }
    int i;
    switch (this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext.getState())
    {
    default: 
      i = -1;
    }
    while (i != -1)
    {
      this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext.setState(i);
      return;
      i = 1003;
      continue;
      i = 1002;
      continue;
      i = 1005;
      continue;
      i = -1;
    }
  }
  
  public void close()
  {
    this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter.close();
  }
  
  public void config(SerializerFeature paramSerializerFeature, boolean paramBoolean)
  {
    this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter.config(paramSerializerFeature, paramBoolean);
  }
  
  public void endArray()
  {
    this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter.write(']');
    b();
  }
  
  public void endObject()
  {
    this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter.write('}');
    b();
  }
  
  public void flush()
  {
    this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter.flush();
  }
  
  public void startArray()
  {
    if (this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext != null) {
      e();
    }
    this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext = new JSONStreamContext(this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext, 1004);
    this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter.write('[');
  }
  
  public void startObject()
  {
    if (this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext != null) {
      e();
    }
    this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext = new JSONStreamContext(this.jdField_a_of_type_ComLepengFastjsonJSONStreamContext, 1001);
    this.jdField_a_of_type_ComLepengFastjsonSerializerSerializeWriter.write('{');
  }
  
  @Deprecated
  public void writeEndArray()
  {
    endArray();
  }
  
  @Deprecated
  public void writeEndObject()
  {
    endObject();
  }
  
  public void writeKey(String paramString)
  {
    writeObject(paramString);
  }
  
  public void writeObject(Object paramObject)
  {
    f();
    this.jdField_a_of_type_ComLepengFastjsonSerializerJSONSerializer.write(paramObject);
    g();
  }
  
  public void writeObject(String paramString)
  {
    f();
    this.jdField_a_of_type_ComLepengFastjsonSerializerJSONSerializer.write(paramString);
    g();
  }
  
  @Deprecated
  public void writeStartArray()
  {
    startArray();
  }
  
  @Deprecated
  public void writeStartObject()
  {
    startObject();
  }
  
  public void writeValue(Object paramObject)
  {
    writeObject(paramObject);
  }
}
