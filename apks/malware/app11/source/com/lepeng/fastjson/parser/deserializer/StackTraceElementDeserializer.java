package com.lepeng.fastjson.parser.deserializer;

import com.lepeng.fastjson.JSON;
import com.lepeng.fastjson.JSONException;
import com.lepeng.fastjson.parser.DefaultJSONParser;
import com.lepeng.fastjson.parser.Feature;
import com.lepeng.fastjson.parser.JSONLexer;
import com.lepeng.fastjson.parser.JSONToken;
import java.lang.reflect.Type;

public class StackTraceElementDeserializer
  implements ObjectDeserializer
{
  public static final StackTraceElementDeserializer instance = new StackTraceElementDeserializer();
  
  public StackTraceElementDeserializer() {}
  
  public Object deserialze(DefaultJSONParser paramDefaultJSONParser, Type paramType, Object paramObject)
  {
    JSONLexer localJSONLexer = paramDefaultJSONParser.getLexer();
    if (localJSONLexer.token() == 8)
    {
      localJSONLexer.nextToken();
      return null;
    }
    if ((localJSONLexer.token() != 12) && (localJSONLexer.token() != 16)) {
      throw new JSONException("syntax error: " + JSONToken.name(localJSONLexer.token()));
    }
    Object localObject3 = null;
    Object localObject2 = null;
    Type localType = null;
    int j = 0;
    Object localObject1;
    int i;
    label131:
    do
    {
      paramType = localJSONLexer.scanSymbol(paramDefaultJSONParser.getSymbolTable());
      if (paramType != null) {
        break;
      }
      if (localJSONLexer.token() == 13)
      {
        localJSONLexer.nextToken(16);
        localObject1 = localObject3;
        paramObject = localObject2;
        paramType = localType;
        i = j;
        return new StackTraceElement((String)localObject1, paramObject, paramType, i);
      }
    } while ((localJSONLexer.token() == 16) && (localJSONLexer.isEnabled(Feature.AllowArbitraryCommas)));
    localJSONLexer.nextTokenWithColon(4);
    if (paramType == "className") {
      if (localJSONLexer.token() == 8)
      {
        localObject1 = null;
        paramObject = localObject2;
        paramType = localType;
        i = j;
      }
    }
    label595:
    label605:
    label677:
    do
    {
      String str;
      do
      {
        for (;;)
        {
          j = i;
          localType = paramType;
          localObject2 = paramObject;
          localObject3 = localObject1;
          if (localJSONLexer.token() != 13) {
            break;
          }
          localJSONLexer.nextToken(16);
          break label131;
          if (localJSONLexer.token() == 4)
          {
            localObject1 = localJSONLexer.stringVal();
            i = j;
            paramType = localType;
            paramObject = localObject2;
          }
          else
          {
            throw new JSONException("syntax error");
            if (paramType == "methodName")
            {
              if (localJSONLexer.token() == 8)
              {
                paramObject = null;
                i = j;
                paramType = localType;
                localObject1 = localObject3;
              }
              else if (localJSONLexer.token() == 4)
              {
                paramObject = localJSONLexer.stringVal();
                i = j;
                paramType = localType;
                localObject1 = localObject3;
              }
              else
              {
                throw new JSONException("syntax error");
              }
            }
            else if (paramType == "fileName")
            {
              if (localJSONLexer.token() == 8)
              {
                paramType = null;
                i = j;
                paramObject = localObject2;
                localObject1 = localObject3;
              }
              else if (localJSONLexer.token() == 4)
              {
                paramType = localJSONLexer.stringVal();
                i = j;
                paramObject = localObject2;
                localObject1 = localObject3;
              }
              else
              {
                throw new JSONException("syntax error");
              }
            }
            else if (paramType == "lineNumber")
            {
              if (localJSONLexer.token() == 8)
              {
                i = 0;
                paramType = localType;
                paramObject = localObject2;
                localObject1 = localObject3;
              }
              else if (localJSONLexer.token() == 2)
              {
                i = localJSONLexer.intValue();
                paramType = localType;
                paramObject = localObject2;
                localObject1 = localObject3;
              }
              else
              {
                throw new JSONException("syntax error");
              }
            }
            else
            {
              if (paramType != "nativeMethod") {
                break label605;
              }
              if (localJSONLexer.token() == 8)
              {
                localJSONLexer.nextToken(16);
                i = j;
                paramType = localType;
                paramObject = localObject2;
                localObject1 = localObject3;
              }
              else if (localJSONLexer.token() == 6)
              {
                localJSONLexer.nextToken(16);
                i = j;
                paramType = localType;
                paramObject = localObject2;
                localObject1 = localObject3;
              }
              else
              {
                if (localJSONLexer.token() != 7) {
                  break label595;
                }
                localJSONLexer.nextToken(16);
                i = j;
                paramType = localType;
                paramObject = localObject2;
                localObject1 = localObject3;
              }
            }
          }
        }
        throw new JSONException("syntax error");
        if (paramType != JSON.DEFAULT_TYPE_KEY) {
          break label711;
        }
        if (localJSONLexer.token() != 4) {
          break label677;
        }
        str = localJSONLexer.stringVal();
        i = j;
        paramType = localType;
        paramObject = localObject2;
        localObject1 = localObject3;
      } while (str.equals("java.lang.StackTraceElement"));
      throw new JSONException("syntax error : " + str);
      i = j;
      paramType = localType;
      paramObject = localObject2;
      localObject1 = localObject3;
    } while (localJSONLexer.token() == 8);
    throw new JSONException("syntax error");
    label711:
    throw new JSONException("syntax error : " + paramType);
  }
  
  public int getFastMatchToken()
  {
    return 12;
  }
}
