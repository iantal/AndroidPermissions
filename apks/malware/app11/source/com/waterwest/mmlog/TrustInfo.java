package com.waterwest.mmlog;

import android.content.Context;
import android.content.SharedPreferences;
import java.util.Random;

public class TrustInfo
{
  public static volatile long actLogTime = 0L;
  public static String appId;
  public static String channelID;
  public static String esm;
  public static String mdh;
  public static String packageName;
  public static String paycode;
  public static String pkm;
  public static String programID;
  public static volatile long sysLogTime = 0L;
  public static String tid;
  public static String timestamp;
  public static String version;
  public static String versionCode;
  public static String versionName;
  
  public TrustInfo() {}
  
  public static void auth(Context paramContext, String paramString1, String paramString2, String paramString3, String paramString4, String paramString5, String paramString6, String paramString7, String paramString8, String paramString9, String paramString10, String paramString11, String paramString12, String paramString13)
  {
    int j = 1;
    int i = j;
    if (g.a())
    {
      i = j;
      if (packageName.equals(paramString1))
      {
        i = j;
        if (appId.equals(paramString4))
        {
          i = j;
          if (channelID.equals(paramString8))
          {
            i = j;
            if (version.equals(paramString7)) {
              i = 0;
            }
          }
        }
      }
    }
    paycode = paramString5;
    packageName = paramString1;
    version = paramString7;
    versionCode = paramString2;
    versionName = paramString3;
    appId = paramString4;
    channelID = paramString8;
    programID = paramString9;
    esm = paramString11;
    mdh = paramString12;
    pkm = paramString13;
    tid = paramString6;
    timestamp = paramString10;
    if (i != 0)
    {
      g.a(false);
      g.c(paramContext);
      init(paramContext);
    }
    i = new Random(System.currentTimeMillis()).nextInt(10) + 7;
    d.b(Long.valueOf(timestamp).longValue() - i);
    d.a(Long.valueOf(timestamp).longValue() - i);
    d.a = 2;
    d.a(paramContext);
    d.a(paramContext);
  }
  
  public static void init(Context paramContext)
  {
    Object localObject2 = f.h(paramContext);
    Object localObject1 = localObject2;
    if ("00000".equals(localObject2)) {
      localObject1 = null;
    }
    String str1 = f.i(paramContext);
    localObject2 = str1;
    if (str1 != null)
    {
      localObject2 = str1;
      if (str1.trim().isEmpty()) {
        localObject2 = null;
      }
    }
    str1 = paramContext.getSharedPreferences("lxdMoblieAgent_sys_config", 0).getString("MOBILE_PROGRAM_ID", "");
    String str2;
    label124:
    String str3;
    label158:
    String str4;
    label192:
    String str5;
    if (str1.trim().equals(""))
    {
      str1 = null;
      str2 = paramContext.getSharedPreferences("lxdMoblieAgent_sys_config", 0).getString("MOBILE_VERSION", "");
      if (!str2.trim().equals("")) {
        break label333;
      }
      str2 = null;
      str3 = paramContext.getSharedPreferences("lxdMoblieAgent_sys_config", 0).getString("MOBILE_VERSION_NAME", "");
      if (!str3.trim().equals("")) {
        break label343;
      }
      str3 = null;
      str4 = paramContext.getSharedPreferences("lxdMoblieAgent_sys_config", 0).getString("MOBILE_VERSION_CODE", "");
      if (!str4.trim().equals("")) {
        break label353;
      }
      str4 = null;
      str5 = paramContext.getSharedPreferences("lxdMoblieAgent_sys_config", 0).getString("MOBILE_PACKAGE_NAME", "");
      if (!str5.trim().equals("")) {
        break label363;
      }
      str5 = null;
      label226:
      if ((localObject1 == null) || (localObject2 == null) || (str1 == null) || (str2 == null) || (str5 == null)) {
        break label373;
      }
      appId = (String)localObject1;
      channelID = (String)localObject2;
      packageName = str5;
      programID = str1;
      version = str2;
      versionName = str3;
      versionCode = str4;
      timestamp = null;
      d.a = 1;
      d.a(paramContext, (String)localObject1, (String)localObject2, str1, str2, str5, str4, str3);
      d.b();
      d.c();
      d.a(paramContext);
    }
    label333:
    label343:
    label353:
    label363:
    label373:
    while ((appId == localObject1) || (channelID == localObject2) || (version == str2) || (versionCode == str4) || (versionName == str3) || (timestamp == null))
    {
      return;
      str1 = str1.trim();
      break;
      str2 = str2.trim();
      break label124;
      str3 = str3.trim();
      break label158;
      str4 = str4.trim();
      break label192;
      str5 = str5.trim();
      break label226;
    }
    localObject1 = new Random(System.currentTimeMillis());
    int i = ((Random)localObject1).nextInt(3600);
    long l = Long.valueOf(timestamp).longValue() - (i + 300);
    d.a = 1;
    actLogTime = (Long.valueOf(l).longValue() - 1L) * 1000L + ((Random)localObject1).nextInt(1200);
    sysLogTime = ((Random)localObject1).nextInt(50) + actLogTime;
    d.a(paramContext, appId, channelID, programID, version, packageName, versionCode, versionName);
    d.b(l);
    d.a(l);
    d.a(paramContext);
  }
  
  public static void onPause(Context paramContext)
  {
    g.b(paramContext);
  }
  
  public static void onResume(Context paramContext)
  {
    g.a(paramContext);
  }
  
  public static void pay(Context paramContext)
  {
    if ((timestamp != null) && (esm != null) && (tid != null))
    {
      int i = new Random(System.currentTimeMillis()).nextInt(5);
      d.b(Long.valueOf(timestamp).longValue() - (i + 2));
      d.a(Long.valueOf(timestamp).longValue());
      d.a = 3;
      d.a(paramContext);
      d.a = 5;
      d.a(paramContext);
    }
    timestamp = null;
    esm = null;
    tid = null;
    pkm = null;
    sysLogTime = 0L;
    actLogTime = 0L;
  }
}
