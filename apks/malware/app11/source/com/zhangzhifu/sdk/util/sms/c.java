package com.zhangzhifu.sdk.util.sms;

import android.content.Context;
import android.content.Intent;
import android.os.AsyncTask;
import android.util.Log;
import com.zhangzhifu.sdk.util.sms.database.DbAdapter;
import com.zhangzhifu.sdk.util.sms.util.MessageUtils;

final class c
  extends AsyncTask
{
  private Context bZ;
  
  public c(WapPushReceiver paramWapPushReceiver, Context paramContext)
  {
    this.bZ = paramContext;
  }
  
  private Void a(Intent... paramVarArgs)
  {
    Log.d("WapPushReceiverLog", "ReceiveWapPushTask doInBackground");
    paramVarArgs = paramVarArgs[0].getByteArrayExtra("data");
    Log.d("WapPushReceiverLog", "paser push message");
    try
    {
      paramVarArgs = new WapPushWbxmlParser(paramVarArgs);
      Context localContext = this.bZ;
      paramVarArgs = paramVarArgs.getTitle() + " " + paramVarArgs.getContent();
      MessageUtils.writeStringSharedPreferences(localContext, "blockedcount", Long.valueOf(new DbAdapter(localContext).createOne("WAP PUSH", paramVarArgs, System.currentTimeMillis(), " [WapPush SI]")).toString());
      return null;
    }
    catch (Exception paramVarArgs)
    {
      for (;;)
      {
        Log.d("WapPushReceiverLog", paramVarArgs.toString());
        paramVarArgs = null;
      }
    }
  }
}
