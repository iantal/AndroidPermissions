package com.zdtpay.tools;

import android.content.Context;
import android.content.SharedPreferences;
import com.zdtpay.ZDTPaySDK;
import java.io.PrintStream;
import java.util.Iterator;
import java.util.Set;
import java.util.TreeMap;

public class d
  implements Thread.UncaughtExceptionHandler
{
  public static final String a = d.class.getSimpleName();
  private static d b = new d();
  private static Context c;
  private Thread.UncaughtExceptionHandler d;
  
  private d() {}
  
  public static d a()
  {
    return b;
  }
  
  /* Error */
  public static String a(String paramString1, String paramString2)
  {
    // Byte code:
    //   0: new 39	java/net/URL
    //   3: dup
    //   4: new 41	java/lang/StringBuilder
    //   7: dup
    //   8: aload_0
    //   9: invokestatic 47	java/lang/String:valueOf	(Ljava/lang/Object;)Ljava/lang/String;
    //   12: invokespecial 50	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   15: ldc 52
    //   17: invokevirtual 56	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   20: aload_1
    //   21: invokevirtual 56	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   24: invokevirtual 59	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   27: invokespecial 60	java/net/URL:<init>	(Ljava/lang/String;)V
    //   30: invokevirtual 64	java/net/URL:openConnection	()Ljava/net/URLConnection;
    //   33: astore_0
    //   34: aload_0
    //   35: ldc 66
    //   37: ldc 68
    //   39: invokevirtual 74	java/net/URLConnection:setRequestProperty	(Ljava/lang/String;Ljava/lang/String;)V
    //   42: aload_0
    //   43: ldc 76
    //   45: ldc 78
    //   47: invokevirtual 74	java/net/URLConnection:setRequestProperty	(Ljava/lang/String;Ljava/lang/String;)V
    //   50: aload_0
    //   51: ldc 80
    //   53: getstatic 82	com/zdtpay/tools/d:c	Landroid/content/Context;
    //   56: invokevirtual 87	android/content/Context:getPackageName	()Ljava/lang/String;
    //   59: invokevirtual 74	java/net/URLConnection:setRequestProperty	(Ljava/lang/String;Ljava/lang/String;)V
    //   62: aload_0
    //   63: invokevirtual 90	java/net/URLConnection:connect	()V
    //   66: aload_0
    //   67: checkcast 92	java/net/HttpURLConnection
    //   70: invokevirtual 96	java/net/HttpURLConnection:getResponseCode	()I
    //   73: istore_2
    //   74: iload_2
    //   75: sipush 200
    //   78: if_icmpeq +8 -> 86
    //   81: ldc 98
    //   83: astore_3
    //   84: aload_3
    //   85: areturn
    //   86: aload_0
    //   87: invokevirtual 102	java/net/URLConnection:getHeaderFields	()Ljava/util/Map;
    //   90: astore_1
    //   91: aload_1
    //   92: invokeinterface 108 1 0
    //   97: invokeinterface 114 1 0
    //   102: astore_3
    //   103: aload_3
    //   104: invokeinterface 120 1 0
    //   109: ifne +53 -> 162
    //   112: new 122	java/io/BufferedReader
    //   115: dup
    //   116: new 124	java/io/InputStreamReader
    //   119: dup
    //   120: aload_0
    //   121: invokevirtual 128	java/net/URLConnection:getInputStream	()Ljava/io/InputStream;
    //   124: invokespecial 131	java/io/InputStreamReader:<init>	(Ljava/io/InputStream;)V
    //   127: invokespecial 134	java/io/BufferedReader:<init>	(Ljava/io/Reader;)V
    //   130: astore_1
    //   131: ldc 98
    //   133: astore_0
    //   134: aload_1
    //   135: invokevirtual 137	java/io/BufferedReader:readLine	()Ljava/lang/String;
    //   138: astore_3
    //   139: aload_3
    //   140: ifnonnull +124 -> 264
    //   143: aload_0
    //   144: astore_3
    //   145: aload_1
    //   146: ifnull -62 -> 84
    //   149: aload_1
    //   150: invokevirtual 140	java/io/BufferedReader:close	()V
    //   153: aload_0
    //   154: areturn
    //   155: astore_1
    //   156: aload_1
    //   157: invokevirtual 143	java/io/IOException:printStackTrace	()V
    //   160: aload_0
    //   161: areturn
    //   162: aload_3
    //   163: invokeinterface 147 1 0
    //   168: checkcast 43	java/lang/String
    //   171: astore 4
    //   173: getstatic 153	java/lang/System:out	Ljava/io/PrintStream;
    //   176: new 41	java/lang/StringBuilder
    //   179: dup
    //   180: aload 4
    //   182: invokestatic 47	java/lang/String:valueOf	(Ljava/lang/Object;)Ljava/lang/String;
    //   185: invokespecial 50	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   188: ldc -101
    //   190: invokevirtual 56	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   193: aload_1
    //   194: aload 4
    //   196: invokeinterface 159 2 0
    //   201: invokevirtual 162	java/lang/StringBuilder:append	(Ljava/lang/Object;)Ljava/lang/StringBuilder;
    //   204: invokevirtual 59	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   207: invokevirtual 167	java/io/PrintStream:println	(Ljava/lang/String;)V
    //   210: goto -107 -> 103
    //   213: astore_3
    //   214: aconst_null
    //   215: astore_0
    //   216: ldc 98
    //   218: astore_1
    //   219: getstatic 153	java/lang/System:out	Ljava/io/PrintStream;
    //   222: new 41	java/lang/StringBuilder
    //   225: dup
    //   226: ldc -87
    //   228: invokespecial 50	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   231: aload_3
    //   232: invokevirtual 162	java/lang/StringBuilder:append	(Ljava/lang/Object;)Ljava/lang/StringBuilder;
    //   235: invokevirtual 59	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   238: invokevirtual 167	java/io/PrintStream:println	(Ljava/lang/String;)V
    //   241: aload_3
    //   242: invokevirtual 170	java/lang/Exception:printStackTrace	()V
    //   245: aload_1
    //   246: astore_3
    //   247: aload_0
    //   248: ifnull -164 -> 84
    //   251: aload_0
    //   252: invokevirtual 140	java/io/BufferedReader:close	()V
    //   255: aload_1
    //   256: areturn
    //   257: astore_0
    //   258: aload_0
    //   259: invokevirtual 143	java/io/IOException:printStackTrace	()V
    //   262: aload_1
    //   263: areturn
    //   264: new 41	java/lang/StringBuilder
    //   267: dup
    //   268: aload_0
    //   269: invokestatic 47	java/lang/String:valueOf	(Ljava/lang/Object;)Ljava/lang/String;
    //   272: invokespecial 50	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   275: ldc -84
    //   277: invokevirtual 56	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   280: aload_3
    //   281: invokevirtual 56	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   284: invokevirtual 59	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   287: astore_3
    //   288: aload_3
    //   289: astore_0
    //   290: goto -156 -> 134
    //   293: astore_1
    //   294: aconst_null
    //   295: astore_0
    //   296: aload_0
    //   297: astore_3
    //   298: aload_1
    //   299: astore_0
    //   300: aload_3
    //   301: ifnull +7 -> 308
    //   304: aload_3
    //   305: invokevirtual 140	java/io/BufferedReader:close	()V
    //   308: aload_0
    //   309: athrow
    //   310: astore_1
    //   311: aload_1
    //   312: invokevirtual 143	java/io/IOException:printStackTrace	()V
    //   315: goto -7 -> 308
    //   318: astore_3
    //   319: aload_1
    //   320: astore 4
    //   322: aload_0
    //   323: astore_1
    //   324: aload 4
    //   326: astore_0
    //   327: goto -108 -> 219
    //   330: astore_0
    //   331: aload_1
    //   332: astore_3
    //   333: goto -33 -> 300
    //   336: astore_1
    //   337: goto -41 -> 296
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	340	0	paramString1	String
    //   0	340	1	paramString2	String
    //   73	6	2	i	int
    //   83	80	3	localObject	Object
    //   213	29	3	localException1	Exception
    //   246	59	3	str1	String
    //   318	1	3	localException2	Exception
    //   332	1	3	str2	String
    //   171	154	4	str3	String
    // Exception table:
    //   from	to	target	type
    //   149	153	155	java/io/IOException
    //   0	74	213	java/lang/Exception
    //   86	103	213	java/lang/Exception
    //   103	131	213	java/lang/Exception
    //   162	210	213	java/lang/Exception
    //   251	255	257	java/io/IOException
    //   0	74	293	finally
    //   86	103	293	finally
    //   103	131	293	finally
    //   162	210	293	finally
    //   304	308	310	java/io/IOException
    //   134	139	318	java/lang/Exception
    //   264	288	318	java/lang/Exception
    //   134	139	330	finally
    //   264	288	330	finally
    //   219	245	336	finally
  }
  
  public String a(String paramString)
  {
    TreeMap localTreeMap = new TreeMap();
    Object localObject2 = c.getSharedPreferences("myevent", 0);
    Object localObject1 = ((SharedPreferences)localObject2).getString("zpayAppKey", "");
    localObject2 = ((SharedPreferences)localObject2).getString("zpayAppSecret", "");
    localTreeMap.put("Imei", f.l(c));
    localTreeMap.put("Appkey", localObject1);
    localTreeMap.put("AppSecret", localObject2);
    localTreeMap.put("Ver", ZDTPaySDK.getVersion());
    localTreeMap.put("Content", paramString);
    localTreeMap.put("Osversion", f.f());
    localTreeMap.put("Brand", f.b());
    localTreeMap.put("Model", f.c());
    localTreeMap.put("Package", c.getPackageName());
    localTreeMap.put("Applabel", f.m(c));
    paramString = new StringBuffer();
    localObject1 = localTreeMap.keySet().iterator();
    for (;;)
    {
      if (!((Iterator)localObject1).hasNext())
      {
        if (paramString.length() != 0) {
          paramString.deleteCharAt(paramString.length() - 1);
        }
        return paramString.toString();
      }
      localObject2 = ((String)((Iterator)localObject1).next()).trim();
      paramString.append(localObject2 + "=" + (String)localTreeMap.get(localObject2) + "&");
    }
  }
  
  public void a(Context paramContext)
  {
    c = paramContext;
    this.d = Thread.getDefaultUncaughtExceptionHandler();
    Thread.setDefaultUncaughtExceptionHandler(this);
  }
  
  public void uncaughtException(Thread paramThread, Throwable paramThrowable)
  {
    paramThrowable.printStackTrace();
    System.out.println("uncaughtException");
    if (c == null) {
      return;
    }
    new e(this, paramThrowable).start();
  }
}
