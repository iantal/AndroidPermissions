package com.zdtpay;

import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.os.Handler;
import com.duowan.mobile.netroid.q;
import com.zdtpay.a.a;
import com.zdtpay.net.DataRequestTask.RequestCallBack;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import org.json.JSONObject;

class x
  implements DataRequestTask.RequestCallBack
{
  x(ZTbje paramZTbje) {}
  
  public void error(q paramQ)
  {
    paramQ = new HashMap();
    paramQ.put(com.zdtpay.tools.c.x, "-1");
    paramQ.put(com.zdtpay.tools.c.y, "获取数据失败");
    paramQ.put("isLast", "1");
    com.zdtpay.tools.b.a.onFail(paramQ);
  }
  
  public void requestData(Object paramObject)
  {
    for (;;)
    {
      int i;
      try
      {
        JSONObject localJSONObject = new JSONObject((String)paramObject);
        ZTbje.a(this.a, com.zdtpay.a.c.a(localJSONObject));
        ZTbje.a(this.a.f, ZTbje.c(this.a).b());
        com.zdtpay.tools.b.e = ZTbje.c(this.a);
        this.a.d.edit().putString("requestData", (String)paramObject).commit();
        if (!ZTbje.c(this.a).b().equals("0")) {
          break label547;
        }
        paramObject = ZTbje.c(this.a).d();
        this.a.d.edit().putInt(com.zdtpay.tools.c.E, paramObject.size()).commit();
        i = 0;
        if (i >= paramObject.size())
        {
          if (!ZTbje.c(this.a).c().equals("1")) {
            break;
          }
          ZTbje.a(this.a.f, "c");
          ZTbje.a(this.a, paramObject, false);
          ZTbje.a(this.a.f, "d");
          return;
        }
      }
      catch (Exception paramObject)
      {
        ZTbje.a(this.a.f, paramObject.getMessage());
        paramObject.printStackTrace();
        this.a.b(paramObject.getMessage());
        paramObject = new HashMap();
        paramObject.put(com.zdtpay.tools.c.x, "-1");
        paramObject.put(com.zdtpay.tools.c.y, "获取数据失败");
        paramObject.put("isLast", "1");
        com.zdtpay.tools.b.a.onFail(paramObject);
        this.a.a();
        return;
      }
      this.a.d.edit().putString(com.zdtpay.tools.c.A + i, ((com.zdtpay.a.b)paramObject.get(i)).m()).putString(com.zdtpay.tools.c.B + i, ((com.zdtpay.a.b)paramObject.get(i)).l()).putString(com.zdtpay.tools.c.t + i, ((com.zdtpay.a.b)paramObject.get(i)).k()).putString(com.zdtpay.tools.c.O + i, ((com.zdtpay.a.b)paramObject.get(i)).c()).putString(com.zdtpay.tools.c.P + i, ((com.zdtpay.a.b)paramObject.get(i)).b()).putString(com.zdtpay.tools.c.Q + i, ((com.zdtpay.a.b)paramObject.get(i)).a()).commit();
      i += 1;
    }
    this.a.n.sendEmptyMessage(0);
    return;
    label547:
    paramObject = new HashMap();
    paramObject.put(com.zdtpay.tools.c.x, ZTbje.c(this.a).b());
    paramObject.put(com.zdtpay.tools.c.y, ZTbje.c(this.a).a());
    paramObject.put("isLast", "1");
    com.zdtpay.tools.b.a.onFail(paramObject);
    this.a.a();
  }
}
