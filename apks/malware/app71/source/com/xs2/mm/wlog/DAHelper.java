package com.xs2.mm.wlog;

import android.content.Context;
import android.os.Build;
import android.os.Build.VERSION;
import com.xs2.mm.MMBase64;
import com.xs2.mm.RSAUtils;
import com.xs2.mm.ShareDataUtils;
import java.util.Calendar;

public class DAHelper
{
  public static int BILFAILCODE;
  public static int BILOKCODE = 2016;
  public static int REBUYCODE;
  private static long currentTime;
  public static int field_267;
  public static int field_268;
  public static int field_269;
  public static int field_270;
  public static int field_271;
  public static int field_272;
  public static int field_273;
  public static int field_274;
  public static int field_276 = 2017;
  public static int field_277 = 2018;
  public static int field_278 = 2019;
  public static int field_279 = 2020;
  public static int field_280 = 2021;
  public static int field_284;
  private static long field_285;
  public static int field_286;
  public static int field_287;
  public static int field_288;
  public static int field_289;
  public static int field_292;
  public static int field_293;
  public static int field_294;
  public static int field_295;
  public static int field_296;
  public static int field_297;
  public static int field_298;
  public static int field_300;
  public static int field_301;
  public static int field_302;
  public static int field_303;
  public static int field_304;
  public static int field_305;
  public static int field_306;
  public static int logType;
  public static int payStatus;
  private static long startTime = 0L;
  
  static
  {
    currentTime = 0L;
    field_285 = 0L;
    payStatus = -1;
    field_284 = 1001;
    field_286 = 1002;
    field_287 = 1003;
    field_288 = 1004;
    field_289 = 1005;
    BILFAILCODE = 1006;
    REBUYCODE = 1007;
    field_292 = 1008;
    field_293 = 1009;
    field_294 = 1010;
    field_295 = 1011;
    field_296 = 1012;
    field_297 = 1013;
    field_298 = 1014;
    logType = 1015;
    field_300 = 2001;
    field_301 = 2002;
    field_302 = 2003;
    field_303 = 2004;
    field_304 = 2005;
    field_305 = 2006;
    field_306 = 2007;
    field_267 = 2008;
    field_268 = 2009;
    field_269 = 2010;
    field_270 = 2011;
    field_271 = 2012;
    field_272 = 2013;
    field_273 = 2014;
    field_274 = 2015;
  }
  
  public DAHelper() {}
  
  public static long getCurrentTime()
  {
    return currentTime;
  }
  
  public static String getLogStr(Context paramContext, int paramInt)
  {
    CheckInformation localCheckInformation = CheckInformation.getInsance();
    String str3 = localCheckInformation.appId;
    String str4 = localCheckInformation.paycode;
    String str5 = String.valueOf(localCheckInformation.orderCount);
    String str21 = localCheckInformation.tradeId;
    String str22 = String.valueOf(localCheckInformation.resultCode);
    String str6 = localCheckInformation.packageName;
    String str14 = localCheckInformation.verison;
    String str7 = localCheckInformation.channelId;
    String str23 = localCheckInformation.channelId;
    String str8 = localCheckInformation.imsi;
    String str9 = localCheckInformation.imei;
    String str15 = localCheckInformation.imsi;
    String str16 = localCheckInformation.imei;
    String str17 = Build.MODEL;
    String str18 = localCheckInformation.programID;
    String str19 = Build.VERSION.RELEASE;
    String str20 = localCheckInformation.disWidth + "*" + localCheckInformation.disHeight;
    String str10 = localCheckInformation.inetAddr;
    String str24 = localCheckInformation.versionName;
    String str11 = localCheckInformation.netType;
    String str2 = "";
    if (str11.compareTo("GPRS") != 0) {
      str2 = localCheckInformation.ssid;
    }
    String str25 = localCheckInformation.verison;
    String str12 = String.valueOf(getStartTime());
    String str13 = String.valueOf(getCurrentTime());
    Object localObject = "unknown";
    long l = Calendar.getInstance().getTimeInMillis() / 1000L;
    if (1 == localCheckInformation.payStyle) {
      switch (payStatus)
      {
      default: 
        localObject = "unknown";
      }
    }
    String str1;
    for (;;)
    {
      if (payStatus == 5)
      {
        localObject = Long.valueOf(Calendar.getInstance().getTimeInMillis() / 1000L).toString();
        localObject = RSAUtils.encryptStackMark(localCheckInformation.staticMark, str3, localCheckInformation.appKey, (String)localObject);
        str14 = localCheckInformation.dexSha1;
        str15 = localCheckInformation.publicKey;
        str2 = "@@" + str14 + "@@" + str15 + "@@" + str3 + "@@" + str4 + "@@" + str5 + "@@0@@" + str6 + "@@" + localCheckInformation.verison + "@@" + str7 + "@@" + localCheckInformation.programID + "@@" + str8 + "@@" + str9 + "@@" + str11 + "@@" + str10 + "@@" + str2 + "@@" + str12 + "@@" + str13;
        try
        {
          localObject = ShareDataUtils.readString(paramContext, "rsaServerKey");
          localObject = RSAUtils.rsaEncrypt(str2.getBytes(), (String)localObject);
          if (localObject != null)
          {
            localObject = MMBase64.encodeToString((byte[])localObject);
            paramContext = ShareDataUtils.readString(paramContext, "timestamp");
            str2 = "#" + paramContext + "#" + (String)localObject;
          }
          return str2;
          if (paramInt == 0)
          {
            localObject = "2@@" + str3 + "@@" + str6 + "@@" + str14 + "@@" + str7 + "@@" + str15 + "@@" + str16 + "@@" + str17 + "@@" + str19 + "@@" + str20 + "@@" + str11 + "@@" + str10 + "@@" + str2 + "@@" + str25 + "@@" + str12 + "@@" + str13;
          }
          else if (paramInt == 1)
          {
            localObject = "2@@" + str3 + "@@" + str6 + "@@" + str14 + "@@" + str7 + "@@" + str18 + "@@" + str15 + "@@" + str16 + "@@" + str17 + "@@" + str19 + "@@" + str20 + "@@" + str11 + "@@" + str10 + "@@" + str2 + "@@" + str25 + "@@" + str12 + "@@" + str13 + "@@3";
          }
          else
          {
            localObject = "2@@" + str3 + "@@" + str4 + "@@" + str5 + "@@" + str21 + "@@" + str22 + "@@" + str6 + "@@" + str14 + "@@" + str7 + "@@" + str18 + "@@" + str8 + "@@" + str9 + "@@" + str11 + "@@" + str10 + "@@" + str2 + "@@" + str25 + "@@" + str12 + "@@" + str13 + "@@3";
            continue;
            localObject = "2@@" + str3 + "@@" + str4 + "@@" + str5 + "@@" + str21 + "@@" + str22 + "@@" + str6 + "@@" + str14 + "@@" + str7 + "@@" + str18 + "@@" + str8 + "@@" + str9 + "@@" + str11 + "@@" + str10 + "@@" + str2 + "@@" + str25 + "@@" + str12 + "@@" + str13 + "@@3";
            continue;
            switch (payStatus)
            {
            default: 
              return "unknown";
            case 1: 
              if (paramInt == 0) {
                return "1@@" + str3 + "@@" + str6 + "@@" + str14 + "@@" + str7 + "@@" + str15 + "@@" + str16 + "@@" + str17 + "@@" + str19 + "@@" + str20 + "@@" + str11 + "@@" + str10 + "@@" + str2 + "@@" + str25 + "@@" + str12 + "@@" + str13;
              }
              if (paramInt == 1) {
                return "1@@" + str3 + "@@" + str6 + "@@" + str14 + "@@" + str7 + "@@" + str18 + "@@" + str15 + "@@" + str16 + "@@" + str17 + "@@" + str19 + "@@" + str20 + "@@" + str11 + "@@" + str10 + "@@" + str2 + "@@" + str25 + "@@" + str12 + "@@" + str13 + "@@3";
              }
              break;
            case 2: 
              return "1@@" + str3 + "@@" + str4 + "@@" + str5 + "@@" + str21 + "@@" + str22 + "@@" + str6 + "@@" + str14 + "@@" + str7 + "@@" + str8 + "@@" + str9 + "@@" + str11 + "@@" + str10 + "@@" + str2 + "@@" + str25 + "@@" + str12 + "@@" + str13;
            case 3: 
              return "1@@" + str3 + "@@" + str4 + "@@" + str5 + "@@" + str21 + "@@" + str22 + "@@" + str6 + "@@" + str14 + "@@" + str7 + "@@" + str8 + "@@" + str9 + "@@" + str11 + "@@" + str10 + "@@" + str2 + "@@" + str25 + "@@" + str12 + "@@" + str13;
            case 4: 
              return "1@@" + str3 + "@@" + str6 + "@@" + str24 + "@@" + str7 + "@@" + str23 + "@@" + str18 + "@@" + str8 + "@@" + str9 + "@@" + str25 + "@@" + str17 + "@@Android@@" + str19 + "@@" + l + "@@" + paramInt;
            }
          }
        }
        catch (Exception localException)
        {
          for (;;)
          {
            localException.printStackTrace();
            str1 = null;
          }
        }
      }
    }
    return str1;
  }
  
  public static String getPayStatus()
  {
    switch (payStatus)
    {
    case 4: 
    default: 
      return "_pay_logaction";
    case 1: 
      return "_pay_init";
    case 2: 
      return "_pay_auth";
    case 3: 
      return "_pay_pay";
    }
    return "_security_check";
  }
  
  public static long getStartTime()
  {
    return startTime;
  }
  
  public static void joinDuInit(Context paramContext, String paramString1, String paramString2)
  {
    MobileAgent.joinDu(paramContext, paramString1, paramString2);
  }
  
  public static void onEventRT(Context paramContext)
  {
    switch (payStatus)
    {
    default: 
      OnEventRTHelper.onEventRT(paramContext, getPayStatus(), getLogStr(paramContext, 0));
      return;
    }
    OnEventRTHelper.onEventRT(paramContext, getPayStatus(), getLogStr(paramContext, 0));
    OnEventRTHelper.onEventRT(paramContext, getPayStatus(), getLogStr(paramContext, 1));
  }
  
  public static void onEventRT(Context paramContext, int paramInt)
  {
    payStatus = 4;
    OnEventRTHelper.onEventRT(paramContext, getPayStatus(), getLogStr(paramContext, paramInt));
  }
  
  public static void setFinishTime()
  {
    currentTime = Calendar.getInstance().getTimeInMillis() / 1000L;
  }
  
  public static void setFinishTime(int paramInt)
  {
    currentTime = Calendar.getInstance().getTimeInMillis() / 1000L + paramInt;
  }
  
  public static void setStartTime()
  {
    startTime = Calendar.getInstance().getTimeInMillis() / 1000L;
  }
  
  public static void setStartTime(int paramInt)
  {
    startTime = Calendar.getInstance().getTimeInMillis() / 1000L + paramInt;
  }
}
