package com.xs.mm;

public final class MMBase64
{
  private static final char[] field_182;
  private static final int field_183 = 128;
  private static final int field_184 = 16;
  private static final int field_185 = -128;
  private static final int field_186 = 64;
  private static final byte[] field_187 = new byte[''];
  private static final int field_188 = 8;
  private static final char field_189 = '=';
  private static final int field_190 = 4;
  private static final int field_191 = 24;
  private static final boolean field_192 = false;
  
  static
  {
    field_182 = new char[64];
    int k = 0;
    int m = 0;
    label32:
    label44:
    label56:
    label82:
    int n;
    if (m >= 128)
    {
      k = 90;
      m = 90;
      if (m >= 65) {
        break label156;
      }
      k = 122;
      m = 122;
      if (m >= 97) {
        break label181;
      }
      k = 57;
      m = 57;
      if (m >= 48) {
        break label209;
      }
      field_187[43] = 62;
      field_187[47] = 63;
      k = 0;
      m = 0;
      if (m <= 25) {
        break label237;
      }
      m = 26;
      k = 0;
      n = 26;
      label97:
      if (n <= 51) {
        break label262;
      }
      m = 52;
      k = 0;
      n = 52;
    }
    for (;;)
    {
      if (n > 61)
      {
        field_182[62] = '+';
        field_182[63] = '/';
        return;
        localObject = field_187;
        m = k + 1;
        localObject[k] = -1;
        k = m;
        break;
        label156:
        localObject = field_187;
        int i = (byte)(k - 65);
        m = k - 1;
        localObject[k] = i;
        k = m;
        break label32;
        label181:
        localObject = field_187;
        i = (byte)(k - 97 + 26);
        m = k - 1;
        localObject[k] = i;
        k = m;
        break label44;
        label209:
        localObject = field_187;
        i = (byte)(k - 48 + 52);
        m = k - 1;
        localObject[k] = i;
        k = m;
        break label56;
        label237:
        localObject = field_182;
        j = (char)(k + 65);
        m = k + 1;
        localObject[k] = j;
        k = m;
        break label82;
        label262:
        localObject = field_182;
        j = (char)(k + 97);
        n = m + 1;
        localObject[m] = j;
        k += 1;
        m = n;
        break label97;
      }
      Object localObject = field_182;
      int j = (char)(k + 48);
      n = m + 1;
      localObject[m] = j;
      k += 1;
      m = n;
    }
  }
  
  public MMBase64() {}
  
  public static byte[] decode(String paramString)
  {
    if (paramString != null)
    {
      Object localObject = paramString.toCharArray();
      int j = method_263((char[])localObject);
      if (j % 4 == 0)
      {
        int i1 = j / 4;
        if (i1 == 0) {
          return new byte[0];
        }
        paramString = new byte[i1 * 3];
        int k = 0;
        j = 0;
        int m = 0;
        for (int n = 0;; n = k)
        {
          if (n >= i1 - 1)
          {
            c1 = localObject[m];
            m += 1;
            if (!method_262(c1)) {
              break;
            }
            c2 = localObject[m];
            i1 = m + 1;
            if (!method_262(c2)) {
              break;
            }
            n = field_187[c1];
            m = field_187[c2];
            c1 = localObject[i1];
            i1 += 1;
            c2 = localObject[i1];
            if ((method_262(c1)) && (method_262(c2)))
            {
              k = field_187[c1];
              i1 = field_187[c2];
              i2 = j + 1;
              paramString[j] = ((byte)(n << 2 | m >> 4));
              j = i2 + 1;
              paramString[i2] = ((byte)((m & 0xF) << 4 | k >> 2 & 0xF));
              paramString[j] = ((byte)(k << 6 | i1));
              return paramString;
            }
            if ((method_265(c1)) && (method_265(c2)))
            {
              if ((m & 0xF) != 0) {
                break;
              }
              localObject = new byte[k * 3 + 1];
              System.arraycopy(paramString, 0, localObject, 0, k * 3);
              localObject[j] = ((byte)(n << 2 | m >> 4));
              return localObject;
            }
            if ((method_265(c1)) || (!method_265(c2))) {
              break;
            }
            i1 = field_187[c1];
            if ((i1 & 0x3) != 0) {
              break;
            }
            localObject = new byte[k * 3 + 2];
            System.arraycopy(paramString, 0, localObject, 0, k * 3);
            localObject[j] = ((byte)(n << 2 | m >> 4));
            localObject[(j + 1)] = ((byte)((m & 0xF) << 4 | i1 >> 2 & 0xF));
            return localObject;
          }
          char c1 = localObject[m];
          m += 1;
          if (!method_262(c1)) {
            return null;
          }
          char c2 = localObject[m];
          m += 1;
          if (!method_262(c2)) {
            return null;
          }
          char c3 = localObject[m];
          m += 1;
          if (!method_262(c3)) {
            return null;
          }
          char c4 = localObject[m];
          m += 1;
          if (!method_262(c4)) {
            return null;
          }
          int i5 = field_187[c1];
          int i3 = field_187[c2];
          n = field_187[c3];
          int i2 = field_187[c4];
          int i4 = j + 1;
          paramString[j] = ((byte)(i5 << 2 | i3 >> 4));
          i5 = i4 + 1;
          paramString[i4] = ((byte)((i3 & 0xF) << 4 | n >> 2 & 0xF));
          j = i5 + 1;
          int i = (byte)(n << 6 | i2);
          k += 1;
          paramString[i5] = i;
        }
      }
    }
    return null;
  }
  
  public static String encodeToString(byte[] paramArrayOfByte)
  {
    int m = 0;
    if (paramArrayOfByte == null) {
      return null;
    }
    int j = paramArrayOfByte.length * 8;
    if (j == 0) {
      return "";
    }
    int i3 = j % 24;
    int i2 = j / 24;
    char[] arrayOfChar1;
    if (i3 != 0)
    {
      j = i2 + 1;
      arrayOfChar1 = new char[j * 4];
      j = 0;
      n = 0;
      k = 0;
      if (n < i2) {
        break label163;
      }
      if (i3 != 8) {
        break label420;
      }
      k = paramArrayOfByte[m];
      m = (byte)(k & 0x3);
      if ((k & 0xFFFFFF80) != 0) {
        break label408;
      }
      k = (byte)(k >> 2);
      paramArrayOfByte = field_182;
      n = j + 1;
      arrayOfChar1[j] = paramArrayOfByte[k];
      paramArrayOfByte = field_182;
      j = n + 1;
      arrayOfChar1[n] = paramArrayOfByte[(m << 4)];
      k = j + 1;
      arrayOfChar1[j] = '=';
      arrayOfChar1[k] = '=';
    }
    label163:
    label223:
    label238:
    label379:
    label393:
    label408:
    label420:
    while (i3 != 16) {
      for (;;)
      {
        return new String(arrayOfChar1);
        j = i2;
        break;
        i1 = paramArrayOfByte[m];
        m += 1;
        n = paramArrayOfByte[m];
        int i4 = m + 1;
        int i5 = paramArrayOfByte[i4];
        int i6 = (byte)(n & 0xF);
        int i7 = (byte)(i1 & 0x3);
        if ((i1 & 0xFFFFFF80) == 0)
        {
          m = (byte)(i1 >> 2);
          if ((n & 0xFFFFFF80) != 0) {
            break label379;
          }
          n = (byte)(n >> 4);
          if ((i5 & 0xFFFFFF80) != 0) {
            break label393;
          }
        }
        for (i1 = (byte)(i5 >> 6);; i1 = (byte)(i5 >> 6 ^ 0xFC))
        {
          char[] arrayOfChar2 = field_182;
          int i8 = j + 1;
          arrayOfChar1[j] = arrayOfChar2[m];
          arrayOfChar2 = field_182;
          j = i8 + 1;
          arrayOfChar1[i8] = arrayOfChar2[(n | i7 << 4)];
          arrayOfChar2 = field_182;
          m = j + 1;
          arrayOfChar1[j] = arrayOfChar2[(i1 | i6 << 2)];
          int i = field_182[(i5 & 0x3F)];
          j = k + 1;
          arrayOfChar1[m] = i;
          i1 = m + 1;
          k = j;
          m = i4 + 1;
          n = j;
          j = i1;
          break;
          m = (byte)(i1 >> 2 ^ 0xC0);
          break label223;
          n = (byte)(n >> 4 ^ 0xF0);
          break label238;
        }
        k = (byte)(k >> 2 ^ 0xC0);
      }
    }
    int k = paramArrayOfByte[m];
    m = paramArrayOfByte[(m + 1)];
    int n = (byte)(m & 0xF);
    int i1 = (byte)(k & 0x3);
    if ((k & 0xFFFFFF80) == 0)
    {
      k = (byte)(k >> 2);
      label466:
      if ((m & 0xFFFFFF80) != 0) {
        break label559;
      }
    }
    label559:
    for (m = (byte)(m >> 4);; m = (byte)(m >> 4 ^ 0xF0))
    {
      paramArrayOfByte = field_182;
      i2 = j + 1;
      arrayOfChar1[j] = paramArrayOfByte[k];
      paramArrayOfByte = field_182;
      j = i2 + 1;
      arrayOfChar1[i2] = paramArrayOfByte[(m | i1 << 4)];
      paramArrayOfByte = field_182;
      k = j + 1;
      arrayOfChar1[j] = paramArrayOfByte[(n << 2)];
      arrayOfChar1[k] = '=';
      break;
      k = (byte)(k >> 2 ^ 0xC0);
      break label466;
    }
  }
  
  private static boolean method_262(char paramChar)
  {
    return (paramChar < '') && (field_187[paramChar] != -1);
  }
  
  private static int method_263(char[] paramArrayOfChar)
  {
    int i = 0;
    int k = 0;
    int j;
    if (paramArrayOfChar != null)
    {
      int n = paramArrayOfChar.length;
      j = 0;
      int m = 0;
      i = k;
      k = m;
      if (k < n) {}
    }
    else
    {
      return i;
    }
    if (!method_267(paramArrayOfChar[j]))
    {
      k = i + 1;
      paramArrayOfChar[i] = paramArrayOfChar[j];
      i = k;
    }
    for (;;)
    {
      k = j + 1;
      j = k;
      break;
    }
  }
  
  private static boolean method_265(char paramChar)
  {
    return paramChar == '=';
  }
  
  private static boolean method_267(char paramChar)
  {
    return (paramChar == ' ') || (paramChar == '\r') || (paramChar == '\n') || (paramChar == '\t');
  }
}
