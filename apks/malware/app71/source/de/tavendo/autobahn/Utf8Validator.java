package de.tavendo.autobahn;

public class Utf8Validator
{
  private static final int ACCEPT = 0;
  private static final int[] DFA;
  private static final int REJECT = 1;
  private int mPos;
  private int mState;
  
  static
  {
    int[] arrayOfInt = new int['Ɛ'];
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 1;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[''] = 9;
    arrayOfInt[' '] = 7;
    arrayOfInt['¡'] = 7;
    arrayOfInt['¢'] = 7;
    arrayOfInt['£'] = 7;
    arrayOfInt['¤'] = 7;
    arrayOfInt['¥'] = 7;
    arrayOfInt['¦'] = 7;
    arrayOfInt['§'] = 7;
    arrayOfInt['¨'] = 7;
    arrayOfInt['©'] = 7;
    arrayOfInt['ª'] = 7;
    arrayOfInt['«'] = 7;
    arrayOfInt['¬'] = 7;
    arrayOfInt['­'] = 7;
    arrayOfInt['®'] = 7;
    arrayOfInt['¯'] = 7;
    arrayOfInt['°'] = 7;
    arrayOfInt['±'] = 7;
    arrayOfInt['²'] = 7;
    arrayOfInt['³'] = 7;
    arrayOfInt['´'] = 7;
    arrayOfInt['µ'] = 7;
    arrayOfInt['¶'] = 7;
    arrayOfInt['·'] = 7;
    arrayOfInt['¸'] = 7;
    arrayOfInt['¹'] = 7;
    arrayOfInt['º'] = 7;
    arrayOfInt['»'] = 7;
    arrayOfInt['¼'] = 7;
    arrayOfInt['½'] = 7;
    arrayOfInt['¾'] = 7;
    arrayOfInt['¿'] = 7;
    arrayOfInt['À'] = 8;
    arrayOfInt['Á'] = 8;
    arrayOfInt['Â'] = 2;
    arrayOfInt['Ã'] = 2;
    arrayOfInt['Ä'] = 2;
    arrayOfInt['Å'] = 2;
    arrayOfInt['Æ'] = 2;
    arrayOfInt['Ç'] = 2;
    arrayOfInt['È'] = 2;
    arrayOfInt['É'] = 2;
    arrayOfInt['Ê'] = 2;
    arrayOfInt['Ë'] = 2;
    arrayOfInt['Ì'] = 2;
    arrayOfInt['Í'] = 2;
    arrayOfInt['Î'] = 2;
    arrayOfInt['Ï'] = 2;
    arrayOfInt['Ð'] = 2;
    arrayOfInt['Ñ'] = 2;
    arrayOfInt['Ò'] = 2;
    arrayOfInt['Ó'] = 2;
    arrayOfInt['Ô'] = 2;
    arrayOfInt['Õ'] = 2;
    arrayOfInt['Ö'] = 2;
    arrayOfInt['×'] = 2;
    arrayOfInt['Ø'] = 2;
    arrayOfInt['Ù'] = 2;
    arrayOfInt['Ú'] = 2;
    arrayOfInt['Û'] = 2;
    arrayOfInt['Ü'] = 2;
    arrayOfInt['Ý'] = 2;
    arrayOfInt['Þ'] = 2;
    arrayOfInt['ß'] = 2;
    arrayOfInt['à'] = 10;
    arrayOfInt['á'] = 3;
    arrayOfInt['â'] = 3;
    arrayOfInt['ã'] = 3;
    arrayOfInt['ä'] = 3;
    arrayOfInt['å'] = 3;
    arrayOfInt['æ'] = 3;
    arrayOfInt['ç'] = 3;
    arrayOfInt['è'] = 3;
    arrayOfInt['é'] = 3;
    arrayOfInt['ê'] = 3;
    arrayOfInt['ë'] = 3;
    arrayOfInt['ì'] = 3;
    arrayOfInt['í'] = 4;
    arrayOfInt['î'] = 3;
    arrayOfInt['ï'] = 3;
    arrayOfInt['ð'] = 11;
    arrayOfInt['ñ'] = 6;
    arrayOfInt['ò'] = 6;
    arrayOfInt['ó'] = 6;
    arrayOfInt['ô'] = 5;
    arrayOfInt['õ'] = 8;
    arrayOfInt['ö'] = 8;
    arrayOfInt['÷'] = 8;
    arrayOfInt['ø'] = 8;
    arrayOfInt['ù'] = 8;
    arrayOfInt['ú'] = 8;
    arrayOfInt['û'] = 8;
    arrayOfInt['ü'] = 8;
    arrayOfInt['ý'] = 8;
    arrayOfInt['þ'] = 8;
    arrayOfInt['ÿ'] = 8;
    arrayOfInt['ā'] = 1;
    arrayOfInt['Ă'] = 2;
    arrayOfInt['ă'] = 3;
    arrayOfInt['Ą'] = 5;
    arrayOfInt['ą'] = 8;
    arrayOfInt['Ć'] = 7;
    arrayOfInt['ć'] = 1;
    arrayOfInt['Ĉ'] = 1;
    arrayOfInt['ĉ'] = 1;
    arrayOfInt['Ċ'] = 4;
    arrayOfInt['ċ'] = 6;
    arrayOfInt['Č'] = 1;
    arrayOfInt['č'] = 1;
    arrayOfInt['Ď'] = 1;
    arrayOfInt['ď'] = 1;
    arrayOfInt['Đ'] = 1;
    arrayOfInt['đ'] = 1;
    arrayOfInt['Ē'] = 1;
    arrayOfInt['ē'] = 1;
    arrayOfInt['Ĕ'] = 1;
    arrayOfInt['ĕ'] = 1;
    arrayOfInt['Ė'] = 1;
    arrayOfInt['ė'] = 1;
    arrayOfInt['Ę'] = 1;
    arrayOfInt['ę'] = 1;
    arrayOfInt['Ě'] = 1;
    arrayOfInt['ě'] = 1;
    arrayOfInt['Ĝ'] = 1;
    arrayOfInt['ĝ'] = 1;
    arrayOfInt['Ğ'] = 1;
    arrayOfInt['ğ'] = 1;
    arrayOfInt['Ġ'] = 1;
    arrayOfInt['Ģ'] = 1;
    arrayOfInt['ģ'] = 1;
    arrayOfInt['Ĥ'] = 1;
    arrayOfInt['ĥ'] = 1;
    arrayOfInt['Ħ'] = 1;
    arrayOfInt['Ĩ'] = 1;
    arrayOfInt['Ī'] = 1;
    arrayOfInt['ī'] = 1;
    arrayOfInt['Ĭ'] = 1;
    arrayOfInt['ĭ'] = 1;
    arrayOfInt['Į'] = 1;
    arrayOfInt['į'] = 1;
    arrayOfInt['İ'] = 1;
    arrayOfInt['ı'] = 2;
    arrayOfInt['Ĳ'] = 1;
    arrayOfInt['ĳ'] = 1;
    arrayOfInt['Ĵ'] = 1;
    arrayOfInt['ĵ'] = 1;
    arrayOfInt['Ķ'] = 1;
    arrayOfInt['ķ'] = 2;
    arrayOfInt['ĸ'] = 1;
    arrayOfInt['Ĺ'] = 2;
    arrayOfInt['ĺ'] = 1;
    arrayOfInt['Ļ'] = 1;
    arrayOfInt['ļ'] = 1;
    arrayOfInt['Ľ'] = 1;
    arrayOfInt['ľ'] = 1;
    arrayOfInt['Ŀ'] = 1;
    arrayOfInt['ŀ'] = 1;
    arrayOfInt['Ł'] = 1;
    arrayOfInt['ł'] = 1;
    arrayOfInt['Ń'] = 1;
    arrayOfInt['ń'] = 1;
    arrayOfInt['Ņ'] = 1;
    arrayOfInt['ņ'] = 1;
    arrayOfInt['Ň'] = 2;
    arrayOfInt['ň'] = 1;
    arrayOfInt['ŉ'] = 1;
    arrayOfInt['Ŋ'] = 1;
    arrayOfInt['ŋ'] = 1;
    arrayOfInt['Ō'] = 1;
    arrayOfInt['ō'] = 1;
    arrayOfInt['Ŏ'] = 1;
    arrayOfInt['ŏ'] = 1;
    arrayOfInt['Ő'] = 1;
    arrayOfInt['ő'] = 2;
    arrayOfInt['Œ'] = 1;
    arrayOfInt['œ'] = 1;
    arrayOfInt['Ŕ'] = 1;
    arrayOfInt['ŕ'] = 1;
    arrayOfInt['Ŗ'] = 1;
    arrayOfInt['ŗ'] = 1;
    arrayOfInt['Ř'] = 1;
    arrayOfInt['ř'] = 2;
    arrayOfInt['Ś'] = 1;
    arrayOfInt['ś'] = 1;
    arrayOfInt['Ŝ'] = 1;
    arrayOfInt['ŝ'] = 1;
    arrayOfInt['Ş'] = 1;
    arrayOfInt['ş'] = 1;
    arrayOfInt['Š'] = 1;
    arrayOfInt['š'] = 1;
    arrayOfInt['Ţ'] = 1;
    arrayOfInt['ţ'] = 1;
    arrayOfInt['Ť'] = 1;
    arrayOfInt['ť'] = 1;
    arrayOfInt['Ŧ'] = 1;
    arrayOfInt['ŧ'] = 3;
    arrayOfInt['Ũ'] = 1;
    arrayOfInt['ũ'] = 3;
    arrayOfInt['Ū'] = 1;
    arrayOfInt['ū'] = 1;
    arrayOfInt['Ŭ'] = 1;
    arrayOfInt['ŭ'] = 1;
    arrayOfInt['Ů'] = 1;
    arrayOfInt['ů'] = 1;
    arrayOfInt['Ű'] = 1;
    arrayOfInt['ű'] = 3;
    arrayOfInt['Ų'] = 1;
    arrayOfInt['ų'] = 1;
    arrayOfInt['Ŵ'] = 1;
    arrayOfInt['ŵ'] = 1;
    arrayOfInt['Ŷ'] = 1;
    arrayOfInt['ŷ'] = 3;
    arrayOfInt['Ÿ'] = 1;
    arrayOfInt['Ź'] = 3;
    arrayOfInt['ź'] = 1;
    arrayOfInt['Ż'] = 1;
    arrayOfInt['ż'] = 1;
    arrayOfInt['Ž'] = 1;
    arrayOfInt['ž'] = 1;
    arrayOfInt['ſ'] = 1;
    arrayOfInt['ƀ'] = 1;
    arrayOfInt['Ɓ'] = 3;
    arrayOfInt['Ƃ'] = 1;
    arrayOfInt['ƃ'] = 1;
    arrayOfInt['Ƅ'] = 1;
    arrayOfInt['ƅ'] = 1;
    arrayOfInt['Ɔ'] = 1;
    arrayOfInt['Ƈ'] = 1;
    arrayOfInt['ƈ'] = 1;
    arrayOfInt['Ɖ'] = 1;
    arrayOfInt['Ɗ'] = 1;
    arrayOfInt['Ƌ'] = 1;
    arrayOfInt['ƌ'] = 1;
    arrayOfInt['ƍ'] = 1;
    arrayOfInt['Ǝ'] = 1;
    arrayOfInt['Ə'] = 1;
    DFA = arrayOfInt;
  }
  
  public Utf8Validator()
  {
    reset();
  }
  
  public boolean isValid()
  {
    return this.mState == 0;
  }
  
  public int position()
  {
    return this.mPos;
  }
  
  public void reset()
  {
    this.mState = 0;
    this.mPos = 0;
  }
  
  public boolean validate(byte[] paramArrayOfByte)
  {
    return validate(paramArrayOfByte, 0, paramArrayOfByte.length);
  }
  
  public boolean validate(byte[] paramArrayOfByte, int paramInt1, int paramInt2)
  {
    int i = paramInt1;
    for (;;)
    {
      if (i >= paramInt1 + paramInt2)
      {
        this.mPos += paramInt2;
        return true;
      }
      this.mState = DFA[((this.mState << 4) + 256 + DFA[(paramArrayOfByte[i] & 0xFF)])];
      if (this.mState == 1)
      {
        this.mPos += i;
        return false;
      }
      i += 1;
    }
  }
}
