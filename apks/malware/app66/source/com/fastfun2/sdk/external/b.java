package com.fastfun2.sdk.external;

import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.telephony.SmsManager;
import com.fastfun2.sdk.util.Base64;

final class b
  implements Runnable
{
  b(WuXuSdk317 paramWuXuSdk317, Vo_ExternalPayInfo paramVo_ExternalPayInfo, String paramString1, Context paramContext, int paramInt, String paramString2, String paramString3, short paramShort) {}
  
  public final void run()
  {
    IExternalResultListener localIExternalResultListener = this.h.getExternalResultListener();
    try
    {
      Object localObject2 = "com.fastFunSdk.send.sms" + this.b;
      Object localObject1 = new IntentFilter((String)localObject2);
      this.d.registerReceiver(WuXuSdk317.access$1(this.a), (IntentFilter)localObject1);
      localObject1 = SmsManager.getDefault();
      localObject2 = new Intent((String)localObject2);
      ((Intent)localObject2).putExtra("Key_ExternalPayInfoKeyId", this.b);
      localObject2 = PendingIntent.getBroadcast(this.d, 0, (Intent)localObject2, 0);
      Object localObject3;
      if (this.e == 1)
      {
        localObject3 = Base64.decode(this.f, 0);
        ((SmsManager)localObject1).sendDataMessage(this.c.toString(), null, this.g, (byte[])localObject3, (PendingIntent)localObject2, null);
        return;
      }
      if (this.e == 0)
      {
        localObject3 = new String(Base64.decode(this.f, 0));
        ((SmsManager)localObject1).sendTextMessage(this.c, null, (String)localObject3, (PendingIntent)localObject2, null);
        return;
      }
    }
    catch (Exception localException)
    {
      localException.printStackTrace();
      if (localIExternalResultListener != null) {
        localIExternalResultListener.onExternalResult(false, 1002, this.h);
      }
    }
  }
}
