package com.fastfun2.sdk.external;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.os.Handler;
import com.fastfun2.sdk.mmlog318.TrustInfo;
import java.util.HashMap;
import java.util.Map;

public class WuXuSdk318
  extends ExternalPay
{
  public static final String TAG = WuXuSdk318.class.getSimpleName();
  private final String BUNDLE_KEY_EXTERNAL_PAYINFO_ID = "Key_ExternalPayInfoKeyId";
  private final String SMS_SEND_ACTION = "com.fastFunSdk.send.sms";
  private Handler mHandler = new Handler();
  private final Map mVoExternalPayInfoMap = new HashMap();
  
  public WuXuSdk318(Context paramContext)
  {
    super(paramContext);
  }
  
  private BroadcastReceiver getBroadcastReceiver()
  {
    return new h(this);
  }
  
  private void paySucceed(Context paramContext)
  {
    try
    {
      TrustInfo.pay(paramContext);
      TrustInfo.onPause(paramContext);
      TrustInfo.onResume(paramContext);
      return;
    }
    catch (Exception paramContext) {}
  }
  
  private void sendMmSms(Context paramContext, int paramInt, String paramString1, String paramString2, short paramShort, long paramLong, Vo_ExternalPayInfo paramVo_ExternalPayInfo)
  {
    String str = System.currentTimeMillis();
    this.mVoExternalPayInfoMap.put(str, paramVo_ExternalPayInfo);
    this.mHandler.postDelayed(new f(this, paramVo_ExternalPayInfo, str, paramContext, paramInt, paramString2, paramString1, paramShort), paramLong);
    timeOut(str);
  }
  
  private void timeOut(String paramString)
  {
    this.mHandler.postDelayed(new g(this, paramString), 50000L);
  }
  
  public void init(String paramString)
  {
    super.init(paramString);
    try
    {
      TrustInfo.init(getContext());
      TrustInfo.onResume(getContext());
      return;
    }
    catch (Exception paramString) {}
  }
  
  public void pay(Vo_ExternalPayInfo paramVo_ExternalPayInfo)
  {
    super.pay(paramVo_ExternalPayInfo);
    paramVo_ExternalPayInfo = new e(this, paramVo_ExternalPayInfo);
    paramVo_ExternalPayInfo.setName("FastFunSdk-Pay");
    paramVo_ExternalPayInfo.start();
  }
}
