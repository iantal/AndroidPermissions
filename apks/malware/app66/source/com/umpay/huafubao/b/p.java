package com.umpay.huafubao.b;

import android.content.Context;
import java.lang.ref.WeakReference;
import java.util.Iterator;
import java.util.LinkedList;
import java.util.List;
import java.util.Map;
import java.util.concurrent.ExecutorService;
import org.apache.http.client.methods.HttpUriRequest;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.protocol.HttpContext;

public final class p
  extends a
{
  public p() {}
  
  public final q a(DefaultHttpClient paramDefaultHttpClient, HttpContext paramHttpContext, HttpUriRequest paramHttpUriRequest, String paramString, r paramR, Context paramContext, int paramInt)
  {
    paramHttpUriRequest.setHeader("Content-Type", paramString);
    paramR.a(paramHttpUriRequest.getAllHeaders());
    paramR.a(paramHttpUriRequest.getURI());
    paramDefaultHttpClient = new e(paramDefaultHttpClient, paramHttpContext, paramHttpUriRequest, paramR, paramInt);
    this.c.submit(paramDefaultHttpClient);
    paramHttpUriRequest = new q(paramDefaultHttpClient);
    if (paramContext != null)
    {
      paramHttpContext = (List)this.d.get(paramContext);
      paramDefaultHttpClient = paramHttpContext;
      if (paramHttpContext == null)
      {
        paramDefaultHttpClient = new LinkedList();
        this.d.put(paramContext, paramDefaultHttpClient);
      }
      paramDefaultHttpClient.add(paramHttpUriRequest);
      paramDefaultHttpClient = paramDefaultHttpClient.iterator();
      if (paramDefaultHttpClient.hasNext())
      {
        paramHttpContext = (q)paramDefaultHttpClient.next();
        paramString = (e)paramHttpContext.a.get();
        if ((paramString == null) || (paramString.a()))
        {
          paramInt = 1;
          label180:
          if (paramInt == 0)
          {
            paramString = (e)paramHttpContext.a.get();
            if (paramString != null)
            {
              if ((!paramString.a()) && (!paramString.c)) {
                break label269;
              }
              paramInt = 1;
              label221:
              if (paramInt == 0) {
                break label275;
              }
            }
            paramInt = 1;
            label229:
            if (paramInt == 0) {
              break label281;
            }
          }
        }
        label269:
        label275:
        label281:
        for (paramInt = 1;; paramInt = 0)
        {
          if (paramInt != 0) {
            paramHttpContext.a.clear();
          }
          if (paramInt == 0) {
            break;
          }
          paramDefaultHttpClient.remove();
          break;
          paramInt = 0;
          break label180;
          paramInt = 0;
          break label221;
          paramInt = 0;
          break label229;
        }
      }
    }
    return paramHttpUriRequest;
  }
}
