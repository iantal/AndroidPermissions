package com.eden.sdk.service;

import android.text.TextUtils;
import android.util.Log;
import com.eden.sdk.b.m;
import com.eden.sdk.manager.NovaManager;
import com.eden.sdk.response.VideoPlayUrlResponse;
import com.eden.sdk.util.JsonUtil;
import com.eden.sdk.util.YdUtils;
import org.apache.http.Header;

final class q
  extends m
{
  q(C paramC) {}
  
  public final void onFailure(int paramInt, Header[] paramArrayOfHeader, byte[] paramArrayOfByte, Throwable paramThrowable)
  {
    NovaManager.log("getPlayUrlC3 onFailure:" + paramArrayOfByte);
  }
  
  public final void onSuccess(int paramInt, Header[] paramArrayOfHeader, byte[] paramArrayOfByte)
  {
    try
    {
      paramArrayOfHeader = new String(paramArrayOfByte);
      NovaManager.log("getPlayUrlC3 onSuccess: " + paramArrayOfHeader);
      paramArrayOfByte = this.a;
      paramArrayOfHeader = (VideoPlayUrlResponse)JsonUtil.fromJson(C.a(paramArrayOfHeader), VideoPlayUrlResponse.class);
      if (paramArrayOfHeader != null)
      {
        paramArrayOfHeader = paramArrayOfHeader.getPlayUrl();
        if (!TextUtils.isEmpty(paramArrayOfHeader)) {
          YdUtils.downloadVideo(this.a, paramArrayOfHeader);
        }
      }
      return;
    }
    catch (Exception paramArrayOfHeader)
    {
      Log.e("EdenSdk", "getPlayUrlAfterOrderC3-onSuccess:" + paramArrayOfHeader.toString());
    }
  }
}
