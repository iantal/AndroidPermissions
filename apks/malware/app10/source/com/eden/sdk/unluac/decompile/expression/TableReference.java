package com.eden.sdk.unluac.decompile.expression;

import com.eden.sdk.unluac.decompile.Output;

public class TableReference
  extends Expression
{
  private final Expression index;
  private final Expression table;
  
  public TableReference(Expression paramExpression1, Expression paramExpression2)
  {
    super(9);
    this.table = paramExpression1;
    this.index = paramExpression2;
  }
  
  public int getConstantIndex()
  {
    return Math.max(this.table.getConstantIndex(), this.index.getConstantIndex());
  }
  
  public String getField()
  {
    return this.index.asName();
  }
  
  public Expression getTable()
  {
    return this.table;
  }
  
  public boolean isDotChain()
  {
    return (this.index.isIdentifier()) && (this.table.isDotChain());
  }
  
  public boolean isMemberAccess()
  {
    return this.index.isIdentifier();
  }
  
  public void print(Output paramOutput)
  {
    this.table.print(paramOutput);
    if (this.index.isIdentifier())
    {
      paramOutput.print(".");
      paramOutput.print(this.index.asName());
      return;
    }
    paramOutput.print("[");
    this.index.print(paramOutput);
    paramOutput.print("]");
  }
}
