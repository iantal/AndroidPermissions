package com.zdtpay;

import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.os.Handler;
import com.zdtpay.a.a;
import com.zdtpay.net.DataRequestTask.RequestCallBack;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import org.json.JSONObject;

class x
  implements DataRequestTask.RequestCallBack
{
  x(ZTbie paramZTbie) {}
  
  public void error(com.a.a.a.x paramX)
  {
    paramX = new HashMap();
    paramX.put(com.zdtpay.tools.c.s, "-1");
    paramX.put(com.zdtpay.tools.c.t, "获取数据失败");
    paramX.put("isLast", "1");
    com.zdtpay.tools.b.a.onFail(paramX);
  }
  
  public void requestData(Object paramObject)
  {
    for (;;)
    {
      int i;
      try
      {
        JSONObject localJSONObject = new JSONObject((String)paramObject);
        ZTbie.a(this.a, com.zdtpay.a.c.a(localJSONObject));
        com.zdtpay.tools.b.e = ZTbie.c(this.a);
        this.a.d.edit().putString("requestData", (String)paramObject).commit();
        if (!ZTbie.c(this.a).b().equals("0")) {
          break label381;
        }
        paramObject = ZTbie.c(this.a).d();
        this.a.d.edit().putInt(com.zdtpay.tools.c.z, paramObject.size()).commit();
        i = 0;
        if (i >= paramObject.size())
        {
          if (!ZTbie.c(this.a).c().equals("1")) {
            break;
          }
          ZTbie.a(this.a, paramObject, false);
          return;
        }
      }
      catch (Exception paramObject)
      {
        paramObject.printStackTrace();
        this.a.b(paramObject.getMessage());
        paramObject = new HashMap();
        paramObject.put(com.zdtpay.tools.c.s, "-1");
        paramObject.put(com.zdtpay.tools.c.t, "获取数据失败");
        paramObject.put("isLast", "1");
        com.zdtpay.tools.b.a.onFail(paramObject);
        this.a.a();
        return;
      }
      this.a.d.edit().putString(com.zdtpay.tools.c.v + i, ((com.zdtpay.a.b)paramObject.get(i)).j()).putString(com.zdtpay.tools.c.w + i, ((com.zdtpay.a.b)paramObject.get(i)).i()).putString(com.zdtpay.tools.c.o + i, ((com.zdtpay.a.b)paramObject.get(i)).h()).commit();
      i += 1;
    }
    this.a.m.sendEmptyMessage(0);
    return;
    label381:
    paramObject = new HashMap();
    paramObject.put(com.zdtpay.tools.c.s, ZTbie.c(this.a).b());
    paramObject.put(com.zdtpay.tools.c.t, ZTbie.c(this.a).a());
    paramObject.put("isLast", "1");
    com.zdtpay.tools.b.a.onFail(paramObject);
    this.a.a();
  }
}
