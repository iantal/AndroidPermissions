package com.e.a.b;

import android.content.Context;
import android.text.TextUtils;
import com.e.a.d.c;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Iterator;
import java.util.List;
import org.apache.http.NameValuePair;
import org.apache.http.message.BasicNameValuePair;

public class d
{
  public static final String a = d.class.getName();
  private final String b = "3";
  private final String c = "4";
  private a d = a.a();
  private List e = new ArrayList();
  private final String[] f = { "mobilelogin", "userRegister", "modifyUserPwd", "TVlogin", "checkIMSI" };
  
  public d() {}
  
  private String a(String paramString, List paramList)
  {
    String[] arrayOfString;
    int j;
    int i;
    if (!TextUtils.isEmpty(paramString))
    {
      arrayOfString = this.f;
      j = arrayOfString.length;
      i = 0;
      while (i < j)
      {
        if (paramString.contains(arrayOfString[i])) {
          return "function " + paramString + " has been defined. ";
        }
        i += 1;
      }
    }
    paramString = paramList.iterator();
    while (paramString.hasNext())
    {
      paramList = (NameValuePair)paramString.next();
      arrayOfString = this.f;
      j = arrayOfString.length;
      i = 0;
      while (i < j)
      {
        String str = arrayOfString[i];
        if (paramList.getName().contains(str)) {
          return "function " + paramList.getName() + " has been defined. ";
        }
        i += 1;
      }
    }
    return null;
  }
  
  private List a(String paramString1, String paramString2)
  {
    if (TextUtils.isEmpty(paramString2)) {
      return this.e;
    }
    String str = com.e.a.d.e.c();
    if (!TextUtils.isEmpty(paramString2))
    {
      paramString1 = com.e.a.d.e.a(paramString2 + 1 + paramString1 + 1 + str);
      c.d(paramString1);
      this.e.add(new BasicNameValuePair("loginKey", paramString1));
    }
    int i = this.e.size() - 1;
    while (i > -1)
    {
      paramString1 = (NameValuePair)this.e.get(i);
      if ((TextUtils.isEmpty(paramString1.getValue())) || ((!TextUtils.isEmpty(paramString1.getValue())) && (TextUtils.isEmpty(paramString1.getValue().trim())))) {
        this.e.remove(paramString1);
      }
      i -= 1;
    }
    Collections.sort(this.e, new e(this));
    paramString1 = new StringBuffer();
    paramString1.append(com.e.a.d.e.a(this.e, false)).append("&");
    paramString1.append("time").append("=").append(str).append("&");
    paramString1.append(paramString2);
    paramString1 = com.e.a.d.e.a(paramString1.toString());
    this.e.add(new BasicNameValuePair("time", str));
    this.e.add(new BasicNameValuePair("sign", paramString1));
    return this.e;
  }
  
  public String a(Context paramContext, String paramString1, String paramString2, String paramString3, String paramString4, String paramString5)
  {
    this.e.clear();
    this.e.add(new BasicNameValuePair("ac", "login"));
    this.e.add(new BasicNameValuePair("f", "mobilelogin_v2"));
    this.e.add(new BasicNameValuePair("terminal", com.e.a.d.e.a()));
    this.e.add(new BasicNameValuePair("resolution", com.e.a.d.e.a(paramContext) + "*" + com.e.a.d.e.b(paramContext)));
    this.e.add(new BasicNameValuePair("imsiid", com.e.a.d.e.d(paramContext)));
    this.e.add(new BasicNameValuePair("os", com.e.a.d.e.b()));
    this.e.add(new BasicNameValuePair("ver", com.e.a.d.e.c(paramContext)));
    this.e.add(new BasicNameValuePair("clienttype", "3"));
    if (!TextUtils.isEmpty(paramString5)) {
      this.e.add(new BasicNameValuePair("channelID", paramString5));
    }
    this.e.add(new BasicNameValuePair("pcode", "4"));
    this.e.add(new BasicNameValuePair("appid", paramString3));
    this.e.add(new BasicNameValuePair("devid", paramString2));
    a(paramString3, paramString4);
    return this.d.b(paramString1 + "/Internet", this.e, 2000, 5000);
  }
  
  public String a(Context paramContext, String paramString1, String paramString2, String paramString3, String paramString4, String paramString5, String paramString6, List paramList)
  {
    String str = a(paramString3, paramList);
    if (str != null) {
      return "{\"code\":-1 ,\"msg\":\"" + str + "\"}";
    }
    this.e.clear();
    paramContext = com.e.a.d.a.a(paramContext);
    if (!TextUtils.isEmpty(paramContext)) {
      this.e.add(new BasicNameValuePair("token", paramContext));
    }
    this.e.addAll(paramList);
    if (!TextUtils.isEmpty(paramString2)) {
      this.e.add(new BasicNameValuePair("ac", paramString2));
    }
    if (!TextUtils.isEmpty(paramString3)) {
      this.e.add(new BasicNameValuePair("f", paramString3));
    }
    if (!TextUtils.isEmpty(paramString4)) {
      this.e.add(new BasicNameValuePair("devid", paramString4));
    }
    if (!TextUtils.isEmpty(paramString5)) {
      this.e.add(new BasicNameValuePair("appid", paramString5));
    }
    a(paramString5, paramString6);
    return this.d.a(paramString1, this.e);
  }
}
