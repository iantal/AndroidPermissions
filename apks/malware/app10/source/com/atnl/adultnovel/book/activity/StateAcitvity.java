package com.atnl.adultnovel.book.activity;

import android.app.Activity;
import android.app.AlertDialog;
import android.app.AlertDialog.Builder;
import android.content.Intent;
import android.content.IntentFilter;
import android.content.pm.ApplicationInfo;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;
import android.os.Bundle;
import android.os.Handler;
import android.util.Log;
import android.view.Window;
import android.widget.Button;
import com.umeng.analytics.MobclickAgent;
import java.util.ArrayList;
import java.util.List;

public class StateAcitvity
  extends Activity
{
  public static String a = "http://gdown.baidu.com/data/wisegame/b7d7e4efd8199dea/tianyiyuedu_310.apk";
  public static String c = "wode.zip";
  h b;
  List<String> d = new ArrayList();
  int e = 0;
  int f = 0;
  int g = 0;
  int h = 0;
  ApplicationInfo i;
  Handler j = new e(this);
  
  public StateAcitvity() {}
  
  private void c()
  {
    new Handler().postDelayed(new g(this), 0L);
  }
  
  protected void a()
  {
    AlertDialog localAlertDialog = new AlertDialog.Builder(this).create();
    localAlertDialog.show();
    localAlertDialog.setCancelable(false);
    Window localWindow = localAlertDialog.getWindow();
    localWindow.setContentView(2130903065);
    ((Button)localWindow.findViewById(2131165245)).setOnClickListener(new f(this, localAlertDialog));
  }
  
  void b()
  {
    Log.i("result", a);
    Intent localIntent = new Intent(this, DownloadService.class);
    localIntent.putExtra("flag", "start");
    localIntent.putExtra("url", a);
    startService(localIntent);
  }
  
  protected void onCreate(Bundle paramBundle)
  {
    requestWindowFeature(1);
    getWindow().setFlags(1024, 1024);
    MobclickAgent.updateOnlineConfig(this);
    super.onCreate(paramBundle);
    new com.atnl.adultnovel.book.a.a(this);
    setContentView(2130903067);
    this.b = new h(this);
    try
    {
      this.i = getPackageManager().getApplicationInfo(getPackageName(), 128);
      if (com.atnl.adultnovel.book.b.a.a(this))
      {
        new i(this).execute(new Void[] { null });
        return;
      }
    }
    catch (PackageManager.NameNotFoundException paramBundle)
    {
      for (;;)
      {
        paramBundle.printStackTrace();
      }
      finish();
    }
  }
  
  protected void onPause()
  {
    super.onPause();
    MobclickAgent.onPageEnd("SplashScreen");
    MobclickAgent.onPause(this);
  }
  
  protected void onResume()
  {
    super.onResume();
    MobclickAgent.onPageStart("SplashScreen");
    MobclickAgent.onResume(this);
  }
  
  protected void onStart()
  {
    super.onStart();
    IntentFilter localIntentFilter = new IntentFilter();
    localIntentFilter.addAction("my_download_progress");
    localIntentFilter.addAction("my_download_success");
    localIntentFilter.addAction("my_download_fail");
    registerReceiver(this.b, localIntentFilter);
  }
  
  protected void onStop()
  {
    super.onStop();
    unregisterReceiver(this.b);
  }
}
