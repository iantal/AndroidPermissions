package com.waps;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.content.pm.PackageManager;
import java.util.Map;

public class y
  extends BroadcastReceiver
{
  public static boolean c = false;
  private static String d = "";
  int a;
  x b;
  private String e;
  private SharedPreferences f;
  private SharedPreferences.Editor g;
  
  public y(x paramX, int paramInt, String paramString)
  {
    this.a = paramInt;
    this.b = paramX;
    this.e = paramString;
  }
  
  public y(String paramString)
  {
    this.e = paramString;
  }
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    for (;;)
    {
      try
      {
        if (paramIntent.getAction().equals("android.intent.action.PACKAGE_ADDED"))
        {
          d = paramIntent.getDataString().substring(8);
          AppConnect.getInstanceNoConnect(paramContext).a(d, 0);
        }
      }
      catch (Exception paramContext)
      {
        return;
      }
      try
      {
        if (this.b != null) {
          this.b.a(this.a, this.e);
        }
        paramContext.startActivity(paramContext.getPackageManager().getLaunchIntentForPackage(d));
        c = true;
        if (w.e)
        {
          this.f = paramContext.getSharedPreferences("DownLoadSave", 3);
          this.g = this.f.edit();
          this.g.putString(this.f.getAll().size() + "", d);
          this.g.commit();
          c = true;
        }
        if ((AppConnect.G != null) && (AppConnect.G.equals("shortcut"))) {
          new SDKUtils(paramContext).createShortcut_forApp(d);
        }
      }
      catch (Exception localException) {}
    }
    if (paramIntent.getAction().equals("android.intent.action.PACKAGE_REMOVED"))
    {
      paramIntent = paramIntent.getDataString().substring(8);
      AppConnect.getInstanceNoConnect(paramContext).a(paramIntent, 3);
    }
    paramContext.unregisterReceiver(this);
  }
}
