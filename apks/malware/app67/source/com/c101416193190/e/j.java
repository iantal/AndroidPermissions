package com.c101416193190.e;

import com.c101416193190.f.a;
import com.c101416193190.f.b;
import com.c101416193190.f.d;
import com.c101416193190.f.f;
import com.c101416193190.f.g;
import com.c101416193190.ui.y;
import com.c101416193190.util.h;
import java.io.InputStream;
import java.util.ArrayList;
import java.util.HashMap;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;

public final class j
{
  private static String a = "";
  private static String b = "";
  private static Document c;
  private static HashMap d;
  
  public static HashMap a(InputStream paramInputStream)
  {
    for (;;)
    {
      try
      {
        d = new HashMap();
        paramInputStream = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(paramInputStream);
        c = paramInputStream;
        paramInputStream = (Element)paramInputStream.getElementsByTagName("host").item(0);
        if (paramInputStream != null)
        {
          paramInputStream = paramInputStream.getFirstChild().getNodeValue();
          a = paramInputStream;
          paramInputStream = (Element)c.getElementsByTagName("shost").item(0);
          if (paramInputStream == null) {
            break label879;
          }
          paramInputStream = paramInputStream.getFirstChild().getNodeValue();
          b = paramInputStream;
          paramInputStream = (Element)c.getElementsByTagName("qurl").item(0);
          if (paramInputStream != null)
          {
            paramInputStream = paramInputStream.getFirstChild();
            if (paramInputStream != null)
            {
              paramInputStream = paramInputStream.getNodeValue();
              if (paramInputStream != null)
              {
                paramInputStream = paramInputStream.replace("[host]", a);
                d.put("qurl", paramInputStream);
              }
            }
          }
          localObject1 = c.getElementsByTagName("rst");
          if (((NodeList)localObject1).getLength() > 0)
          {
            paramInputStream = new b();
            localObject2 = ((NodeList)localObject1).item(0);
            if (localObject2 != null) {
              paramInputStream.a = ((Node)localObject2).getFirstChild().getNodeValue();
            }
            localObject2 = ((NodeList)localObject1).item(1);
            if (localObject2 != null) {
              paramInputStream.b = ((Node)localObject2).getFirstChild().getNodeValue();
            }
            localObject1 = ((NodeList)localObject1).item(2);
            if (localObject1 != null) {
              paramInputStream.c = ((Node)localObject1).getFirstChild().getNodeValue();
            }
            d.put("errorMessage", paramInputStream);
          }
          paramInputStream = (Element)c.getElementsByTagName("ki").item(0);
          if (paramInputStream != null)
          {
            localObject1 = new f();
            ((f)localObject1).a = paramInputStream.getFirstChild().getNodeValue();
            ((f)localObject1).b = paramInputStream.getLastChild().getNodeValue();
            d.put("shield", localObject1);
          }
          b();
          Element localElement = (Element)c.getElementsByTagName("cnt").item(0);
          if (localElement != null)
          {
            g localG = new g();
            localG.d = localElement.getAttribute("url").replace("[host]", a);
            localObject1 = localElement.getAttribute("pic").replace("[shost]", b);
            localObject2 = localElement.getAttribute("act");
            String str = localElement.getAttribute("ty");
            if (localObject1 != null)
            {
              paramInputStream = (InputStream)localObject1;
              if (!"".equals(localObject1)) {}
            }
            else
            {
              paramInputStream = localElement.getAttribute("pic2").replace("[shost]", b);
            }
            if (localObject2 == null) {
              break label866;
            }
            localObject1 = localObject2;
            if (((String)localObject2).length() == 0) {
              break label866;
            }
            if (str == null) {
              break label872;
            }
            localObject2 = str;
            if (str.length() == 0) {
              break label872;
            }
            localG.b = ((String)localObject1);
            localG.c = ((String)localObject2);
            localG.e = paramInputStream;
            localG.f = localElement.getAttribute("ctp");
            paramInputStream = localElement.getAttribute("url");
            i = paramInputStream.indexOf("&fbf=");
            localG.g = paramInputStream.substring(i + 5, i + 6);
            d.put("poster", localG);
          }
          a();
          localObject1 = (Element)c.getElementsByTagName("rp").item(0);
          if (localObject1 == null) {
            break label861;
          }
          paramInputStream = ((Element)localObject1).getAttribute("nurl");
          if (paramInputStream != null)
          {
            localObject2 = new d();
            ((d)localObject2).a = paramInputStream.replace("[host]", a);
            ((d)localObject2).b = ((Element)localObject1).getAttribute("m");
            ((d)localObject2).c = ((Element)localObject1).getAttribute("p");
            d.put("nextPage", localObject2);
          }
          int i = h.t();
          paramInputStream = (Element)c.getElementsByTagName("dv").item(0);
          if (paramInputStream != null)
          {
            int j = Integer.parseInt(paramInputStream.getFirstChild().getNodeValue());
            if (j > i)
            {
              h.c(j);
              d.put("dv", Boolean.valueOf(true));
            }
          }
          else
          {
            paramInputStream = (Element)c.getElementsByTagName("dpt").item(0);
            if (paramInputStream != null) {
              com.c101416193190.ui.w.a = Integer.parseInt(paramInputStream.getFirstChild().getNodeValue());
            }
            c = null;
            return d;
          }
        }
        else
        {
          paramInputStream = "";
          continue;
        }
        d.put("dv", Boolean.valueOf(false));
        continue;
        paramInputStream = null;
      }
      catch (Exception paramInputStream)
      {
        paramInputStream.printStackTrace();
        return d;
      }
      label861:
      continue;
      label866:
      Object localObject1 = "未知";
      continue;
      label872:
      Object localObject2 = "未知";
      continue;
      label879:
      paramInputStream = "";
    }
  }
  
  private static void a()
  {
    NodeList localNodeList = c.getElementsByTagName("cnt");
    int j = localNodeList.getLength();
    ArrayList localArrayList = new ArrayList();
    int i = 1;
    for (;;)
    {
      if (i >= j)
      {
        d.put("VideoInfo", localArrayList);
        return;
      }
      Element localElement = (Element)localNodeList.item(i);
      if (localElement != null)
      {
        g localG = new g();
        localG.a = localElement.getAttribute("name");
        localG.f = localElement.getAttribute("ctp");
        Object localObject2 = localElement.getAttribute("act");
        String str = localElement.getAttribute("ty");
        if (localObject2 != null)
        {
          localObject1 = localObject2;
          if (((String)localObject2).length() != 0) {}
        }
        else
        {
          localObject1 = "未知";
        }
        if (str != null)
        {
          localObject2 = str;
          if (str.length() != 0) {}
        }
        else
        {
          localObject2 = "未知";
        }
        localG.b = ((String)localObject1);
        localG.c = ((String)localObject2);
        Object localObject1 = localElement.getAttribute("url");
        int k = ((String)localObject1).indexOf("&fbf=");
        localG.g = ((String)localObject1).substring(k + 5, k + 6);
        localG.e = localElement.getAttribute("pic2").replace("[shost]", b);
        localG.d = localElement.getAttribute("url").replace("[host]", a);
        localArrayList.add(localG);
      }
      i += 1;
    }
  }
  
  private static void b()
  {
    NodeList localNodeList = c.getElementsByTagName("mn");
    int j;
    ArrayList localArrayList;
    int i;
    if (localNodeList != null)
    {
      j = localNodeList.getLength();
      localArrayList = new ArrayList();
      i = 0;
    }
    for (;;)
    {
      if (i >= j)
      {
        d.put("items", localArrayList);
        return;
      }
      Element localElement = (Element)localNodeList.item(i);
      if (localElement != null)
      {
        a localA = new a();
        localA.a = localElement.getAttribute("name");
        localA.b = h.b(localElement.getAttribute("url").replace("[host]", a));
        localA.c = y.class;
        localArrayList.add(localA);
      }
      i += 1;
    }
  }
}
