package com.c101416193190.util;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.net.NetworkInfo.State;

public class NetworkStateReceiver
  extends BroadcastReceiver
{
  BroadcastReceiver a = this;
  private int b = -1;
  private int c = -1;
  private boolean d = false;
  private boolean e = true;
  private i f;
  
  public NetworkStateReceiver() {}
  
  private void b()
  {
    if (this.c < 0) {
      if (this.c != 2)
      {
        if (this.c != 1) {
          break label37;
        }
        this.b = 1;
      }
    }
    for (;;)
    {
      this.b = this.c;
      return;
      label37:
      if (this.c == 0)
      {
        continue;
        if (this.c == 2) {
          this.b = 2;
        } else if (this.c == 1) {
          this.b = 1;
        } else {
          int i = this.c;
        }
      }
    }
  }
  
  public final void a()
  {
    this.d = false;
    if (this.c != this.b) {
      b();
    }
  }
  
  public final void a(Context paramContext)
  {
    IntentFilter localIntentFilter = new IntentFilter("android.net.conn.CONNECTIVITY_CHANGE");
    this.e = true;
    if ((paramContext != null) && (this.a != null)) {
      paramContext.registerReceiver(this.a, localIntentFilter);
    }
  }
  
  public final void b(Context paramContext)
  {
    if (paramContext != null) {}
    try
    {
      if (this.a != null)
      {
        paramContext.unregisterReceiver(this.a);
        this.a.clearAbortBroadcast();
        this.a = null;
      }
      return;
    }
    catch (Exception paramContext)
    {
      paramContext.printStackTrace();
    }
  }
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    NetworkInfo.State localState = null;
    ConnectivityManager localConnectivityManager = (ConnectivityManager)paramContext.getSystemService("connectivity");
    if (localConnectivityManager != null)
    {
      paramIntent = localConnectivityManager.getNetworkInfo(1);
      paramContext = localConnectivityManager.getNetworkInfo(0);
    }
    for (;;)
    {
      if (paramIntent != null) {}
      for (paramIntent = localConnectivityManager.getNetworkInfo(1).getState();; paramIntent = null)
      {
        if (paramContext != null) {
          localState = localConnectivityManager.getNetworkInfo(0).getState();
        }
        this.c = 0;
        if (this.c < 0) {
          if (NetworkInfo.State.CONNECTED.equals(paramIntent))
          {
            this.c = 2;
            if (this.f != null)
            {
              if (!this.e) {
                break label193;
              }
              this.e = false;
            }
          }
        }
        for (;;)
        {
          if ((!this.d) && (this.c != this.b)) {
            b();
          }
          localConnectivityManager.getActiveNetworkInfo();
          return;
          if (!NetworkInfo.State.CONNECTED.equals(localState)) {
            break;
          }
          this.c = 1;
          break;
          if (NetworkInfo.State.CONNECTED.equals(paramIntent))
          {
            this.c = 2;
            break;
          }
          if (!NetworkInfo.State.CONNECTED.equals(localState)) {
            break;
          }
          this.c = 1;
          break;
          label193:
          paramContext = this.f;
          int i = this.c;
        }
      }
      paramContext = null;
      paramIntent = null;
    }
  }
}
