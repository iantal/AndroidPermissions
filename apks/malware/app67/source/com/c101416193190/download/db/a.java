package com.c101416193190.download.db;

import android.content.ContentResolver;
import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.net.Uri;
import com.c101416193190.download.DownloadTask;
import java.util.ArrayList;

public final class a
{
  public static final byte[] a = new byte[0];
  
  public static long a(Context paramContext, DownloadTask paramDownloadTask)
  {
    synchronized (a)
    {
      ContentValues localContentValues = new ContentValues();
      localContentValues.put("notification_id", Integer.valueOf(paramDownloadTask.b));
      localContentValues.put("cid", paramDownloadTask.p);
      localContentValues.put("title", paramDownloadTask.d);
      localContentValues.put("download_url", paramDownloadTask.m);
      localContentValues.put("pic_url", paramDownloadTask.f);
      localContentValues.put("total_size", Long.valueOf(paramDownloadTask.h));
      localContentValues.put("completed_size", Long.valueOf(paramDownloadTask.i));
      localContentValues.put("status", Integer.valueOf(paramDownloadTask.g));
      localContentValues.put("progress", Integer.valueOf(paramDownloadTask.j));
      paramContext.getContentResolver().insert(d.a, localContentValues);
      return -1L;
    }
  }
  
  public static ArrayList a(Context paramContext, String paramString)
  {
    synchronized (a)
    {
      new ArrayList();
      ArrayList localArrayList = new ArrayList();
      paramContext = paramContext.getContentResolver().query(d.a, null, paramString, null, null);
      if (!paramContext.moveToNext())
      {
        paramContext.close();
        return localArrayList;
      }
      paramString = new DownloadTask();
      paramString.a = paramContext.getInt(paramContext.getColumnIndex("_id"));
      paramString.b = paramContext.getInt(paramContext.getColumnIndex("notification_id"));
      paramString.i = Long.parseLong(paramContext.getString(paramContext.getColumnIndex("completed_size")));
      paramString.h = Long.parseLong(paramContext.getString(paramContext.getColumnIndex("total_size")));
      paramString.e = paramContext.getString(paramContext.getColumnIndex("folder_path"));
      paramString.c = paramContext.getString(paramContext.getColumnIndex("name"));
      paramString.d = paramContext.getString(paramContext.getColumnIndex("title"));
      paramString.f = paramContext.getString(paramContext.getColumnIndex("pic_url"));
      paramString.m = paramContext.getString(paramContext.getColumnIndex("download_url"));
      paramString.g = paramContext.getInt(paramContext.getColumnIndex("status"));
      paramString.j = Integer.parseInt(paramContext.getString(paramContext.getColumnIndex("progress")));
      paramString.p = paramContext.getString(paramContext.getColumnIndex("cid"));
      localArrayList.add(paramString);
    }
  }
  
  public static int b(Context paramContext, DownloadTask paramDownloadTask)
  {
    synchronized (a)
    {
      Uri localUri = d.a;
      ContentValues localContentValues = new ContentValues();
      localContentValues.put("name", paramDownloadTask.c);
      localContentValues.put("folder_path", paramDownloadTask.e);
      localContentValues.put("progress", Integer.valueOf(paramDownloadTask.j));
      if (paramDownloadTask.j == 100) {
        localContentValues.put("status", Integer.valueOf(1));
      }
      int i = paramContext.getContentResolver().update(localUri, localContentValues, "cid=?", new String[] { paramDownloadTask.p });
      return i;
    }
  }
  
  public static DownloadTask b(Context paramContext, String paramString)
  {
    synchronized (a)
    {
      new ArrayList();
      DownloadTask localDownloadTask = new DownloadTask();
      paramContext = paramContext.getContentResolver().query(d.a, null, paramString, null, null);
      if (!paramContext.moveToNext())
      {
        paramContext.close();
        return localDownloadTask;
      }
      localDownloadTask.a = paramContext.getInt(paramContext.getColumnIndex("_id"));
      localDownloadTask.b = paramContext.getInt(paramContext.getColumnIndex("notification_id"));
      localDownloadTask.i = Long.parseLong(paramContext.getString(paramContext.getColumnIndex("completed_size")));
      localDownloadTask.h = Long.parseLong(paramContext.getString(paramContext.getColumnIndex("total_size")));
      localDownloadTask.e = paramContext.getString(paramContext.getColumnIndex("folder_path"));
      localDownloadTask.c = paramContext.getString(paramContext.getColumnIndex("name"));
      localDownloadTask.d = paramContext.getString(paramContext.getColumnIndex("title"));
      localDownloadTask.f = paramContext.getString(paramContext.getColumnIndex("pic_url"));
      localDownloadTask.g = paramContext.getInt(paramContext.getColumnIndex("status"));
      localDownloadTask.j = Integer.parseInt(paramContext.getString(paramContext.getColumnIndex("progress")));
      localDownloadTask.p = paramContext.getString(paramContext.getColumnIndex("cid"));
    }
  }
  
  public static int c(Context paramContext, DownloadTask paramDownloadTask)
  {
    synchronized (a)
    {
      Uri localUri = d.a;
      ContentValues localContentValues = new ContentValues();
      localContentValues.put("name", paramDownloadTask.c);
      localContentValues.put("folder_path", paramDownloadTask.e);
      localContentValues.put("status", Integer.valueOf(-1));
      int i = paramContext.getContentResolver().update(localUri, localContentValues, "cid=?", new String[] { paramDownloadTask.p });
      return i;
    }
  }
  
  public static ArrayList c(Context paramContext, String paramString)
  {
    synchronized (a)
    {
      new ArrayList();
      ArrayList localArrayList = new ArrayList();
      paramContext = paramContext.getContentResolver().query(d.a, null, paramString, null, null);
      if (!paramContext.moveToNext())
      {
        paramContext.close();
        return localArrayList;
      }
      paramString = new DownloadTask();
      paramString.a = paramContext.getInt(paramContext.getColumnIndex("_id"));
      paramString.b = paramContext.getInt(paramContext.getColumnIndex("notification_id"));
      paramString.i = Long.parseLong(paramContext.getString(paramContext.getColumnIndex("completed_size")));
      paramString.h = Long.parseLong(paramContext.getString(paramContext.getColumnIndex("total_size")));
      paramString.e = paramContext.getString(paramContext.getColumnIndex("folder_path"));
      paramString.c = paramContext.getString(paramContext.getColumnIndex("name"));
      paramString.d = paramContext.getString(paramContext.getColumnIndex("title"));
      paramString.f = paramContext.getString(paramContext.getColumnIndex("pic_url"));
      paramString.g = paramContext.getInt(paramContext.getColumnIndex("status"));
      paramString.j = Integer.parseInt(paramContext.getString(paramContext.getColumnIndex("progress")));
      paramString.p = paramContext.getString(paramContext.getColumnIndex("cid"));
      paramString.m = paramContext.getString(paramContext.getColumnIndex("download_url"));
      localArrayList.add(paramString);
    }
  }
  
  public static int d(Context paramContext, String paramString)
  {
    synchronized (a)
    {
      Uri localUri = d.a;
      int i = paramContext.getContentResolver().delete(localUri, paramString, null);
      return i;
    }
  }
}
