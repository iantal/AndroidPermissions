package com.c101416193190.download;

import android.os.Handler;
import android.os.Message;
import android.os.RemoteCallbackList;
import com.c101416193190.download.db.a;
import com.c101416193190.util.h;
import java.net.URL;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

final class d
  extends q
{
  d(DownloadService paramDownloadService) {}
  
  public final void a()
  {
    synchronized ()
    {
      DownloadService.g();
      return;
    }
  }
  
  public final void a(DownloadTask paramDownloadTask)
  {
    synchronized ()
    {
      a.d(DownloadService.a(this.a), "cid=" + paramDownloadTask.p);
      h.c(paramDownloadTask.e + "/" + paramDownloadTask.c);
      DownloadService.g();
      return;
    }
  }
  
  public final void a(s paramS)
  {
    if (paramS != null) {
      DownloadService.d.register(paramS);
    }
  }
  
  public final void a(String paramString1, String paramString2) {}
  
  public final void a(String paramString1, String paramString2, long paramLong, String paramString3)
  {
    paramString1 = a.b(DownloadService.a(this.a), "cid=" + paramLong);
    DownloadService.b(this.a).a(paramString1.b, paramLong);
  }
  
  public final void a(String paramString1, String paramString2, String paramString3, boolean paramBoolean)
  {
    synchronized ()
    {
      localObject = h.k();
      if (localObject == null)
      {
        DownloadService.c(this.a).sendEmptyMessage(6);
        return;
      }
      long l2 = System.currentTimeMillis();
      long l1 = l2;
      if (paramString3 != null)
      {
        l1 = l2;
        if (paramString3.length() > 0) {
          l1 = Long.valueOf(paramString3).longValue();
        }
      }
      localObject = new l(DownloadService.a(this.a), DownloadService.j(), l1, (String)localObject);
      ((l)localObject).a(DownloadService.b(this.a));
      DownloadService.k().add(localObject);
      DownloadService.b(DownloadService.j() + 1);
      Message localMessage = DownloadService.c(this.a).obtainMessage();
      localMessage.what = 0;
      localMessage.obj = localObject;
      localMessage.sendToTarget();
      try
      {
        ((l)localObject).a(new URL(paramString2));
        if ((paramString1 == null) || (paramString1.length() <= 0)) {
          break label225;
        }
        localObject = paramString1.split("\\|");
        paramString1 = localObject[0];
        localObject = localObject[1];
      }
      catch (Exception paramString1)
      {
        for (;;)
        {
          paramString1.printStackTrace();
          continue;
          paramString1 = null;
          localObject = null;
        }
      }
      DownloadService.a(this.a, l1, paramString1, paramString2, (String)localObject, paramString3);
      return;
    }
  }
  
  public final void a(List paramList)
  {
    synchronized ()
    {
      paramList = paramList.iterator();
      if (!paramList.hasNext())
      {
        DownloadService.g();
        return;
      }
      DownloadTask localDownloadTask = (DownloadTask)paramList.next();
      a.d(DownloadService.a(this.a), "cid=" + localDownloadTask.p);
      h.c(localDownloadTask.e + "/" + localDownloadTask.c);
    }
  }
  
  public final void b() {}
  
  public final void b(s paramS)
  {
    if (paramS != null) {
      DownloadService.d.unregister(paramS);
    }
  }
  
  public final void b(String paramString1, String paramString2) {}
  
  public final void c()
  {
    new e(this).start();
  }
  
  public final void d() {}
}
