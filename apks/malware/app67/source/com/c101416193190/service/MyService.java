package com.c101416193190.service;

import android.app.Service;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.os.IBinder;
import com.c101416193190.download.DownloadService;
import com.c101416193190.ui.MyApplication;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Set;

public class MyService
  extends Service
{
  private static HashMap c = new HashMap();
  private b a = null;
  private SharedPreferences b = null;
  
  public MyService() {}
  
  public IBinder onBind(Intent paramIntent)
  {
    int i = paramIntent.getIntExtra("type_value", -1);
    this.a = a.a(i, this);
    c.put(Integer.valueOf(i), this.a);
    this.a.f();
    this.a.a();
    if ((this.a instanceof DownloadService)) {
      return this.a.c();
    }
    return null;
  }
  
  public void onCreate()
  {
    super.onCreate();
    this.b = getSharedPreferences("mService", 0);
  }
  
  public void onDestroy()
  {
    super.onDestroy();
    if (c.isEmpty())
    {
      this.a = new DownloadService(MyApplication.a());
      this.a.b();
    }
    for (;;)
    {
      return;
      Iterator localIterator = c.keySet().iterator();
      while (localIterator.hasNext())
      {
        Integer localInteger = (Integer)localIterator.next();
        ((b)c.get(localInteger)).b();
      }
    }
  }
  
  public void onStart(Intent paramIntent, int paramInt)
  {
    super.onStart(paramIntent, paramInt);
    if (paramIntent != null)
    {
      paramInt = paramIntent.getIntExtra("type_value", -1);
      this.b.edit().putInt(String.valueOf(paramInt), paramInt).commit();
      this.a = a.a(paramInt, this);
      c.put(Integer.valueOf(paramInt), this.a);
      this.a.f();
      this.a.a();
    }
  }
}
