package com.baidu.mobads;

import android.content.Context;
import android.os.Handler.Callback;
import android.util.AttributeSet;
import android.view.ViewGroup;
import android.view.ViewGroup.LayoutParams;
import android.widget.RelativeLayout;
import com.baidu.mobads.a.d;
import java.lang.reflect.Constructor;
import java.lang.reflect.Method;

public final class AdView
  extends RelativeLayout
{
  protected static final String P_VERSION = "3.44";
  private static Class b;
  private ViewGroup a;
  
  public AdView(Context paramContext)
  {
    this(paramContext, true, AdSize.Banner, "");
  }
  
  public AdView(Context paramContext, AttributeSet paramAttributeSet)
  {
    this(paramContext, paramAttributeSet, true, AdSize.Banner, "");
  }
  
  private AdView(Context paramContext, AttributeSet paramAttributeSet, boolean paramBoolean, AdSize paramAdSize, String paramString)
  {
    super(paramContext, paramAttributeSet);
    try
    {
      if (b == null) {
        b = com.baidu.mobads.a.b.b(paramContext, "com.baidu.mobads.remote.AdView");
      }
      this.a = ((ViewGroup)b.getConstructor(new Class[] { Context.class, AttributeSet.class, Boolean.TYPE, Integer.TYPE, String.class }).newInstance(new Object[] { paramContext, paramAttributeSet, Boolean.valueOf(paramBoolean), Integer.valueOf(paramAdSize.getValue()), paramString }));
      addView(this.a, new ViewGroup.LayoutParams(-1, -1));
      d.a(new Object[] { b, this.a });
      if ((com.baidu.mobads.a.a.a == true) && (com.baidu.mobads.a.a.b > 2))
      {
        a(paramContext);
        com.baidu.mobads.a.a.a = false;
      }
      return;
    }
    catch (Exception paramContext)
    {
      d.b(paramContext);
    }
  }
  
  public AdView(Context paramContext, AdSize paramAdSize, String paramString)
  {
    this(paramContext, true, paramAdSize, paramString);
  }
  
  AdView(Context paramContext, boolean paramBoolean, AdSize paramAdSize, String paramString)
  {
    this(paramContext, null, paramBoolean, paramAdSize, paramString);
  }
  
  private void a(Context paramContext)
  {
    try
    {
      if (b == null) {
        b = com.baidu.mobads.a.b.b(paramContext, "com.baidu.mobads.remote.AdView");
      }
      paramContext = b.getDeclaredMethod("getLogable", new Class[0]);
      d.a(new Object[] { "AdView.getDebugMode", paramContext });
      if (((Boolean)paramContext.invoke(null, new Object[0])).booleanValue()) {
        com.baidu.mobads.a.a.b = 2;
      }
      return;
    }
    catch (Exception paramContext)
    {
      d.b(paramContext);
    }
  }
  
  public static void setAppSec(Context paramContext, String paramString)
  {
    try
    {
      if (b == null) {
        b = com.baidu.mobads.a.b.b(paramContext, "com.baidu.mobads.remote.AdView");
      }
      paramContext = b.getDeclaredMethod("setAppSec", new Class[] { String.class });
      d.a(new Object[] { "AdView.setAppSec", paramString, paramContext });
      paramContext.invoke(null, new Object[] { paramString });
      return;
    }
    catch (Exception paramContext)
    {
      d.b(paramContext);
    }
  }
  
  public static void setAppSid(Context paramContext, String paramString)
  {
    try
    {
      if (b == null) {
        b = com.baidu.mobads.a.b.b(paramContext, "com.baidu.mobads.remote.AdView");
      }
      paramContext = b.getDeclaredMethod("setAppSid", new Class[] { String.class });
      d.a(new Object[] { "AdView.setAppSid", paramString, paramContext });
      paramContext.invoke(null, new Object[] { paramString });
      return;
    }
    catch (Exception paramContext)
    {
      d.b(paramContext);
    }
  }
  
  protected void prepareForInterstitial(boolean paramBoolean)
  {
    try
    {
      d.a(new Object[] { "AdView.prepareForInterstitial", Boolean.valueOf(paramBoolean) });
      b.getMethod("prepareForInterstitial", new Class[] { Boolean.TYPE }).invoke(this.a, new Object[] { Boolean.valueOf(paramBoolean) });
      return;
    }
    catch (Exception localException)
    {
      d.b(localException);
    }
  }
  
  public void setAlpha(float paramFloat)
  {
    try
    {
      Method localMethod = b.getMethod("setAlpha", new Class[] { Float.TYPE });
      d.a(new Object[] { "AdView.setAlpha", Float.valueOf(paramFloat), localMethod });
      localMethod.invoke(this.a, new Object[] { Float.valueOf(paramFloat) });
      return;
    }
    catch (Exception localException)
    {
      d.b(localException);
    }
  }
  
  public void setBackgroundColor(int paramInt)
  {
    try
    {
      Method localMethod = b.getMethod("setBackgroundColor", new Class[] { Integer.TYPE });
      d.a(new Object[] { "AdView.setBackgroundColor", Integer.valueOf(paramInt), localMethod });
      localMethod.invoke(this.a, new Object[] { Integer.valueOf(paramInt) });
      return;
    }
    catch (Exception localException)
    {
      d.b(localException);
    }
  }
  
  protected void setInterstialListener(InterstitialAdListener paramInterstitialAdListener, InterstitialAd paramInterstitialAd)
  {
    if (paramInterstitialAdListener == null) {
      throw new IllegalArgumentException();
    }
    try
    {
      d.a(new Object[] { "AdView.setInterstialListener", paramInterstitialAdListener });
      b.getMethod("setListener", new Class[] { Handler.Callback.class }).invoke(this.a, new Object[] { new b(paramInterstitialAdListener, paramInterstitialAd) });
      return;
    }
    catch (Exception paramInterstitialAdListener)
    {
      d.b(paramInterstitialAdListener);
    }
  }
  
  public void setListener(AdViewListener paramAdViewListener)
  {
    if (paramAdViewListener == null) {
      throw new IllegalArgumentException();
    }
    try
    {
      d.a(new Object[] { "AdView.setListener", paramAdViewListener });
      b.getMethod("setListener", new Class[] { Handler.Callback.class }).invoke(this.a, new Object[] { new a(paramAdViewListener, this) });
      return;
    }
    catch (Exception paramAdViewListener)
    {
      d.b(paramAdViewListener);
    }
  }
}
