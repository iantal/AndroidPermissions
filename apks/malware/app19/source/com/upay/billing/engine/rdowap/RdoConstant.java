package com.upay.billing.engine.rdowap;

import android.content.Context;
import android.os.Environment;
import com.upay.billing.utils.Util;
import java.io.File;
import java.util.Iterator;
import java.util.Set;
import java.util.SortedMap;
import java.util.TreeMap;
import java.util.regex.Pattern;

public class RdoConstant
{
  public static final String SAVE_RDO_OUT_PATH;
  public static final String SAVE_RDO_REQUEST_PATH;
  public static final Pattern ptnMob = Pattern.compile("手机号码是：<span class=\"yellow\">([0-9]+)</span>");
  public static final Pattern ptnOk;
  public static final Pattern ptnUrl = Pattern.compile("<a href=\"([^\"]+)\" class=\"submit\">确认支付</a>");
  public static final String rdoAppId = "1000008";
  public static final String rdoAppKey = "121321ddfdscgbkroerceyurvvi1edr4";
  public static String rdoConfirmUrl = "http://fee.aiyuedu.cn:22000/feecenter/api/ver_confirm";
  public static String rdoCreateUrl;
  public static final String rdoGetStateUrl = "";
  public static final String rdoMoUrl = "";
  public static final String rdoMrUrl = "";
  public static final String rdoNotiUrl = "http://117.135.131.209:808/xiyuerdo/noti_url.php";
  public static final String rdoUserId = "10001";
  
  static
  {
    ptnOk = Pattern.compile("成功消费");
    SAVE_RDO_REQUEST_PATH = Environment.getExternalStorageDirectory() + File.separator + "upay" + File.separator + "rdo" + File.separator + "rdo_result.txt";
    SAVE_RDO_OUT_PATH = Environment.getExternalStorageDirectory() + File.separator + "upay" + File.separator + "rdo" + File.separator + "rdo_out.txt";
    rdoCreateUrl = "http://fee.aiyuedu.cn:22000/feecenter/api/create_order";
  }
  
  public RdoConstant() {}
  
  public static String buildSignParamStr(SortedMap paramSortedMap, String paramString)
  {
    TreeMap localTreeMap = new TreeMap();
    Object localObject = paramSortedMap.keySet().iterator();
    while (((Iterator)localObject).hasNext())
    {
      String str = (String)((Iterator)localObject).next();
      localTreeMap.put(str, paramSortedMap.get(str));
    }
    localTreeMap.put("app_key", paramString);
    paramSortedMap = new StringBuilder(500);
    paramString = localTreeMap.keySet().iterator();
    while (paramString.hasNext())
    {
      localObject = (String)paramString.next();
      if ((!"sign".equals(localObject)) && (!Util.empty((String)localTreeMap.get(localObject)))) {
        paramSortedMap.append((String)localObject).append("=").append((String)localTreeMap.get(localObject)).append("&");
      }
    }
    return paramSortedMap.deleteCharAt(paramSortedMap.length() - 1).toString();
  }
  
  public static String rdoCreateSign(Context paramContext, String paramString1, String paramString2, String paramString3, String paramString4, String paramString5, String paramString6)
  {
    TreeMap localTreeMap = new TreeMap();
    localTreeMap.put("amount", paramString1);
    localTreeMap.put("app_id", "1000008");
    localTreeMap.put("app_orderid", paramString2);
    localTreeMap.put("ch_id", paramString6);
    localTreeMap.put("ch_type", "1");
    localTreeMap.put("corp_type", "1");
    localTreeMap.put("ip", Util.getIp(paramContext));
    localTreeMap.put("noti_url", "http://117.135.131.209:808/xiyuerdo/noti_url.php");
    localTreeMap.put("ret_url", "http://117.135.131.209:808/xiyuerdo/noti_url.php");
    localTreeMap.put("site_type", "1");
    localTreeMap.put("time", paramString3);
    localTreeMap.put("ver", "1.0");
    if ("web".equals(paramString4))
    {
      localTreeMap.put("phone", Util.getString(paramContext, "mymobile"));
      localTreeMap.put("user_id", paramString5);
      localTreeMap.put("scheme", "1");
    }
    for (;;)
    {
      return buildSignParamStr(localTreeMap, "121321ddfdscgbkroerceyurvvi1edr4");
      localTreeMap.put("user_id", paramString5);
      localTreeMap.put("scheme", "2");
    }
  }
}
