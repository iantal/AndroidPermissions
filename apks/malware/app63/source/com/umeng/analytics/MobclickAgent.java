package com.umeng.analytics;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.content.pm.ApplicationInfo;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.location.Location;
import android.os.Build;
import android.os.Build.VERSION;
import android.os.Handler;
import android.os.HandlerThread;
import android.text.TextUtils;
import com.umeng.common.Log;
import com.umeng.common.b.f;
import com.umeng.common.b.g;
import java.io.BufferedReader;
import java.io.ByteArrayInputStream;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.lang.reflect.Method;
import java.net.URLEncoder;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import javax.microedition.khronos.opengles.GL10;
import org.apache.http.HttpEntity;
import org.apache.http.HttpHost;
import org.apache.http.HttpResponse;
import org.apache.http.StatusLine;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.HttpClient;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.entity.InputStreamEntity;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicNameValuePair;
import org.apache.http.params.BasicHttpParams;
import org.apache.http.params.HttpConnectionParams;
import org.apache.http.params.HttpParams;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

public class MobclickAgent
{
  private static final String A = "appkey";
  private static final String B = "body";
  private static final String C = "session_id";
  private static final String D = "date";
  private static final String E = "time";
  private static final String F = "start_millis";
  private static final String G = "end_millis";
  private static final String H = "duration";
  private static final String I = "activities";
  private static final String J = "header";
  private static final String K = "uptr";
  private static final String L = "dntr";
  private static final String M = "acc";
  private static final String N = "tag";
  private static final String O = "label";
  private static final String P = "id";
  private static final String Q = "ts";
  private static final String R = "du";
  private static final String S = "context";
  private static final String T = "last_config_time";
  private static final String U = "report_policy";
  private static final String V = "online_params";
  static String a = "";
  static String b = "";
  static boolean c = true;
  private static final MobclickAgent d = new MobclickAgent();
  private static int e = 1;
  private static final int h = 0;
  private static final int i = 1;
  private static final int j = 2;
  private static final int k = 3;
  private static final int l = 4;
  private static final int m = 5;
  private static final int n = 6;
  private static UmengOnlineConfigureListener o = null;
  private static final String p = "type";
  private static final String q = "subtype";
  private static final String r = "error";
  private static final String s = "event";
  private static final String t = "ekv";
  private static final String u = "launch";
  private static final String v = "flush";
  private static final String w = "terminate";
  private static final String x = "online_config";
  private static final String y = "cache_error";
  private static final String z = "send_error";
  private Context f;
  private final Handler g;
  
  private MobclickAgent()
  {
    HandlerThread localHandlerThread = new HandlerThread("MobclickAgent");
    localHandlerThread.start();
    this.g = new Handler(localHandlerThread.getLooper());
  }
  
  static SharedPreferences a(Context paramContext)
  {
    String str = paramContext.getPackageName();
    return paramContext.getSharedPreferences("mobclick_agent_user_" + str, 0);
  }
  
  private String a(Context paramContext, SharedPreferences paramSharedPreferences)
  {
    long l1 = System.currentTimeMillis();
    paramContext = paramSharedPreferences.edit();
    paramContext.putLong("start_millis", Long.valueOf(l1).longValue());
    paramContext.putLong("end_millis", -1L);
    paramContext.commit();
    return paramSharedPreferences.getString("session_id", null);
  }
  
  private String a(Context paramContext, String paramString, long paramLong)
  {
    StringBuilder localStringBuilder = new StringBuilder();
    localStringBuilder.append(paramLong).append(paramString).append(g.b(com.umeng.common.b.f(paramContext)));
    return g.a(localStringBuilder.toString());
  }
  
  private String a(Context paramContext, String paramString, SharedPreferences paramSharedPreferences)
  {
    c(paramContext, paramSharedPreferences);
    long l1 = System.currentTimeMillis();
    String str = a(paramContext, paramString, l1);
    SharedPreferences.Editor localEditor = paramSharedPreferences.edit();
    localEditor.putString("appkey", paramString);
    localEditor.putString("session_id", str);
    localEditor.putLong("start_millis", l1);
    localEditor.putLong("end_millis", -1L);
    localEditor.putLong("duration", 0L);
    localEditor.putString("activities", "");
    localEditor.commit();
    b(paramContext, paramSharedPreferences);
    return str;
  }
  
  private static String a(Context paramContext, JSONObject paramJSONObject, String paramString1, boolean paramBoolean, String paramString2)
  {
    paramString2 = new HttpPost(paramString1);
    Object localObject1 = new BasicHttpParams();
    HttpConnectionParams.setConnectionTimeout((HttpParams)localObject1, 10000);
    HttpConnectionParams.setSoTimeout((HttpParams)localObject1, 30000);
    localObject1 = new DefaultHttpClient((HttpParams)localObject1);
    paramString2.addHeader("X-Umeng-Sdk", getUmengHttpHeader(paramContext));
    try
    {
      Object localObject2 = b.a(paramContext);
      if (localObject2 != null)
      {
        localObject2 = new HttpHost((String)localObject2, 80);
        ((HttpClient)localObject1).getParams().setParameter("http.route.default-proxy", localObject2);
      }
      paramJSONObject = paramJSONObject.toString();
      Log.a("MobclickAgent", paramJSONObject);
      if ((a.s) && (!paramBoolean))
      {
        paramJSONObject = f.a("content=" + paramJSONObject, "utf-8");
        paramString2.addHeader("Content-Encoding", "deflate");
        paramString2.setEntity(new InputStreamEntity(new ByteArrayInputStream(paramJSONObject), f.a));
      }
      for (;;)
      {
        paramContext = i(paramContext).edit();
        paramJSONObject = new Date();
        paramString2 = ((HttpClient)localObject1).execute(paramString2);
        long l1 = new Date().getTime();
        long l2 = paramJSONObject.getTime();
        if (paramString2.getStatusLine().getStatusCode() != 200) {
          break;
        }
        Log.a("MobclickAgent", "Sent message to " + paramString1);
        paramContext.putLong("req_time", l1 - l2);
        paramContext.commit();
        paramContext = paramString2.getEntity();
        if (paramContext == null) {
          break label397;
        }
        return a(paramContext.getContent());
        localObject2 = new ArrayList(1);
        ((List)localObject2).add(new BasicNameValuePair("content", paramJSONObject));
        paramString2.setEntity(new UrlEncodedFormEntity((List)localObject2, "UTF-8"));
      }
      return null;
    }
    catch (ClientProtocolException paramContext)
    {
      Log.a("MobclickAgent", "ClientProtocolException,Failed to send message.", paramContext);
      return null;
      paramContext.putLong("req_time", -1L);
      return null;
    }
    catch (IOException paramContext)
    {
      Log.a("MobclickAgent", "IOException,Failed to send message.", paramContext);
    }
  }
  
  private static String a(InputStream paramInputStream)
  {
    BufferedReader localBufferedReader = new BufferedReader(new InputStreamReader(paramInputStream), 8192);
    StringBuilder localStringBuilder = new StringBuilder();
    try
    {
      for (;;)
      {
        String str = localBufferedReader.readLine();
        if (str == null) {
          break;
        }
        localStringBuilder.append(str + "\n");
      }
      return null;
    }
    catch (IOException localIOException)
    {
      Log.b("MobclickAgent", "Caught IOException in convertStreamToString()", localIOException);
      for (;;)
      {
        try
        {
          paramInputStream.close();
          return null;
        }
        catch (IOException paramInputStream)
        {
          Log.b("MobclickAgent", "Caught IOException in convertStreamToString()", paramInputStream);
          return null;
        }
        try
        {
          paramInputStream.close();
          return localStringBuilder.toString();
        }
        catch (IOException paramInputStream)
        {
          Log.b("MobclickAgent", "Caught IOException in convertStreamToString()", paramInputStream);
          return null;
        }
      }
    }
    finally
    {
      try
      {
        paramInputStream.close();
        throw localObject;
      }
      catch (IOException paramInputStream)
      {
        Log.b("MobclickAgent", "Caught IOException in convertStreamToString()", paramInputStream);
      }
    }
  }
  
  private JSONArray a(JSONObject paramJSONObject, JSONArray paramJSONArray)
  {
    for (;;)
    {
      try
      {
        String str2 = paramJSONObject.getString("tag");
        if (!paramJSONObject.has("label")) {
          break label246;
        }
        String str1 = paramJSONObject.getString("label");
        String str3 = paramJSONObject.getString("date");
        int i1 = paramJSONArray.length() - 1;
        if (i1 >= 0)
        {
          JSONObject localJSONObject = (JSONObject)paramJSONArray.get(i1);
          if ((str1 == null) && (!localJSONObject.has("label")))
          {
            if ((str2.equals(localJSONObject.get("tag"))) && (str3.equals(localJSONObject.get("date"))))
            {
              localJSONObject.put("acc", localJSONObject.getInt("acc") + 1);
              i1 = 1;
              if (i1 != 0) {
                break label244;
              }
              paramJSONArray.put(paramJSONObject);
              return paramJSONArray;
            }
          }
          else if ((str1 != null) && (localJSONObject.has("label")) && (str2.equals(localJSONObject.get("tag"))) && (str1.equals(localJSONObject.get("label"))) && (str3.equals(localJSONObject.get("date"))))
          {
            localJSONObject.put("acc", localJSONObject.getInt("acc") + 1);
            i1 = 1;
            continue;
          }
          i1 -= 1;
          continue;
        }
        i1 = 0;
      }
      catch (Exception localException)
      {
        Log.a("MobclickAgent", "custom log merge error in tryToSendMessage", localException);
        paramJSONArray.put(paramJSONObject);
        return paramJSONArray;
      }
      continue;
      label244:
      return paramJSONArray;
      label246:
      Object localObject = null;
    }
  }
  
  private static void a(Context arg0, int paramInt)
  {
    if ((paramInt < 0) || (paramInt > 5))
    {
      Log.b("MobclickAgent", "Illegal value of report policy");
      return;
    }
    SharedPreferences localSharedPreferences = n(???);
    synchronized (a.n)
    {
      localSharedPreferences.edit().putInt("umeng_local_report_policy", paramInt).commit();
      return;
    }
  }
  
  private void a(Context paramContext, SharedPreferences paramSharedPreferences, String paramString1, String paramString2, long paramLong, int paramInt)
  {
    paramSharedPreferences = paramSharedPreferences.getString("session_id", "");
    String str2 = b();
    String str1 = str2.split(" ")[0];
    str2 = str2.split(" ")[1];
    JSONObject localJSONObject = new JSONObject();
    try
    {
      localJSONObject.put("type", "event");
      localJSONObject.put("session_id", paramSharedPreferences);
      localJSONObject.put("date", str1);
      localJSONObject.put("time", str2);
      localJSONObject.put("tag", paramString1);
      if (paramString2 != null) {
        localJSONObject.put("label", paramString2);
      }
      if (paramLong > 0L) {
        localJSONObject.put("du", paramLong);
      }
      localJSONObject.put("acc", paramInt);
      this.g.post(new b(this, paramContext, localJSONObject));
      return;
    }
    catch (JSONException paramContext)
    {
      Log.a("MobclickAgent", "json error in emitCustomLogReport", paramContext);
    }
  }
  
  private void a(Context paramContext, SharedPreferences paramSharedPreferences, String paramString, JSONObject paramJSONObject)
  {
    paramSharedPreferences = paramSharedPreferences.getString("session_id", "");
    JSONObject localJSONObject = new JSONObject();
    JSONArray localJSONArray = new JSONArray();
    try
    {
      paramJSONObject.put("id", paramString);
      paramJSONObject.put("ts", System.currentTimeMillis() / 1000L);
      localJSONArray.put(paramJSONObject);
      localJSONObject.put("type", "ekv");
      localJSONObject.put(paramSharedPreferences, localJSONArray);
      this.g.post(new b(this, paramContext, localJSONObject));
      return;
    }
    catch (JSONException paramContext)
    {
      Log.a("MobclickAgent", "json error in emitCustomLogReport", paramContext);
      paramContext.printStackTrace();
    }
  }
  
  /* Error */
  private void a(Context paramContext, String paramString)
  {
    // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_1
    //   3: invokestatic 555	com/umeng/analytics/MobclickAgent:b	(Landroid/content/Context;)Ljava/lang/String;
    //   6: astore_2
    //   7: aload_2
    //   8: ldc -106
    //   10: if_acmpeq +15 -> 25
    //   13: aload_2
    //   14: invokevirtual 556	java/lang/String:length	()I
    //   17: istore_3
    //   18: iload_3
    //   19: sipush 10240
    //   22: if_icmple +6 -> 28
    //   25: aload_0
    //   26: monitorexit
    //   27: return
    //   28: aload_0
    //   29: aload_1
    //   30: aload_2
    //   31: ldc -126
    //   33: invokespecial 559	com/umeng/analytics/MobclickAgent:c	(Landroid/content/Context;Ljava/lang/String;Ljava/lang/String;)V
    //   36: goto -11 -> 25
    //   39: astore_1
    //   40: aload_0
    //   41: monitorexit
    //   42: aload_1
    //   43: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	44	0	this	MobclickAgent
    //   0	44	1	paramContext	Context
    //   0	44	2	paramString	String
    //   17	6	3	i1	int
    // Exception table:
    //   from	to	target	type
    //   2	7	39	finally
    //   13	18	39	finally
    //   28	36	39	finally
  }
  
  private void a(Context paramContext, String paramString1, String paramString2)
  {
    for (;;)
    {
      try
      {
        this.f = paramContext;
        paramString2 = k(paramContext);
        if (paramString2 == null) {
          return;
        }
        if (a(paramString2))
        {
          paramContext = a(paramContext, paramString1, paramString2);
          Log.a("MobclickAgent", "Start new session: " + paramContext);
          continue;
        }
        paramContext = a(paramContext, paramString2);
      }
      finally {}
      Log.a("MobclickAgent", "Extend current session: " + paramContext);
    }
  }
  
  private static void a(Context paramContext, String paramString1, String paramString2, long paramLong, int paramInt)
  {
    if (paramContext != null) {}
    try
    {
      if ((TextUtils.isEmpty(paramString1)) || (paramInt <= 0))
      {
        Log.a("MobclickAgent", "invalid params in onEvent");
        return;
      }
      new a(paramContext, paramString1, paramString2, paramLong, paramInt, 3).start();
      return;
    }
    catch (Exception paramContext)
    {
      Log.b("MobclickAgent", "Exception occurred in Mobclick.onEvent(). ", paramContext);
    }
  }
  
  private static void a(Context paramContext, String paramString, Map<String, String> paramMap, long paramLong)
  {
    if (paramContext != null) {}
    try
    {
      if (TextUtils.isEmpty(paramString))
      {
        Log.a("MobclickAgent", "invalid params in onKVEventEnd");
        return;
      }
      if ((paramMap == null) || (paramMap.isEmpty()))
      {
        Log.a("MobclickAgent", "map is null or empty in onEvent");
        return;
      }
    }
    catch (Exception paramContext)
    {
      Log.b("MobclickAgent", "Exception occurred in Mobclick.onEvent(). ", paramContext);
      return;
    }
    new a(paramContext, paramString, paramMap, paramLong, 4).start();
  }
  
  /* Error */
  private void a(Context paramContext, String paramString1, Map<String, String> paramMap, String paramString2)
  {
    // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_1
    //   3: invokestatic 563	com/umeng/analytics/MobclickAgent:k	(Landroid/content/Context;)Landroid/content/SharedPreferences;
    //   6: astore 6
    //   8: aload 6
    //   10: ifnonnull +6 -> 16
    //   13: aload_0
    //   14: monitorexit
    //   15: return
    //   16: aload_1
    //   17: new 188	java/lang/StringBuilder
    //   20: dup
    //   21: ldc_w 606
    //   24: invokespecial 191	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   27: aload_2
    //   28: invokevirtual 195	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   31: aload 4
    //   33: invokevirtual 195	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   36: invokevirtual 198	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   39: invokestatic 608	com/umeng/analytics/MobclickAgent:d	(Landroid/content/Context;Ljava/lang/String;)V
    //   42: new 329	org/json/JSONObject
    //   45: dup
    //   46: invokespecial 530	org/json/JSONObject:<init>	()V
    //   49: astore_1
    //   50: aload_3
    //   51: invokeinterface 612 1 0
    //   56: invokeinterface 618 1 0
    //   61: astore_3
    //   62: iconst_0
    //   63: istore 5
    //   65: aload_3
    //   66: invokeinterface 623 1 0
    //   71: ifne +10 -> 81
    //   74: iload 5
    //   76: bipush 10
    //   78: if_icmple +48 -> 126
    //   81: aload_3
    //   82: invokeinterface 627 1 0
    //   87: checkcast 629	java/util/Map$Entry
    //   90: astore 7
    //   92: aload_1
    //   93: aload 7
    //   95: invokeinterface 632 1 0
    //   100: checkcast 486	java/lang/String
    //   103: aload 7
    //   105: invokeinterface 635 1 0
    //   110: checkcast 486	java/lang/String
    //   113: invokevirtual 533	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   116: pop
    //   117: iload 5
    //   119: iconst_1
    //   120: iadd
    //   121: istore 5
    //   123: goto -58 -> 65
    //   126: aload 6
    //   128: invokeinterface 216 1 0
    //   133: new 188	java/lang/StringBuilder
    //   136: dup
    //   137: ldc_w 637
    //   140: invokespecial 191	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   143: aload_2
    //   144: invokevirtual 195	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   147: aload 4
    //   149: invokevirtual 195	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   152: invokevirtual 198	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   155: aload_1
    //   156: invokevirtual 330	org/json/JSONObject:toString	()Ljava/lang/String;
    //   159: invokeinterface 268 3 0
    //   164: invokeinterface 237 1 0
    //   169: pop
    //   170: goto -157 -> 13
    //   173: astore_1
    //   174: aload_1
    //   175: invokevirtual 638	java/lang/Exception:printStackTrace	()V
    //   178: goto -165 -> 13
    //   181: astore_1
    //   182: aload_0
    //   183: monitorexit
    //   184: aload_1
    //   185: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	186	0	this	MobclickAgent
    //   0	186	1	paramContext	Context
    //   0	186	2	paramString1	String
    //   0	186	3	paramMap	Map<String, String>
    //   0	186	4	paramString2	String
    //   63	59	5	i1	int
    //   6	121	6	localSharedPreferences	SharedPreferences
    //   90	14	7	localEntry	java.util.Map.Entry
    // Exception table:
    //   from	to	target	type
    //   16	62	173	java/lang/Exception
    //   65	74	173	java/lang/Exception
    //   81	117	173	java/lang/Exception
    //   126	170	173	java/lang/Exception
    //   2	8	181	finally
    //   16	62	181	finally
    //   65	74	181	finally
    //   81	117	181	finally
    //   126	170	181	finally
    //   174	178	181	finally
  }
  
  /* Error */
  private void a(Context paramContext, JSONObject paramJSONObject)
  {
    // Byte code:
    //   0: aload_1
    //   1: invokestatic 369	com/umeng/analytics/MobclickAgent:i	(Landroid/content/Context;)Landroid/content/SharedPreferences;
    //   4: astore 6
    //   6: aload_1
    //   7: invokestatic 643	com/umeng/analytics/MobclickAgent:e	(Landroid/content/Context;)Lorg/json/JSONObject;
    //   10: astore 11
    //   12: aload 6
    //   14: ldc_w 395
    //   17: lconst_0
    //   18: invokeinterface 647 4 0
    //   23: lstore 4
    //   25: lload 4
    //   27: lconst_0
    //   28: lcmp
    //   29: ifeq +14 -> 43
    //   32: aload 11
    //   34: ldc_w 395
    //   37: lload 4
    //   39: invokevirtual 536	org/json/JSONObject:put	(Ljava/lang/String;J)Lorg/json/JSONObject;
    //   42: pop
    //   43: aload 6
    //   45: invokeinterface 216 1 0
    //   50: ldc 43
    //   52: aload 11
    //   54: invokevirtual 330	org/json/JSONObject:toString	()Ljava/lang/String;
    //   57: invokeinterface 268 3 0
    //   62: invokeinterface 237 1 0
    //   67: pop
    //   68: aload_1
    //   69: invokestatic 649	com/umeng/analytics/MobclickAgent:g	(Landroid/content/Context;)Lorg/json/JSONObject;
    //   72: astore 8
    //   74: new 329	org/json/JSONObject
    //   77: dup
    //   78: invokespecial 530	org/json/JSONObject:<init>	()V
    //   81: astore 9
    //   83: aload_2
    //   84: ldc 103
    //   86: invokevirtual 468	org/json/JSONObject:getString	(Ljava/lang/String;)Ljava/lang/String;
    //   89: astore 10
    //   91: aload 10
    //   93: ifnonnull +19 -> 112
    //   96: return
    //   97: astore 7
    //   99: ldc -94
    //   101: ldc_w 651
    //   104: aload 7
    //   106: invokestatic 437	com/umeng/common/Log:a	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Exception;)V
    //   109: goto -66 -> 43
    //   112: aload_2
    //   113: ldc 106
    //   115: invokevirtual 472	org/json/JSONObject:has	(Ljava/lang/String;)Z
    //   118: ifeq +359 -> 477
    //   121: aload_2
    //   122: ldc 106
    //   124: invokevirtual 654	org/json/JSONObject:remove	(Ljava/lang/String;)Ljava/lang/Object;
    //   127: checkcast 486	java/lang/String
    //   130: astore 6
    //   132: aload 8
    //   134: astore 7
    //   136: aload 10
    //   138: ldc 121
    //   140: if_acmpeq +55 -> 195
    //   143: aload_2
    //   144: ldc 103
    //   146: invokevirtual 654	org/json/JSONObject:remove	(Ljava/lang/String;)Ljava/lang/Object;
    //   149: pop
    //   150: aload 8
    //   152: ifnull +120 -> 272
    //   155: aload 8
    //   157: aload 10
    //   159: invokevirtual 657	org/json/JSONObject:isNull	(Ljava/lang/String;)Z
    //   162: ifeq +62 -> 224
    //   165: new 474	org/json/JSONArray
    //   168: dup
    //   169: invokespecial 547	org/json/JSONArray:<init>	()V
    //   172: astore 7
    //   174: aload 7
    //   176: aload_2
    //   177: invokevirtual 500	org/json/JSONArray:put	(Ljava/lang/Object;)Lorg/json/JSONArray;
    //   180: pop
    //   181: aload 8
    //   183: aload 10
    //   185: aload 7
    //   187: invokevirtual 533	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   190: pop
    //   191: aload 8
    //   193: astore 7
    //   195: aload 7
    //   197: ifnonnull +113 -> 310
    //   200: ldc -94
    //   202: ldc_w 659
    //   205: invokestatic 661	com/umeng/common/Log:e	(Ljava/lang/String;Ljava/lang/String;)V
    //   208: return
    //   209: astore_2
    //   210: ldc -94
    //   212: ldc_w 663
    //   215: aload_2
    //   216: invokestatic 458	com/umeng/common/Log:b	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Exception;)V
    //   219: aload_1
    //   220: invokestatic 666	com/umeng/analytics/MobclickAgent:h	(Landroid/content/Context;)V
    //   223: return
    //   224: aload 8
    //   226: aload 10
    //   228: invokevirtual 670	org/json/JSONObject:getJSONArray	(Ljava/lang/String;)Lorg/json/JSONArray;
    //   231: astore 7
    //   233: ldc 115
    //   235: aload 10
    //   237: invokevirtual 489	java/lang/String:equals	(Ljava/lang/Object;)Z
    //   240: ifeq +18 -> 258
    //   243: aload_0
    //   244: aload_2
    //   245: aload 7
    //   247: invokespecial 672	com/umeng/analytics/MobclickAgent:b	(Lorg/json/JSONObject;Lorg/json/JSONArray;)Lorg/json/JSONArray;
    //   250: pop
    //   251: aload 8
    //   253: astore 7
    //   255: goto -60 -> 195
    //   258: aload 7
    //   260: aload_2
    //   261: invokevirtual 500	org/json/JSONArray:put	(Ljava/lang/Object;)Lorg/json/JSONArray;
    //   264: pop
    //   265: aload 8
    //   267: astore 7
    //   269: goto -74 -> 195
    //   272: new 329	org/json/JSONObject
    //   275: dup
    //   276: invokespecial 530	org/json/JSONObject:<init>	()V
    //   279: astore 7
    //   281: new 474	org/json/JSONArray
    //   284: dup
    //   285: invokespecial 547	org/json/JSONArray:<init>	()V
    //   288: astore 8
    //   290: aload 8
    //   292: aload_2
    //   293: invokevirtual 500	org/json/JSONArray:put	(Ljava/lang/Object;)Lorg/json/JSONArray;
    //   296: pop
    //   297: aload 7
    //   299: aload 10
    //   301: aload 8
    //   303: invokevirtual 533	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   306: pop
    //   307: goto -112 -> 195
    //   310: aload 9
    //   312: ldc 43
    //   314: aload 11
    //   316: invokevirtual 533	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   319: pop
    //   320: aload 9
    //   322: ldc 19
    //   324: aload 7
    //   326: invokevirtual 533	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   329: pop
    //   330: aload 10
    //   332: aload_1
    //   333: iconst_1
    //   334: anewarray 486	java/lang/String
    //   337: dup
    //   338: iconst_0
    //   339: aload 6
    //   341: aastore
    //   342: invokestatic 675	com/umeng/analytics/MobclickAgent:a	(Ljava/lang/String;Landroid/content/Context;[Ljava/lang/String;)Z
    //   345: ifeq +125 -> 470
    //   348: aconst_null
    //   349: astore_2
    //   350: iconst_0
    //   351: istore_3
    //   352: aload_2
    //   353: astore 6
    //   355: iload_3
    //   356: getstatic 678	com/umeng/analytics/a:p	[Ljava/lang/String;
    //   359: arraylength
    //   360: if_icmpge +32 -> 392
    //   363: aload_1
    //   364: aload 9
    //   366: getstatic 678	com/umeng/analytics/a:p	[Ljava/lang/String;
    //   369: iload_3
    //   370: aaload
    //   371: iconst_0
    //   372: aload 10
    //   374: invokestatic 680	com/umeng/analytics/MobclickAgent:a	(Landroid/content/Context;Lorg/json/JSONObject;Ljava/lang/String;ZLjava/lang/String;)Ljava/lang/String;
    //   377: astore_2
    //   378: aload_2
    //   379: astore 6
    //   381: aload_2
    //   382: ifnonnull +10 -> 392
    //   385: iload_3
    //   386: iconst_1
    //   387: iadd
    //   388: istore_3
    //   389: goto -37 -> 352
    //   392: aload 6
    //   394: ifnull +68 -> 462
    //   397: ldc -94
    //   399: new 188	java/lang/StringBuilder
    //   402: dup
    //   403: ldc_w 682
    //   406: invokespecial 191	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   409: aload 6
    //   411: invokevirtual 195	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   414: invokevirtual 198	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   417: invokestatic 334	com/umeng/common/Log:a	(Ljava/lang/String;Ljava/lang/String;)V
    //   420: aload_1
    //   421: invokestatic 666	com/umeng/analytics/MobclickAgent:h	(Landroid/content/Context;)V
    //   424: getstatic 146	com/umeng/analytics/MobclickAgent:e	I
    //   427: iconst_4
    //   428: if_icmpne -332 -> 96
    //   431: aload_1
    //   432: invokestatic 684	com/umeng/analytics/MobclickAgent:j	(Landroid/content/Context;)Landroid/content/SharedPreferences;
    //   435: invokeinterface 216 1 0
    //   440: astore_1
    //   441: aload_1
    //   442: invokestatic 686	com/umeng/common/b:c	()Ljava/lang/String;
    //   445: ldc_w 688
    //   448: invokeinterface 268 3 0
    //   453: pop
    //   454: aload_1
    //   455: invokeinterface 237 1 0
    //   460: pop
    //   461: return
    //   462: ldc -94
    //   464: ldc_w 690
    //   467: invokestatic 334	com/umeng/common/Log:a	(Ljava/lang/String;Ljava/lang/String;)V
    //   470: aload_1
    //   471: aload 7
    //   473: invokestatic 692	com/umeng/analytics/MobclickAgent:b	(Landroid/content/Context;Lorg/json/JSONObject;)V
    //   476: return
    //   477: aconst_null
    //   478: astore 6
    //   480: goto -348 -> 132
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	483	0	this	MobclickAgent
    //   0	483	1	paramContext	Context
    //   0	483	2	paramJSONObject	JSONObject
    //   351	38	3	i1	int
    //   23	15	4	l1	long
    //   4	475	6	localObject1	Object
    //   97	8	7	localJSONException	JSONException
    //   134	338	7	localObject2	Object
    //   72	230	8	localObject3	Object
    //   81	284	9	localJSONObject1	JSONObject
    //   89	284	10	str	String
    //   10	305	11	localJSONObject2	JSONObject
    // Exception table:
    //   from	to	target	type
    //   32	43	97	org/json/JSONException
    //   83	91	209	org/json/JSONException
    //   112	132	209	org/json/JSONException
    //   143	150	209	org/json/JSONException
    //   155	191	209	org/json/JSONException
    //   200	208	209	org/json/JSONException
    //   224	251	209	org/json/JSONException
    //   258	265	209	org/json/JSONException
    //   272	307	209	org/json/JSONException
    //   310	330	209	org/json/JSONException
  }
  
  private static void a(String paramString)
  {
    Log.a("MobclickAgent", paramString);
  }
  
  private boolean a(SharedPreferences paramSharedPreferences)
  {
    long l1 = paramSharedPreferences.getLong("end_millis", -1L);
    return System.currentTimeMillis() - l1 > a.d;
  }
  
  private static boolean a(String paramString, Context paramContext, String... paramVarArgs)
  {
    if ((paramContext.getPackageManager().checkPermission("android.permission.ACCESS_NETWORK_STATE", paramContext.getPackageName()) == 0) && (!com.umeng.common.b.m(paramContext))) {}
    do
    {
      do
      {
        do
        {
          do
          {
            return false;
            if (paramString == "online_config") {
              return true;
            }
            if (com.umeng.common.b.k(paramContext)) {
              return true;
            }
            int i1 = o(paramContext);
            e = i1;
            if (i1 != 3) {
              break;
            }
          } while (paramString != "flush");
          return true;
          if (paramString != "error") {
            break;
          }
        } while ((paramVarArgs != null) && (paramVarArgs.length > 0) && (paramVarArgs[0].equals("send_error")));
        return true;
        if ((e == 1) && (paramString == "launch")) {
          return true;
        }
        if ((e == 2) && (paramString == "terminate")) {
          return true;
        }
        if (e == 0) {
          return true;
        }
        if (e != 4) {
          break;
        }
      } while ((j(paramContext).getString(com.umeng.common.b.c(), "false").equals("true")) || (!paramString.equals("launch")));
      return true;
    } while (e != 5);
    return com.umeng.common.b.k(paramContext);
  }
  
  private static String b()
  {
    return new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").format(new Date());
  }
  
  private static String b(Context paramContext)
  {
    for (;;)
    {
      try
      {
        str2 = paramContext.getPackageName();
        paramContext = new ArrayList();
        paramContext.add("logcat");
        paramContext.add("-d");
        paramContext.add("-v");
        paramContext.add("raw");
        paramContext.add("-s");
        paramContext.add("AndroidRuntime:E");
        paramContext.add("-p");
        paramContext.add(str2);
        localBufferedReader = new BufferedReader(new InputStreamReader(Runtime.getRuntime().exec((String[])paramContext.toArray(new String[paramContext.size()])).getInputStream()), 1024);
        str1 = localBufferedReader.readLine();
        i1 = 0;
        paramContext = "";
        i3 = 0;
        if (str1 == null) {
          continue;
        }
        if (str1.indexOf("thread attach failed") >= 0) {
          continue;
        }
        paramContext = paramContext + str1 + '\n';
      }
      catch (Exception localException3)
      {
        String str2;
        BufferedReader localBufferedReader;
        String str1;
        int i1;
        int i3;
        int i2;
        paramContext = "";
        continue;
        paramContext = "";
        continue;
        continue;
        continue;
      }
      i2 = i3;
      if (i3 == 0)
      {
        i2 = i3;
        if (str1.toLowerCase().indexOf("exception") >= 0) {
          i2 = 1;
        }
      }
      if ((i1 != 0) || (str1.indexOf(str2) < 0)) {
        continue;
      }
      i1 = 1;
      str1 = localBufferedReader.readLine();
      i3 = i2;
    }
    i2 = paramContext.length();
    if ((i2 > 0) && (i3 != 0) && (i1 != 0))
    {
      try
      {
        Runtime.getRuntime().exec("logcat -c");
        return paramContext;
      }
      catch (Exception localException1)
      {
        try
        {
          Log.b("MobclickAgent", "Failed to clear log in exec(logcat -c)", localException1);
          return paramContext;
        }
        catch (Exception localException2) {}
      }
      Log.b("MobclickAgent", "Failed to catch error log in catchLogError", localException2);
      return paramContext;
    }
  }
  
  private JSONArray b(JSONObject paramJSONObject, JSONArray paramJSONArray)
  {
    if ((paramJSONArray == null) || (paramJSONObject == null)) {
      return paramJSONArray;
    }
    for (;;)
    {
      int i1;
      try
      {
        String str = (String)paramJSONObject.keys().next();
        i1 = paramJSONArray.length() - 1;
        if (i1 < 0) {
          break;
        }
        JSONObject localJSONObject = (JSONObject)paramJSONArray.get(i1);
        if (localJSONObject.has(str))
        {
          paramJSONObject = paramJSONObject.getJSONArray(str);
          localJSONObject.getJSONArray(str).put((JSONObject)paramJSONObject.get(0));
          return paramJSONArray;
        }
      }
      catch (Exception paramJSONObject)
      {
        Log.a("MobclickAgent", "custom log merge error in tryToSendMessage", paramJSONObject);
        return paramJSONArray;
      }
      i1 -= 1;
    }
    paramJSONArray.put(paramJSONObject);
    return paramJSONArray;
  }
  
  private void b(Context paramContext, SharedPreferences paramSharedPreferences)
  {
    paramSharedPreferences = paramSharedPreferences.getString("session_id", null);
    if (paramSharedPreferences == null)
    {
      Log.a("MobclickAgent", "Missing session_id, ignore message");
      return;
    }
    String str2 = b();
    String str1 = str2.split(" ")[0];
    str2 = str2.split(" ")[1];
    JSONObject localJSONObject = new JSONObject();
    try
    {
      localJSONObject.put("type", "launch");
      localJSONObject.put("session_id", paramSharedPreferences);
      localJSONObject.put("date", str1);
      localJSONObject.put("time", str2);
      this.g.post(new b(this, paramContext, localJSONObject));
      return;
    }
    catch (JSONException paramContext)
    {
      Log.b("MobclickAgent", "json error in emitNewSessionReport", paramContext);
    }
  }
  
  /* Error */
  private static void b(Context paramContext, String paramString)
  {
    // Byte code:
    //   0: aload_0
    //   1: invokestatic 509	com/umeng/analytics/MobclickAgent:n	(Landroid/content/Context;)Landroid/content/SharedPreferences;
    //   4: astore_3
    //   5: getstatic 512	com/umeng/analytics/a:n	Ljava/lang/Object;
    //   8: astore_2
    //   9: aload_2
    //   10: monitorenter
    //   11: new 329	org/json/JSONObject
    //   14: dup
    //   15: aload_1
    //   16: invokespecial 816	org/json/JSONObject:<init>	(Ljava/lang/String;)V
    //   19: astore_1
    //   20: aload_1
    //   21: ldc 73
    //   23: invokevirtual 472	org/json/JSONObject:has	(Ljava/lang/String;)Z
    //   26: ifeq +29 -> 55
    //   29: aload_3
    //   30: invokeinterface 216 1 0
    //   35: ldc_w 818
    //   38: aload_1
    //   39: ldc 73
    //   41: invokevirtual 468	org/json/JSONObject:getString	(Ljava/lang/String;)Ljava/lang/String;
    //   44: invokeinterface 268 3 0
    //   49: invokeinterface 237 1 0
    //   54: pop
    //   55: aload_1
    //   56: ldc 76
    //   58: invokevirtual 472	org/json/JSONObject:has	(Ljava/lang/String;)Z
    //   61: ifeq +29 -> 90
    //   64: aload_3
    //   65: invokeinterface 216 1 0
    //   70: ldc_w 820
    //   73: aload_1
    //   74: ldc 76
    //   76: invokevirtual 493	org/json/JSONObject:getInt	(Ljava/lang/String;)I
    //   79: invokeinterface 518 3 0
    //   84: invokeinterface 237 1 0
    //   89: pop
    //   90: aconst_null
    //   91: astore_0
    //   92: aload_1
    //   93: ldc 79
    //   95: invokevirtual 472	org/json/JSONObject:has	(Ljava/lang/String;)Z
    //   98: ifeq +152 -> 250
    //   101: new 329	org/json/JSONObject
    //   104: dup
    //   105: aload_1
    //   106: ldc 79
    //   108: invokevirtual 468	org/json/JSONObject:getString	(Ljava/lang/String;)Ljava/lang/String;
    //   111: invokespecial 816	org/json/JSONObject:<init>	(Ljava/lang/String;)V
    //   114: astore_0
    //   115: aload_0
    //   116: invokevirtual 811	org/json/JSONObject:keys	()Ljava/util/Iterator;
    //   119: astore_1
    //   120: aload_3
    //   121: invokeinterface 216 1 0
    //   126: astore_3
    //   127: aload_1
    //   128: invokeinterface 623 1 0
    //   133: ifeq +88 -> 221
    //   136: aload_1
    //   137: invokeinterface 627 1 0
    //   142: checkcast 486	java/lang/String
    //   145: astore 4
    //   147: aload_3
    //   148: aload 4
    //   150: aload_0
    //   151: aload 4
    //   153: invokevirtual 468	org/json/JSONObject:getString	(Ljava/lang/String;)Ljava/lang/String;
    //   156: invokeinterface 268 3 0
    //   161: pop
    //   162: goto -35 -> 127
    //   165: astore_0
    //   166: ldc -94
    //   168: ldc_w 822
    //   171: aload_0
    //   172: invokestatic 437	com/umeng/common/Log:a	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Exception;)V
    //   175: aload_2
    //   176: monitorexit
    //   177: return
    //   178: astore_0
    //   179: ldc -94
    //   181: ldc_w 824
    //   184: invokestatic 334	com/umeng/common/Log:a	(Ljava/lang/String;Ljava/lang/String;)V
    //   187: aload_2
    //   188: monitorexit
    //   189: return
    //   190: astore_0
    //   191: aload_2
    //   192: monitorexit
    //   193: aload_0
    //   194: athrow
    //   195: astore_0
    //   196: ldc -94
    //   198: ldc_w 826
    //   201: aload_0
    //   202: invokestatic 437	com/umeng/common/Log:a	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Exception;)V
    //   205: goto -150 -> 55
    //   208: astore_0
    //   209: ldc -94
    //   211: ldc_w 828
    //   214: aload_0
    //   215: invokestatic 437	com/umeng/common/Log:a	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Exception;)V
    //   218: goto -128 -> 90
    //   221: aload_3
    //   222: invokeinterface 237 1 0
    //   227: pop
    //   228: ldc -94
    //   230: new 188	java/lang/StringBuilder
    //   233: dup
    //   234: ldc_w 830
    //   237: invokespecial 191	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   240: aload_0
    //   241: invokevirtual 833	java/lang/StringBuilder:append	(Ljava/lang/Object;)Ljava/lang/StringBuilder;
    //   244: invokevirtual 198	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   247: invokestatic 334	com/umeng/common/Log:a	(Ljava/lang/String;Ljava/lang/String;)V
    //   250: getstatic 148	com/umeng/analytics/MobclickAgent:o	Lcom/umeng/analytics/UmengOnlineConfigureListener;
    //   253: ifnull -78 -> 175
    //   256: getstatic 148	com/umeng/analytics/MobclickAgent:o	Lcom/umeng/analytics/UmengOnlineConfigureListener;
    //   259: aload_0
    //   260: invokeinterface 839 2 0
    //   265: goto -90 -> 175
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	268	0	paramContext	Context
    //   0	268	1	paramString	String
    //   8	184	2	localObject1	Object
    //   4	218	3	localObject2	Object
    //   145	7	4	str	String
    // Exception table:
    //   from	to	target	type
    //   92	127	165	java/lang/Exception
    //   127	162	165	java/lang/Exception
    //   221	250	165	java/lang/Exception
    //   250	265	165	java/lang/Exception
    //   11	20	178	java/lang/Exception
    //   11	20	190	finally
    //   20	55	190	finally
    //   55	90	190	finally
    //   92	127	190	finally
    //   127	162	190	finally
    //   166	175	190	finally
    //   175	177	190	finally
    //   179	189	190	finally
    //   196	205	190	finally
    //   209	218	190	finally
    //   221	250	190	finally
    //   250	265	190	finally
    //   20	55	195	java/lang/Exception
    //   55	90	208	java/lang/Exception
  }
  
  private void b(Context paramContext, String paramString1, String paramString2)
  {
    for (;;)
    {
      SharedPreferences localSharedPreferences;
      int i1;
      try
      {
        localSharedPreferences = k(paramContext);
        if (localSharedPreferences == null) {
          return;
        }
        try
        {
          i1 = e(paramContext, "_kvts" + paramString1 + paramString2);
          if (i1 >= 0) {
            break label72;
          }
          a("event duration less than 0 in ekvEvnetEnd");
        }
        catch (Exception paramContext)
        {
          a("exception in onLogDurationInternalEnd");
        }
        continue;
        paramString2 = new JSONObject(localSharedPreferences.getString("_kvvl" + paramString1 + paramString2, null));
      }
      finally {}
      label72:
      paramString2.put("du", i1);
      a(paramContext, localSharedPreferences, paramString1, paramString2);
    }
  }
  
  /* Error */
  private void b(Context paramContext, String paramString1, String paramString2, long paramLong, int paramInt)
  {
    // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_1
    //   3: invokestatic 563	com/umeng/analytics/MobclickAgent:k	(Landroid/content/Context;)Landroid/content/SharedPreferences;
    //   6: astore 7
    //   8: aload 7
    //   10: ifnonnull +6 -> 16
    //   13: aload_0
    //   14: monitorexit
    //   15: return
    //   16: aload_0
    //   17: aload_1
    //   18: aload 7
    //   20: aload_2
    //   21: aload_3
    //   22: lload 4
    //   24: iload 6
    //   26: invokespecial 852	com/umeng/analytics/MobclickAgent:a	(Landroid/content/Context;Landroid/content/SharedPreferences;Ljava/lang/String;Ljava/lang/String;JI)V
    //   29: goto -16 -> 13
    //   32: astore_1
    //   33: aload_0
    //   34: monitorexit
    //   35: aload_1
    //   36: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	37	0	this	MobclickAgent
    //   0	37	1	paramContext	Context
    //   0	37	2	paramString1	String
    //   0	37	3	paramString2	String
    //   0	37	4	paramLong	long
    //   0	37	6	paramInt	int
    //   6	13	7	localSharedPreferences	SharedPreferences
    // Exception table:
    //   from	to	target	type
    //   2	8	32	finally
    //   16	29	32	finally
  }
  
  /* Error */
  private void b(Context paramContext, String paramString, Map<String, String> paramMap, long paramLong)
  {
    // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_1
    //   3: invokestatic 563	com/umeng/analytics/MobclickAgent:k	(Landroid/content/Context;)Landroid/content/SharedPreferences;
    //   6: astore 7
    //   8: aload 7
    //   10: ifnonnull +6 -> 16
    //   13: aload_0
    //   14: monitorexit
    //   15: return
    //   16: new 329	org/json/JSONObject
    //   19: dup
    //   20: invokespecial 530	org/json/JSONObject:<init>	()V
    //   23: astore 8
    //   25: aload_3
    //   26: invokeinterface 612 1 0
    //   31: invokeinterface 618 1 0
    //   36: astore_3
    //   37: iconst_0
    //   38: istore 6
    //   40: aload_3
    //   41: invokeinterface 623 1 0
    //   46: ifne +10 -> 56
    //   49: iload 6
    //   51: bipush 10
    //   53: if_icmple +49 -> 102
    //   56: aload_3
    //   57: invokeinterface 627 1 0
    //   62: checkcast 629	java/util/Map$Entry
    //   65: astore 9
    //   67: aload 8
    //   69: aload 9
    //   71: invokeinterface 632 1 0
    //   76: checkcast 486	java/lang/String
    //   79: aload 9
    //   81: invokeinterface 635 1 0
    //   86: checkcast 486	java/lang/String
    //   89: invokevirtual 533	org/json/JSONObject:put	(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    //   92: pop
    //   93: iload 6
    //   95: iconst_1
    //   96: iadd
    //   97: istore 6
    //   99: goto -59 -> 40
    //   102: lload 4
    //   104: lconst_0
    //   105: lcmp
    //   106: ifle +13 -> 119
    //   109: aload 8
    //   111: ldc 67
    //   113: lload 4
    //   115: invokevirtual 536	org/json/JSONObject:put	(Ljava/lang/String;J)Lorg/json/JSONObject;
    //   118: pop
    //   119: aload_0
    //   120: aload_1
    //   121: aload 7
    //   123: aload_2
    //   124: aload 8
    //   126: invokespecial 850	com/umeng/analytics/MobclickAgent:a	(Landroid/content/Context;Landroid/content/SharedPreferences;Ljava/lang/String;Lorg/json/JSONObject;)V
    //   129: goto -116 -> 13
    //   132: astore_1
    //   133: ldc -94
    //   135: ldc_w 854
    //   138: invokestatic 334	com/umeng/common/Log:a	(Ljava/lang/String;Ljava/lang/String;)V
    //   141: goto -128 -> 13
    //   144: astore_1
    //   145: aload_0
    //   146: monitorexit
    //   147: aload_1
    //   148: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	149	0	this	MobclickAgent
    //   0	149	1	paramContext	Context
    //   0	149	2	paramString	String
    //   0	149	3	paramMap	Map<String, String>
    //   0	149	4	paramLong	long
    //   38	60	6	i1	int
    //   6	116	7	localSharedPreferences	SharedPreferences
    //   23	102	8	localJSONObject	JSONObject
    //   65	15	9	localEntry	java.util.Map.Entry
    // Exception table:
    //   from	to	target	type
    //   16	37	132	java/lang/Exception
    //   40	49	132	java/lang/Exception
    //   56	93	132	java/lang/Exception
    //   109	119	132	java/lang/Exception
    //   119	129	132	java/lang/Exception
    //   2	8	144	finally
    //   16	37	144	finally
    //   40	49	144	finally
    //   56	93	144	finally
    //   109	119	144	finally
    //   119	129	144	finally
    //   133	141	144	finally
  }
  
  private static void b(Context paramContext, JSONObject paramJSONObject)
  {
    String str = m(paramContext);
    try
    {
      paramContext = paramContext.openFileOutput(str, 0);
      paramContext.write(paramJSONObject.toString().getBytes());
      paramContext.close();
      return;
    }
    catch (FileNotFoundException paramContext)
    {
      Log.b("MobclickAgent", "cache message error", paramContext);
      return;
    }
    catch (IOException paramContext)
    {
      Log.b("MobclickAgent", "cache message error", paramContext);
    }
  }
  
  private void c(Context paramContext)
  {
    for (;;)
    {
      Object localObject;
      try
      {
        if (this.f != paramContext)
        {
          Log.b("MobclickAgent", "onPause() called without context from corresponding onResume()");
          return;
        }
        this.f = paramContext;
        localObject = k(paramContext);
        if (localObject == null) {
          continue;
        }
        l2 = ((SharedPreferences)localObject).getLong("start_millis", -1L);
        if (l2 == -1L)
        {
          Log.b("MobclickAgent", "onEndSession called before onStartSession");
          continue;
        }
        l1 = System.currentTimeMillis();
      }
      finally {}
      long l1;
      long l2 = l1 - l2;
      long l3 = ((SharedPreferences)localObject).getLong("duration", 0L);
      SharedPreferences.Editor localEditor = ((SharedPreferences)localObject).edit();
      if (a.i)
      {
        localObject = ((SharedPreferences)localObject).getString("activities", "");
        String str = paramContext.getClass().getName();
        paramContext = (Context)localObject;
        if (!"".equals(localObject)) {
          paramContext = (String)localObject + ";";
        }
        paramContext = paramContext + "[" + str + "," + l2 / 1000L + "]";
        localEditor.remove("activities");
        localEditor.putString("activities", paramContext);
      }
      localEditor.putLong("start_millis", -1L);
      localEditor.putLong("end_millis", l1);
      localEditor.putLong("duration", l2 + l3);
      localEditor.commit();
    }
  }
  
  private void c(Context paramContext, SharedPreferences paramSharedPreferences)
  {
    Object localObject3 = paramSharedPreferences.getString("session_id", null);
    if (localObject3 == null)
    {
      Log.a("MobclickAgent", "Missing session_id, ignore message in emitLastEndSessionReport");
      return;
    }
    Object localObject2 = Long.valueOf(paramSharedPreferences.getLong("duration", -1L));
    Object localObject1 = localObject2;
    if (((Long)localObject2).longValue() <= 0L) {
      localObject1 = Long.valueOf(0L);
    }
    localObject2 = b();
    String str1 = localObject2.split(" ")[0];
    String str2 = localObject2.split(" ")[1];
    localObject2 = new JSONObject();
    try
    {
      ((JSONObject)localObject2).put("type", "terminate");
      ((JSONObject)localObject2).put("session_id", localObject3);
      ((JSONObject)localObject2).put("date", str1);
      ((JSONObject)localObject2).put("time", str2);
      ((JSONObject)localObject2).put("duration", String.valueOf(((Long)localObject1).longValue() / 1000L));
      if (a.i)
      {
        localObject1 = paramSharedPreferences.getString("activities", "");
        if (!"".equals(localObject1))
        {
          localObject1 = ((String)localObject1).split(";");
          localObject3 = new JSONArray();
          int i1 = 0;
          while (i1 < localObject1.length)
          {
            ((JSONArray)localObject3).put(new JSONArray(localObject1[i1]));
            i1 += 1;
          }
          ((JSONObject)localObject2).put("activities", localObject3);
        }
      }
      paramSharedPreferences = d(paramContext, paramSharedPreferences);
      if (paramSharedPreferences != null)
      {
        ((JSONObject)localObject2).put("uptr", paramSharedPreferences[1]);
        ((JSONObject)localObject2).put("dntr", paramSharedPreferences[0]);
      }
      this.g.post(new b(this, paramContext, (JSONObject)localObject2));
      return;
    }
    catch (JSONException paramContext)
    {
      Log.b("MobclickAgent", "json error in emitLastEndSessionReport", paramContext);
    }
  }
  
  private void c(Context paramContext, String paramString)
  {
    try
    {
      paramString = new JSONObject();
      try
      {
        paramString.put("type", "online_config");
        paramString.put("appkey", com.umeng.common.b.p(paramContext));
        paramString.put("version_code", com.umeng.common.b.d(paramContext));
        paramString.put("package", com.umeng.common.b.t(paramContext));
        paramString.put("sdk_version", "4.0");
        paramString.put("idmd5", g.b(com.umeng.common.b.f(paramContext)));
        paramString.put("channel", com.umeng.common.b.s(paramContext));
        paramString.put("report_policy", o(paramContext));
        paramString.put("last_config_time", p(paramContext));
        this.g.post(new b(this, paramContext, paramString));
      }
      catch (Exception paramContext)
      {
        for (;;)
        {
          Log.b("MobclickAgent", "exception in onlineConfigInternal");
        }
      }
      return;
    }
    finally {}
  }
  
  private void c(Context paramContext, String paramString1, String paramString2)
  {
    String str2 = b();
    String str1 = str2.split(" ")[0];
    str2 = str2.split(" ")[1];
    JSONObject localJSONObject = new JSONObject();
    try
    {
      localJSONObject.put("type", "error");
      localJSONObject.put("context", paramString1);
      localJSONObject.put("date", str1);
      localJSONObject.put("time", str2);
      localJSONObject.put("subtype", paramString2);
      this.g.post(new b(this, paramContext, localJSONObject));
      return;
    }
    catch (JSONException paramContext)
    {
      Log.a("MobclickAgent", "json error in emitErrorReport", paramContext);
    }
  }
  
  private void c(Context paramContext, JSONObject paramJSONObject)
  {
    if (a("online_config", paramContext, new String[0]))
    {
      Log.a("MobclickAgent", "start to check onlineConfig info ...");
      String str2 = a(paramContext, paramJSONObject, "http://www.umeng.com/check_config_update", true, "online_config");
      String str1 = str2;
      if (str2 == null) {
        str1 = a(paramContext, paramJSONObject, "http://www.umeng.co/check_config_update", true, "online_config");
      }
      if (str1 != null)
      {
        Log.a("MobclickAgent", "get onlineConfig info succeed !");
        b(paramContext, str1);
      }
    }
    else
    {
      return;
    }
    Log.a("MobclickAgent", "get onlineConfig info failed !");
  }
  
  private void d(Context paramContext)
  {
    try
    {
      f(paramContext);
      return;
    }
    finally
    {
      paramContext = finally;
      throw paramContext;
    }
  }
  
  private static void d(Context paramContext, String paramString)
  {
    paramContext = k(paramContext);
    String[] arrayOfString = paramContext.getString(paramString, "").split(",");
    StringBuilder localStringBuilder = new StringBuilder();
    if (arrayOfString != null)
    {
      int i1 = 0;
      while (i1 < arrayOfString.length)
      {
        if (i1 >= arrayOfString.length - 3)
        {
          localStringBuilder.append(",");
          localStringBuilder.append(arrayOfString[i1]);
        }
        i1 += 1;
      }
    }
    localStringBuilder.append(",");
    localStringBuilder.append(System.currentTimeMillis());
    paramContext.edit().putString(paramString, localStringBuilder.toString()).commit();
  }
  
  private long[] d(Context paramContext, SharedPreferences paramSharedPreferences)
  {
    try
    {
      Object localObject = Class.forName("android.net.TrafficStats");
      Method localMethod = ((Class)localObject).getMethod("getUidRxBytes", new Class[] { Integer.TYPE });
      localObject = ((Class)localObject).getMethod("getUidTxBytes", new Class[] { Integer.TYPE });
      int i1 = paramContext.getApplicationInfo().uid;
      if (i1 == -1) {
        return null;
      }
      paramContext = new long[2];
      paramContext[0] = ((Long)localMethod.invoke(null, new Object[] { Integer.valueOf(i1) })).longValue();
      paramContext[1] = ((Long)((Method)localObject).invoke(null, new Object[] { Integer.valueOf(i1) })).longValue();
      if ((paramContext[0] > 0L) && (paramContext[1] > 0L))
      {
        long l1 = paramSharedPreferences.getLong("traffics_up", -1L);
        long l2 = paramSharedPreferences.getLong("traffics_down", -1L);
        paramSharedPreferences.edit().putLong("traffics_up", paramContext[1]).putLong("traffics_down", paramContext[0]).commit();
        if ((l1 <= 0L) || (l2 <= 0L)) {
          break label272;
        }
        paramContext[0] -= l2;
        paramContext[1] -= l1;
        if (paramContext[0] > 0L)
        {
          l1 = paramContext[1];
          if (l1 > 0L) {}
        }
        else
        {
          return null;
        }
        return paramContext;
      }
    }
    catch (Exception paramContext)
    {
      Log.a("MobclickAgent", "sdk less than 2.2 has get no traffic");
      return null;
    }
    return null;
    label272:
    return null;
  }
  
  private static int e(Context paramContext, String paramString)
  {
    int i1 = -1;
    paramContext = k(paramContext);
    try
    {
      String str = paramContext.getString(paramString, "");
      int i2 = str.lastIndexOf(",");
      if (i2 >= 0)
      {
        paramContext.edit().putString(paramString, str.substring(0, i2)).commit();
        long l1 = System.currentTimeMillis();
        long l2 = Long.valueOf(str.substring(i2 + 1)).longValue();
        i1 = (int)(l1 - l2);
      }
      return i1;
    }
    catch (Exception paramContext)
    {
      Log.b("MobclickAgent", "exception in getting event duration", paramContext);
    }
    return -1;
  }
  
  private static JSONObject e(Context paramContext)
  {
    JSONObject localJSONObject = new JSONObject();
    Object localObject;
    String str;
    try
    {
      localObject = com.umeng.common.b.f(paramContext);
      if ((localObject == null) || (((String)localObject).equals("")))
      {
        Log.b("MobclickAgent", "No device id");
        return null;
      }
      str = com.umeng.common.b.p(paramContext);
      if (str == null)
      {
        Log.b("MobclickAgent", "No appkey");
        return null;
      }
    }
    catch (Exception paramContext)
    {
      Log.b("MobclickAgent", "getMessageHeader error", paramContext);
      return null;
    }
    localJSONObject.put("device_id", localObject);
    localJSONObject.put("idmd5", g.b((String)localObject));
    localJSONObject.put("device_model", Build.MODEL);
    localJSONObject.put("appkey", str);
    if (a.l != null)
    {
      localObject = a.l;
      localJSONObject.put("channel", localObject);
      localJSONObject.put("app_version", com.umeng.common.b.e(paramContext));
      localJSONObject.put("version_code", com.umeng.common.b.d(paramContext));
      localJSONObject.put("sdk_type", "Android");
      localJSONObject.put("sdk_version", "4.0");
      localJSONObject.put("os", "Android");
      localJSONObject.put("os_version", Build.VERSION.RELEASE);
      localJSONObject.put("timezone", com.umeng.common.b.n(paramContext));
      localObject = com.umeng.common.b.o(paramContext);
      if (localObject != null)
      {
        localJSONObject.put("country", localObject[0]);
        localJSONObject.put("language", localObject[1]);
      }
      localJSONObject.put("resolution", com.umeng.common.b.q(paramContext));
      localObject = com.umeng.common.b.j(paramContext);
      if ((localObject == null) || (!localObject[0].equals("2G/3G"))) {
        break label450;
      }
      localJSONObject.put("access", localObject[0]);
      localJSONObject.put("access_subtype", localObject[1]);
      label292:
      localJSONObject.put("carrier", com.umeng.common.b.r(paramContext));
      if (a.h)
      {
        localObject = com.umeng.common.b.l(paramContext);
        if (localObject == null) {
          break label482;
        }
        localJSONObject.put("lat", String.valueOf(((Location)localObject).getLatitude()));
        localJSONObject.put("lng", String.valueOf(((Location)localObject).getLongitude()));
      }
    }
    for (;;)
    {
      localJSONObject.put("cpu", com.umeng.common.b.a());
      if (!a.equals("")) {
        localJSONObject.put("gpu_vender", a);
      }
      if (!b.equals("")) {
        localJSONObject.put("gpu_renderer", b);
      }
      if (a.j)
      {
        localObject = q(paramContext);
        if (localObject != null) {
          localJSONObject.put("uinfo", localObject);
        }
      }
      localJSONObject.put("package", com.umeng.common.b.t(paramContext));
      return localJSONObject;
      localObject = com.umeng.common.b.s(paramContext);
      break;
      label450:
      if (localObject != null)
      {
        localJSONObject.put("access", localObject[0]);
        break label292;
      }
      localJSONObject.put("access", "Unknown");
      break label292;
      label482:
      localJSONObject.put("lat", 0.0D);
      localJSONObject.put("lng", 0.0D);
    }
  }
  
  public static void enterPage(Context paramContext, String paramString)
  {
    onEvent(paramContext, "_PAGE_", paramString);
  }
  
  private void f(Context paramContext)
  {
    JSONObject localJSONObject = new JSONObject();
    try
    {
      localJSONObject.put("type", "flush");
      this.g.post(new b(this, paramContext, localJSONObject));
      return;
    }
    catch (JSONException paramContext)
    {
      Log.b("MobclickAgent", "json error in emitCache");
    }
  }
  
  public static void flush(Context paramContext)
  {
    if (paramContext == null) {}
    try
    {
      Log.b("MobclickAgent", "unexpected null context in flush");
      d.d(paramContext);
      return;
    }
    catch (Exception paramContext)
    {
      Log.b("MobclickAgent", "Exception occurred in Mobclick.flush(). ", paramContext);
    }
  }
  
  private static JSONObject g(Context paramContext)
  {
    Object localObject = m(paramContext);
    try
    {
      FileInputStream localFileInputStream = paramContext.openFileInput((String)localObject);
      byte[] arrayOfByte = new byte['䀀'];
      for (localObject = "";; localObject = (String)localObject + new String(arrayOfByte, 0, i1))
      {
        i1 = localFileInputStream.read(arrayOfByte);
        if (i1 == -1) {
          break;
        }
      }
      int i1 = ((String)localObject).length();
      if (i1 == 0) {
        return null;
      }
      try
      {
        localObject = new JSONObject((String)localObject);
        return localObject;
      }
      catch (JSONException localJSONException)
      {
        localFileInputStream.close();
        h(paramContext);
        localJSONException.printStackTrace();
        return null;
      }
      return null;
    }
    catch (FileNotFoundException paramContext)
    {
      return null;
    }
    catch (IOException paramContext) {}
  }
  
  public static String getConfigParams(Context paramContext, String paramString)
  {
    return n(paramContext).getString(paramString, "");
  }
  
  public static String getUmengHttpHeader(Context paramContext)
  {
    StringBuffer localStringBuffer1 = new StringBuffer();
    localStringBuffer1.append("Android");
    localStringBuffer1.append("/");
    localStringBuffer1.append("4.0");
    localStringBuffer1.append(" ");
    try
    {
      StringBuffer localStringBuffer2 = new StringBuffer();
      localStringBuffer2.append(paramContext.getPackageManager().getApplicationLabel(paramContext.getApplicationInfo()).toString());
      localStringBuffer2.append("/");
      localStringBuffer2.append(paramContext.getPackageManager().getPackageInfo(paramContext.getPackageName(), 0).versionName);
      localStringBuffer2.append(" ");
      localStringBuffer2.append(Build.MODEL);
      localStringBuffer2.append("/");
      localStringBuffer2.append(Build.VERSION.RELEASE);
      localStringBuffer2.append(" ");
      localStringBuffer2.append(g.b(com.umeng.common.b.f(paramContext)));
      localStringBuffer1.append(URLEncoder.encode(localStringBuffer2.toString()));
      return localStringBuffer1.toString();
    }
    catch (Exception paramContext)
    {
      for (;;)
      {
        paramContext.printStackTrace();
      }
    }
  }
  
  private static void h(Context paramContext)
  {
    paramContext.deleteFile(l(paramContext));
    paramContext.deleteFile(m(paramContext));
  }
  
  private static SharedPreferences i(Context paramContext)
  {
    String str = paramContext.getPackageName();
    return paramContext.getSharedPreferences("mobclick_agent_header_" + str, 0);
  }
  
  private static SharedPreferences j(Context paramContext)
  {
    String str = paramContext.getPackageName();
    return paramContext.getSharedPreferences("mobclick_agent_update_" + str, 0);
  }
  
  private static SharedPreferences k(Context paramContext)
  {
    String str = paramContext.getPackageName();
    return paramContext.getSharedPreferences("mobclick_agent_state_" + str, 0);
  }
  
  private static String l(Context paramContext)
  {
    paramContext = paramContext.getPackageName();
    return "mobclick_agent_header_" + paramContext;
  }
  
  private static String m(Context paramContext)
  {
    paramContext = paramContext.getPackageName();
    return "mobclick_agent_cached_" + paramContext;
  }
  
  private static SharedPreferences n(Context paramContext)
  {
    String str = paramContext.getPackageName();
    return paramContext.getSharedPreferences("mobclick_agent_online_setting_" + str, 0);
  }
  
  private static int o(Context paramContext)
  {
    paramContext = n(paramContext);
    if ((paramContext.contains("umeng_net_report_policy")) && (paramContext.getInt("umeng_net_report_policy", -1) != -1)) {
      return paramContext.getInt("umeng_net_report_policy", e);
    }
    return paramContext.getInt("umeng_local_report_policy", e);
  }
  
  public static void onError(Context paramContext)
  {
    String str;
    try
    {
      str = com.umeng.common.b.p(paramContext);
      if ((str == null) || (str.length() == 0))
      {
        Log.b("MobclickAgent", "unexpected empty appkey in onError");
        return;
      }
      if (paramContext == null)
      {
        Log.b("MobclickAgent", "unexpected null context in onError");
        return;
      }
    }
    catch (Exception paramContext)
    {
      Log.b("MobclickAgent", "Exception occurred in Mobclick.onError()", paramContext);
      return;
    }
    new a(paramContext, str, 2).start();
  }
  
  public static void onEvent(Context paramContext, String paramString)
  {
    onEvent(paramContext, paramString, 1);
  }
  
  public static void onEvent(Context paramContext, String paramString, int paramInt)
  {
    a(paramContext, paramString, null, -1L, paramInt);
  }
  
  public static void onEvent(Context paramContext, String paramString1, String paramString2)
  {
    if (TextUtils.isEmpty(paramString2))
    {
      Log.a("MobclickAgent", "label is null or empty in onEvent(tag,label)");
      return;
    }
    a(paramContext, paramString1, paramString2, -1L, 1);
  }
  
  public static void onEvent(Context paramContext, String paramString1, String paramString2, int paramInt)
  {
    a(paramContext, paramString1, paramString2, -1L, paramInt);
  }
  
  public static void onEvent(Context paramContext, String paramString, Map<String, String> paramMap)
  {
    a(paramContext, paramString, paramMap, -1L);
  }
  
  public static void onEventBegin(Context paramContext, String paramString)
  {
    if ((paramContext == null) || (TextUtils.isEmpty(paramString)))
    {
      Log.a("MobclickAgent", "invalid params in onEventBegin");
      return;
    }
    d(paramContext, "_t" + paramString);
  }
  
  public static void onEventBegin(Context paramContext, String paramString1, String paramString2)
  {
    if ((paramContext == null) || (TextUtils.isEmpty(paramString1)) || (TextUtils.isEmpty(paramString2)))
    {
      Log.a("MobclickAgent", "invalid params in onEventBegin");
      return;
    }
    d(paramContext, "_tl" + paramString1 + paramString2);
  }
  
  public static void onEventDuration(Context paramContext, String paramString, long paramLong)
  {
    if (paramLong <= 0L)
    {
      Log.a("MobclickAgent", "duration is not valid in onEventDuration");
      return;
    }
    a(paramContext, paramString, null, paramLong, 1);
  }
  
  public static void onEventDuration(Context paramContext, String paramString1, String paramString2, long paramLong)
  {
    if (paramLong <= 0L)
    {
      Log.a("MobclickAgent", "duration is not valid in onEventDuration");
      return;
    }
    if (TextUtils.isEmpty(paramString2))
    {
      Log.a("MobclickAgent", "label is null or empty in onEventDuration");
      return;
    }
    a(paramContext, paramString1, paramString2, paramLong, 1);
  }
  
  public static void onEventDuration(Context paramContext, String paramString, Map<String, String> paramMap, long paramLong)
  {
    if (paramLong <= 0L)
    {
      Log.a("MobclickAgent", "duration is not valid in onEventDuration(map)");
      return;
    }
    a(paramContext, paramString, paramMap, paramLong);
  }
  
  public static void onEventEnd(Context paramContext, String paramString)
  {
    int i1 = e(paramContext, "_t" + paramString);
    if (i1 < 0)
    {
      a("event duration less than 0 in onEventEnd");
      return;
    }
    a(paramContext, paramString, null, i1, 1);
  }
  
  public static void onEventEnd(Context paramContext, String paramString1, String paramString2)
  {
    if (TextUtils.isEmpty(paramString2))
    {
      Log.a("MobclickAgent", "invalid params in onEventEnd");
      return;
    }
    int i1 = e(paramContext, "_tl" + paramString1 + paramString2);
    if (i1 < 0)
    {
      a("event duration less than 0 in onEvnetEnd");
      return;
    }
    a(paramContext, paramString1, paramString2, i1, 1);
  }
  
  public static void onKVEventBegin(Context paramContext, String paramString1, Map<String, String> paramMap, String paramString2)
  {
    if ((paramContext == null) || (TextUtils.isEmpty(paramString1)) || (TextUtils.isEmpty(paramString2)))
    {
      Log.a("MobclickAgent", "invalid params in onKVEventBegin");
      return;
    }
    if ((paramMap == null) || (paramMap.isEmpty()))
    {
      Log.a("MobclickAgent", "map is null or empty in onKVEventBegin");
      return;
    }
    new a(paramContext, paramString1, paramMap, paramString2, 5).start();
  }
  
  public static void onKVEventEnd(Context paramContext, String paramString1, String paramString2)
  {
    if ((paramContext == null) || (TextUtils.isEmpty(paramString1)) || (TextUtils.isEmpty(paramString2)))
    {
      Log.a("MobclickAgent", "invalid params in onKVEventEnd");
      return;
    }
    new a(paramContext, paramString1, null, paramString2, 6).start();
  }
  
  public static void onPause(Context paramContext)
  {
    if (paramContext == null) {}
    try
    {
      Log.b("MobclickAgent", "unexpected null context in onPause");
      return;
    }
    catch (Exception paramContext)
    {
      Log.b("MobclickAgent", "Exception occurred in Mobclick.onRause(). ", paramContext);
    }
    new a(paramContext, 0).start();
    return;
  }
  
  public static void onResume(Context paramContext)
  {
    onResume(paramContext, com.umeng.common.b.p(paramContext), com.umeng.common.b.s(paramContext));
  }
  
  public static void onResume(Context paramContext, String paramString1, String paramString2)
  {
    try
    {
      a.l = paramString2;
      if (paramContext == null)
      {
        Log.b("MobclickAgent", "unexpected null context in onResume");
        return;
      }
      if ((paramString1 == null) || (paramString1.length() == 0))
      {
        Log.b("MobclickAgent", "unexpected empty appkey in onResume");
        return;
      }
    }
    catch (Exception paramContext)
    {
      Log.b("MobclickAgent", "Exception occurred in Mobclick.onResume(). ", paramContext);
      return;
    }
    new a(paramContext, paramString1, paramString2, 1).start();
  }
  
  public static void openActivityDurationTrack(boolean paramBoolean)
  {
    a.i = paramBoolean;
  }
  
  private static String p(Context paramContext)
  {
    return n(paramContext).getString("umeng_last_config_time", "");
  }
  
  private static JSONObject q(Context paramContext)
  {
    JSONObject localJSONObject = new JSONObject();
    paramContext = a(paramContext);
    try
    {
      if (paramContext.getInt("gender", -1) != -1) {
        localJSONObject.put("sex", paramContext.getInt("gender", -1));
      }
      if (paramContext.getInt("age", -1) != -1) {
        localJSONObject.put("age", paramContext.getInt("age", -1));
      }
      if (!"".equals(paramContext.getString("user_id", ""))) {
        localJSONObject.put("id", paramContext.getString("user_id", ""));
      }
      if (!"".equals(paramContext.getString("id_source", ""))) {
        localJSONObject.put("url", URLEncoder.encode(paramContext.getString("id_source", "")));
      }
      int i1 = localJSONObject.length();
      if (i1 > 0) {
        return localJSONObject;
      }
    }
    catch (Exception paramContext)
    {
      paramContext.printStackTrace();
    }
    return null;
  }
  
  public static void reportError(Context paramContext, String paramString)
  {
    if ((paramString == null) || (paramString == "") || (paramString.length() > 10240)) {
      return;
    }
    if (paramContext == null)
    {
      Log.b("MobclickAgent", "unexpected null context in reportError");
      return;
    }
    d.c(paramContext, paramString, "send_error");
  }
  
  public static void setAge(Context paramContext, int paramInt)
  {
    paramContext = a(paramContext);
    if ((paramInt < 0) || (paramInt > 200))
    {
      Log.a("MobclickAgent", "not a valid age!");
      return;
    }
    paramContext.edit().putInt("age", paramInt).commit();
  }
  
  public static void setAutoLocation(boolean paramBoolean)
  {
    c = paramBoolean;
  }
  
  public static void setDebugMode(boolean paramBoolean)
  {
    a.g = paramBoolean;
  }
  
  public static void setDefaultReportPolicy(Context paramContext, int paramInt)
  {
    if ((paramInt < 0) || (paramInt > 5))
    {
      Log.b("MobclickAgent", "Illegal value of report policy");
      return;
    }
    e = paramInt;
    a(paramContext, paramInt);
  }
  
  public static void setGender(Context paramContext, Gender paramGender)
  {
    int i2 = 0;
    paramContext = a(paramContext);
    int i1 = i2;
    switch (1.a[paramGender.ordinal()])
    {
    default: 
      i1 = i2;
    }
    for (;;)
    {
      paramContext.edit().putInt("gender", i1).commit();
      return;
      i1 = 1;
      continue;
      i1 = 2;
    }
  }
  
  public static void setOnlineConfigureListener(UmengOnlineConfigureListener paramUmengOnlineConfigureListener)
  {
    o = paramUmengOnlineConfigureListener;
  }
  
  public static void setOpenGLContext(GL10 paramGL10)
  {
    if (paramGL10 != null)
    {
      paramGL10 = com.umeng.common.b.a(paramGL10);
      if (paramGL10.length == 2)
      {
        a = paramGL10[0];
        b = paramGL10[1];
      }
    }
  }
  
  public static void setSessionContinueMillis(long paramLong)
  {
    a.d = paramLong;
  }
  
  public static void setUserID(Context paramContext, String paramString1, String paramString2)
  {
    paramContext = a(paramContext);
    if (TextUtils.isEmpty(paramString1))
    {
      Log.a("MobclickAgent", "userID is null or empty");
      return;
    }
    paramContext.edit().putString("user_id", paramString1).commit();
    if (TextUtils.isEmpty(paramString2))
    {
      Log.a("MobclickAgent", "id source is null or empty");
      return;
    }
    paramContext.edit().putString("id_source", paramString2).commit();
  }
  
  public static void updateOnlineConfig(Context paramContext)
  {
    if (paramContext == null) {}
    try
    {
      Log.b("MobclickAgent", "unexpected null context in updateOnlineConfig");
      return;
    }
    catch (Exception paramContext)
    {
      Log.b("MobclickAgent", "exception in updateOnlineConfig");
    }
    d.c(paramContext, com.umeng.common.b.p(paramContext));
    return;
  }
  
  public static void updateOnlineConfig(Context paramContext, String paramString)
  {
    a.l = paramString;
    updateOnlineConfig(paramContext);
  }
  
  private static final class a
    extends Thread
  {
    private static final Object a = new Object();
    private Context b;
    private int c;
    private String d;
    private String e;
    private String f;
    private String g;
    private int h;
    private long i;
    private Map<String, String> j;
    private String k;
    
    a(Context paramContext, int paramInt)
    {
      this.b = paramContext;
      this.c = paramInt;
    }
    
    a(Context paramContext, String paramString, int paramInt)
    {
      this.b = paramContext;
      this.c = paramInt;
      this.d = paramString;
    }
    
    a(Context paramContext, String paramString1, String paramString2, int paramInt)
    {
      this.b = paramContext;
      this.c = paramInt;
      this.d = paramString1;
      this.e = paramString2;
    }
    
    a(Context paramContext, String paramString1, String paramString2, long paramLong, int paramInt1, int paramInt2)
    {
      this.b = paramContext;
      this.f = paramString1;
      this.g = paramString2;
      this.h = paramInt1;
      this.c = paramInt2;
      this.i = paramLong;
    }
    
    a(Context paramContext, String paramString, Map<String, String> paramMap, long paramLong, int paramInt)
    {
      this.b = paramContext;
      this.f = paramString;
      this.j = paramMap;
      this.c = paramInt;
      this.i = paramLong;
    }
    
    a(Context paramContext, String paramString1, Map<String, String> paramMap, String paramString2, int paramInt)
    {
      this.b = paramContext;
      this.f = paramString1;
      this.j = paramMap;
      this.k = paramString2;
      this.c = paramInt;
    }
    
    public final void run()
    {
      for (;;)
      {
        try
        {
          synchronized (a)
          {
            int m = this.c;
            if (m == 0)
            {
              try
              {
                if (this.b == null)
                {
                  Log.b("MobclickAgent", "unexpected null context in invokehander flag=0");
                  return;
                }
                MobclickAgent.a(MobclickAgent.a(), this.b);
              }
              catch (Exception localException2)
              {
                Log.b("MobclickAgent", "unexpected null context in invokehander flag=0", localException2);
                continue;
              }
              return;
            }
          }
          if (this.c != 1) {
            break label101;
          }
        }
        catch (Exception localException1)
        {
          Log.b("MobclickAgent", "Exception occurred in invokehander.", localException1);
          return;
        }
        MobclickAgent.a(MobclickAgent.a(), this.b, this.d, this.e);
        continue;
        label101:
        if (this.c == 2) {
          MobclickAgent.a(MobclickAgent.a(), this.b, this.d);
        } else if (this.c == 3) {
          MobclickAgent.a(MobclickAgent.a(), this.b, this.f, this.g, this.i, this.h);
        } else if (this.c == 4) {
          MobclickAgent.a(MobclickAgent.a(), this.b, this.f, this.j, this.i);
        } else if (this.c == 5) {
          MobclickAgent.a(MobclickAgent.a(), this.b, this.f, this.j, this.k);
        } else if (this.c == 6) {
          MobclickAgent.b(MobclickAgent.a(), this.b, this.f, this.k);
        }
      }
    }
  }
  
  private static final class b
    implements Runnable
  {
    private static final Object a = new Object();
    private MobclickAgent b = MobclickAgent.a();
    private Context c;
    private JSONObject d;
    
    b(MobclickAgent paramMobclickAgent, Context paramContext, JSONObject paramJSONObject)
    {
      this.c = paramContext;
      this.d = paramJSONObject;
    }
    
    public final void run()
    {
      try
      {
        if (this.d.getString("type").equals("online_config"))
        {
          MobclickAgent.a(this.b, this.c, this.d);
          return;
        }
        synchronized (a)
        {
          MobclickAgent.b(this.b, this.c, this.d);
          return;
        }
        return;
      }
      catch (Exception localException)
      {
        Log.b("MobclickAgent", "Exception occurred in ReportMessageHandler");
        localException.printStackTrace();
      }
    }
  }
}
