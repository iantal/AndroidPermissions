package org.meteoroid.plugin.feature;

import android.content.DialogInterface;
import android.content.DialogInterface.OnClickListener;
import android.os.SystemClock;
import org.meteoroid.core.h;
import org.meteoroid.core.k;
import org.meteoroid.core.l;

public class TrialActivation
  extends AbstractTrialActivation
{
  private String kI;
  private String url;
  
  public TrialActivation() {}
  
  public final void B(String paramString)
  {
    super.B(paramString);
    this.kI = C("MSG");
    this.url = C("URL");
  }
  
  public final void bk()
  {
    l.aU();
    super.bk();
    h.b(h.a(47887, new String[] { "ActivationSuccess", k.aG() }));
    getClass().getSimpleName();
    k.a(k.getString(2131034137), 1);
  }
  
  public final void bt()
  {
    
    if (this.kI == null)
    {
      bm();
      return;
    }
    l.a(null, this.kI, k.getString(2131034132), new DialogInterface.OnClickListener()
    {
      public final void onClick(DialogInterface paramAnonymousDialogInterface, int paramAnonymousInt)
      {
        if (paramAnonymousInt == -1) {
          TrialActivation.this.bm();
        }
      }
    }, k.getString(2131034130), new DialogInterface.OnClickListener()
    {
      public final void onClick(DialogInterface paramAnonymousDialogInterface, int paramAnonymousInt)
      {
        if (paramAnonymousInt == -2)
        {
          paramAnonymousDialogInterface = TrialActivation.this;
          TrialActivation.d(false);
          TrialActivation.this.cancel();
        }
      }
    }, false);
  }
  
  public final void cancel()
  {
    l.aU();
    k.pause();
    getClass().getSimpleName();
    h.b(h.a(47887, new String[] { "ActivationCancel", k.aG() }));
    if (this.url != null) {
      k.x(this.url);
    }
    k.aF();
  }
  
  public final void fail()
  {
    l.aU();
    super.fail();
    h.b(h.a(47887, new String[] { "ActivationFail", k.aG() }));
    k.pause();
    getClass().getSimpleName();
    k.a(k.getString(2131034138), 1);
    SystemClock.sleep(1000L);
    if (this.url != null) {
      k.x(this.url);
    }
    k.aF();
  }
  
  public final String getName()
  {
    return getClass().getSimpleName();
  }
}
