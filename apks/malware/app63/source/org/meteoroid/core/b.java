package org.meteoroid.core;

import android.app.Activity;
import android.util.Log;
import java.io.File;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

public final class b
{
  private static final String DATA_STORE_FILE = ".dat";
  private static final String LOG_TAG = "DataManager";
  
  private static String q(String paramString)
  {
    return paramString.replace(File.separator, "_");
  }
  
  public static boolean r(String paramString)
  {
    Log.w("DataManager", "The DataManager is out of data. Use PersistenceManager instead.");
    paramString = q(paramString);
    Log.w("DataManager", "The DataManager is out of data. Use PersistenceManager instead.");
    Object localObject = q(paramString);
    String[] arrayOfString = k.getActivity().fileList();
    ArrayList localArrayList = new ArrayList();
    if ((arrayOfString != null) && (arrayOfString.length > 0))
    {
      int i = 0;
      while (i < arrayOfString.length)
      {
        if ((arrayOfString[i].endsWith(".dat")) && (((localObject != null) && (arrayOfString[i].indexOf((String)localObject) != -1)) || (localObject == null)))
        {
          localArrayList.add(arrayOfString[i].substring(0, arrayOfString[i].length() - 4));
          new StringBuilder("Find data file:").append(arrayOfString[i]).toString();
        }
        i += 1;
      }
    }
    localObject = localArrayList.iterator();
    while (((Iterator)localObject).hasNext()) {
      if (((String)((Iterator)localObject).next()).equals(paramString))
      {
        new StringBuilder("Find data:").append(paramString).toString();
        return true;
      }
    }
    new StringBuilder("Find no data:").append(paramString).toString();
    return false;
  }
  
  public static OutputStream s(String paramString)
  {
    Log.w("DataManager", "The DataManager is out of data. Use PersistenceManager instead.");
    paramString = q(paramString);
    new StringBuilder("Update data:").append(paramString).toString();
    return k.getActivity().openFileOutput(paramString + ".dat", 1);
  }
  
  public static InputStream t(String paramString)
  {
    Log.w("DataManager", "The DataManager is out of data. Use PersistenceManager instead.");
    paramString = q(paramString);
    new StringBuilder("Read data:").append(paramString).toString();
    return k.getActivity().openFileInput(paramString + ".dat");
  }
}
