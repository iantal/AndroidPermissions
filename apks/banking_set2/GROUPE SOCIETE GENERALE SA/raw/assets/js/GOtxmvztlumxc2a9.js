$().loadJavaScript("/js/GbyLuVz1r2rbR3xe.js");$().loadJavaScript("/js/4nKvhiPZGCW1Ncnk.js");Class.ns("Bankingapp.functions.productinformation");Bankingapp.functions.productinformation.ProductGroupSelector=Class.extend(Bankingapp.framework.View,{container:null,selectorList:null,selectedCategoryId:null,selectedCategoryName:null,productGroupList:null,productList:null,selectedProductId:null,layoutRender:function(){this.container=$("<div>",{id:"productGroupSelectorMainContainer","class":"productGroupSelectorMainContainer"});this.selectorTitle=$("<div>",{"class":" listtitle"});this.selectorList=new Bankingapp.ui.ExpandableList({listData:[],itemRenderer:Bankingapp.ui.ProductGroupSelectorItem,secondLevelListName:"listData"});this.selectorList.bind("itemClick",$.proxy(this.itemClickHandler,this));this.container.append(this.selectorTitle);this.container.append(this.selectorList);return this.container;},run:function(){this.selectedCategoryId=getFunctionAttribute("selectedCategoryId");this.selectedCategoryName=getFunctionAttribute("selectedCategoryName");this.productGroupList=getFunctionAttribute("productGroupList");this.handleResult();},handleResult:function(){productGroupArray=new Array();for(var a=0;a<this.productGroupList.length;a++){if(this.productGroupList[a].productCategoryId==this.selectedCategoryId){productGroupArray[productGroupArray.length]=this.productGroupList[a];}}this.selectorTitle.append($("<span>").append(this.selectedCategoryName));this.selectorList.empty();this.selectorList.appendItems(productGroupArray);},itemClickHandler:function(a,b){var c={selectedProductId:b.productId,selectedProductGroup:b.productGroupName};setFunctionAttribute("selectedProductId",b.productId);setFunctionAttribute("selectedProductGroup",b.productGroupName);loadView("view://brd/bankingapp/function/productinformation/productdetails",c);}});Bankingapp.framework.Application.setView(Bankingapp.functions.productinformation.ProductGroupSelector);