$().loadJavaScript("/js/9ECMRJoB5oWYsqQZ.js");$().loadJavaScript("/js/TzSoYxhQYeELSnLy.js");$().loadJavaScript("/js/zOrbW8nI9eymL4NI.js");$().loadJavaScript("/js/wAebBWOhKjIRNhk5.js");Class.ns("Bankingapp.functions.accountinfo");Bankingapp.functions.accountinfo.AccountDetails=Class.extend(Bankingapp.framework.View,{tabSet:null,account:null,layoutRender:function(){debugLog("AccountDetails layoutRender ...");Bankingapp.framework.Application.bind("onContextMenuItemPressed",$.proxy(this.onContextMenuItemPressed,this));this.tabSet=new Bankingapp.ui.TabSet([{contentRenderer:Bankingapp.functions.accountinfo.StatementContent,clickEventHandler:$.proxy(this.statementClickHandler,this),itemData:resolve("demo_bankingapp_function_accountinfo_transactions")},{contentRenderer:Bankingapp.functions.accountinfo.AccountDetailsContent,clickEventHandler:$.proxy(this.accountDetailsClickHandler,this),itemData:resolve("demo_bankingapp_function_accountinfo_accountdetails")}],{defaultSelected:0,selectedClass:"tabSelected"});this.tabSet.bind("tabItemClick",$.proxy(this.itemClickHandler,this));return this.tabSet;},run:function(){debugLog("AccountDetails run ...");if(getFunctionAttribute("details_tab")=="from_filter"){this.tabSet.setSelected(0);setFunctionAttribute("details_tab","");}else{this.tabSet.renderDefault();}},accountDetailsClickHandler:function(d,b){debugLog("AccountDetails accountDetailsClickHandler ...");if(!this.tabSet.isTabContentRendered()){var e=getFunctionAttribute("SELECTED_ACCOUNT_ID");var a=getFunctionAttribute("ACCOUNT_DETAILS");this.account=null;for(var c=0;c<a.length;c++){if(a[c].accountNumber==e){this.account=a[c];break;}}if(this.account==null){}else{var f={AccountNumber:this.account.accountNumber};Bankingapp.framework.Application.callService("/account/getCardsAndRepresentatives",{GetCardsAndRepresentativesRequest:f},$.proxy(this.handleResult,this));}}else{this.tabSet.showContent();}},statementClickHandler:function(d,b){debugLog("AccountDetails statementClickHandler ...");if(!this.tabSet.isTabContentRendered()){var e=getFunctionAttribute("SELECTED_ACCOUNT_ID");var a=getFunctionAttribute("ACCOUNT_DETAILS");this.account=null;for(var c=0;c<a.length;c++){if(a[c].accountNumber==e){this.account=a[c];break;}}this.tabSet.showContent(this.account);}else{this.tabSet.showContent();}},handleResult:function(a){this.account.cardsAndRepresentatives=a;this.tabSet.showContent(this.account);},onContextMenuItemPressed:function(b,a){debugLog("AccountDetails onContextMenuItemPressed ...");if(a=="statement_filter"){loadView("view://brd/bankingapp/function/accountinfo/statement/filter/statementfilter",null);}}});Bankingapp.framework.Application.setView(Bankingapp.functions.accountinfo.AccountDetails);