$().loadJavaScript("/js/CF0WiFs1SjIy0Szl.js");Class.ns("Bankingapp.ui");Bankingapp.ui.LoanDetailComponent=Class.extend(Bankingapp.ui.DetailsComponent,{baseClass:"loanDetails",displayDateFormat:"d/m/Y",displayTimeFormat:resolve("bankingapp_common_timeFormatPattern_min"),separator:" - ",FUNCTION_ATTRIBUTE_IBAN:"BLOCKED_AMOUNT_IBAN",FUNCTION_ATTRIBUTE_CURRENCY:"BLOCKED_AMOUNT_CURRENCY",FUNCTION_ATTRIBUTE_ACCOUNTNAME:"BLOCKED_AMOUNT_ACCOUNTNAME",FUNCTION_ATTRIBUTE_ACCOUNTTYPE:"BLOCKED_AMOUNT_ACCOUNTTYPE",initComponent:function(){console.log("selected item:",this.detailsData);var s=$("<div>",{"class":"loandetailcontainer"});this.append(s);var x=$("<div>",{"class":"mainDetailContainer"});s.append(x);var w=$("<div>",{"class":"groupDetailContainer"});s.append(w);var e=$("<div>",{"class":"groupContainer"});w.append(e);var b=$("<div>",{"class":this.baseClass+"-outer"}).appendTo(x);var A=$("<div>",{"class":this.baseClass+"-inner"});b.append(A);var j=$("<div>",{"class":this.baseClass+"-cell first"});var n=$("<div>",{"class":this.baseClass+"-cell second"});A.append(j);A.append(n);var g=this.detailsData.accountName;var i=this.detailsData.accountType;var q=this.detailsData.currency;var t=this.detailsData.accountNumberIban;var y=$().getImagesFolder();var o=$("<img>");o.attr({src:y+"sublanding_icon_invers_account.png"});var B=$('<div class="listItemImageContainer left">');B.append(o);B.appendTo(j);$('<div class="loanDetailTitle">'+$.encoder.encodeForHTML(g)+"</div>").appendTo(n);$("<div>",{"class":"loanAccountType"}).append(i+" ("+q+")").appendTo(n);$("<div>",{"class":"loanIban"}).append(t).appendTo(n);var a=(this.detailsData.loanCreditType=="LOAN"?this.detailsData.loanBookedBalance:this.detailsData.loanAvailableBalance);var k=$().dateParserWithoutTimezone(this.detailsData.loanDateOfBalance);var p=this.detailsData.loanTotalDebt;if(this.detailsData.revolving!=null&&this.detailsData.revolving==true){var z=this.detailsData.creditLimit;debugLog("creditLine: "+z);e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_cc_creditline"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:q,amount:z,decorate:false})}));var l=this.detailsData.loanBookedBalance;e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_cc_bookedbalance"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:q,amount:l,decorate:false})}));e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_cc_availablebalance"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:q,amount:a,decorate:false})}));var m=this.detailsData.loanExtraBalance;e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_cc_extrabalance"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:q,amount:m,decorate:false})}));var f=this.detailsData.loanOverLimit;e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_cc_overlimit"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:q,amount:f,decorate:false})}));if(k){e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_cc_dateofbalance"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(k.dateFormat(this.displayTimeFormat)),valueConfig:{"class":""}}));}if(this.detailsData.isCumVreiTu==true){var h=this.detailsData.loanLoyaltyPointsBalance;e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_cc_loyaltypointsbalance"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({amount:h,decorate:false})}));}var v=$().dateParserWithoutTime(this.detailsData.loanDueDate);if(v){e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_cc_duedate"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(v.dateFormat(this.displayDateFormat)),valueConfig:{"class":""}}));}var u=this.detailsData.loanMinimumDueAmount;e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_cc_minimumdueamount"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:q,amount:u,decorate:false})}));e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_cc_totaldue"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:q,amount:p,decorate:false})}));var c=this.detailsData.overdueAmount;if(!c){c="";}e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_cc_overdue"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:q,amount:c,decorate:false})}));}else{e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_availablebalance"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:q,amount:a,decorate:false})}));if(k){e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_dateofbalance"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(k.dateFormat(this.displayTimeFormat)),valueConfig:{"class":""}}));}var r=$().dateParserWithoutTime(this.detailsData.loanNextInstallmentDate);if(r){e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_nextinstallmentdate"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(r.dateFormat(this.displayDateFormat)),valueConfig:{"class":""}}));}var d=this.detailsData.loanNextInstallmentAmount;e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_nextinstallmentamount"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:q,amount:d,decorate:false})}));e.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_loans_detail_totaldebt"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:q,amount:p,decorate:false})}));}},blockedAmountClickHandler:function(a){console.log("blockedAmountClickHandler ...");setFunctionAttribute(this.FUNCTION_ATTRIBUTE_IBAN,this.detailsData.accountNumberIban);setFunctionAttribute(this.FUNCTION_ATTRIBUTE_ACCOUNTNAME,this.detailsData.accountName);setFunctionAttribute(this.FUNCTION_ATTRIBUTE_CURRENCY,this.detailsData.currency);setFunctionAttribute(this.FUNCTION_ATTRIBUTE_ACCOUNTTYPE,this.detailsData.accountType);loadView("view://brd/bankingapp/function/accountinfo/blockedamounts/blockedamountlist",null);}});