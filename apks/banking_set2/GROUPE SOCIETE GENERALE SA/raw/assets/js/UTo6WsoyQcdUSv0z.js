Class.ns("Bankingapp.ui");Bankingapp.ui.AmountChart=Class.extend(Bankingapp.ui.Component,{duration:6000,editIcon:true,defaultInformation:true,currentAngle:0,editClickHandler:null,constructor:function(b){var c=this.applyConfig(b);var f=$('<div id="amount_chart_background" class="amount_chart_background"></div>');var e=$('<div id="amount_chart_arrow" class="amount_chart_arrow"></div>');var a="#"+c.containerId;$(a).append(f);$(f).append(e);if(this.defaultInformation===true){var d=$('<div id="amount_chart_information" class="amount_chart_information">'+resolve("bankingapp_brd_function_amountchart_information")+"</div>");$(f).append(d);}if(this.editIcon===true){$(f).append(c.editImageObject);}this.setImagePositions();},setImagePositions:function(){var j=$("#amount_chart_background");this.amountChartArrowImage=$("#amount_chart_arrow");this.amountChartBackGroundImagePosition=j.position();this.amountChartBackGroundImageWidth=$(j).width();this.amountChartBackGroundImageHeight=$(j).height();this.amountChartArrowImageWidth=$(this.amountChartArrowImage).width();this.amountChartArrowImageHeight=$(this.amountChartArrowImage).width();this.arrowLeftAbsolutePosition=(this.amountChartBackGroundImageWidth/2)-(this.amountChartArrowImageWidth/2);this.arrowTopAbsolutePosition=(this.amountChartBackGroundImagePosition.top);var b=(this.amountChartBackGroundImageHeight*0.2);var g=(this.amountChartBackGroundImageHeight*0.8);var e="50% "+(((g-this.amountChartArrowImageHeight)/this.amountChartArrowImageHeight)*100)+"%";this.amountChartArrowImage.css("left",this.arrowLeftAbsolutePosition);this.amountChartArrowImage.css("top",b);this.amountChartArrowImage.css("transform-origin",e);if(this.editIcon===true){this.amountChartEditImage=$("#amount_chart_edit");var a=$(this.amountChartEditImage).width();var f=(this.amountChartBackGroundImageWidth)-a;var c=0;this.amountChartEditImage.css("left",f);this.amountChartEditImage.css("top",c);}if(this.defaultInformation===true){this.amountChartInformationDiv=$("#amount_chart_information");var h=$(this.amountChartInformationDiv).width();var i=$(this.amountChartInformationDiv).height();var d=(this.amountChartBackGroundImageWidth/2)-(h/2);var k=g-(i-2);this.amountChartInformationDiv.css("left",d);this.amountChartInformationDiv.css("top",k);}},refreshChart:function(i){this.setImagePositions();var d=i.minAmount||0;var j=i.maxAmount||Number.MAX_VALUE;var g=(i.actualAmount||0)-d;var f=(j-d)/100;var c=g/f;var h=(180*(c/100))-90;var e=Math.min(Math.max(-108,h),108);this.amountChartArrowImage.rotate({duration:this.duration,angle:this.currentAngle,animateTo:e});this.currentAngle=e;}});