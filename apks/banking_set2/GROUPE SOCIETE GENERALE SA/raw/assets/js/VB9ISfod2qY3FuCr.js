$().loadJavaScript("/js/CF0WiFs1SjIy0Szl.js");Class.ns("Bankingapp.ui");Bankingapp.ui.DetailsDepositComponent=Class.extend(Bankingapp.ui.DetailsComponent,{baseClass:"depositDetails",displayDateFormat:"d/m/Y",displayTimeFormat:"d/m/Y h:i:s",separator:" - ",groupLabelResource:"",direction:"Credit",initComponent:function(){var y=$("<div>",{"class":"depositdetailscontainer"});this.append(y);var B=$("<div>",{"class":"mainDetailContainer"});y.append(B);var z=$("<div>",{"class":"groupDetailContainer"});y.append(z);if(this.groupLabelResource!=""){var g=new Bankingapp.ui.Label(resolve("bankingapp_brd_function_transactionhistory_details_specific_title"),{"class":"pagetitle separator textcenter"});z.append(g);}var j=$("<div>",{"class":"groupContainer"});z.append(j);var h=$("<div>",{"class":this.baseClass+"-outer"}).appendTo(B);var D=$("<div>",{"class":this.baseClass+"-inner"});h.append(D);var l=$("<div>",{"class":this.baseClass+"-cell"});var q=$("<div>",{"class":this.baseClass+"-cell, depositArrowIcon"+this.direction});var u=$("<div>",{"class":this.baseClass+"-cell"});D.append(l);D.append(q);D.append(u);var v=this.detailsData.depositCodeName;var m=this.detailsData.currency;var s=this.detailsData.depositInterestRate!=undefined?$().interestFormatter(this.detailsData.depositInterestRate):"";var C=this.detailsData.depositInterestType=="true"?"N":(this.detailsData.depositInterestType=="false"?"Y":this.detailsData.depositInterestType);var t=this.detailsData.accountName;$('<div class="depositFriendlyName">'+$.encoder.encodeForHTML(t)+"</div>").appendTo(l);$('<div class="depositCodeName">'+$.encoder.encodeForHTML(v)+" ("+m+")</div>").appendTo(l);if(s!=undefined){$('<div class="depositInterestRate">'+$.encoder.encodeForHTML(s)+"</div>").appendTo(u);}if(C!=undefined){$('<div class="depositInterestType">'+resolve("bankingapp_brd_function_deposits_details_interesttype_"+C)+"</div>").appendTo(u);}var p=this.detailsData.accountNumber;var e=this.detailsData.bookedBalance;var b=this.detailsData.amount;var m=this.detailsData.currency;var c=this.detailsData.dateOfBalance?$().dateParserWithoutTimezone(this.detailsData.dateOfBalance):null;var o=this.detailsData.valueDate;var i="";if(this.detailsData.depositSourceAccountName||this.detailsData.depositSourceAccount){i=(this.detailsData.depositSourceAccountName?this.detailsData.depositSourceAccountName:this.detailsData.depositSourceAccount)+(this.detailsData.depositSourceAccountCurrency?(" - "+this.detailsData.depositSourceAccountCurrency):+"");}var x=this.detailsData.depositMaturityCount?$().defaultMaturityFormatter(this.detailsData.depositMaturityCount):"";var w=new Array();if(this.detailsData.depositPeriodStartDate){var d=$().dateParserWithoutTime(this.detailsData.depositPeriodStartDate);w.push(d?d.dateFormat(this.displayDateFormat):"");}if(this.detailsData.depositPeriodEndDate){var k=$().dateParserWithoutTime(this.detailsData.depositPeriodEndDate);w.push(k?k.dateFormat(this.displayDateFormat):"");}var A=w.join(this.separator);var a=$().dateParserWithoutTime(this.detailsData.depositDueDate);var r=resolve(this.detailsData.depositRevolving==="true"||this.detailsData.depositRevolving=="Y"?"bankingapp_brd_function_deposits_details_revolving_true":"bankingapp_brd_function_deposits_details_revolving_false");var f=resolve(this.detailsData.depositCapOfInterest==="true"||this.detailsData.depositCapOfInterest=="Y"?"bankingapp_brd_function_deposits_details_capofinterest_true":"bankingapp_brd_function_deposits_details_capofinterest_false");if(o){var n=$().dateParserWithoutTimezone(this.detailsData.valueDate);j.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_details_valuedate"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(n?n.dateFormat(this.displayDateFormat):""),valueConfig:{"class":""}}));}if(p){j.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_details_accountnumber"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(p),valueConfig:{"class":""}}));}if(b){j.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_details_amount"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:m,amount:b,decorate:false})}));}if(e){if(this.detailsData.accountTypeId&&this.detailsData.accountTypeId.indexOf("SAY")==0){j.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_details_depositamount"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:m,amount:e,decorate:false})}));}else{j.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_details_bookedBalance"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:m,amount:e,decorate:false})}));}}if(c){j.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_details_balancedate"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(c?c.dateFormat(this.displayTimeFormat):""),valueConfig:{"class":""}}));}if(i){j.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_details_sourceaccount"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(i),valueConfig:{"class":""}}));}j.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_details_maturity"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(x==undefined?"":x),valueConfig:{"class":""}}));j.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_details_duedate"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(a?a.dateFormat(this.displayDateFormat):""),valueConfig:{"class":""}}));j.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_details_currentperiod"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(A),valueConfig:{"class":""}}));j.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_details_revolving"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(r),valueConfig:{"class":""}}));j.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_deposits_details_capofinterest"),"class":"inactive"},valueComponent:new Bankingapp.ui.Label(f),valueConfig:{"class":""}}));if(this.detailsData.accountTypeId&&this.detailsData.accountTypeId.indexOf("SAY")==0){y.append('<div style="padding: 1em;">'+resolve("bankingapp_brd_function_deposits_details_promotionmessage")+"</div>");}debugLog("html: "+y.html());}});