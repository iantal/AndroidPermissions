$().loadJavaScript("/js/ZJCxVR3I5IqpC6QQ.js");$().loadJavaScript("/js/82F09eW7OW4IuVAu.js");Class.ns("Bankingapp.functions.accountinfo");Bankingapp.functions.accountinfo.AccountInfo=Class.extend(Bankingapp.framework.View,{container:null,accountList:null,layoutRender:function(){debugLog("AccountInfo layoutRender");this.container=$("<div>",{id:"accountlistMainContainer","class":"list maincontainer"});this.container.append(new Bankingapp.ui.Label(resolve("demo_bankingapp_function_accountinfo_selectaccount"),{id:"selectAccountLabel","class":"separator"}));this.container.append(new Bankingapp.ui.Label(resolve("demo_bankingapp_function_accountinfo_title_account"),{baseClass:"listtitle"}));Bankingapp.framework.Application.bind("onResume",$.proxy(this.onResume,this));Bankingapp.framework.Application.bind("onContextMenuItemPressed",$.proxy(this.onContextMenuItemPressed,this));return this.container;},run:function(){debugLog("AccountInfo run");var a={FunctionType:3};setFunctionAttribute("details_view","view://brd/bankingapp/function/accountinfo/accountcontentpage");Bankingapp.framework.Application.callService("/account/getAccountDetails",{AccountListRequest:a},$.proxy(this.handleResult,this));Bankingapp.framework.event.ButtonHandler.setButtonHandler("BACK",$.proxy(this.backBtnHandler,this));},handleResult:function(a){var b=a;setFunctionAttribute("ACCOUNT_DETAILS",b);this.accountList=new Bankingapp.functions.accountinfo.AccountList(b,{"class":"titledlist"});this.container.append(this.accountList);this.accountList.bind("itemClick",$.proxy(this.itemClickHandler,this));},itemClickHandler:function(b,a){debugLog("AccountInfo itemClickHandler");this.accountList.unbind("itemClick");this.accountList.bind("itemClick",$.proxy(this.itemClickHandler,this));setFunctionAttribute("SELECTED_ACCOUNT_ID",a.accountNumber);loadView("view://brd/bankingapp/function/accountinfo/statementcontentpage",null);},onContextMenuItemPressed:function(b,a){if(a=="account_list_edit"){setFunctionAttribute("FAVORITE_SETTINGS_BUTTON","visible");loadView("view://bankingapp/function/accountinfo/editaccountlist",null);}},onResume:function(){var a=getFunctionAttribute("REFRESH_ACCOUNT_DETAILS");if((a!=undefined)&&(a!=null)){var b=getFunctionAttribute("ACCOUNT_DETAILS");if((this.accountList!=undefined)&&(this.accountList!=null)){this.accountList.empty();this.accountList.appendItems(b);}removeFunctionAttribute("REFRESH_ACCOUNT_DETAILS");}},backBtnHandler:function(){goToPreviousView("view://brd/bankingapp/function/finances/finances");}});Bankingapp.framework.Application.setView(Bankingapp.functions.accountinfo.AccountInfo);