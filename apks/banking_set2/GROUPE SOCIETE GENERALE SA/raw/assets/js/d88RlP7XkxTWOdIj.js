$().loadJavaScript("/js/1hyf9OWY93mTBudZ.js");Class.ns("Bankingapp.functions.transferfunds.bumppayment");$().loadJavaScript("/js/saXUbibo8My2l2Cr.js");Bankingapp.functions.transferfunds.bumppayment.SourceAccountSelection=Class.extend(Bankingapp.functions.transferfunds.bumppayment.AbstractAccountSelection,{showProgressIndicator:true,progressIndicatorStepCount:Functions.transferfunds.TransferUtils.BUMPRANSFER_STEPCOUNT,progressIndicatorCurrentStep:2,pageInstructionsResourceKey:"bankingapp_brd_function_bumppayment_sourceaccountselection_title",emptyListResourceKey:"bankingapp_brd_function_bumppayment_sourceaccountselection_emptylist",accountListTitleResource:"bankingapp_brd_function_bumppayment_sourceaccountselection_accountlist_title",formData:null,getAccounts:function(){console.log(getFunctionAttribute(Functions.transferfunds.TransferUtils.BUMPRANSFER_FORMDATA));var a={GetBumpSourceAccountsRequest:{currency:getFunctionAttribute(Functions.transferfunds.TransferUtils.BUMPRANSFER_FORMDATA).forecastRequest.targetAccountCurrency}};Bankingapp.framework.Application.callService("/bumptransfer/init",a,$.proxy(this.handleInitResponse,this));},handleInitResponse:function(a){setFunctionAttribute("BUMPPAYMENT_INITRESPONSE",a);this.setAccounts(a.sourceAccounts);},renderAccountList:function(){this.accountList=new Bankingapp.ui.List({baseClass:"list",idProperty:this.accountItemIdField,listData:this.listData,itemRenderer:Functions.transferfunds.AccountListItem,noresultKey:this.emptyListResourceKey,itemConfig:{nameField:"accountName",typeField:"accountType",currencyField:"currency",balanceField:"availableBalance",baseClass:"accountListItem"}});this.container.append(this.accountList);this.accountList.bind("itemClick",$.proxy(this.itemClickHandler,this));},itemClickHandler:function(b,a){var c=this.accountList.getItem(a.accountNumber);if(c){$.each(this.accountList.itemsMap,function(d,e){e.removeClass("state_selected");});c.removeClass("state_default");c.addClass("state_selected");}this.accountClickHandler(b,a);},accountClickHandler:function(b,a){console.log(a);this.formData=getFunctionAttribute(Functions.transferfunds.TransferUtils.BUMPRANSFER_FORMDATA);setFunctionAttribute("BUMPPAYMENT_SOURCEACCOUNT",a);this.formData.forecastRequest["sourceAccount"]=a.accountNumber;setFunctionAttribute(Functions.transferfunds.TransferUtils.BUMPRANSFER_FORMDATA,this.formData);setFunctionAttribute(Functions.transferfunds.TransferUtils.BUMPRANSFER_FORECAST_REQUEST,this.formData.forecastRequest);loadView("view://brd/bankingapp/function/transferfunds/bumppayment/transferdetails",null);}});Bankingapp.framework.Application.setView(Bankingapp.functions.transferfunds.bumppayment.SourceAccountSelection);