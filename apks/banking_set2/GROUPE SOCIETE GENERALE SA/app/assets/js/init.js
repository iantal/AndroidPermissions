$(document).ready(function(){Bankingapp.framework.Application.bind("onErrorMessageReceived",$.proxy(Bankingapp.framework.event.ServiceMessageHandler.errorMessageHandler,Bankingapp.framework.event.ServiceMessageHandler));Bankingapp.framework.Application.bind("onInfoMessageReceived",$.proxy(Bankingapp.framework.event.BrdServiceMessageHandler.infoMessageHandler,Bankingapp.framework.event.BrdServiceMessageHandler));Bankingapp.framework.Application.bind("onSuccessMessageReceived",$.proxy(Bankingapp.framework.event.BrdServiceMessageHandler.successMessageHandler,Bankingapp.framework.event.BrdServiceMessageHandler));Bankingapp.framework.Application.bind("onWarningMessageReceived",$.proxy(Bankingapp.framework.event.BrdServiceMessageHandler.warningMessageHandler,Bankingapp.framework.event.BrdServiceMessageHandler));Bankingapp.framework.Application.bind("onContextMenuItemPressed",$.proxy(Bankingapp.framework.event.BrdContextMenuHandler.onDefaultContextMenuItemPressedHandler,Bankingapp.framework.event.BrdContextMenuHandler));Bankingapp.framework.Application.bind("onButtonPressed",$.proxy(Bankingapp.framework.event.ButtonHandler.globalButtonHandler,Bankingapp.framework.event.ButtonHandler));Bankingapp.framework.Application.bind("onErrorOccurred",$.proxy(Bankingapp.framework.event.ErrorEventHandler.errorEventHandler,Bankingapp.framework.event.ErrorEventHandler));Bankingapp.framework.Application.init({mainContainer:"#content",authorizationManager:new Bankingapp.framework.authorization.AuthorizationManager()});});if(new String(getDeviceInformation().os).toLowerCase()=="ios"){Class.override(Bankingapp.ui.Touchable,{bindTouchEvents:function(){$(document).bind("touchstart",$.proxy(this.touchHandler,this));$(document).bind("touchmove",$.proxy(this.touchHandler,this));$(document).bind("touchend",$.proxy(this.touchHandler,this));},touchHandler:function(b){var a={touchstart:$.proxy(this.onTouchStart,this),touchmove:$.proxy(this.onTouchMove,this),touchend:$.proxy(this.onTouchEnd,this)};if($.contains(this.get(0),b.target)&&a[b.type]){a[b.type](b);}},onTouchStart:function(a){if(this.preventTouch){a.stopImmediatePropagation();this.preventTouch=false;return;}if(this.disabled==false){this.addClass(this.basicActiveClass);this.needClick=true;}this.clickedOnTouchEnd=false;},onTouchMove:function(a){this.removeClass(this.basicActiveClass);this.needClick=false;this.clickedOnTouchEnd=false;},onTouchEnd:function(a){this.removeClass(this.basicActiveClass);if(this.needClick){this.click();this.clickedOnTouchEnd=true;}a.preventDefault();this.needClick=false;}});Class.override(Bankingapp.ui.Button,{clickHandler:function(a){this.removeClass(this.basicActiveClass);if(this.clickedOnTouchEnd){}else{this.trigger("buttonClick",a.data);}this.clickedOnTouchEnd=false;this.needClick=false;}});Class.override(Bankingapp.ui.SubmitButton,{onTouchEnd:function(a){this.removeClass(this.basicActiveClass);if(this.needClick){this.form.submit();this.clickedOnTouchEnd=true;}a.preventDefault();this.needClick=false;}});Class.override(Bankingapp.ui.ListItem,{clickHandler:function(a){if(!this.isActive()||this.clickedOnTouchEnd){a.stopImmediatePropagation();}}});Class.override(Bankingapp.ui.SingleSelectionListItem,{clickHandler:function(a){if(this.clickedOnTouchEnd){a.stopImmediatePropagation();}else{Bankingapp.ui.SingleSelectionListItem.superclass.clickHandler(a);this.selected=!this.selected;this.updateStyleClass();}}});Class.override(Bankingapp.ui.OutputField=Class.extend(Bankingapp.ui.Component,{baseClass:"outputField",baseLabelContainerClass:"outputLabelContainer",baseValueContainerClass:"outputValueContainer",containerConfig:{},labelConfig:{},valueConfig:{},labelText:null,valueLabel:null,valueText:null,constructor:function(f,e,d){jQuery.extend(this.containerConfig,typeof f!="string"?f:{labelText:f,valueText:e,containerConfig:d});var b=this.applyConfig(this.containerConfig);var a={id:b&&b&&b.id?b.id:this.id,"class":this.baseClass+(this.containerConfig["class"]?(" "+this.containerConfig["class"]):"")};Bankingapp.ui.InputField.superclass.constructor.call(this,"<div>",a);this.labelText=this.labelText==null&&this.labelConfig&&this.labelConfig.value?this.labelConfig.value:this.labelText;this.valueText=this.valueText==null&&this.labelConfig&&this.valueConfig.value?this.valueConfig.value:this.valueText;this.baseClass=$.encoder.encodeForHTMLAttribute("class",this.baseClass,true);this.baseLabelContainerClass=$.encoder.encodeForHTMLAttribute("class",this.baseLabelContainerClass,true);this.baseValueContainerClass=$.encoder.encodeForHTMLAttribute("class",this.baseValueContainerClass,true);$.extend(this.labelConfig,{baseClass:this.baseLabelContainerClass});var c=new Bankingapp.ui.Label(this.labelText,this.labelConfig);this.append(c);$.extend(this.valueConfig,{baseClass:this.baseValueContainerClass});if(this.valueText==null||this.valueText==""||this.valueText==undefined){this.valueLabel=$('<span class="outputValueContainer">&nbsp;</span>');}else{this.valueLabel=new Bankingapp.ui.Label(this.valueText,this.valueConfig);}this.append(this.valueLabel);},getValue:function(){return this.valueLabel.value;},setValue:function(a){this.valueLabel.empty();this.valueLabel.value=a;this.valueLabel.append(a);}}));}else{if(getDeviceInformation().os=="Android"){if(getDeviceInformation().osVersion>18||((getDeviceInformation().model=="Nexus 4"||getDeviceInformation().model=="GT-N5100"||getDeviceInformation().model=="GT-N5110"||getDeviceInformation().model=="GT-N5105")&&getDeviceInformation().osVersion>17)||((getDeviceInformation().model=="GT-I9105"||getDeviceInformation().model=="GT-I9105P"||getDeviceInformation().model=="GT-I9082"||getDeviceInformation().model=="GT-I9082L")&&getDeviceInformation().osVersion>16)){Class.override(Bankingapp.ui.Touchable,{bindTouchEvents:function(){$(document).bind("touchstart",$.proxy(this.touchHandler,this));$(document).bind("touchmove",$.proxy(this.touchHandler,this));$(document).bind("touchend",$.proxy(this.touchHandler,this));$(document).bind("touchcancel",$.proxy(this.touchHandler,this));},touchHandler:function(b){var a={touchstart:$.proxy(this.onTouchStart,this),touchmove:$.proxy(this.onTouchMove,this),touchend:$.proxy(this.onTouchEnd,this),touchcancel:$.proxy(this.onTouchCancel,this)};if($.contains(this.get(0),b.target)&&a[b.type]){a[b.type](b);}},onTouchStart:function(a){if(this.preventTouch){a.stopImmediatePropagation();this.preventTouch=false;return;}if(this.disabled==false){this.addClass(this.basicActiveClass);this.needClick=true;}this.clickedOnTouchEnd=false;},onTouchMove:function(a){this.removeClass(this.basicActiveClass);this.needClick=false;this.clickedOnTouchEnd=false;},onTouchCancel:function(a){this.removeClass(this.basicActiveClass);this.needClick=false;this.clickedOnTouchEnd=false;},onTouchEnd:function(a){this.removeClass(this.basicActiveClass);if(this.needClick){this.click();this.clickedOnTouchEnd=true;}a.preventDefault();this.needClick=false;}});Class.override(Bankingapp.ui.Button,{clickHandler:function(a){this.removeClass(this.basicActiveClass);if(this.clickedOnTouchEnd){}else{this.trigger("buttonClick",a.data);}this.clickedOnTouchEnd=false;this.needClick=false;}});Class.override(Bankingapp.ui.SubmitButton,{onTouchEnd:function(a){this.removeClass(this.basicActiveClass);if(this.needClick){this.form.submit();this.clickedOnTouchEnd=true;}a.preventDefault();this.needClick=false;}});Class.override(Bankingapp.ui.ListItem,{clickHandler:function(a){if(!this.isActive()||this.clickedOnTouchEnd){a.stopImmediatePropagation();}}});Class.override(Bankingapp.ui.SingleSelectionListItem,{clickHandler:function(a){if(this.clickedOnTouchEnd){a.stopImmediatePropagation();}else{Bankingapp.ui.SingleSelectionListItem.superclass.clickHandler(a);this.selected=!this.selected;this.updateStyleClass();}}});}}}Class.override(Bankingapp.ui.LocationListItem,{renderItem:function(){this.addClass(this.baseDefaultClass);var e=this.itemData[this.typeField];var a=this.itemData[this.nameField];var h=this.itemData[this.addressField];var g=this.itemData[this.servicesField]?this.itemData[this.servicesField]:[];var j=$("<div>",{"class":this.baseClass+"-outer"}).appendTo(this);var b=$("<div>",{"class":this.baseClass+"-inner"});var c=$("<div>",{"class":this.baseClass+"-services"});$('<div class="atmName">'+$.encoder.encodeForHTML(a)+"</div>").appendTo(b);$('<div class="atmAddress">'+$.encoder.encodeForHTML(h)+"</div>").appendTo(b);if(e==this.atmTypeName){this.atmTypeClass=$.encoder.encodeForHTMLAttribute("class",this.atmTypeClass,true);j.addClass(this.atmTypeClass);}else{if(e==this.branchTypeName){this.branchTypeClass=$.encoder.encodeForHTMLAttribute("class",this.branchTypeClass,true);j.addClass(this.branchTypeClass);}else{if(e==this.partnerTypeName){this.partnerTypeClass=$.encoder.encodeForHTMLAttribute("class",this.partnerTypeClass,true);j.addClass(this.partnerTypeClass);}}}for(var d=0;d<g.length;d++){var f=g[d][this.serviceIdField];$('<div class="'+$.encoder.encodeForHTML("atmservices_"+f)+'"></div>').appendTo(c);}b.append(c);j.append(b);if(!this.active){this.addClass(this.inactiveClass);}}});