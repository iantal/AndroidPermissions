Class.ns("Bankingapp.ui");Bankingapp.ui.SelectButton=Class.extend(Bankingapp.ui.Button,{datas:null,selectedValue:null,popupName:"",emptyString:"Select please",preventTouch:false,constructor:function(b,a){Bankingapp.ui.SelectButton.superclass.constructor.call(this,b,a);},initComponent:function(){Bankingapp.ui.SelectButton.superclass.initComponent.call(this);this.bind("buttonClick",$.proxy(this.showList,this));this.setValue(this.selectedValue);},showList:function(a){if(this.datas!=null){if(this.datas instanceof Array&&this.datas.length>0){this.preventTouch=true;showListPicker(this.popupName,this.datas,Bankingapp.framework.Application.proxy(this.afterSelect,this));}}},afterSelect:function(b){this.preventTouch=false;var c=this.getValue();debugLog("prevValue: "+c);this.setValue(b);try{this.trigger("afterSelect",{selected:b});}catch(a){onErrorOccurred(a);}},setValue:function(a){debugLog("setValue, actual value: "+this.getValue());debugLog("setValue, value: "+a);var b=this.getValue();this.selectedValue=a;if(a!=null&&a!=""){if(this.datas instanceof Array){Bankingapp.ui.SelectButton.superclass.setValue.call(this,a);}}else{if(b==null||b==undefined){debugLog("empty getvalue ...");Bankingapp.ui.SelectButton.superclass.setValue.call(this,this.emptyString);}else{debugLog("no need to update the value ...");this.selectedValue=b;}}},clearValue:function(){this.selectedValue=null;Bankingapp.ui.SelectButton.superclass.setValue.call(this,this.emptyString);},getValue:function(){return this.selectedValue;},val:function(a){if(typeof a=="undefined"){return this.getValue();}this.setValue(a);},setDatas:function(a){if(a instanceof Array||a instanceof Object){this.datas=a;}if(this.datas!=null&&this.selectedValue!=null){this.setValue(this.selectedValue);}}});