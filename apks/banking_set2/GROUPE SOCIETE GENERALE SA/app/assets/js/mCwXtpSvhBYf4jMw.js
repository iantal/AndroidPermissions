Class.ns("Bankingapp.functions.receivemoney.bumppayment");$().loadJavaScript("/js/xEaIXy39uCWafqVq.js");Bankingapp.functions.receivemoney.bumppayment.TargetAccountSelection=Class.extend(Bankingapp.functions.receivemoney.bumppayment.AbstractAccountSelection,{showProgressIndicator:false,bumpService:"/bumptransfer/storeBumpData",ATTRIBUTE_CURRENT_TRUSTEE:"CURRENT_TRUSTEE",pageInstructionsResourceKey:"bankingapp_function_transferfunds_choosetarget",emptyListResourceKey:"bankingapp_function_internaltransfer_no_enabled_targetaccount",accountListTitleResource:"bankingapp_brd_function_bumppayment_targetaccountselection_accountlist_title",getAccounts:function(){Bankingapp.framework.Application.callService("/bumptransfer/getBumpTargetAccounts",null,$.proxy(this.handleInitResponse,this));},handleInitResponse:function(a){this.setAccounts(a);},renderAccountList:function(){this.accountList=new Bankingapp.ui.List({baseClass:"list",idProperty:this.accountItemIdField,listData:this.listData,itemRenderer:Functions.transferfunds.AccountListItem,noresultKey:this.emptyListResourceKey,itemConfig:{nameField:"accountName",typeField:"accountType",currencyField:"currency",balanceField:"availableBalance",baseClass:"accountListItem"}});this.container.append(this.accountList);this.accountList.bind("itemClick",$.proxy(this.itemClickHandler,this));},itemClickHandler:function(b,a){var c=this.accountList.getItem(a.accountNumber);if(c){$.each(this.accountList.itemsMap,function(d,e){e.removeClass("state_selected");});c.removeClass("state_default");c.addClass("state_selected");}this.accountClickHandler(b,a);},accountClickHandler:function(c,b){var d=getSessionAttribute(this.ATTRIBUTE_CURRENT_TRUSTEE);var a={BumpTransferRequest:{TargetAccount:b.accountNumber}};bumpSend(d.name,this.bumpService,a,Bankingapp.framework.Application.proxy(this.bumpCallback,this,true));},bumpCallback:function(a){debugLog("bumpCallback successFlag");debugLog(a);if(a==true){goToPreviousView();}else{goToPreviousView();}}});Bankingapp.framework.Application.setView(Bankingapp.functions.receivemoney.bumppayment.TargetAccountSelection);