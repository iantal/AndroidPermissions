$().loadJavaScript("/js/CF0WiFs1SjIy0Szl.js");$().loadJavaScript("/js/0A4YRnFx1DbUd3zN.js");Class.ns("Bankingapp.ui");Bankingapp.ui.TransactionHistorySpecificDetail=Class.extend(Bankingapp.ui.DetailsComponent,{baseClass:"transactionHistorySpecificDetail",displayDateFormat:"d/m/Y",displayTimeFormat:"d/m/Y h:i:s",detailsData:{},initComponent:function(){var q=$("<div>",{"class":"transactionHistorySpecificDetailContainer groupDetailContainer"});this.append(q);var h=this.detailsData.transaction.type;if(h=="createTermDepositLifeCycle"||h=="terminateTermDepositLifeCycle"){$().loadJavaScript("/js/VB9ISfod2qY3FuCr.js");$().loadJavaScript("/js/icz25N39YleqstwB.js");var t={};var s=this.detailsData.transaction.transactionData.transactionRequest;var u=this.detailsData.transaction.transactionData.forecastReply;var o=s.termDeposit;t.accountName=this.detailsData.depositAccountName;t.depositSourceAccountName=this.detailsData.sourceAccountName;t.depositSourceAccountCurrency=this.detailsData.sourceAccountCurrency;t.depositType=o.depositType;t.currency=o.currency;t.depositInterestRate=o.interestRate;t.depositInterestType=o.interestType;t.depositRevolving=(o.revolving==="true"||o.revolving===true)?"Y":"N";t.depositCapOfInterest=(o.capitalizationOfInterest==="true"||o.capitalizationOfInterest===true)?"Y":"N";t.depositMaturityCount=o.maturity;if(h=="createTermDepositLifeCycle"){t.depositDueDate=u.depositData.dueDate;t.depositPeriodStartDate=u.depositData.periodStartDate;t.valueDate=u.depositData.periodStartDate;t.depositPeriodEndDate=u.depositData.periodEndDate;}else{if(h=="terminateTermDepositLifeCycle"){t.depositDueDate=s.termDeposit.dueDate;t.depositPeriodStartDate=s.termDeposit.periodStartDate;t.depositPeriodEndDate=s.termDeposit.periodEndDate;t.valueDate=s.termDeposit.valueDate;}}t.depositCodeName=s.termDeposit.depositCodeName;t.depositInterestType=s.termDeposit.interestType["$"]=="V"?"Y":"N";if(h=="terminateTermDepositLifeCycle"){t.accountNumber=s.termDepositAccount;t.bookedBalance=o.amount;t.dateOfBalance=o.dateOfBalance;}else{t.amount=o.amount;}debugLog(t);this.depositDetail=new Bankingapp.ui.DetailsDepositComponent({groupLabelResource:"bankingapp_brd_function_transactionhistory_details_specific_title",detailsData:t,displayDateFormat:this.displayDateFormat,displayTimeFormat:this.displayTimeFormat,direction:"Debit"});q.append(this.depositDetail);}else{if(h=="domesticTransactionTransferLifeCycle"||h=="bumpPaymentTransactionLifeCycle"||h=="qrPaymentTransactionLifeCycle"){debugLog(this.detailsData);var s=this.detailsData.transaction.transactionData.transactionRequest;var u=this.detailsData.transaction.transactionData.forecastReply;var f=this.detailsData.sourceAccountName;var g=this.detailsData.sourceAccountType+"("+this.detailsData.sourceAccountCurrency+")";if(!this.detailsData.sourceAccountType){var f=resolve("bankingapp_brd_function_transactionhistory_domestictransfer_draft_sourceaccount");var g=resolve("bankingapp_brd_function_transactionhistory_domestictransfer_draft_sourceaccount_undefined");}q.append(new Bankingapp.functions.util.component.TransactionSummary({fields:{upperTitle:"upperTitle",upperText:["upperText"],amount:"amount",currency:"currency",lowerTitle:"lowerTitle",lowerText:["lowerText","lowerText2"],creditDebitFlag:"creditDebitFlag"},summaryData:{titleInfo:resolve("bankingapp_function_domestictransfer_sign_please_confirm"),upperTitle:f,upperText:g,amount:-s.amount,currency:s.currency,lowerTitle:s.beneficiaryName,lowerText:s.targetAccount,creditDebitFlag:"D"}}));var e=new Bankingapp.ui.Label(resolve("bankingapp_brd_function_transactionhistory_details_specific_title"),{"class":"pagetitle separator textcenter"});q.append(e);var c=$("<div>",{"class":"groupcontainer"});if(s.valueDate){var r=s.valueDate?$().dateParserWithTimezone(s.valueDate):new Date();c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_transferfunds_valuedate"),"class":"inactive"},valueComponent:r.dateFormat(resolve("bankingapp_common_dateFormatPattern_per"))}));}if(s.parentDescription&&s.parentDescription.trim()!=""){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_domestictransfer_requester_description"),"class":"inactive"},valueComponent:s.parentDescription}));}if(s.description&&s.description.trim()!=""){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_domestictransfer_description"),"class":"inactive"},valueComponent:s.description}));}else{c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_domestictransfer_description"),"class":"inactive"},valueComponent:"&nbsp;"}));}if(s.targetAccount.indexOf("TREZ")!=-1){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_domestictransfer_cuicnp"),"class":"inactive"},valueComponent:u.cUI_CNP?u.cUI_CNP:"&nbsp;"}));}if((u.fXAmountData.fromCurrency!=u.fXAmountData.toCurrency)&&(u.beneficiaryBankCode=="BRDEROBU")){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_domestictransfer_fxrate"),"class":"inactive"},valueComponent:u.fXAmountData.fXRate}));}c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_domestictransfer_beneficiarybankcode"),"class":"inactive"},valueComponent:u.beneficiaryBankName}));if(u.fXAmountData.fromCurrency!=u.fXAmountData.toCurrency){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_domestictransfer_amount"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:u.fXAmountData.toCurrency,amount:u.fXAmountData.toAmount,decorate:false})}));}if(s.referenceNumber){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_domestictransfer_referenceNumber"),"class":"inactive"},valueComponent:s.referenceNumber}));}if(s.feeType){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_domestictransfer_feetype"),"class":"inactive"},valueComponent:s.feeType?s.feeType:""}));}q.append(c);}else{if(h=="internalTransactionTransferLifeCycle"){debugLog(this.detailsData);var s=this.detailsData.transaction.transactionData.transactionRequest;var u=this.detailsData.transaction.transactionData.forecastReply;q.append(new Bankingapp.functions.util.component.TransactionSummary({fields:{upperTitle:"upperTitle",upperText:["upperText"],amount:"amount",currency:"currency",lowerTitle:"lowerTitle",lowerText:["lowerText","lowerText2"],creditDebitFlag:"creditDebitFlag"},summaryData:{titleInfo:resolve("bankingapp_function_domestictransfer_sign_please_confirm"),upperTitle:this.detailsData.sourceAccountName,upperText:this.detailsData.sourceAccountType+"("+this.detailsData.sourceAccountCurrency+")",amount:-s.amount,currency:s.currency,lowerTitle:this.detailsData.targetAccountName,lowerText:this.detailsData.targetAccountType+"("+this.detailsData.targetAccountCurrency+")",creditDebitFlag:"D"}}));var e=new Bankingapp.ui.Label(resolve("bankingapp_brd_function_transactionhistory_details_specific_title"),{"class":"pagetitle separator textcenter"});q.append(e);var c=$("<div>",{"class":"groupcontainer"});if(s.valueDate){var r=s.valueDate?$().dateParserWithTimezone(s.valueDate):new Date();var j=r.dateFormat(resolve("bankingapp_common_dateFormatPattern_per"));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_transferfunds_valuedate"),"class":"inactive"},valueComponent:j}));}c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_internaltransfer_description"),"class":"inactive"},valueComponent:s.description?s.description:"&nbsp;"}));if(u.fXAmountData.fromCurrency!=u.fXAmountData.toCurrency){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_internaltransfer_targetAmount"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:u.fXAmountData.toCurrency,amount:u.fXAmountData.toAmount,decorate:false})}));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_internaltransfer_exchangeRate"),"class":"inactive"},valueComponent:u.fXAmountData.fXRate}));}if(s.referenceNumber){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_internaltransfer_referenceNumber"),"class":"inactive"},valueComponent:s.referenceNumber}));}q.append(c);}else{if(h=="billPaymentTransactionLifeCycle"){debugLog(this.detailsData);$().loadJavaScript("/js/4tndzjtgYUtTgrU0.js");var s=this.detailsData.transaction.transactionData.transactionRequest;q.append(new Bankingapp.functions.util.component.TransactionSummary({summaryData:{upperTitle:this.detailsData.sourceAccountName,upperText:this.detailsData.sourceAccountType+"("+this.detailsData.sourceAccountCurrency+")",amount:-s.amount,currency:s.currencyOfTransaction,lowerTitle:s.billerName,lowerText:s.billerAccount,creditDebitFlag:"D"}}));var c=$("<div>",{"class":"groupcontainer"});if(s.valueDate){var r=s.valueDate?$().dateParserWithTimezone(s.valueDate):new Date();var j=r.dateFormat(resolve("bankingapp_common_dateFormatPattern_per"));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_transferfunds_valuedate"),"class":"inactive"},valueComponent:j}));}if(!(s.fieldList===null)&&(s.fieldList.fieldItem.length>0)){for(var n in s.fieldList.fieldItem){var b=s.fieldList.fieldItem[n];c.append(new Bankingapp.ui.OutputField(b.labelText,b.value));}}c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_billpayment_bankofbeneficiary"),"class":"inactive"},valueComponent:this.detailsData.billerBankName}));if(s.referenceNumber){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_billpayment_barcode_refnumber"),"class":"inactive"},valueComponent:s.referenceNumber}));}q.append(c);}else{if(h=="payment2phoneTermDepositLifeCycle"){var s=this.detailsData.transaction.transactionData.transactionRequest;var d=this.detailsData.transaction.transactionData.transactionResponse;q.append(new Bankingapp.functions.util.component.TransactionSummary({summaryData:{upperTitle:this.detailsData.sourceAccountName,upperText:this.detailsData.sourceAccountType+"("+this.detailsData.sourceAccountCurrency+")",amount:-s.amount,currency:s.currency,lowerTitle:s.beneficiaryName,lowerText:s.phoneNumber,creditDebitFlag:"D"}}));var c=$("<div>",{"class":"groupcontainer"});c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_payment2phone_result_description"),"class":"inactive"},valueComponent:s.description?s.description:"&nbsp;"}));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_payment2phone_result_code"),"class":"inactive"},valueComponent:d.secondaryCode}));q.append(c);}else{if(h=="internationalTransactionTransferLifeCycle"){var s=this.detailsData.transaction.transactionData.transactionRequest;var u=this.detailsData.transaction.transactionData.forecastReply;q.append(new Bankingapp.functions.util.component.TransactionSummary({summaryData:{upperTitle:this.detailsData.sourceAccountName,upperText:this.detailsData.sourceAccountType+"("+this.detailsData.sourceAccountCurrency+")",amount:-s.amount,currency:s.currency,lowerTitle:s.beneficiaryName,lowerText:s.targetAccount,creditDebitFlag:"D"}}));var c=$("<div>",{"class":"groupcontainer"});c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_insternationaltransfer_details_beneficiaryAddress"),"class":"inactive"},valueComponent:s.beneficiaryAddress?s.beneficiaryAddress:"&nbsp;"}));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_insternationaltransfer_details_beneficiaryCountry"),"class":"inactive"},valueComponent:s.beneficiaryCountry?resolve("bankingapp_function_insternationaltransfer_details_country_"+s.beneficiaryCountry):"&nbsp;"}));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_insternationaltransfer_details_bankName"),"class":"inactive"},valueComponent:s.bankName?s.bankName:"&nbsp;"}));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_insternationaltransfer_details_bankSwift"),"class":"inactive"},valueComponent:s.bankSwift?s.bankSwift:"&nbsp;"}));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_insternationaltransfer_details_bankAddress"),"class":"inactive"},valueComponent:s.bankAddress?s.bankAddress:"&nbsp;"}));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_insternationaltransfer_details_bankCountry"),"class":"inactive"},valueComponent:s.bankCountry?resolve("bankingapp_function_insternationaltransfer_details_country_"+s.bankCountry):"&nbsp;"}));if(s.valueDate){var r=s.valueDate?$().dateParserWithTimezone(s.valueDate):new Date();var j=r.dateFormat(resolve("bankingapp_common_dateFormatPattern_per"));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_transferfunds_valuedate"),"class":"inactive"},valueComponent:j}));}c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_insternationaltransfer_details_description"),"class":"inactive"},valueComponent:s.description?s.description:"&nbsp;"}));if(u.fXAmountData.fromCurrency!=u.fXAmountData.toCurrency){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_internaltransfer_targetAmount"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:u.fXAmountData.toCurrency,amount:u.fXAmountData.toAmount,decorate:false})}));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_internaltransfer_exchangeRate"),"class":"inactive"},valueComponent:u.fXAmountData.fXRate}));}c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_insternationaltransfer_details_feeType"),"class":"inactive"},valueComponent:s.feeType?s.feeType:"&nbsp;"}));q.append(c);}else{if(h=="requestMoneyTransferLifeCycle"){var s=this.detailsData.transaction.transactionData.transactionRequest;var u=this.detailsData.transaction.transactionData.forecastReply;q.append(new Bankingapp.functions.util.component.TransactionSummary({summaryData:{upperTitle:"",upperText:s.targetAccount+"("+s.currency+")",amount:s.amount,currency:s.currency,lowerTitle:s.partnerName,lowerText:"+"+s.phoneNumber,creditDebitFlag:"C"}}));var e=new Bankingapp.ui.Label(resolve("bankingapp_brd_function_transactionhistory_details_specific_title"),{"class":"pagetitle separator textcenter"});q.append(e);var c=$("<div>",{"class":"groupcontainer"});if(s.valueDate){var r=s.valueDate?$().dateParserWithTimezone(s.valueDate):new Date();var j=r.dateFormat(resolve("bankingapp_common_dateFormatPattern_per"));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_transferfunds_valuedate"),"class":"inactive"},valueComponent:j}));}c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_domestictransfer_requester_description"),"class":"inactive"},valueComponent:s.description?s.description:"&nbsp;"}));q.append(c);}else{if(h=="splitBillTransferLifeCycle"){var s=this.detailsData.transaction.transactionData.transactionRequest;var l=new Array();for(var n=0;n<s.splitPartners.length;n++){l.push(s.splitPartners[n].partnerName);}var m=l.join(", ");q.append(new Bankingapp.functions.util.component.TransactionSummary({summaryData:{upperTitle:"",upperText:s.targetAccount+"("+s.currency+")",amount:s.totalAmount,currency:s.currency,lowerTitle:m,creditDebitFlag:"C"}}));var e=new Bankingapp.ui.Label(resolve("bankingapp_brd_function_transactionhistory_details_specific_title"),{"class":"pagetitle separator textcenter"});q.append(e);var c=$("<div>",{"class":"groupcontainer"});if(s.valueDate){var r=s.valueDate?$().dateParserWithTimezone(s.valueDate):new Date();var j=r.dateFormat(resolve("bankingapp_common_dateFormatPattern_per"));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_transferfunds_valuedate"),"class":"inactive"},valueComponent:j}));}c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_domestictransfer_requester_description"),"class":"inactive"},valueComponent:s.description?s.description:"&nbsp;"}));q.append(c);}else{if(h=="investmentFundBuyTransferLifeCycle"||h=="investmentFundSellTransferLifeCycle"){var s=this.detailsData.transaction.transactionData.transactionRequest;var u=this.detailsData.transaction.transactionData.forecastReply;if(h=="investmentFundSellTransferLifeCycle"){var d=this.detailsData.transaction.transactionData.transactionResponse;q.append(new Bankingapp.functions.util.component.TransactionSummary({fields:{upperTitle:"upperTitle",upperText:["upperText"],amount:"amount",currency:"currency",lowerTitle:"lowerTitle",lowerText:["lowerText","lowerText2"],creditDebitFlag:"creditDebitFlag"},summaryData:{titleInfo:resolve("bankingapp_function_domestictransfer_sign_please_confirm"),upperTitle:this.detailsData.sourceAccountName,upperText:this.detailsData.sourceAccountType+"("+this.detailsData.sourceAccountCurrency+")",amount:d.grossTransactionAmount?d.grossTransactionAmount:0,currency:s.currency,lowerTitle:s.targetAccount,lowerText:"",creditDebitFlag:"D"}}));}else{q.append(new Bankingapp.functions.util.component.TransactionSummary({fields:{upperTitle:"upperTitle",upperText:["upperText"],amount:"amount",currency:"currency",lowerTitle:"lowerTitle",lowerText:["lowerText","lowerText2"],creditDebitFlag:"creditDebitFlag"},summaryData:{titleInfo:resolve("bankingapp_function_domestictransfer_sign_please_confirm"),upperTitle:this.detailsData.sourceAccountName,upperText:this.detailsData.sourceAccountType+"("+this.detailsData.sourceAccountCurrency+")",amount:-s.amount,currency:s.currency,lowerTitle:s.targetAccount,lowerText:"",creditDebitFlag:"D"}}));}if(s.valueDate||s.description||u.fXAmountData||s.referenceNumber){var e=new Bankingapp.ui.Label(resolve("bankingapp_brd_function_transactionhistory_details_specific_title"),{"class":"pagetitle separator textcenter"});q.append(e);var c=$("<div>",{"class":"groupcontainer"});if(s.valueDate){var r=s.valueDate?$().dateParserWithTimezone(s.valueDate):new Date();var j=r.dateFormat(resolve("bankingapp_common_dateFormatPattern_per"));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_transferfunds_valuedate"),"class":"inactive"},valueComponent:j}));}if(s.description){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_internaltransfer_description"),"class":"inactive"},valueComponent:s.description}));}if(u.fXAmountData&&u.fXAmountData.fromCurrency!=u.fXAmountData.toCurrency){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_internaltransfer_targetAmount"),"class":"inactive"},valueComponent:new Bankingapp.functions.util.component.Amount({currency:u.fXAmountData.toCurrency,amount:u.fXAmountData.toAmount,decorate:false})}));c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_internaltransfer_exchangeRate"),"class":"inactive"},valueComponent:u.fXAmountData.fXRate}));}if(s.referenceNumber){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_function_internaltransfer_referenceNumber"),"class":"inactive"},valueComponent:s.referenceNumber}));}q.append(c);}}else{if(h=="openAccountTransferLifeCycle"){debugLog("openAccountTransferLifeCycle ...");var s=this.detailsData.transaction.transactionData.transactionRequest;var u=this.detailsData.transaction.transactionData.forecastReply;var d=this.detailsData.transaction.transactionData.transactionResponse;this.transactionSummary=new Bankingapp.functions.util.component.TransactionSummary({fields:{upperTitle:"upperTitle",upperText:["upperText"],amount:"amount",currency:"currency",lowerTitle:"lowerTitle",lowerText:["lowerText","lowerText2"],creditDebitFlag:"creditDebitFlag"},summaryData:{titleInfo:"",upperTitle:(this.detailsData.sourceAccountName==undefined?"":this.detailsData.sourceAccountName),upperText:(this.detailsData.sourceAccountType==undefined||this.detailsData.sourceAccountCurrency==undefined)?"":this.detailsData.sourceAccountType+"("+this.detailsData.sourceAccountCurrency+")",amount:s.initialAmount?-s.initialAmount:0,currency:s.currency,lowerTitle:s.friendlyName,lowerText:"",creditDebitFlag:"D"}});Bankingapp.framework.Application.callService("/openaccount/getAccountType",{GetAccountTypeRequest:{accountTypeCode:s.accountType,currency:s.currency}},$.proxy(this.handleAccountTypeResult,this));q.append(this.transactionSummary);var e=new Bankingapp.ui.Label(resolve("bankingapp_brd_function_transactionhistory_details_specific_title"),{"class":"pagetitle separator textcenter"});q.append(e);var c=$("<div>",{"class":"groupcontainer"});if(s.accountType){this.accountTypeComponent=new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_accounttype"),"class":"inactive"},valueComponent:""});c.append(this.accountTypeComponent);}if(s.currency){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_currency"),"class":"inactive"},valueComponent:s.currency}));}if(s.friendlyName){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_friendlyname"),"class":"inactive"},valueComponent:s.friendlyName}));}if(s.interestRate){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_interestrate"),"class":"inactive"},valueComponent:s.interestRate+" %"}));}if(s.initialAmount&&s.transactionType=="D"){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_initialamount"),"class":"inactive"},valueComponent:s.currency+" "+s.initialAmount}));}q.append(c);}else{if(h=="westernUnionReceiveTransferLifeCycle"){debugLog("westernUnionReceiveTransferLifeCycle ...");var s=this.detailsData.transaction.transactionData.transactionRequest;var u=this.detailsData.transaction.transactionData.forecastReply;var p=u.fXAmountData;var d=this.detailsData.transaction.transactionData.transactionResponse;q.append(new Bankingapp.functions.util.component.TransactionSummary({fields:{upperTitle:"upperTitle",upperText:["upperText"],amount:"amount",currency:"currency",lowerTitle:"lowerTitle",lowerText:["lowerText","lowerText2"],creditDebitFlag:"creditDebitFlag"},summaryData:{titleInfo:"",upperTitle:(this.detailsData.targetAccountName==undefined?"":this.detailsData.targetAccountName),upperText:(this.detailsData.targetAccountType==undefined||this.detailsData.targetAccountCurrency==undefined)?"":this.detailsData.targetAccountType+"("+this.detailsData.targetAccountCurrency+")",amount:p.toAmount==undefined?"":p.toAmount,currency:p.toCurrency==undefined?"":p.toCurrency,lowerTitle:(u==undefined||u.westernUnionReceiveData==undefined)?"":u.westernUnionReceiveData.senderName,lowerText:"",creditDebitFlag:"C"}}));var e=new Bankingapp.ui.Label(resolve("bankingapp_brd_function_transactionhistory_details_specific_title"),{"class":"pagetitle separator textcenter"});q.append(e);var c=$("<div>",{"class":"groupcontainer"});if(s.targetAccountHolderName){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_targetaccountholdername"),"class":"inactive"},valueComponent:s.targetAccountHolderName}));}if(s.mTCN){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_mtcn"),"class":"inactive"},valueComponent:s.mTCN}));}if(p!=undefined&&p&&p.fXRate&&p.fXRate!=1){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_exchangerate"),"class":"inactive"},valueComponent:p.fXRate}));}if(p!=undefined&&p){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_sentamount"),"class":"inactive"},valueComponent:p.fromCurrency+" "+p.fromAmount}));}if(u.westernUnionReceiveData&&u.westernUnionReceiveData.personalMessage){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_personalmessage"),"class":"inactive"},valueComponent:u.westernUnionReceiveData.personalMessage}));}var k=$("<div>",{"class":"groupcontainer"});if(u.westernUnionReceiveData&&u.westernUnionReceiveData.senderName){k.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_sendername"),"class":"inactive"},valueComponent:u.westernUnionReceiveData.senderName}));}if(u.westernUnionReceiveData&&u.westernUnionReceiveData.senderAddress){k.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_senderaddress"),"class":"inactive"},valueComponent:u.westernUnionReceiveData.senderAddress}));}if(u.westernUnionReceiveData&&u.westernUnionReceiveData.senderCountry){k.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_sendercountry"),"class":"inactive"},valueComponent:resolve("bankingapp_function_insternationaltransfer_details_country_"+u.westernUnionReceiveData.senderCountry)}));}var a=$("<div>",{"class":"groupcontainer"});if(u.westernUnionReceiveData&&u.westernUnionReceiveData.receiverName){a.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_receivername"),"class":"inactive"},valueComponent:u.westernUnionReceiveData.receiverName}));}if(u.westernUnionReceiveData&&u.westernUnionReceiveData.receiverAddress){a.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_receiveraddress"),"class":"inactive"},valueComponent:u.westernUnionReceiveData.receiverAddress}));}if(u.westernUnionReceiveData&&u.westernUnionReceiveData.receiverCountry){a.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_receivercountry"),"class":"inactive"},valueComponent:resolve("bankingapp_function_insternationaltransfer_details_country_"+u.westernUnionReceiveData.receiverCountry)}));}q.append(c);q.append(k);q.append(a);}else{if(h=="bringYourMoneyTransferLifeCycle"){debugLog("bringYourMoneyTransferLifeCycle ...");var s=this.detailsData.transaction.transactionData.transactionRequest;var u=this.detailsData.transaction.transactionData.forecastReply;var p=u.fXAmountData;var d=this.detailsData.transaction.transactionData.transactionResponse;q.append(new Bankingapp.functions.util.component.TransactionSummary({fields:{upperTitle:"upperTitle",upperText:["upperText"],amount:"amount",currency:"currency",lowerTitle:"lowerTitle",lowerText:["lowerText","lowerText2"],creditDebitFlag:"creditDebitFlag"},summaryData:{titleInfo:"",upperTitle:(this.detailsData.targetAccountName==undefined?"":this.detailsData.targetAccountName),upperText:(this.detailsData.targetAccountType==undefined||this.detailsData.targetAccountCurrency==undefined)?"":this.detailsData.targetAccountType+"("+this.detailsData.targetAccountCurrency+")",amount:p.toAmount==undefined?"":p.toAmount,currency:p.toCurrency==undefined?"":p.toCurrency,lowerTitle:s.maskedCardNumber?s.maskedCardNumber:"",lowerText:"",creditDebitFlag:"C"}}));var e=new Bankingapp.ui.Label(resolve("bankingapp_brd_function_transactionhistory_details_specific_title"),{"class":"pagetitle separator textcenter"});q.append(e);var c=$("<div>",{"class":"groupcontainer"});if(s.maskedCardNumber){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_mpicardnumber"),"class":"inactive"},valueComponent:s.maskedCardNumber}));}if(s.targetAccount){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_targetaccountnumber"),"class":"inactive"},valueComponent:s.targetAccount}));}if(s.recurrence&&s.recurrenceFrequency){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_frequency"),"class":"inactive"},valueComponent:resolve("bankingapp_brd_function_transactionhistory_details_frequency_"+s.recurrenceFrequency)}));}if(s.recurrence&&s.recurrenceExpiry){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_frequency_expiration"),"class":"inactive"},valueComponent:$().dateParserWithTimezone(s.recurrenceExpiry).dateFormat(resolve("bankingapp_common_dateFormatPattern_per"))}));}if(s.targetAccountHolderName){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_receivername"),"class":"inactive"},valueComponent:s.targetAccountHolderName}));}if(p!=undefined&&p){c.append(new Bankingapp.ui.LabeledComponent({labelConfig:{value:resolve("bankingapp_brd_function_transactionhistory_details_amount"),"class":"inactive"},valueComponent:p.fromCurrency+" "+p.fromAmount}));}q.append(c);}}}}}}}}}}}}},handleAccountTypeResult:function(a){debugLog("Account Type result ...");if(a==undefined||a.accountType==undefined||this.transactionSummary==undefined){debugLog("No account type response ...");return;}debugLog("handleAccountTypeResult accountTypeName, "+a.accountType.accountTypeName);this.transactionSummary.summaryData.lowerText=a.accountType.accountTypeName+"("+a.accountType.currency+")";this.transactionSummary.empty();this.transactionSummary.render();this.accountTypeComponent.setComponent(a.accountType.accountTypeName);debugLog("handleAccountTypeResult ready!");}});